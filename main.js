/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/ts-md5/dist/md5.js
var require_md5 = __commonJS({
  "node_modules/ts-md5/dist/md5.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Md5 = void 0;
    var Md52 = (
      /** @class */
      function() {
        function Md53() {
          this._dataLength = 0;
          this._bufferLength = 0;
          this._state = new Int32Array(4);
          this._buffer = new ArrayBuffer(68);
          this._buffer8 = new Uint8Array(this._buffer, 0, 68);
          this._buffer32 = new Uint32Array(this._buffer, 0, 17);
          this.start();
        }
        Md53.hashStr = function(str, raw) {
          if (raw === void 0) {
            raw = false;
          }
          return this.onePassHasher.start().appendStr(str).end(raw);
        };
        Md53.hashAsciiStr = function(str, raw) {
          if (raw === void 0) {
            raw = false;
          }
          return this.onePassHasher.start().appendAsciiStr(str).end(raw);
        };
        Md53._hex = function(x) {
          var hc = Md53.hexChars;
          var ho = Md53.hexOut;
          var n;
          var offset;
          var j;
          var i;
          for (i = 0; i < 4; i += 1) {
            offset = i * 8;
            n = x[i];
            for (j = 0; j < 8; j += 2) {
              ho[offset + 1 + j] = hc.charAt(n & 15);
              n >>>= 4;
              ho[offset + 0 + j] = hc.charAt(n & 15);
              n >>>= 4;
            }
          }
          return ho.join("");
        };
        Md53._md5cycle = function(x, k) {
          var a = x[0];
          var b = x[1];
          var c = x[2];
          var d = x[3];
          a += (b & c | ~b & d) + k[0] - 680876936 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[1] - 389564586 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[2] + 606105819 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[3] - 1044525330 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[4] - 176418897 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[5] + 1200080426 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[6] - 1473231341 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[7] - 45705983 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[8] + 1770035416 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[9] - 1958414417 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[10] - 42063 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[11] - 1990404162 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[12] + 1804603682 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[13] - 40341101 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[14] - 1502002290 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[15] + 1236535329 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & d | c & ~d) + k[1] - 165796510 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[6] - 1069501632 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[11] + 643717713 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[0] - 373897302 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[5] - 701558691 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[10] + 38016083 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[15] - 660478335 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[4] - 405537848 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[9] + 568446438 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[14] - 1019803690 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[3] - 187363961 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[8] + 1163531501 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[13] - 1444681467 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[2] - 51403784 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[7] + 1735328473 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[12] - 1926607734 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b ^ c ^ d) + k[5] - 378558 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[8] - 2022574463 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[11] + 1839030562 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[14] - 35309556 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[1] - 1530992060 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[4] + 1272893353 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[7] - 155497632 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[10] - 1094730640 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[13] + 681279174 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[0] - 358537222 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[3] - 722521979 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[6] + 76029189 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[9] - 640364487 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[12] - 421815835 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[15] + 530742520 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[2] - 995338651 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          x[0] = a + x[0] | 0;
          x[1] = b + x[1] | 0;
          x[2] = c + x[2] | 0;
          x[3] = d + x[3] | 0;
        };
        Md53.prototype.start = function() {
          this._dataLength = 0;
          this._bufferLength = 0;
          this._state.set(Md53.stateIdentity);
          return this;
        };
        Md53.prototype.appendStr = function(str) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var code;
          var i;
          for (i = 0; i < str.length; i += 1) {
            code = str.charCodeAt(i);
            if (code < 128) {
              buf8[bufLen++] = code;
            } else if (code < 2048) {
              buf8[bufLen++] = (code >>> 6) + 192;
              buf8[bufLen++] = code & 63 | 128;
            } else if (code < 55296 || code > 56319) {
              buf8[bufLen++] = (code >>> 12) + 224;
              buf8[bufLen++] = code >>> 6 & 63 | 128;
              buf8[bufLen++] = code & 63 | 128;
            } else {
              code = (code - 55296) * 1024 + (str.charCodeAt(++i) - 56320) + 65536;
              if (code > 1114111) {
                throw new Error("Unicode standard supports code points up to U+10FFFF");
              }
              buf8[bufLen++] = (code >>> 18) + 240;
              buf8[bufLen++] = code >>> 12 & 63 | 128;
              buf8[bufLen++] = code >>> 6 & 63 | 128;
              buf8[bufLen++] = code & 63 | 128;
            }
            if (bufLen >= 64) {
              this._dataLength += 64;
              Md53._md5cycle(this._state, buf32);
              bufLen -= 64;
              buf32[0] = buf32[16];
            }
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.appendAsciiStr = function(str) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var i;
          var j = 0;
          for (; ; ) {
            i = Math.min(str.length - j, 64 - bufLen);
            while (i--) {
              buf8[bufLen++] = str.charCodeAt(j++);
            }
            if (bufLen < 64) {
              break;
            }
            this._dataLength += 64;
            Md53._md5cycle(this._state, buf32);
            bufLen = 0;
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.appendByteArray = function(input) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var i;
          var j = 0;
          for (; ; ) {
            i = Math.min(input.length - j, 64 - bufLen);
            while (i--) {
              buf8[bufLen++] = input[j++];
            }
            if (bufLen < 64) {
              break;
            }
            this._dataLength += 64;
            Md53._md5cycle(this._state, buf32);
            bufLen = 0;
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.getState = function() {
          var s = this._state;
          return {
            buffer: String.fromCharCode.apply(null, Array.from(this._buffer8)),
            buflen: this._bufferLength,
            length: this._dataLength,
            state: [s[0], s[1], s[2], s[3]]
          };
        };
        Md53.prototype.setState = function(state) {
          var buf = state.buffer;
          var x = state.state;
          var s = this._state;
          var i;
          this._dataLength = state.length;
          this._bufferLength = state.buflen;
          s[0] = x[0];
          s[1] = x[1];
          s[2] = x[2];
          s[3] = x[3];
          for (i = 0; i < buf.length; i += 1) {
            this._buffer8[i] = buf.charCodeAt(i);
          }
        };
        Md53.prototype.end = function(raw) {
          if (raw === void 0) {
            raw = false;
          }
          var bufLen = this._bufferLength;
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var i = (bufLen >> 2) + 1;
          this._dataLength += bufLen;
          var dataBitsLen = this._dataLength * 8;
          buf8[bufLen] = 128;
          buf8[bufLen + 1] = buf8[bufLen + 2] = buf8[bufLen + 3] = 0;
          buf32.set(Md53.buffer32Identity.subarray(i), i);
          if (bufLen > 55) {
            Md53._md5cycle(this._state, buf32);
            buf32.set(Md53.buffer32Identity);
          }
          if (dataBitsLen <= 4294967295) {
            buf32[14] = dataBitsLen;
          } else {
            var matches = dataBitsLen.toString(16).match(/(.*?)(.{0,8})$/);
            if (matches === null) {
              return;
            }
            var lo = parseInt(matches[2], 16);
            var hi = parseInt(matches[1], 16) || 0;
            buf32[14] = lo;
            buf32[15] = hi;
          }
          Md53._md5cycle(this._state, buf32);
          return raw ? this._state : Md53._hex(this._state);
        };
        Md53.stateIdentity = new Int32Array([1732584193, -271733879, -1732584194, 271733878]);
        Md53.buffer32Identity = new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        Md53.hexChars = "0123456789abcdef";
        Md53.hexOut = [];
        Md53.onePassHasher = new Md53();
        return Md53;
      }()
    );
    exports.Md5 = Md52;
    if (Md52.hashStr("hello") !== "5d41402abc4b2a76b9719d911017c592") {
      throw new Error("Md5 self test failed.");
    }
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => TradingStrategy
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/lang_str.ts
var SETTING_NAME = /* @__PURE__ */ new Map([
  ["ONE_GRID_LIMIT", "\u9996\u7F51\u4E0A\u9650\u503C"],
  ["MAX_SLUMP_PCT", "\u6700\u5927\u56DE\u64A4\u503C"],
  ["TRIGGER_ADD_POINT", "\u89E6\u53D1\u4EF7\u52A0\u70B9"],
  ["TRADING_PRICE_PRECISION", "\u4EA4\u6613\u4EF7\u7CBE\u5EA6"],
  ["MIN_BATCH_COUNT", "\u5355\u624B\u4EFD\u6570\u989D"],
  ["MAX_RISE_PCT", "\u5355\u65E5\u6700\u5927\u6DA8\u5E45"],
  ["SGRID_STEP_PCT", "\u5C0F\u7F51\u6B65\u8FDB\u503C"],
  ["SGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["SGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["MGRID_STEP_PCT", "\u4E2D\u7F51\u6B65\u8FDB\u503C"],
  ["MGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["MGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["LGRID_STEP_PCT", "\u5927\u7F51\u6B65\u8FDB\u503C"],
  ["LGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["LGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["DATA_API_LICENCE", "\u6570\u636E\u63A5\u53E3\u8BC1\u4E66"]
]);
var SGRID_TYPE_NAME_STR = "\u5C0F\u7F51";
var MGRID_TYPE_NAME_STR = "\u4E2D\u7F51";
var LGRID_TYPE_NAME_STR = "\u5927\u7F51";
var PERFIT_TYPE_NAME_STR = "\u5229\u6DA6";

// src/settings.ts
var GRID_COLOR_BUY_MONITOR = "#FFFF00";
var GRID_COLOR_SELL_MONITOR = "#FFFF00";
var GRID_COLOR_BUY_TRIGGERED = "#D3D3D3";
var GRID_COLOR_SELL_TRIGGERED = "#FFFFE0";
var GRID_COLOR_STOCK_OVERVIEW = "#FFFFFF";
var GRID_COLOR_TABLE_TITLE = "#D3D3D3";
var GRID_COLOR_BUY_OVERVIEW = "#FFFF01";
var GRID_COLOR_SELL_OVERVIEW = "#FFFF00";
function PackSettings(settings) {
  let pack_str = "";
  let key;
  for (key in settings) {
    if (SETTING_NAME.has(String(key))) {
      pack_str = pack_str + String(key) + ":" + String(settings[key]) + "\n";
    }
  }
  return pack_str;
}
function UnpackSettings(settings, lines) {
  lines.forEach((line, idx) => {
    const strs = line.split(":");
    if (SETTING_NAME.has(strs[0])) {
      SetSettingValue(settings, strs[0], strs[1]);
    }
  });
}
function GetSettingValue(settings, key) {
  return settings[key];
}
function SetSettingValue(settings, key, value) {
  if (key in settings) {
    settings[key] = value;
  }
}
var PluginBaseSettings = class {
  constructor() {
    this.DATA_API_LICENCE = "112e84656174f0a5";
    this.DATA_API_LICENCE = "b192f53a6d6928033";
  }
};
var GridTradingSettings = class {
  constructor() {
    this.ONE_GRID_LIMIT = 1e4;
    this.MAX_SLUMP_PCT = 0.67;
    this.TRIGGER_ADD_POINT = 5e-3;
    this.TRADING_PRICE_PRECISION = 3;
    this.MIN_BATCH_COUNT = 100;
    this.MAX_RISE_PCT = 0.15;
    this.MINIMUM_BUY_PCT = 0.01;
    this.CLEAR_STEP_PCT = 0.25;
    this.SGRID_STEP_PCT = 0.05;
    this.SGRID_ADD_PCT = 0.05;
    this.SGRID_RETAIN_COUNT = 4;
    this.MGRID_STEP_PCT = 0.22;
    this.MGRID_ADD_PCT = 0.2;
    this.MGRID_RETAIN_COUNT = 2;
    this.LGRID_STEP_PCT = 0.52;
    this.LGRID_ADD_PCT = 0.5;
    this.LGRID_RETAIN_COUNT = 1;
  }
  Clone() {
    const clone = new GridTradingSettings();
    clone.ONE_GRID_LIMIT = this.ONE_GRID_LIMIT;
    clone.MAX_SLUMP_PCT = this.MAX_SLUMP_PCT;
    clone.TRIGGER_ADD_POINT = this.TRIGGER_ADD_POINT;
    clone.TRADING_PRICE_PRECISION = this.TRADING_PRICE_PRECISION;
    clone.MIN_BATCH_COUNT = this.MIN_BATCH_COUNT;
    clone.MAX_RISE_PCT = this.MAX_RISE_PCT;
    clone.SGRID_STEP_PCT = this.SGRID_STEP_PCT;
    clone.SGRID_ADD_PCT = this.SGRID_ADD_PCT;
    clone.SGRID_RETAIN_COUNT = this.SGRID_RETAIN_COUNT;
    clone.MGRID_STEP_PCT = this.MGRID_STEP_PCT;
    clone.MGRID_ADD_PCT = this.MGRID_ADD_PCT;
    clone.MGRID_RETAIN_COUNT = this.MGRID_RETAIN_COUNT;
    clone.LGRID_STEP_PCT = this.LGRID_STEP_PCT;
    clone.LGRID_ADD_PCT = this.LGRID_ADD_PCT;
    clone.LGRID_RETAIN_COUNT = this.LGRID_RETAIN_COUNT;
    return clone;
  }
  PackBase() {
    const setting = [
      "BASE",
      String(this.ONE_GRID_LIMIT),
      String(this.MAX_SLUMP_PCT),
      String(this.TRIGGER_ADD_POINT),
      String(this.TRADING_PRICE_PRECISION),
      String(this.MIN_BATCH_COUNT),
      String(this.MAX_RISE_PCT),
      String(this.CLEAR_STEP_PCT),
      String(this.MINIMUM_BUY_PCT)
    ];
    return setting.join(",");
  }
  UnpackBase(strs) {
    if (strs.length != 9) {
      return;
    }
    this.ONE_GRID_LIMIT = Number(strs[1]);
    this.MAX_SLUMP_PCT = Number(strs[2]);
    this.TRIGGER_ADD_POINT = Number(strs[3]);
    this.TRADING_PRICE_PRECISION = Number(strs[4]);
    this.MIN_BATCH_COUNT = Number(strs[5]);
    this.MAX_RISE_PCT = Number(strs[6]);
    this.CLEAR_STEP_PCT = Number(strs[7]);
    this.MINIMUM_BUY_PCT = Number(strs[8]);
  }
  PackStep() {
    const setting = [
      "STEP",
      String(this.SGRID_STEP_PCT),
      String(this.SGRID_ADD_PCT),
      String(this.SGRID_RETAIN_COUNT),
      String(this.MGRID_STEP_PCT),
      String(this.MGRID_ADD_PCT),
      String(this.MGRID_RETAIN_COUNT),
      String(this.LGRID_STEP_PCT),
      String(this.LGRID_ADD_PCT),
      String(this.LGRID_RETAIN_COUNT)
    ];
    return setting.join(",");
  }
  UnpackStep(strs) {
    if (strs.length != 10) {
      return;
    }
    this.SGRID_STEP_PCT = Number(strs[1]);
    this.SGRID_ADD_PCT = Number(strs[2]);
    this.SGRID_RETAIN_COUNT = Number(strs[3]);
    this.MGRID_STEP_PCT = Number(strs[4]);
    this.MGRID_ADD_PCT = Number(strs[5]);
    this.MGRID_RETAIN_COUNT = Number(strs[6]);
    this.LGRID_STEP_PCT = Number(strs[7]);
    this.LGRID_ADD_PCT = Number(strs[8]);
    this.LGRID_RETAIN_COUNT = Number(strs[9]);
  }
};

// src/remote_util.ts
var import_obsidian = require("obsidian");
var data_url_prefix = "http://api.biyingapi.com";
async function GetETFCurrentPrice(etf_code, api_licence) {
  if (!(etf_code.startsWith("sz") || etf_code.startsWith("sh"))) {
    return -1;
  }
  const data_api = data_url_prefix + "/jj/etfhq/" + etf_code + "/" + api_licence;
  try {
    const response = await (0, import_obsidian.requestUrl)(data_api);
    DebugLog("request ", etf_code, "  result ", response.json["zxj"]);
    return response.json["zxj"];
  } catch (e) {
    DebugLog("request ", data_api, "  error ", e.message);
    return -1;
  }
}
async function GetLOFCurrentPrice(lof_code, api_licence) {
  if (!(lof_code.startsWith("sz") || lof_code.startsWith("sh"))) {
    return -1;
  }
  const data_api = data_url_prefix + "/jj/lofhq/" + lof_code + "/" + api_licence;
  try {
    const response = await (0, import_obsidian.requestUrl)(data_api);
    DebugLog("request ", lof_code, "  result ", response.json["zxj"]);
    return response.json["zxj"];
  } catch (e) {
    DebugLog("request ", data_api, "  error ", e.message);
    return -1;
  }
}
function DebugLog(...args) {
  let log_str = "";
  args.forEach((cell, i) => {
    log_str = log_str + String(cell);
  });
  new import_obsidian.Notice(log_str, 0);
}

// src/grid_view.ts
var import_obsidian2 = require("obsidian");

// src/mymath.ts
function FixedPrice(price, pct, precision) {
  const scale = 10 ** precision;
  return Math.floor(Math.floor(price * scale) * Math.floor(pct * 100) / 100) / scale;
}
function MyFloor(num, single) {
  return Math.floor(num / single) * single;
}
function MyCeil(num, single) {
  return Math.ceil(num / single) * single;
}
function ToPercent(num, count = 0) {
  return (num * 100).toFixed(count) + "%";
}
function ToPercentStr(num, count = 0) {
  return num.toFixed(count) + "%";
}
function ToNumber(percent) {
  return Number(percent.replace("%", "")) / 100;
}
function ToTradingGap(current_price, target_price, count = 0) {
  if (target_price == void 0 || current_price == void 0 || current_price == 0) {
    return "-";
  }
  const gap = Math.abs(target_price - current_price);
  if (target_price > current_price) {
    return "+" + ToPercent(gap / current_price, count);
  } else {
    return "-" + ToPercent(gap / current_price, count);
  }
}
function IsNumeric(str) {
  return !isNaN(Number(str));
}
function TimeDuarion(start_time, end_time) {
  const stimes = start_time.split("-");
  const etimes = end_time.split("-");
  const ydiff = Number(etimes[0]) - Number(stimes[0]);
  const mdiff = Number(etimes[1]) + ydiff * 12 - Number(stimes[1]);
  return Number(etimes[2]) - Number(stimes[2]) + mdiff * 30;
}
function StringPlus(num1, num2, single) {
  return String(MyFloor(Number(num1) + Number(num2), single));
}

// src/grid_trading.ts
var import_md5 = __toESM(require_md5());
var GridTrading = class {
  constructor(plugin_env) {
    this.plugin_env = plugin_env;
    this.grid_settings = plugin_env.grid_settings.Clone();
    this.debug_log = [];
    this.data_md5 = "";
    this.is_empty = true;
    this.remote_current_price = -1;
  }
  InitGridTrading(data) {
  }
  UpdateRemotePrice(remote_price) {
  }
  DebugLog(level, log_str, extra_info) {
    this.debug_log.push([level, log_str, extra_info]);
  }
  GetTradingTitle() {
    return this.stock_name + "(" + String(this.target_stock) + ")";
  }
  IsStock() {
    if (this.is_empty == false && (this.market_code == "sz" || this.market_code == "sh")) {
      return true;
    } else {
      return false;
    }
  }
  InitTradingOverview() {
    this.stock_overview = [
      GRID_COLOR_STOCK_OVERVIEW,
      String(this.target_stock),
      this.stock_name,
      this.target_price.toFixed(3),
      this.current_price.toFixed(3),
      ToPercent(this.current_price / this.target_price, 1),
      String(this.total_hold),
      String(this.total_cost),
      ToTradingGap(this.total_cost, this.total_hold * this.current_price, 2),
      String(this.total_retain)
    ];
    this.stock_buy_overview = [];
    if (this.buy_monitor_rows.length > 0) {
      for (let idx = 0; idx < this.buy_monitor_rows.length; idx++) {
        const row = this.buy_monitor_rows[idx];
        const trading_gap = ToTradingGap(this.current_price, Number(this.trading_table[row][3]), 2);
        this.stock_buy_overview.push([
          GRID_COLOR_BUY_OVERVIEW,
          String(this.target_stock),
          this.stock_name,
          this.trading_table[row][0],
          this.trading_table[row][1],
          this.trading_table[row][2],
          this.trading_table[row][3],
          this.trading_table[row][4],
          this.trading_table[row][5],
          trading_gap
        ]);
      }
    }
    this.stock_sell_overview = [];
    if (this.sell_monitor_rows.length > 0) {
      for (let idx = 0; idx < this.sell_monitor_rows.length; idx++) {
        const row = this.sell_monitor_rows[idx];
        const trading_gap = ToTradingGap(this.current_price, Number(this.trading_table[row][7]), 2);
        this.stock_sell_overview.push([
          GRID_COLOR_SELL_OVERVIEW,
          String(this.target_stock),
          this.stock_name,
          this.trading_table[row][0],
          this.trading_table[row][1],
          this.trading_table[row][6],
          this.trading_table[row][7],
          this.trading_table[row][8],
          this.trading_table[row][9],
          trading_gap
        ]);
      }
    }
    if (this.stock_active_filled_record.length > 0) {
      for (let idx = 0; idx < this.stock_active_filled_record.length; idx++) {
        const row = this.stock_active_filled_record[idx];
        row[8] = String(this.current_price);
        row[9] = ToTradingGap(Number(row[5]), this.current_price);
        row[10] = String(MyCeil(Number(row[7]) / this.current_price, this.grid_settings.MIN_BATCH_COUNT));
        row[11] = String(Number(row[6]) - Number(row[10]));
      }
    }
    if (this.stock_passive_filled_record.length > 0) {
      for (let idx = 0; idx < this.stock_passive_filled_record.length; idx++) {
        const row = this.stock_passive_filled_record[idx];
        const grid_row = this.FindTradingGridRow(row[3]);
        if (grid_row.length > 0) {
          row[3] = grid_row[0];
          row[4] = grid_row[1];
          row[5] = grid_row[3];
          row[6] = grid_row[4];
          row[7] = grid_row[5];
          row[8] = String(this.current_price);
          row[9] = ToTradingGap(Number(row[5]), this.current_price);
          row[10] = grid_row[7];
          row[11] = ToTradingGap(this.current_price, Number(row[10]));
        }
      }
    }
  }
  ParseRawData(data) {
    const new_md5 = import_md5.Md5.hashStr(data);
    if (new_md5 === this.data_md5) {
      return false;
    }
    this.data_md5 = new_md5;
    const lines = data.split("\n");
    const strs = lines[0].split(",");
    this.target_stock = Number(strs[1]);
    this.stock_name = strs[2];
    this.market_code = strs[3];
    this.target_price = Number(strs[4]);
    this.current_price = Number(strs[5]);
    this.remote_current_price = this.plugin_env.GetStockRemotePrice(strs[1]);
    if (this.remote_current_price > 0) {
      this.current_price = this.remote_current_price;
    }
    this.grid_settings = this.plugin_env.grid_settings.Clone();
    this.raw_trading_record = [];
    this.buy_grid_record = [];
    this.sgrid_step_table = [];
    this.mgrid_step_table = [];
    this.lgrid_step_table = [];
    for (let idx = 1; idx < lines.length; idx++) {
      const strs2 = lines[idx].split(",");
      if (strs2[0] == "BUY") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
        this.buy_grid_record.push(strs2[2]);
      }
      if (strs2[0] == "SELL") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
        this.buy_grid_record.remove(strs2[2]);
      }
      if (strs2[0] == "SHARE") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "BASE") {
        this.grid_settings.UnpackBase(strs2);
      }
      if (strs2[0] == "STEP") {
        this.grid_settings.UnpackStep(strs2);
      }
      if (strs2[0] == "SGRID") {
        this.sgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "MGRID") {
        this.mgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "LGRID") {
        this.lgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
    }
    return true;
  }
  InitStockTable() {
    const clear_price = FixedPrice(this.target_price, 1 + this.grid_settings.SGRID_STEP_PCT, this.grid_settings.TRADING_PRICE_PRECISION);
    const mini_price = FixedPrice(this.target_price, this.grid_settings.MINIMUM_BUY_PCT, this.grid_settings.TRADING_PRICE_PRECISION);
    this.stock_table = [
      ["\u6807\u7684\u4EE3\u53F7", String(this.target_stock)],
      ["\u6807\u7684\u540D\u79F0", this.stock_name],
      ["\u7F51\u683C\u6A21\u5F0F", this.mode_type],
      ["\u5F53\u524D\u4EF7\u683C", String(this.current_price)],
      ["\u4EF7\u683C\u767E\u5206\u4F4D", ToPercent(this.current_price / this.target_price, 1)],
      ["\u6E05\u683C\u6240\u9700\u6DA8\u5E45", ToTradingGap(this.current_price, clear_price, 1)],
      ["\u6700\u4F4E\u4E70\u5165\u4EF7", String(mini_price)],
      ["\u505C\u683C\u5269\u4F59\u8DCC\u5E45", ToTradingGap(this.current_price, mini_price)]
    ];
  }
  InitGridParam() {
    this.param_table = [
      ["\u9996\u7F51\u76EE\u6807\u4EF7", String(this.target_price), "\u6700\u4F4E\u4E70\u5165\u4EF7", String(FixedPrice(this.target_price, this.grid_settings.MINIMUM_BUY_PCT, this.grid_settings.TRADING_PRICE_PRECISION)), "\u9996\u7F51\u76EE\u6807\u91D1\u989D", String(this.grid_settings.ONE_GRID_LIMIT)],
      ["\u6700\u5927\u56DE\u64A4\u503C", ToPercent(this.grid_settings.MAX_SLUMP_PCT), "\u6700\u4F4E\u4E70\u5165\u4F4D", ToPercent(this.grid_settings.MINIMUM_BUY_PCT), "\u6700\u5927\u6DA8\u8DCC\u5E45", ToPercent(this.grid_settings.MAX_RISE_PCT)],
      ["\u89E6\u53D1\u4EF7\u52A0\u70B9", String(this.grid_settings.TRIGGER_ADD_POINT), "\u6BCF\u624B\u4EFD\u6570\u989D", String(this.grid_settings.MIN_BATCH_COUNT), "\u4EA4\u6613\u4EF7\u7CBE\u5EA6", String(this.grid_settings.TRADING_PRICE_PRECISION)],
      ["\u5C0F\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.SGRID_STEP_PCT), "\u4E2D\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.MGRID_STEP_PCT), "\u5927\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.LGRID_STEP_PCT)],
      ["\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.SGRID_ADD_PCT), "\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.MGRID_ADD_PCT), "\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.LGRID_ADD_PCT)],
      ["\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.SGRID_RETAIN_COUNT), "\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.MGRID_RETAIN_COUNT), "\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.LGRID_RETAIN_COUNT)]
    ];
  }
  InitTradingAnalysis() {
    const price = this.target_price;
    const rise_pct = this.grid_settings.SGRID_STEP_PCT;
    const table = this.trading_table;
    function Analysis(slump_pct) {
      let total_cost = 0;
      let total_amount = 0;
      let total_sell = 0;
      let total_gain = 0;
      const min_price = price * (1 - slump_pct);
      const max_price = price * (1 + rise_pct);
      table.forEach((row, i) => {
        if (i > 0 && ToNumber(row[1]) >= 1 - slump_pct) {
          total_cost = total_cost + Number(row[5]);
          total_amount = total_amount + Number(row[4]);
          total_gain = total_gain + Number(row[9]);
          total_sell = total_sell + Number(row[8]);
        }
      });
      const cost_price = (total_cost - total_gain) / (total_amount - total_sell);
      const gain_money = Math.floor(max_price * (total_amount - total_sell) - (total_cost - total_gain));
      return [
        ToPercent(slump_pct) + "(" + min_price.toFixed(3) + ")",
        String(total_cost),
        String(total_amount),
        String(Math.ceil(total_amount * min_price)),
        (total_cost / total_amount).toFixed(3),
        String(Math.ceil(total_cost - total_amount * min_price)),
        ((total_cost - total_amount * min_price) / total_cost * 100).toFixed(2) + "%",
        ((total_cost / total_amount - min_price) / min_price * 100).toFixed(2) + "%",
        String(total_amount - total_sell),
        String(Math.floor(max_price * (total_amount - total_sell))),
        String(total_cost - total_gain),
        cost_price.toFixed(3),
        ((max_price - cost_price) / cost_price * 100).toFixed(2) + "%",
        String(gain_money),
        (gain_money / total_cost * 100).toFixed(2) + "%"
      ];
    }
    this.trading_analysis = [
      ["\u4E8F\u635F\u5206\u6790", "\u56DE\u64A4\u6BD4\u4F8B"],
      ["", "\u6295\u5165\u8D44\u91D1"],
      ["", "\u6301\u4ED3\u4EFD\u989D"],
      ["", "\u6301\u4ED3\u91D1\u989D"],
      ["", "\u6301\u4ED3\u6210\u672C"],
      ["", "\u4E8F\u635F\u91D1\u989D"],
      ["", "\u4E8F\u635F\u6BD4\u4F8B"],
      ["", "\u6240\u9700\u6DA8\u5E45"],
      ["\u53CD\u5F39\u76C8\u5229", "\u6301\u4ED3\u4EFD\u989D"],
      [(price * (1 + rise_pct)).toFixed(3), "\u6301\u4ED3\u91D1\u989D"],
      ["", "\u5360\u7528\u672C\u91D1"],
      ["", "\u6301\u4ED3\u6210\u672C"],
      ["", "\u6D6E\u76C8\u6BD4\u4F8B"],
      ["", "\u7F51\u683C\u76C8\u5229"],
      ["", "\u603B\u6D6E\u76C8\u6BD4"]
    ];
    const slump_pcts = [20, 30, 40, 50, 60, 70, 80];
    for (const pct of slump_pcts) {
      const result = Analysis(pct / 100);
      for (let idx = 0; idx < result.length; idx++) {
        this.trading_analysis[idx].push(result[idx]);
      }
    }
  }
  InitTradingRecord() {
    this.total_retain = 0;
    this.retain_cost = 0;
    this.total_cost = 0;
    this.total_hold = 0;
    this.trading_record = [["\u4EA4\u6613\u65B9\u5411", "\u4EA4\u6613\u65E5\u671F", "\u7F51\u683C\u7C7B\u578B", "\u4EA4\u6613\u4EF7\u683C", "\u4EA4\u6613\u80A1\u6570", "\u6D88\u8017\u672C\u91D1", "\u7D2F\u79EF\u7B79\u7801", "\u6301\u4ED3\u65F6\u957F"]];
    this.stock_passive_filled_record = [];
    this.stock_active_filled_record = [];
    let raw_record = [...this.raw_trading_record];
    let cursor = 0;
    while (cursor < raw_record.length) {
      if (raw_record[cursor][0] == "BUY") {
        let scursor = -1;
        for (let idx = cursor; idx < raw_record.length; idx++) {
          if (raw_record[idx][0] == "SELL" && raw_record[idx][2] == raw_record[cursor][2]) {
            scursor = idx;
            break;
          }
        }
        if (scursor >= 0) {
          const retain_count = Math.floor(Number(raw_record[cursor][4]) - Number(raw_record[scursor][4]));
          const cost_count = Math.floor(Number(raw_record[cursor][3]) * Number(raw_record[cursor][4]) - Number(raw_record[scursor][3]) * Number(raw_record[scursor][4]));
          const time_d = TimeDuarion(raw_record[cursor][1], raw_record[scursor][1]);
          this.total_retain = this.total_retain + retain_count;
          this.retain_cost = this.retain_cost + cost_count;
          this.trading_record.push([raw_record[cursor][0], raw_record[cursor][1], raw_record[cursor][2], raw_record[cursor][3], raw_record[cursor][4], String(cost_count)]);
          this.trading_record.push([raw_record[scursor][0], raw_record[scursor][1], raw_record[scursor][2], raw_record[scursor][3], raw_record[scursor][4], "--", String(retain_count), String(time_d) + "\u5929"]);
          raw_record.splice(cursor, 1);
          raw_record.splice(scursor - 1, 1);
        } else {
          cursor++;
        }
      } else {
        cursor++;
      }
    }
    for (let idx = 0; idx < raw_record.length; idx++) {
      if (raw_record[idx][0] == "BUY") {
        const cost_count = Math.floor(Number(raw_record[idx][3]) * Number(raw_record[idx][4]));
        this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], String(cost_count)]);
        this.total_cost = this.total_cost + cost_count;
        if (Number(raw_record[idx][3]) > 0) {
          this.total_hold = this.total_hold + Number(raw_record[idx][4]);
        }
        if (Number(raw_record[idx][3]) == 0) {
          this.stock_passive_filled_record.push([GRID_COLOR_BUY_OVERVIEW, String(this.target_stock), this.stock_name, raw_record[idx][2], "", "", "", "", "", "", "", ""]);
        }
        if (raw_record[idx][2].startsWith("\u8865\u4ED3")) {
          this.stock_active_filled_record.push([GRID_COLOR_SELL_OVERVIEW, String(this.target_stock), this.stock_name, raw_record[idx][2], raw_record[idx][1], raw_record[idx][3], raw_record[idx][4], String(cost_count), "", "", ""]);
        }
      } else {
        if (raw_record[idx][0] == "SHARE") {
          if (raw_record[idx][2] == "\u7EA2\u5229") {
            const gain_count = Math.floor(Number(raw_record[idx][3]) * Number(raw_record[idx][4]));
            this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], "-" + String(gain_count)]);
            this.retain_cost = this.retain_cost - gain_count;
          }
          if (raw_record[idx][2] == "\u62C6\u80A1") {
            this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], "--", raw_record[idx][4]]);
            this.total_retain = this.total_retain + Number(raw_record[idx][4]);
          }
        } else {
          this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4]]);
        }
      }
    }
    this.total_hold = this.total_hold + this.total_retain;
    this.total_cost = this.total_cost + this.retain_cost;
    if (this.total_cost != 0) {
      this.trading_record.push(["Cost", "", "", "", "", String(this.total_cost), "", ""]);
    }
    if (this.total_retain <= 0) {
      return;
    }
    this.trading_record.push(["Retain", "", "", "", String(this.total_hold), "", String(this.total_retain), ""]);
    const current_pct = MyCeil(this.current_price / this.target_price, 1e-3);
    for (let index = 1; index <= 3; index++) {
      const row = this.GenerateClearRow(PERFIT_TYPE_NAME_STR, index, this.grid_settings.CLEAR_STEP_PCT, MyFloor(this.total_retain / 3, 100));
      this.trading_table.push(row);
      if (current_pct + this.grid_settings.MAX_RISE_PCT >= ToNumber(row[1])) {
        this.sell_monitor_rows.push(this.trading_table.length - 1);
      }
      this.sell_triggered_rows.push(this.trading_table.length - 1);
    }
  }
  InitTradingIncome() {
    this.trading_income = [];
    this.trading_income.push(["", "\u6301\u4ED3\u80A1\u6570", "\u5360\u7528\u672C\u91D1", "\u6301\u4ED3\u5747\u4EF7", "\u5B9E\u9645\u91D1\u989D", "\u5B9E\u9645\u4EF7\u683C", "\u6301\u4ED3\u76C8\u4E8F", "\u76C8\u4E8F\u6BD4\u4F8B", "\u6295\u5165\u8D44\u91D1", "\u6295\u5165\u76C8\u4E8F"]);
    this.trading_income.push(this.GenerateIncomeRow("\u5F53\u524D\u6301\u4ED3", this.total_hold, this.total_cost, this.current_price, this.total_cost));
    this.trading_income.push(this.GenerateIncomeRow("\u7D2F\u79EF\u7B79\u7801", this.total_retain, this.retain_cost, this.current_price, this.retain_cost));
    const minimum_pct = this.grid_settings.MINIMUM_BUY_PCT;
    const clear_pct = this.grid_settings.CLEAR_STEP_PCT;
    let max_cost = this.total_cost;
    let max_count = this.total_hold;
    let empty_cost = this.total_cost;
    let empty_count = this.total_hold;
    let empty_price = 0;
    this.trading_table.forEach((row, i) => {
      if (this.buy_grid_record.includes(this.trading_table[i][0])) {
        empty_cost = empty_cost - Number(row[9]);
        empty_count = empty_count - Number(row[8]);
        if (Number(row[7]) > empty_price) {
          empty_price = Number(row[7]);
        }
      } else {
        if (i > 0 && ToNumber(row[1]) >= minimum_pct) {
          max_cost = max_cost + Number(row[5]);
          max_count = max_count + Number(row[4]);
        }
      }
    });
    this.trading_income.push(this.GenerateIncomeRow("\u6700\u5927\u56DE\u64A4", max_count, max_cost, this.target_price * minimum_pct, max_cost));
    this.trading_income.push(this.GenerateIncomeRow("\u53CD\u5F39\u6E05\u683C", empty_count, empty_cost, empty_price, this.total_cost));
    const clear_price = Number(((this.CalcClearPrice(clear_pct, 1) + this.CalcClearPrice(clear_pct, 2) + this.CalcClearPrice(clear_pct, 3)) / 3).toFixed(this.grid_settings.TRADING_PRICE_PRECISION));
    this.trading_income.push(this.GenerateIncomeRow("\u83B7\u5229\u6E05\u76D8", empty_count, empty_cost, clear_price, this.total_cost));
  }
  GenerateClearRow(grid_name, idx, grid_step_pct, sell_count) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const price_step = Math.floor((100 + Math.floor(grid_step_pct * 100)) ** idx / 100 ** (idx - 1)) / 100;
    const sell_price = FixedPrice(this.target_price, price_step, precision);
    return [
      grid_name + String(idx),
      ToPercent(price_step),
      "",
      "",
      "",
      "",
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      "-",
      "+" + ToPercent(grid_step_pct)
    ];
  }
  GenerateIncomeRow(grid_name, total_count, total_cost, real_price, max_cost) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const real_cost = MyFloor(total_count * real_price, 1);
    const real_max = real_cost - total_cost + max_cost;
    return [
      grid_name,
      String(total_count),
      String(total_cost),
      (total_cost / Math.max(total_count, 1)).toFixed(precision),
      String(real_cost),
      real_price.toFixed(precision),
      String(real_cost - total_cost),
      ToTradingGap(total_cost, real_cost, 2),
      String(max_cost),
      ToTradingGap(max_cost, real_max, 2)
    ];
  }
  CalcClearPrice(step_pct, step_idx) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const price_step = Math.floor((100 + Math.floor(step_pct * 100)) ** step_idx / 100 ** (step_idx - 1)) / 100;
    return FixedPrice(this.target_price, price_step, precision);
  }
  IsNeedMonitor(table_index, is_sell, current_price, max_rise_pct) {
    if (is_sell) {
      const sell_price = Number(this.trading_table[table_index][7]);
      if (current_price * (1 + max_rise_pct) >= sell_price) {
        return true;
      } else {
        return false;
      }
    } else {
      const buy_price = Number(this.trading_table[table_index][3]);
      if (buy_price < this.target_price * this.grid_settings.MINIMUM_BUY_PCT) {
        return false;
      }
      if (current_price * (1 - max_rise_pct) <= buy_price) {
        return true;
      } else {
        return false;
      }
    }
  }
  IsDisableRow(table_index) {
    const price_pct = ToNumber(this.trading_table[table_index][1]);
    if (price_pct < this.grid_settings.MINIMUM_BUY_PCT) {
      return true;
    } else {
      return false;
    }
  }
  FindTradingGridRow(grid_name) {
    for (let idx = 0; idx < this.trading_table.length; idx++) {
      if (this.trading_table[idx][0] == grid_name) {
        return this.trading_table[idx];
      }
    }
    return [];
  }
  SortTradingTable() {
    if (this.trading_table.length <= 1) {
      return;
    }
    this.trading_table.push(["\u505C\u6B62\u7EBF", "0%"]);
    let move_idx = 0;
    let move_row = null;
    for (let idx = 1; idx < this.trading_table.length; idx++) {
      if (this.trading_table[idx][1] == "0%") {
        break;
      }
      if (this.IsDisableRow(idx)) {
        move_idx = idx;
        move_row = this.trading_table[move_idx];
        for (let idx2 = move_idx; idx2 < this.trading_table.length - 1; idx2++) {
          this.trading_table[idx2] = this.trading_table[idx2 + 1];
          if (this.buy_monitor_rows.indexOf(idx2 + 1) != -1) {
            this.buy_monitor_rows[this.buy_monitor_rows.indexOf(idx2 + 1)] = idx2;
          }
          if (this.buy_triggered_rows.indexOf(idx2 + 1) != -1) {
            this.buy_triggered_rows[this.buy_triggered_rows.indexOf(idx2 + 1)] = idx2;
          }
          if (this.sell_monitor_rows.indexOf(idx2 + 1) != -1) {
            this.sell_monitor_rows[this.sell_monitor_rows.indexOf(idx2 + 1)] = idx2;
          }
          if (this.sell_triggered_rows.indexOf(idx2 + 1) != -1) {
            this.sell_triggered_rows[this.sell_triggered_rows.indexOf(idx2 + 1)] = idx2;
          }
        }
        this.trading_table[this.trading_table.length - 1] = move_row;
        idx--;
      }
    }
  }
};

// src/grid_trading_m1.ts
var GridTradingModeOne = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "One";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.disable_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const scount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.SGRID_STEP_PCT);
    const mcount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.MGRID_STEP_PCT);
    const lcount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.LGRID_STEP_PCT);
    const max_rise_pct = this.grid_settings.MAX_RISE_PCT;
    for (let idx = 0; idx <= scount; idx++) {
      this.trading_table[idx + 1] = this.GenerateOneRow(
        SGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.SGRID_STEP_PCT,
        this.grid_settings.SGRID_RETAIN_COUNT,
        this.grid_settings.SGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
        this.buy_triggered_rows.push(idx + 1);
        this.sell_triggered_rows.push(idx + 1);
      }
      if (this.IsDisableRow(idx + 1)) {
        this.disable_rows.push(idx + 1);
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < scount + 1)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      if (this.sell_triggered_rows.length > 0) {
        const last_sell_s = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
        if (this.IsNeedMonitor(last_sell_s, true, this.current_price, max_rise_pct)) {
          this.sell_triggered_rows.pop();
          this.sell_monitor_rows.push(last_sell_s);
        }
      }
    } else {
      const first_buy = 1;
      if (this.IsNeedMonitor(first_buy, false, this.current_price, max_rise_pct)) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    for (let idx = 1; idx <= mcount; idx++) {
      this.trading_table[scount + 1 + idx] = this.GenerateOneRow(
        MGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.MGRID_STEP_PCT,
        this.grid_settings.MGRID_RETAIN_COUNT,
        this.grid_settings.MGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[scount + 1 + idx][0])) {
        this.buy_triggered_rows.push(scount + 1 + idx);
        this.sell_triggered_rows.push(scount + 1 + idx);
      } else {
        if (this.IsNeedMonitor(scount + 1 + idx, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(scount + 1 + idx);
        }
      }
      if (this.IsDisableRow(scount + 1 + idx)) {
        this.disable_rows.push(scount + 1 + idx);
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] > scount + 1) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_m, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    for (let idx = 1; idx <= lcount; idx++) {
      this.trading_table[scount + 1 + mcount + idx] = this.GenerateOneRow(
        LGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.LGRID_STEP_PCT,
        this.grid_settings.LGRID_RETAIN_COUNT,
        this.grid_settings.LGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[scount + 1 + mcount + idx][0])) {
        this.buy_triggered_rows.push(scount + 1 + mcount + idx);
        this.sell_triggered_rows.push(scount + 1 + mcount + idx);
      } else {
        if (this.IsNeedMonitor(scount + 1 + mcount, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(scount + 1 + mcount + idx);
        }
      }
      if (this.IsDisableRow(scount + 1 + mcount + idx)) {
        this.disable_rows.push(scount + 1 + mcount + idx);
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] > scount + 1 + mcount) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_l, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, idx, grid_step_pct, grid_retain_count, grid_add_pct) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const buy_price_step = 100 - idx * Math.floor(grid_step_pct * 100);
    const buy_price = FixedPrice(this.target_price, buy_price_step / 100, precision);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + idx * grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price_step = buy_price_step + Math.floor(grid_step_pct * 100);
    const sell_price = FixedPrice(this.target_price, sell_price_step / 100, precision);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name + String(idx),
      ToPercentStr(buy_price_step),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      buy_price.toFixed(precision),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/grid_trading_m2.ts
var GridTradingModeTwo = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "Two";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.disable_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const count = Math.floor(Math.log(1 - this.grid_settings.MAX_SLUMP_PCT) / Math.log(1 - this.grid_settings.LGRID_STEP_PCT)) + 1;
    const max_rise_pct = this.grid_settings.MAX_RISE_PCT;
    let idx = 0;
    let max_slump_pct = Math.round((1 - this.grid_settings.MAX_SLUMP_PCT) * 100);
    let sell_price_step = 1 + this.grid_settings.SGRID_STEP_PCT;
    for (let i = 0; i < count; i++) {
      let ti = 1;
      const first_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i));
      const slump_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      let step_pct = first_step;
      while (step_pct > slump_pct && step_pct > max_slump_pct) {
        this.trading_table[idx + 1] = this.GenerateOneRow(
          SGRID_TYPE_NAME_STR,
          idx,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.SGRID_RETAIN_COUNT,
          this.grid_settings.SGRID_ADD_PCT
        );
        if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
          this.buy_triggered_rows.push(idx + 1);
          this.sell_triggered_rows.push(idx + 1);
        }
        if (this.IsDisableRow(idx + 1)) {
          this.disable_rows.push(idx + 1);
        }
        sell_price_step = step_pct / 100;
        step_pct = Math.round(first_step * (1 - ti * this.grid_settings.SGRID_STEP_PCT));
        ti++;
        idx++;
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < this.trading_table.length)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      if (this.sell_triggered_rows.length > 0) {
        const last_sell_s = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
        if (this.IsNeedMonitor(last_sell_s, true, this.current_price, max_rise_pct)) {
          this.sell_triggered_rows.pop();
          this.sell_monitor_rows.push(last_sell_s);
        }
      }
    } else {
      const first_buy = 1;
      if (this.IsNeedMonitor(first_buy, false, this.current_price, max_rise_pct)) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    let start_index = this.trading_table.length;
    idx = 0;
    sell_price_step = 1;
    for (let i = 0; i < count; i++) {
      let ti = 2;
      const first_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i));
      const slump_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      let step_pct = Math.round(first_step * (1 - this.grid_settings.MGRID_STEP_PCT));
      while (step_pct > slump_pct && step_pct > max_slump_pct) {
        this.trading_table[start_index + idx] = this.GenerateOneRow(
          MGRID_TYPE_NAME_STR,
          idx + 1,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.MGRID_RETAIN_COUNT,
          this.grid_settings.MGRID_ADD_PCT
        );
        if (this.IsDisableRow(start_index + idx)) {
          this.disable_rows.push(start_index + idx);
        }
        if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
          this.buy_triggered_rows.push(start_index + idx);
          this.sell_triggered_rows.push(start_index + idx);
        } else {
          if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
            this.buy_monitor_rows.push(start_index + idx);
          }
        }
        sell_price_step = step_pct / 100;
        step_pct = Math.round(first_step * (1 - ti * this.grid_settings.MGRID_STEP_PCT));
        ti++;
        idx++;
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_m, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    start_index = this.trading_table.length;
    idx = 0;
    for (let i = 0; i < count; i++) {
      sell_price_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i)) / 100;
      const step_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      if (step_pct > max_slump_pct) {
        this.trading_table[start_index + idx] = this.GenerateOneRow(
          LGRID_TYPE_NAME_STR,
          idx + 1,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.LGRID_RETAIN_COUNT,
          this.grid_settings.LGRID_ADD_PCT
        );
        if (this.IsDisableRow(start_index + idx)) {
          this.disable_rows.push(start_index + idx);
        }
        if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
          this.buy_triggered_rows.push(start_index + idx);
          this.sell_triggered_rows.push(start_index + idx);
        } else {
          if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
            this.buy_monitor_rows.push(start_index + idx);
          }
        }
        idx++;
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_l, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, idx, buy_price_step, sell_price_step, grid_retain_count, grid_add_pct) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const buy_price = FixedPrice(this.target_price, buy_price_step, precision);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + idx * grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price = FixedPrice(this.target_price, sell_price_step, precision);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name + String(idx),
      ToPercent(buy_price_step),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      buy_price.toFixed(precision),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/grid_trading_m3.ts
var GridTradingModeThree = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "Three";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.disable_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const max_rise_pct = this.grid_settings.MAX_RISE_PCT;
    let grid_sell_pct = 1 + this.grid_settings.SGRID_STEP_PCT;
    for (let idx = 0; idx < this.sgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.sgrid_step_table[idx][1]);
      this.trading_table[idx + 1] = this.GenerateOneRow(
        this.sgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.sgrid_step_table[idx][2]),
        Number(this.sgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.IsDisableRow(idx + 1)) {
        this.disable_rows.push(idx + 1);
      }
      if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
        this.buy_triggered_rows.push(idx + 1);
        this.sell_triggered_rows.push(idx + 1);
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < this.sgrid_step_table.length)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      if (this.sell_triggered_rows.length > 0) {
        const last_sell_s = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
        if (this.IsNeedMonitor(last_sell_s, true, this.current_price, max_rise_pct)) {
          this.sell_triggered_rows.pop();
          this.sell_monitor_rows.push(last_sell_s);
        }
      }
    } else {
      const first_buy = 1;
      if (this.IsNeedMonitor(first_buy, false, this.current_price, max_rise_pct)) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    let start_index = this.sgrid_step_table.length + 1;
    grid_sell_pct = 1 + this.grid_settings.MGRID_STEP_PCT;
    for (let idx = 0; idx < this.mgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.mgrid_step_table[idx][1]);
      this.trading_table[start_index + idx] = this.GenerateOneRow(
        this.mgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.mgrid_step_table[idx][2]),
        Number(this.mgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.IsDisableRow(start_index + idx)) {
        this.disable_rows.push(start_index + idx);
      }
      if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
        this.buy_triggered_rows.push(start_index + idx);
        this.sell_triggered_rows.push(start_index + idx);
      } else {
        if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(start_index + idx);
        }
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_m, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    start_index = this.sgrid_step_table.length + this.mgrid_step_table.length + 1;
    grid_sell_pct = 1 + this.grid_settings.LGRID_STEP_PCT;
    for (let idx = 0; idx < this.lgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.lgrid_step_table[idx][1]);
      this.trading_table[start_index + idx] = this.GenerateOneRow(
        this.lgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.lgrid_step_table[idx][2]),
        Number(this.lgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.IsDisableRow(start_index + idx)) {
        this.disable_rows.push(start_index + idx);
      }
      if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
        this.buy_triggered_rows.push(start_index + idx);
        this.sell_triggered_rows.push(start_index + idx);
      } else {
        if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(start_index + idx);
        }
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_l, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, grid_buy_pct, grid_sell_pct, grid_add_pct, grid_retain_count) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const buy_price = FixedPrice(this.target_price, grid_buy_pct, precision);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price = FixedPrice(this.target_price, grid_sell_pct, precision);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name,
      ToPercent(grid_buy_pct),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      buy_price.toFixed(precision),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/plugin_env.ts
var FETCH_CURRENT_PRICE = "fetch_current_price";
var PluginEnv = class {
  constructor() {
    this.is_settings_changed = false;
    this.base_settings = new PluginBaseSettings();
    this.grid_settings = new GridTradingSettings();
    this.grid_trading_dict = /* @__PURE__ */ new Map();
    this.stock_remote_price_dict = /* @__PURE__ */ new Map();
    this.event_callback_dict = /* @__PURE__ */ new Map();
    this._event_guid = 0;
  }
  GetAPILisence() {
    return this.base_settings.DATA_API_LICENCE;
  }
  GetStockRemotePrice(stock_no) {
    const price = this.stock_remote_price_dict.get(stock_no);
    if (price != void 0) {
      return price;
    } else {
      return -1;
    }
  }
  GetGridTradingTypeByString(mode) {
    if (mode == "mode_two") {
      return GridTradingModeTwo;
    }
    if (mode == "mode_three") {
      return GridTradingModeThree;
    }
    return GridTradingModeOne;
  }
  GetAndGenGridTrading(grid_name, mode) {
    let grid_trading = this.grid_trading_dict.get(grid_name);
    const trading_mode = this.GetGridTradingTypeByString(mode);
    if (grid_trading instanceof trading_mode) {
      return grid_trading;
    }
    grid_trading = new trading_mode(this);
    this.grid_trading_dict.set(grid_name, grid_trading);
    return grid_trading;
  }
  UnserializedSettings(data) {
    const lines = data.split("\n");
    if (lines.length <= 0) {
      return;
    }
    UnpackSettings(this.base_settings, lines);
    UnpackSettings(this.grid_settings, lines);
  }
  SerializedSettings() {
    return PackSettings(this.base_settings) + PackSettings(this.grid_settings);
  }
  PublishEvent(event_name) {
    const cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0) {
      return;
    }
    for (let [guid, event_cb] of cb_dict) {
      try {
        event_cb();
      } catch (e) {
        ;
      }
    }
  }
  SubscribeEvent(event_name, event_cb) {
    const guid = this.GenGUID();
    let cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0) {
      cb_dict = /* @__PURE__ */ new Map();
      this.event_callback_dict.set(event_name, cb_dict);
    }
    cb_dict.set(guid, event_cb);
    return guid;
  }
  UnsubscribeEvent(event_name, event_guid) {
    const cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0 || !cb_dict.has(event_guid)) {
      return false;
    }
    return cb_dict.delete(event_guid);
  }
  GenGUID() {
    this._event_guid++;
    return this._event_guid;
  }
};

// src/command_util.ts
var GridCommand = class {
  constructor() {
    this.command = "none";
    this.command_type = "grid";
  }
};
function ExcuteGridCommand(cmd_str) {
  const strs = cmd_str.split(" ");
  const command = new GridCommand();
  command.command = strs[0];
  command.raw_command_text = cmd_str;
  if (command.command == "add_record") {
    command.command_param1 = strs[1];
    AddGridRecord(command);
  }
  if (command.command == "del_record") {
    command.command_param1 = strs[1];
    DelGridRecord(command);
  }
  return command;
}
function AddGridRecord(command) {
  const sub_strs = command.command_param1.split(",");
  if (sub_strs.length != 5) {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  if (sub_strs[0] != "BUY" && sub_strs[0] != "SELL" && sub_strs[0] != "SHARE") {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  if (!sub_strs[2].startsWith("\u5C0F\u7F51") && !sub_strs[2].startsWith("\u4E2D\u7F51") && !sub_strs[2].startsWith("\u5927\u7F51") && !sub_strs[2].startsWith("\u7EA2\u5229") && !sub_strs[2].startsWith("\u5229\u6DA6")) {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  command.error_code = 0;
  command.data_result_str = "\n" + command.command_param1;
  return true;
}
function DelGridRecord(command) {
  if (IsNumeric(command.command_param1)) {
    command.error_code = 0;
    command.data_result_num = Number(command.command_param1);
  } else {
    command.error_code = -1;
    command.error_msg = "invalid param";
  }
}

// src/grid_view.ts
var VIEW_TYPE_GTV = "gtv-view";
var GTVView = class extends import_obsidian2.TextFileView {
  constructor(leaf, plugin_env) {
    super(leaf);
    this.plugin_env = plugin_env;
    this.refresh_event_guid = -1;
    this.view_guid = plugin_env.GenGUID();
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  getViewType() {
    return VIEW_TYPE_GTV;
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.command_btn_el = div.createEl("button");
    this.command_btn_el.setText("Excute");
    this.command_btn_el.onClickEvent((ev) => {
      this.OnClickAddRecordBtn(ev, this.command_input_el);
    });
    this.command_input_el = div.createEl("input");
    this.command_input_el.empty();
    this.command_input_el.size = 70;
    this.command_input_el.placeholder = "Input your command";
    div = this.contentEl.createEl("div");
    this.stock_tile_el = div.createEl("h1");
    this.stock_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.param_title_el = div.createEl("h1");
    this.param_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.trading_title_el = div.createEl("h1");
    this.trading_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.record_title_el = div.createEl("h1");
    this.record_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.income_title_el = div.createEl("h1");
    this.income_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.analysis_title_el = div.createEl("h1");
    this.analysis_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.debug_log_title_el = div.createEl("h1");
    this.debug_log_table_el = div.createEl("table");
    this.refresh_event_guid = this.plugin_env.SubscribeEvent(FETCH_CURRENT_PRICE, () => this.Refresh());
  }
  OnClickAddRecordBtn(ev, input_el) {
    try {
      const text = input_el.value;
      const grid_cmd = ExcuteGridCommand(text);
      if (grid_cmd.error_code == 0) {
        if (grid_cmd.command == "add_record") {
          this.data = this.data + grid_cmd.data_result_str;
          this.setViewData(this.data, false);
        }
        if (grid_cmd.command == "del_record") {
          const lines = this.data.split("\n");
          let count = 0;
          let index = 0;
          for (index = 0; index < lines.length; index++) {
            if (lines[index].startsWith("BUY,") || lines[index].startsWith("SELL,")) {
              count++;
            }
            if (count == grid_cmd.data_result_num) {
              break;
            }
          }
          if (index < lines.length) {
            lines.splice(index, 1);
          }
          this.data = lines.join("\n");
          this.setViewData(this.data, false);
        }
      }
    } catch (e) {
      DebugLog("Command has error ", e);
    }
  }
  async onClose() {
    this.contentEl.empty();
    if (this.refresh_event_guid > 0) {
      this.plugin_env.UnsubscribeEvent(FETCH_CURRENT_PRICE, this.refresh_event_guid);
      this.refresh_event_guid = -1;
    }
  }
  Refresh() {
    this.stock_tile_el.setText("\u672A\u77E5\u6807\u7684");
    this.stock_table_el.empty();
    this.param_title_el.setText("\u7F51\u683C\u53C2\u6570");
    this.param_table_el.empty();
    this.trading_title_el.setText("\u4EA4\u6613\u7F51\u683C");
    this.trading_table_el.empty();
    this.record_title_el.setText("\u4EA4\u6613\u8BB0\u5F55");
    this.record_table_el.empty();
    this.income_title_el.setText("\u6536\u76CA\u5206\u6790");
    this.income_table_el.empty();
    this.analysis_title_el.setText("\u56DE\u64A4\u5206\u6790");
    this.analysis_table_el.empty();
    if (this.file != null) {
      const mode_str = this.data.split("\n")[0].split(",")[0];
      const grid_trading = this.plugin_env.GetAndGenGridTrading(this.file.name, mode_str);
      grid_trading.InitGridTrading(this.data);
      this.stock_tile_el.setText(grid_trading.stock_name);
      this.DisplayTable(grid_trading, this.stock_table_el, grid_trading.stock_table, false);
      this.DisplayTable(grid_trading, this.param_table_el, grid_trading.param_table, false);
      this.DisplayTable(grid_trading, this.trading_table_el, grid_trading.trading_table, true);
      this.DisplayTable(grid_trading, this.record_table_el, grid_trading.trading_record, false);
      this.DisplayTable(grid_trading, this.income_table_el, grid_trading.trading_income, false);
      this.DisplayTable(grid_trading, this.analysis_table_el, grid_trading.trading_analysis, false);
    }
  }
  DisplayTable(grid_trading, table_el, table, is_color) {
    try {
      const table_body = table_el.createEl("tbody");
      table.forEach((row, i) => {
        const table_row = table_body.createEl("tr");
        row.forEach((cell, j) => {
          const table_cell = table_row.createEl("td", { text: cell, attr: { "align": "right" } });
          if (is_color && i > 0) {
            if (j <= 5) {
              if (grid_trading.buy_triggered_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_BUY_TRIGGERED);
              }
              if (grid_trading.buy_monitor_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_BUY_MONITOR);
              }
            } else {
              if (grid_trading.sell_triggered_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_SELL_TRIGGERED);
              }
              if (grid_trading.sell_monitor_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_SELL_MONITOR);
              }
            }
          }
        });
      });
    } catch (error) {
      DebugLog("DisplayTable error: ", error);
    }
  }
};

// src/grid_overview.ts
var import_obsidian3 = require("obsidian");
var VIEW_TYPE_GTO = "gto-view";
var GTOView = class extends import_obsidian3.TextFileView {
  constructor(leaf, vault, plugin_env) {
    super(leaf);
    this.vault = vault;
    this.plugin_env = plugin_env;
    this.refresh_event_guid = -1;
    this.debug_log = [];
    this.stock_overview = [];
    this.custom_stock_overview = [];
    this.income_overview = [];
  }
  ReadCustomStock() {
    this.income_overview = [["", "\u5360\u7528\u672C\u91D1", "\u5B9E\u9645\u91D1\u989D", "\u6301\u4ED3\u76C8\u4E8F", "\u76C8\u4E8F\u6BD4\u4F8B", "\u6295\u5165\u8D44\u91D1", "\u6295\u5165\u76C8\u4E8F"]];
    this.income_overview.push(["\u5F53\u524D\u6301\u4ED3", "0", "0", "0", "0", "0", "0"]);
    this.income_overview.push(["\u7D2F\u79EF\u7B79\u7801", "0", "0", "0", "0", "0", "0"]);
    this.income_overview.push(["\u6700\u5927\u56DE\u64A4", "0", "0", "0", "0", "0", "0"]);
    this.income_overview.push(["\u53CD\u5F39\u6E05\u683C", "0", "0", "0", "0", "0", "0"]);
    this.income_overview.push(["\u83B7\u5229\u6E05\u76D8", "0", "0", "0", "0", "0", "0"]);
    const stock_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u9996\u7F51\u76EE\u6807\u4EF7", "\u5F53\u524D\u4EF7\u683C", "\u4EF7\u683C\u767E\u5206\u4F4D", "\u6301\u4ED3\u80A1\u6570", "\u6D88\u8017\u672C\u91D1", "\u76C8\u4E8F\u6BD4\u7387", "\u7D2F\u79EF\u7B79\u7801"]];
    let buy_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u8DDD\u6210\u4EA4\u4EF7"]];
    let sell_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u8DDD\u6210\u4EA4\u4EF7"]];
    let passive_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5F53\u524D\u4EF7\u683C", "\u5F53\u524D\u8DCC\u5E45", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u6DA8\u5E45"]];
    let active_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EA4\u6613\u65E5\u671F", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5F53\u524D\u4EF7\u683C", "\u6301\u4ED3\u6536\u76CA", "\u5356\u51FA\u4EFD\u6570", "\u7D2F\u79EF\u7B79\u7801"]];
    const grid_folder = this.vault.getAbstractFileByPath("GridTrading");
    if (grid_folder instanceof import_obsidian3.TFolder) {
      for (let index = 0; index < grid_folder.children.length; index++) {
        const grid_file = grid_folder.children[index];
        if (grid_file instanceof import_obsidian3.TFile && grid_file.name.endsWith(".gtv")) {
          const grid_trading = this.plugin_env.grid_trading_dict.get(grid_file.name);
          if (grid_trading instanceof GridTrading && grid_trading.IsStock()) {
            grid_trading.InitTradingOverview();
            stock_table.push(grid_trading.stock_overview);
            buy_table = buy_table.concat(grid_trading.stock_buy_overview);
            sell_table = sell_table.concat(grid_trading.stock_sell_overview);
            passive_table = passive_table.concat(grid_trading.stock_passive_filled_record);
            active_table = active_table.concat(grid_trading.stock_active_filled_record);
            const trading_income = grid_trading.trading_income;
            for (let idx = 1; idx <= 5; idx++) {
              this.income_overview[idx][1] = StringPlus(this.income_overview[idx][1], trading_income[idx][2], 1);
              this.income_overview[idx][2] = StringPlus(this.income_overview[idx][2], trading_income[idx][4], 1);
              this.income_overview[idx][3] = StringPlus(this.income_overview[idx][3], trading_income[idx][6], 1);
              this.income_overview[idx][5] = StringPlus(this.income_overview[idx][5], trading_income[idx][8], 1);
            }
          }
        }
      }
    }
    for (let idx = 1; idx <= 5; idx++) {
      this.income_overview[idx][4] = ToTradingGap(Number(this.income_overview[idx][1]), Number(this.income_overview[idx][2]), 2);
      this.income_overview[idx][6] = ToTradingGap(Number(this.income_overview[idx][5]), Number(this.income_overview[idx][5]) + Number(this.income_overview[idx][3]), 2);
    }
    this.custom_stock_overview = [...stock_table, ...buy_table, ...sell_table];
    this.stock_filled_overview = [...passive_table, ...active_table];
  }
  SumupAllStock() {
    this.stock_overview = [];
    let stock_count = 0;
    let buy_monitor_count = 0;
    let sell_monitor_count = 0;
    let buy_cost_list = [];
    for (let idx = 0; idx < this.custom_stock_overview.length; idx++) {
      const stock = this.custom_stock_overview[idx];
      if (stock[0] == GRID_COLOR_STOCK_OVERVIEW) {
        stock_count++;
      }
      if (stock[0] == GRID_COLOR_SELL_OVERVIEW) {
        sell_monitor_count++;
      }
      if (stock[0] == GRID_COLOR_BUY_OVERVIEW) {
        if (stock.length > 4) {
          buy_monitor_count++;
          buy_cost_list.push(Number(stock[8]));
        }
      }
    }
    let total_cost = 0;
    let top5_cost = 0;
    buy_cost_list.sort((a, b) => b - a);
    buy_cost_list.forEach((val, idx) => total_cost = total_cost + val);
    buy_cost_list.forEach((val, idx) => {
      if (idx < 5)
        top5_cost = top5_cost + val;
    });
    this.stock_overview.push(["\u6807\u7684\u603B\u6570", "\u5356\u51FA\u76D1\u63A7\u683C\u6570", "\u4E70\u5165\u76D1\u63A7\u683C\u6570", "\u4E70\u5165\u5355\u6210\u4EA4\u603B\u989D", "TOP5\u4E70\u5165\u6210\u4EA4\u603B\u989D"]);
    this.stock_overview.push([String(stock_count), String(sell_monitor_count), String(buy_monitor_count), String(total_cost), String(top5_cost)]);
  }
  DebugLog(level, log_str, extra_info) {
    this.debug_log.push([level, log_str, extra_info]);
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  getViewType() {
    return VIEW_TYPE_GTO;
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.overview_title_el = div.createEl("h1");
    this.overview_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.income_title_el = div.createEl("h1");
    this.income_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.custom_title_el = div.createEl("h1");
    this.custom_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.filled_tile_el = div.createEl("h1");
    this.filled_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.debug_log_title_el = div.createEl("h1");
    this.debug_log_table_el = div.createEl("table");
    this.refresh_event_guid = this.plugin_env.SubscribeEvent(FETCH_CURRENT_PRICE, () => this.Refresh());
  }
  async onClose() {
    this.contentEl.empty();
    if (this.refresh_event_guid > 0) {
      this.plugin_env.UnsubscribeEvent(FETCH_CURRENT_PRICE, this.refresh_event_guid);
      this.refresh_event_guid = -1;
    }
  }
  Refresh() {
    this.ReadCustomStock();
    this.SumupAllStock();
    this.overview_title_el.setText("\u7F51\u683C\u603B\u89C8");
    this.overview_table_el.empty();
    this.DisplayTable(this.overview_table_el, this.stock_overview, false);
    this.income_title_el.setText("\u76C8\u4E8F\u603B\u89C8");
    this.income_table_el.empty();
    this.DisplayTable(this.income_table_el, this.income_overview, false);
    this.custom_title_el.setText("\u6211\u7684\u7F51\u683C");
    this.custom_table_el.empty();
    this.DisplayTable(this.custom_table_el, this.custom_stock_overview, true);
    this.filled_tile_el.setText("\u8865\u4ED3\u4FE1\u606F");
    this.filled_table_el.empty();
    this.DisplayTable(this.filled_table_el, this.stock_filled_overview, true);
  }
  DisplayTable(table_el, table, is_color) {
    const table_body = table_el.createEl("tbody");
    table.forEach((row, i) => {
      const table_row = table_body.createEl("tr");
      row.forEach((cell, j) => {
        if (is_color) {
          if (j > 0) {
            table_row.createEl("td", { text: cell, attr: { "bgColor": table[i][0], "align": "right" } });
          }
        } else {
          table_row.createEl("td", { text: cell, attr: { "align": "right" } });
        }
      });
    });
  }
};

// src/cor_view.ts
var import_obsidian4 = require("obsidian");
var VIEW_TYPE_COR = "cor-view";
var CorView = class extends import_obsidian4.TextFileView {
  constructor(leaf) {
    super(leaf);
  }
  getViewType() {
    return VIEW_TYPE_COR;
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.data_el = div.createEl("h1");
  }
  async onClose() {
    this.contentEl.empty();
  }
  Refresh() {
    this.data_el.setText(this.data);
  }
};

// src/main.ts
var TradingStrategy = class extends import_obsidian5.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.plugin_env = new PluginEnv();
    this.interval_callback_id = -1;
  }
  async onload() {
    await this.LoadSettingsFromDisk();
    const ribbonIconEl = this.addRibbonIcon("dice", "GridTrading", (evt) => {
      this.FetchAllStockCurrentPrice();
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    this.addSettingTab(new TradingStrategySettingTab(this.app, this, this.plugin_env));
    this.interval_callback_id = window.setInterval(() => this.FetchAllStockCurrentPrice(), 1 * 1e3);
    this.registerInterval(this.interval_callback_id);
    this.registerView(VIEW_TYPE_GTV, (leaf) => {
      const gtv_view = new GTVView(leaf, this.plugin_env);
      return gtv_view;
    });
    this.registerView(VIEW_TYPE_GTO, (leaf) => {
      const gto_view = new GTOView(leaf, this.app.vault, this.plugin_env);
      return gto_view;
    });
    this.registerView(VIEW_TYPE_COR, (leaf) => {
      const cor_view = new CorView(leaf);
      return cor_view;
    });
    this.registerExtensions(["gtv"], VIEW_TYPE_GTV);
    this.registerExtensions(["gto"], VIEW_TYPE_GTO);
    this.registerExtensions(["cor"], VIEW_TYPE_COR);
  }
  onunload() {
  }
  async LoadSettingsFromDisk() {
    const setting_data = await this.loadData();
    if (setting_data != null) {
      this.plugin_env.UnserializedSettings(setting_data);
    }
  }
  SaveSettingsToDisk() {
    DebugLog("MAX_SLUMP_PCT1 ", this.plugin_env.grid_settings.MAX_SLUMP_PCT);
    const setting_data = this.plugin_env.SerializedSettings();
    DebugLog("MAX_SLUMP_PCT2 ", this.plugin_env.grid_settings.MAX_SLUMP_PCT);
    DebugLog(setting_data);
    this.saveData(setting_data);
  }
  async FetchAllStockCurrentPrice() {
    const api_licence = this.plugin_env.GetAPILisence();
    const grid_folder = this.app.vault.getAbstractFileByPath("GridTrading");
    if (grid_folder instanceof import_obsidian5.TFolder) {
      if (this.interval_callback_id > 0) {
        window.clearInterval(this.interval_callback_id);
        this.interval_callback_id = -1;
      }
      for (let index = 0; index < grid_folder.children.length; index++) {
        const grid_file = grid_folder.children[index];
        if (grid_file instanceof import_obsidian5.TFile && grid_file.name.endsWith(".gtv")) {
          const content = await this.app.vault.cachedRead(grid_file);
          const mode_str = content.split("\n")[0].split(",")[0];
          let grid_trading = this.plugin_env.GetAndGenGridTrading(grid_file.name, mode_str);
          grid_trading.InitGridTrading(content);
          let current_price = -1;
          if (grid_file.name.includes("LOF")) {
            current_price = await GetLOFCurrentPrice(grid_trading.market_code + String(grid_trading.target_stock), api_licence);
            current_price = Number(current_price);
          } else {
            current_price = await GetETFCurrentPrice(grid_trading.market_code + String(grid_trading.target_stock), api_licence);
            current_price = Number(current_price);
          }
          this.plugin_env.stock_remote_price_dict.set(String(grid_trading.target_stock), current_price);
          grid_trading.UpdateRemotePrice(current_price);
        }
        if (grid_file instanceof import_obsidian5.TFile && grid_file.name.endsWith(".gto")) {
          const content = await this.app.vault.cachedRead(grid_file);
          const lines = content.split("\n");
          for (let index2 = 0; index2 < lines.length; index2++) {
            const strs = lines[index2].split(",");
            if (strs[0] != "BUY" && strs[0] != "SELL") {
              let current_price = await GetETFCurrentPrice(strs[2] + strs[0], api_licence);
              current_price = Number(current_price);
              this.plugin_env.stock_remote_price_dict.set(strs[0], current_price);
            }
          }
        }
      }
      this.plugin_env.PublishEvent(FETCH_CURRENT_PRICE);
    }
  }
};
var TradingStrategySettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app, plugin, plugin_env) {
    super(app, plugin);
    this.plugin = plugin;
    this.plugin_env = plugin_env;
  }
  hide() {
    if (this.plugin_env.is_settings_changed) {
      this.plugin.SaveSettingsToDisk();
      this.plugin_env.is_settings_changed = false;
    }
    super.hide();
  }
  display() {
    this.containerEl.empty();
    this.containerEl.createEl("h1").setText("TradingStrategy");
    const base_div = this.containerEl.createEl("div");
    base_div.createEl("h2").setText("\u57FA\u7840\u914D\u7F6E");
    let bkey;
    for (bkey in this.plugin_env.base_settings) {
      const key_name = SETTING_NAME.get(bkey);
      if (key_name != void 0) {
        const setting = new import_obsidian5.Setting(base_div).setName(key_name);
        setting.addText((text_comp, setting_key = bkey) => {
          text_comp.setValue(String(GetSettingValue(this.plugin_env.base_settings, setting_key)));
          text_comp.onChange((value) => {
            SetSettingValue(this.plugin_env.base_settings, setting_key, value);
            this.plugin_env.is_settings_changed = true;
          });
        });
      }
    }
    const grid_div = this.containerEl.createEl("div");
    grid_div.createEl("h2").setText("\u7F51\u683C\u914D\u7F6E");
    let key;
    for (key in this.plugin_env.grid_settings) {
      const key_name = SETTING_NAME.get(key);
      if (key_name != void 0) {
        const setting = new import_obsidian5.Setting(grid_div).setName(key_name);
        setting.addText((text_comp, setting_key = key) => {
          DebugLog("add Setting Key: ", setting_key);
          text_comp.setValue(String(GetSettingValue(this.plugin_env.grid_settings, setting_key)));
          text_comp.onChange((value) => {
            SetSettingValue(this.plugin_env.grid_settings, setting_key, Number(value));
            DebugLog("SetValue succeed ", setting_key, GetSettingValue(this.plugin_env.grid_settings, setting_key));
            this.plugin_env.is_settings_changed = true;
          });
        });
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3RzLW1kNS9kaXN0L21kNS5qcyIsICJzcmMvbWFpbi50cyIsICJzcmMvbGFuZ19zdHIudHMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy9yZW1vdGVfdXRpbC50cyIsICJzcmMvZ3JpZF92aWV3LnRzIiwgInNyYy9teW1hdGgudHMiLCAic3JjL2dyaWRfdHJhZGluZy50cyIsICJzcmMvZ3JpZF90cmFkaW5nX20xLnRzIiwgInNyYy9ncmlkX3RyYWRpbmdfbTIudHMiLCAic3JjL2dyaWRfdHJhZGluZ19tMy50cyIsICJzcmMvcGx1Z2luX2Vudi50cyIsICJzcmMvY29tbWFuZF91dGlsLnRzIiwgInNyYy9ncmlkX292ZXJ2aWV3LnRzIiwgInNyYy9jb3Jfdmlldy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuXG5UeXBlU2NyaXB0IE1kNVxuPT09PT09PT09PT09PT1cblxuQmFzZWQgb24gd29yayBieVxuKiBKb3NlcGggTXllcnM6IGh0dHA6Ly93d3cubXllcnNkYWlseS5vcmcvam9zZXBoL2phdmFzY3JpcHQvbWQ1LXRleHQuaHRtbFxuKiBBbmRyXHUwMEU5IENydXo6IGh0dHBzOi8vZ2l0aHViLmNvbS9zYXRhem9yL1NwYXJrTUQ1XG4qIFJheW1vbmQgSGlsbDogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwveWFtZDUuanNcblxuRWZmZWN0aXZlbHkgYSBUeXBlU2NyeXB0IHJlLXdyaXRlIG9mIFJheW1vbmQgSGlsbCBKUyBMaWJyYXJ5XG5cblRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG5Db3B5cmlnaHQgKEMpIDIwMTQgUmF5bW9uZCBIaWxsXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuXG5cbiAgICAgICAgICAgIERPIFdIQVQgWU9VIFdBTlQgVE8gUFVCTElDIExJQ0VOU0VcbiAgICAgICAgICAgICAgICAgICAgVmVyc2lvbiAyLCBEZWNlbWJlciAyMDA0XG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUgQW5kclx1MDBFOSBDcnV6IDxhbWRmY3J1ekBnbWFpbC5jb20+XG5cbiBFdmVyeW9uZSBpcyBwZXJtaXR0ZWQgdG8gY29weSBhbmQgZGlzdHJpYnV0ZSB2ZXJiYXRpbSBvciBtb2RpZmllZFxuIGNvcGllcyBvZiB0aGlzIGxpY2Vuc2UgZG9jdW1lbnQsIGFuZCBjaGFuZ2luZyBpdCBpcyBhbGxvd2VkIGFzIGxvbmdcbiBhcyB0aGUgbmFtZSBpcyBjaGFuZ2VkLlxuXG4gICAgICAgICAgICBETyBXSEFUIFlPVSBXQU5UIFRPIFBVQkxJQyBMSUNFTlNFXG4gICBURVJNUyBBTkQgQ09ORElUSU9OUyBGT1IgQ09QWUlORywgRElTVFJJQlVUSU9OIEFORCBNT0RJRklDQVRJT05cblxuICAwLiBZb3UganVzdCBETyBXSEFUIFlPVSBXQU5UIFRPLlxuXG5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1kNSA9IHZvaWQgMDtcbjtcbnZhciBNZDUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWQ1KCkge1xuICAgICAgICB0aGlzLl9kYXRhTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXcgSW50MzJBcnJheSg0KTtcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDY4KTtcbiAgICAgICAgdGhpcy5fYnVmZmVyOCA9IG5ldyBVaW50OEFycmF5KHRoaXMuX2J1ZmZlciwgMCwgNjgpO1xuICAgICAgICB0aGlzLl9idWZmZXIzMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLl9idWZmZXIsIDAsIDE3KTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgICBNZDUuaGFzaFN0ciA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICBpZiAocmF3ID09PSB2b2lkIDApIHsgcmF3ID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMub25lUGFzc0hhc2hlclxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5hcHBlbmRTdHIoc3RyKVxuICAgICAgICAgICAgLmVuZChyYXcpO1xuICAgIH07XG4gICAgTWQ1Lmhhc2hBc2NpaVN0ciA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICBpZiAocmF3ID09PSB2b2lkIDApIHsgcmF3ID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMub25lUGFzc0hhc2hlclxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5hcHBlbmRBc2NpaVN0cihzdHIpXG4gICAgICAgICAgICAuZW5kKHJhdyk7XG4gICAgfTtcbiAgICBNZDUuX2hleCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBoYyA9IE1kNS5oZXhDaGFycztcbiAgICAgICAgdmFyIGhvID0gTWQ1LmhleE91dDtcbiAgICAgICAgdmFyIG47XG4gICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgIHZhciBqO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gaSAqIDg7XG4gICAgICAgICAgICBuID0geFtpXTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCA4OyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICBob1tvZmZzZXQgKyAxICsgal0gPSBoYy5jaGFyQXQobiAmIDB4MEYpO1xuICAgICAgICAgICAgICAgIG4gPj4+PSA0O1xuICAgICAgICAgICAgICAgIGhvW29mZnNldCArIDAgKyBqXSA9IGhjLmNoYXJBdChuICYgMHgwRik7XG4gICAgICAgICAgICAgICAgbiA+Pj49IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhvLmpvaW4oJycpO1xuICAgIH07XG4gICAgTWQ1Ll9tZDVjeWNsZSA9IGZ1bmN0aW9uICh4LCBrKSB7XG4gICAgICAgIHZhciBhID0geFswXTtcbiAgICAgICAgdmFyIGIgPSB4WzFdO1xuICAgICAgICB2YXIgYyA9IHhbMl07XG4gICAgICAgIHZhciBkID0geFszXTtcbiAgICAgICAgLy8gZmYoKVxuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzBdIC0gNjgwODc2OTM2IHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxXSAtIDM4OTU2NDU4NiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzJdICsgNjA2MTA1ODE5IHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbM10gLSAxMDQ0NTI1MzMwIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbNF0gLSAxNzY0MTg4OTcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzVdICsgMTIwMDA4MDQyNiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzZdIC0gMTQ3MzIzMTM0MSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzddIC0gNDU3MDU5ODMgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1s4XSArIDE3NzAwMzU0MTYgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzldIC0gMTk1ODQxNDQxNyB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzEwXSAtIDQyMDYzIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbMTFdIC0gMTk5MDQwNDE2MiB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzEyXSArIDE4MDQ2MDM2ODIgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzEzXSAtIDQwMzQxMTAxIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMTRdIC0gMTUwMjAwMjI5MCB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzE1XSArIDEyMzY1MzUzMjkgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgLy8gZ2coKVxuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzFdIC0gMTY1Nzk2NTEwIHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1s2XSAtIDEwNjk1MDE2MzIgfCAwO1xuICAgICAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzExXSArIDY0MzcxNzcxMyB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzBdIC0gMzczODk3MzAyIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbNV0gLSA3MDE1NTg2OTEgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzEwXSArIDM4MDE2MDgzIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1sxNV0gLSA2NjA0NzgzMzUgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1s0XSAtIDQwNTUzNzg0OCB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzldICsgNTY4NDQ2NDM4IHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1sxNF0gLSAxMDE5ODAzNjkwIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1szXSAtIDE4NzM2Mzk2MSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzhdICsgMTE2MzUzMTUwMSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzEzXSAtIDE0NDQ2ODE0NjcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzJdIC0gNTE0MDM3ODQgfCAwO1xuICAgICAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzddICsgMTczNTMyODQ3MyB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzEyXSAtIDE5MjY2MDc3MzQgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgLy8gaGgoKVxuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s1XSAtIDM3ODU1OCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzhdIC0gMjAyMjU3NDQ2MyB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1sxMV0gKyAxODM5MDMwNTYyIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzE0XSAtIDM1MzA5NTU2IHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMV0gLSAxNTMwOTkyMDYwIHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbNF0gKyAxMjcyODkzMzUzIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzddIC0gMTU1NDk3NjMyIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzEwXSAtIDEwOTQ3MzA2NDAgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1sxM10gKyA2ODEyNzkxNzQgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1swXSAtIDM1ODUzNzIyMiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1szXSAtIDcyMjUyMTk3OSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1s2XSArIDc2MDI5MTg5IHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbOV0gLSA2NDAzNjQ0ODcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1sxMl0gLSA0MjE4MTU4MzUgfCAwO1xuICAgICAgICBkID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTVdICsgNTMwNzQyNTIwIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzJdIC0gOTk1MzM4NjUxIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgLy8gaWkoKVxuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1swXSAtIDE5ODYzMDg0NCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzddICsgMTEyNjg5MTQxNSB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxNF0gLSAxNDE2MzU0OTA1IHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzVdIC0gNTc0MzQwNTUgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjEgfCBiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMTJdICsgMTcwMDQ4NTU3MSB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzNdIC0gMTg5NDk4NjYwNiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxMF0gLSAxMDUxNTIzIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzFdIC0gMjA1NDkyMjc5OSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s4XSArIDE4NzMzMTMzNTkgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxNV0gLSAzMDYxMTc0NCB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1s2XSAtIDE1NjAxOTgzODAgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMTNdICsgMTMwOTE1MTY0OSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s0XSAtIDE0NTUyMzA3MCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzExXSAtIDExMjAyMTAzNzkgfCAwO1xuICAgICAgICBkID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMl0gKyA3MTg3ODcyNTkgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbOV0gLSAzNDM0ODU1NTEgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjEgfCBiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgeFswXSA9IGEgKyB4WzBdIHwgMDtcbiAgICAgICAgeFsxXSA9IGIgKyB4WzFdIHwgMDtcbiAgICAgICAgeFsyXSA9IGMgKyB4WzJdIHwgMDtcbiAgICAgICAgeFszXSA9IGQgKyB4WzNdIHwgMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpc2UgYnVmZmVyIHRvIGJlIGhhc2hlZFxuICAgICAqL1xuICAgIE1kNS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2RhdGFMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9idWZmZXJMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9zdGF0ZS5zZXQoTWQ1LnN0YXRlSWRlbnRpdHkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIENoYXIgdG8gY29kZSBwb2ludCB0byB0byBhcnJheSBjb252ZXJzaW9uOlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9jaGFyQ29kZUF0XG4gICAgLy8gI0V4YW1wbGUuM0FfRml4aW5nX2NoYXJDb2RlQXRfdG9faGFuZGxlX25vbi1CYXNpYy1NdWx0aWxpbmd1YWwtUGxhbmVfY2hhcmFjdGVyc19pZl90aGVpcl9wcmVzZW5jZV9lYXJsaWVyX2luX3RoZV9zdHJpbmdfaXNfdW5rbm93blxuICAgIC8qKlxuICAgICAqIEFwcGVuZCBhIFVURi04IHN0cmluZyB0byB0aGUgaGFzaCBidWZmZXJcbiAgICAgKiBAcGFyYW0gc3RyIFN0cmluZyB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZFN0ciA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdmFyIGJ1ZjggPSB0aGlzLl9idWZmZXI4O1xuICAgICAgICB2YXIgYnVmMzIgPSB0aGlzLl9idWZmZXIzMjtcbiAgICAgICAgdmFyIGJ1ZkxlbiA9IHRoaXMuX2J1ZmZlckxlbmd0aDtcbiAgICAgICAgdmFyIGNvZGU7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoY29kZSA8IDEyOCkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gY29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPCAweDgwMCkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDYpICsgMHhDMDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IGNvZGUgJiAweDNGIHwgMHg4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPCAweEQ4MDAgfHwgY29kZSA+IDB4REJGRikge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDEyKSArIDB4RTA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gNiAmIDB4M0YpIHwgMHg4MDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IChjb2RlICYgMHgzRikgfCAweDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29kZSA9ICgoY29kZSAtIDB4RDgwMCkgKiAweDQwMCkgKyAoc3RyLmNoYXJDb2RlQXQoKytpKSAtIDB4REMwMCkgKyAweDEwMDAwO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID4gMHgxMEZGRkYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmljb2RlIHN0YW5kYXJkIHN1cHBvcnRzIGNvZGUgcG9pbnRzIHVwIHRvIFUrMTBGRkZGJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDE4KSArIDB4RjA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gMTIgJiAweDNGKSB8IDB4ODA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gNiAmIDB4M0YpIHwgMHg4MDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IChjb2RlICYgMHgzRikgfCAweDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1ZkxlbiA+PSA2NCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFMZW5ndGggKz0gNjQ7XG4gICAgICAgICAgICAgICAgTWQ1Ll9tZDVjeWNsZSh0aGlzLl9zdGF0ZSwgYnVmMzIpO1xuICAgICAgICAgICAgICAgIGJ1ZkxlbiAtPSA2NDtcbiAgICAgICAgICAgICAgICBidWYzMlswXSA9IGJ1ZjMyWzE2XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJMZW5ndGggPSBidWZMZW47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kIGFuIEFTQ0lJIHN0cmluZyB0byB0aGUgaGFzaCBidWZmZXJcbiAgICAgKiBAcGFyYW0gc3RyIFN0cmluZyB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZEFzY2lpU3RyID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpID0gTWF0aC5taW4oc3RyLmxlbmd0aCAtIGosIDY0IC0gYnVmTGVuKTtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IHN0ci5jaGFyQ29kZUF0KGorKyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVmTGVuIDwgNjQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RhdGFMZW5ndGggKz0gNjQ7XG4gICAgICAgICAgICBNZDUuX21kNWN5Y2xlKHRoaXMuX3N0YXRlLCBidWYzMik7XG4gICAgICAgICAgICBidWZMZW4gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlckxlbmd0aCA9IGJ1ZkxlbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmQgYSBieXRlIGFycmF5IHRvIHRoZSBoYXNoIGJ1ZmZlclxuICAgICAqIEBwYXJhbSBpbnB1dCBhcnJheSB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZEJ5dGVBcnJheSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpID0gTWF0aC5taW4oaW5wdXQubGVuZ3RoIC0gaiwgNjQgLSBidWZMZW4pO1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gaW5wdXRbaisrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidWZMZW4gPCA2NCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGF0YUxlbmd0aCArPSA2NDtcbiAgICAgICAgICAgIE1kNS5fbWQ1Y3ljbGUodGhpcy5fc3RhdGUsIGJ1ZjMyKTtcbiAgICAgICAgICAgIGJ1ZkxlbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID0gYnVmTGVuO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3RhdGUgb2YgdGhlIGhhc2ggYnVmZmVyXG4gICAgICovXG4gICAgTWQ1LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHMgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1ZmZlcjogU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBBcnJheS5mcm9tKHRoaXMuX2J1ZmZlcjgpKSxcbiAgICAgICAgICAgIGJ1ZmxlbjogdGhpcy5fYnVmZmVyTGVuZ3RoLFxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLl9kYXRhTGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGU6IFtzWzBdLCBzWzFdLCBzWzJdLCBzWzNdXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGhhc2ggYnVmZmVyXG4gICAgICogQHBhcmFtIHN0YXRlIE5ldyBoYXNoIGJ1ZmZlciBzdGF0ZVxuICAgICAqL1xuICAgIE1kNS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHN0YXRlLmJ1ZmZlcjtcbiAgICAgICAgdmFyIHggPSBzdGF0ZS5zdGF0ZTtcbiAgICAgICAgdmFyIHMgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHRoaXMuX2RhdGFMZW5ndGggPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlckxlbmd0aCA9IHN0YXRlLmJ1ZmxlbjtcbiAgICAgICAgc1swXSA9IHhbMF07XG4gICAgICAgIHNbMV0gPSB4WzFdO1xuICAgICAgICBzWzJdID0geFsyXTtcbiAgICAgICAgc1szXSA9IHhbM107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBidWYubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcjhbaV0gPSBidWYuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFzaCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgaGFzaCBidWZmZXIgYW5kIHJldHVybiB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIHJhdyBXaGV0aGVyIHRvIHJldHVybiB0aGUgdmFsdWUgYXMgYW4gYEludDMyQXJyYXlgXG4gICAgICovXG4gICAgTWQ1LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIGlmIChyYXcgPT09IHZvaWQgMCkgeyByYXcgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgaSA9IChidWZMZW4gPj4gMikgKyAxO1xuICAgICAgICB0aGlzLl9kYXRhTGVuZ3RoICs9IGJ1ZkxlbjtcbiAgICAgICAgdmFyIGRhdGFCaXRzTGVuID0gdGhpcy5fZGF0YUxlbmd0aCAqIDg7XG4gICAgICAgIGJ1ZjhbYnVmTGVuXSA9IDB4ODA7XG4gICAgICAgIGJ1ZjhbYnVmTGVuICsgMV0gPSBidWY4W2J1ZkxlbiArIDJdID0gYnVmOFtidWZMZW4gKyAzXSA9IDA7XG4gICAgICAgIGJ1ZjMyLnNldChNZDUuYnVmZmVyMzJJZGVudGl0eS5zdWJhcnJheShpKSwgaSk7XG4gICAgICAgIGlmIChidWZMZW4gPiA1NSkge1xuICAgICAgICAgICAgTWQ1Ll9tZDVjeWNsZSh0aGlzLl9zdGF0ZSwgYnVmMzIpO1xuICAgICAgICAgICAgYnVmMzIuc2V0KE1kNS5idWZmZXIzMklkZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyB0aGUgZmluYWwgY29tcHV0YXRpb24gYmFzZWQgb24gdGhlIHRhaWwgYW5kIGxlbmd0aFxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1heSBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgaWYgKGRhdGFCaXRzTGVuIDw9IDB4RkZGRkZGRkYpIHtcbiAgICAgICAgICAgIGJ1ZjMyWzE0XSA9IGRhdGFCaXRzTGVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBkYXRhQml0c0xlbi50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsbyA9IHBhcnNlSW50KG1hdGNoZXNbMl0sIDE2KTtcbiAgICAgICAgICAgIHZhciBoaSA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDE2KSB8fCAwO1xuICAgICAgICAgICAgYnVmMzJbMTRdID0gbG87XG4gICAgICAgICAgICBidWYzMlsxNV0gPSBoaTtcbiAgICAgICAgfVxuICAgICAgICBNZDUuX21kNWN5Y2xlKHRoaXMuX3N0YXRlLCBidWYzMik7XG4gICAgICAgIHJldHVybiByYXcgPyB0aGlzLl9zdGF0ZSA6IE1kNS5faGV4KHRoaXMuX3N0YXRlKTtcbiAgICB9O1xuICAgIC8vIFByaXZhdGUgU3RhdGljIFZhcmlhYmxlc1xuICAgIE1kNS5zdGF0ZUlkZW50aXR5ID0gbmV3IEludDMyQXJyYXkoWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdKTtcbiAgICBNZDUuYnVmZmVyMzJJZGVudGl0eSA9IG5ldyBJbnQzMkFycmF5KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSk7XG4gICAgTWQ1LmhleENoYXJzID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuICAgIE1kNS5oZXhPdXQgPSBbXTtcbiAgICAvLyBQZXJtYW5lbnQgaW5zdGFuY2UgaXMgdG8gdXNlIGZvciBvbmUtY2FsbCBoYXNoaW5nXG4gICAgTWQ1Lm9uZVBhc3NIYXNoZXIgPSBuZXcgTWQ1KCk7XG4gICAgcmV0dXJuIE1kNTtcbn0oKSk7XG5leHBvcnRzLk1kNSA9IE1kNTtcbmlmIChNZDUuaGFzaFN0cignaGVsbG8nKSAhPT0gJzVkNDE0MDJhYmM0YjJhNzZiOTcxOWQ5MTEwMTdjNTkyJykge1xuICAgIHRocm93IG5ldyBFcnJvcignTWQ1IHNlbGYgdGVzdCBmYWlsZWQuJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZDUuanMubWFwIiwgIi8qXG4gICAgTWFpbjogXHU2M0QyXHU0RUY2XHU1QjlBXHU0RTQ5XHU1M0NBXHU0RTNCXHU5MDNCXHU4RjkxXG4gICAgXHU4QkJFXHU3RjZFXHU5NzYyXHU2NzdGXHU5MDA5XHU5ODc5XG4qL1xuaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFBsdWdpbk1hbmlmZXN0LCBTZXR0aW5nLCBXb3Jrc3BhY2VMZWFmLCBURmlsZSwgVEZvbGRlciB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IEdyaWRUcmFkaW5nU2V0dGluZ3MsIFBsdWdpbkJhc2VTZXR0aW5ncywgU2V0U2V0dGluZ1ZhbHVlLCBHZXRTZXR0aW5nVmFsdWUgfSBmcm9tIFwiLi9zZXR0aW5nc1wiXG5pbXBvcnQgeyBHZXRFVEZDdXJyZW50UHJpY2UsIEdldExPRkN1cnJlbnRQcmljZSwgRGVidWdMb2cgfSBmcm9tICcuL3JlbW90ZV91dGlsJztcbmltcG9ydCB7IEdUVlZpZXcsIFZJRVdfVFlQRV9HVFYgfSBmcm9tIFwiLi9ncmlkX3ZpZXdcIlxuaW1wb3J0IHsgR1RPVmlldywgVklFV19UWVBFX0dUTyB9IGZyb20gJy4vZ3JpZF9vdmVydmlldyc7XG5pbXBvcnQgeyBDb3JWaWV3LCBWSUVXX1RZUEVfQ09SIH0gZnJvbSAnLi9jb3Jfdmlldyc7XG5pbXBvcnQgeyBQbHVnaW5FbnYsIEZFVENIX0NVUlJFTlRfUFJJQ0UgfSBmcm9tICcuL3BsdWdpbl9lbnYnO1xuaW1wb3J0IHsgU0VUVElOR19OQU1FIH0gZnJvbSBcIi4vbGFuZ19zdHJcIlxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYWRpbmdTdHJhdGVneSBleHRlbmRzIFBsdWdpblxue1xuICAgIHBsdWdpbl9lbnY6IFBsdWdpbkVudjtcbiAgICBpbnRlcnZhbF9jYWxsYmFja19pZDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIG1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdClcbiAgICB7XG4gICAgICAgIHN1cGVyKGFwcCwgbWFuaWZlc3QpO1xuICAgICAgICB0aGlzLnBsdWdpbl9lbnYgPSBuZXcgUGx1Z2luRW52KCk7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQgPSAtMTtcbiAgICB9XG5cbiAgICBhc3luYyBvbmxvYWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuTG9hZFNldHRpbmdzRnJvbURpc2soKTtcbiAgICAgICAgLy8gVGhpcyBjcmVhdGVzIGFuIGljb24gaW4gdGhlIGxlZnQgcmliYm9uLlxuICAgICAgICBjb25zdCByaWJib25JY29uRWwgPSB0aGlzLmFkZFJpYmJvbkljb24oJ2RpY2UnLCAnR3JpZFRyYWRpbmcnLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGljb24uXG4gICAgICAgICAgICB0aGlzLkZldGNoQWxsU3RvY2tDdXJyZW50UHJpY2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFBlcmZvcm0gYWRkaXRpb25hbCB0aGluZ3Mgd2l0aCB0aGUgcmliYm9uXG4gICAgICAgIHJpYmJvbkljb25FbC5hZGRDbGFzcygnbXktcGx1Z2luLXJpYmJvbi1jbGFzcycpO1xuXG4gICAgICAgIC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgVHJhZGluZ1N0cmF0ZWd5U2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcywgdGhpcy5wbHVnaW5fZW52KSk7XG5cbiAgICAgICAgLy8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5GZXRjaEFsbFN0b2NrQ3VycmVudFByaWNlKCksIDEgKiAxMDAwKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckludGVydmFsKHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJWaWV3KFZJRVdfVFlQRV9HVFYsIChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBndHZfdmlldyA9IG5ldyBHVFZWaWV3KGxlYWYsIHRoaXMucGx1Z2luX2Vudik7XG4gICAgICAgICAgICByZXR1cm4gZ3R2X3ZpZXc7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVmlldyhWSUVXX1RZUEVfR1RPLCAobGVhZjogV29ya3NwYWNlTGVhZikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3RvX3ZpZXcgPSBuZXcgR1RPVmlldyhsZWFmLCB0aGlzLmFwcC52YXVsdCwgdGhpcy5wbHVnaW5fZW52KTtcbiAgICAgICAgICAgIHJldHVybiBndG9fdmlldztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJWaWV3KFZJRVdfVFlQRV9DT1IsIChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb3JfdmlldyA9IG5ldyBDb3JWaWV3KGxlYWYpO1xuICAgICAgICAgICAgcmV0dXJuIGNvcl92aWV3O1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXh0ZW5zaW9ucyhbXCJndHZcIl0sIFZJRVdfVFlQRV9HVFYpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXh0ZW5zaW9ucyhbXCJndG9cIl0sIFZJRVdfVFlQRV9HVE8pO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXh0ZW5zaW9ucyhbXCJjb3JcIl0sIFZJRVdfVFlQRV9DT1IpO1xuICAgIH1cblxuICAgIG9udW5sb2FkKCkge1xuXG4gICAgfVxuXG4gICAgYXN5bmMgTG9hZFNldHRpbmdzRnJvbURpc2soKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ19kYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuICAgICAgICAvL0RlYnVnTG9nKFwiRmluaXNoIGxvYWRpbmcgc2V0dGluZywgc2V0dGluZ19kYXRhOiBcIiwgc2V0dGluZ19kYXRhKTtcbiAgICAgICAgaWYgKHNldHRpbmdfZGF0YSAhPSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuVW5zZXJpYWxpemVkU2V0dGluZ3Moc2V0dGluZ19kYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFNhdmVTZXR0aW5nc1RvRGlzaygpXG4gICAge1xuICAgICAgICBEZWJ1Z0xvZyhcIk1BWF9TTFVNUF9QQ1QxIFwiLCB0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKTtcbiAgICAgICAgY29uc3Qgc2V0dGluZ19kYXRhID0gdGhpcy5wbHVnaW5fZW52LlNlcmlhbGl6ZWRTZXR0aW5ncygpO1xuICAgICAgICBEZWJ1Z0xvZyhcIk1BWF9TTFVNUF9QQ1QyIFwiLCB0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKTtcbiAgICAgICAgRGVidWdMb2coc2V0dGluZ19kYXRhKTtcbiAgICAgICAgdGhpcy5zYXZlRGF0YShzZXR0aW5nX2RhdGEpO1xuICAgIH1cblxuICAgIGFzeW5jIEZldGNoQWxsU3RvY2tDdXJyZW50UHJpY2UoKVxuICAgIHtcbiAgICAgICAgLy9EZWJ1Z0xvZygncnVuIEZldGNoQWxsU3RvY2tDdXJyZW50UHJpY2UgJywgdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpKTtcbiAgICAgICAgY29uc3QgYXBpX2xpY2VuY2UgPSB0aGlzLnBsdWdpbl9lbnYuR2V0QVBJTGlzZW5jZSgpXG4gICAgICAgIGNvbnN0IGdyaWRfZm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKCdHcmlkVHJhZGluZycpO1xuICAgICAgICAvL0RlYnVnTG9nKFwiZ2V0QWJzdHJhY3RGaWxlQnlQYXRoIFwiLCBTdHJpbmcoZ3JpZF9mb2xkZXIpKTtcbiAgICAgICAgaWYgKGdyaWRfZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQgPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vRGVidWdMb2coJ0ZvbGRlciBjaGlsZHJlbiBjb3VudCAnLCBTdHJpbmcoZ3JpZF9mb2xkZXIuY2hpbGRyZW4ubGVuZ3RoKSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleD0wOyBpbmRleCA8IGdyaWRfZm9sZGVyLmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBncmlkX2ZpbGUgPSBncmlkX2ZvbGRlci5jaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIkZvciBmaWxlIG5hbWUgXCIsIGdyaWRfZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZF9maWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZ3JpZF9maWxlLm5hbWUuZW5kc1dpdGgoXCIuZ3R2XCIpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcInJlYWQgZmlsZSBcIiwgZ3JpZF9maWxlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZChncmlkX2ZpbGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlX3N0ciA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIilbMF0uc3BsaXQoXCIsXCIpWzBdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZF90cmFkaW5nID0gdGhpcy5wbHVnaW5fZW52LkdldEFuZEdlbkdyaWRUcmFkaW5nKGdyaWRfZmlsZS5uYW1lLCBtb2RlX3N0cik7XG4gICAgICAgICAgICAgICAgICAgIC8vRGVidWdMb2coXCJHZXRBbmRHZW5HcmlkVHJhZGluZywgbmFtZTogXCIsIGdyaWRfZmlsZS5uYW1lLCBcIiwgbW9kZTogXCIsIG1vZGVfc3RyKTtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZF90cmFkaW5nLkluaXRHcmlkVHJhZGluZyhjb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIlRyeSB0byBmZXRjaCByZW1vdGUgcHJpY2UsIFwiLCBncmlkX3RyYWRpbmcubWFya2V0X2NvZGUsIGdyaWRfdHJhZGluZy50YXJnZXRfc3RvY2spO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudF9wcmljZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZF9maWxlLm5hbWUuaW5jbHVkZXMoXCJMT0ZcIikpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfcHJpY2UgPSBhd2FpdCBHZXRMT0ZDdXJyZW50UHJpY2UoZ3JpZF90cmFkaW5nLm1hcmtldF9jb2RlICsgU3RyaW5nKGdyaWRfdHJhZGluZy50YXJnZXRfc3RvY2spLCBhcGlfbGljZW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3ByaWNlID0gTnVtYmVyKGN1cnJlbnRfcHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudF9wcmljZSA9IGF3YWl0IEdldEVURkN1cnJlbnRQcmljZShncmlkX3RyYWRpbmcubWFya2V0X2NvZGUgKyBTdHJpbmcoZ3JpZF90cmFkaW5nLnRhcmdldF9zdG9jayksIGFwaV9saWNlbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBTOiBcdTk3MDBcdTg5ODFcdTVGM0FcdThGNkNcdTRFMDBcdTRFMEJcdUZGMENcdTRFMERcdTVGM0FcdTUyMzZcdThGNkNcdTYzNjJcdTY1RTBcdTZDRDVcdTRGN0ZcdTc1MjggdG9GaXhlZCBcdTUxRkRcdTY1NzBcdUZGMENcdTUzRUZcdTgwRkRcdTY2MkZcdTdDN0JcdTU3OEJcdTk1RUVcdTk4OThcdUZGMENcdTZDQTFcdTZERjFcdTdBNzZcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfcHJpY2UgPSBOdW1iZXIoY3VycmVudF9wcmljZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5fZW52LnN0b2NrX3JlbW90ZV9wcmljZV9kaWN0LnNldChTdHJpbmcoZ3JpZF90cmFkaW5nLnRhcmdldF9zdG9jayksIGN1cnJlbnRfcHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICAvL0RlYnVnTG9nKFwiXHU2N0U1XHU4QkUyIFwiLCBncmlkX3RyYWRpbmcuc3RvY2tfbmFtZSwgXCIgXHU1RjUzXHU1MjREXHU2NzAwXHU2NUIwXHU0RUY3XHU2ODNDXHU0RTNBOiBcIiwgY3VycmVudF9wcmljZSk7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRfdHJhZGluZy5VcGRhdGVSZW1vdGVQcmljZShjdXJyZW50X3ByaWNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ3JpZF9maWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZ3JpZF9maWxlLm5hbWUuZW5kc1dpdGgoXCIuZ3RvXCIpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoZ3JpZF9maWxlKTtcbiAgICAgICAgICAgICAgICAgICAgLy81MjE4ODAsXHU4QkMxXHU1MjM4RVRGLHNoLDEuMDMwLDAuODkwXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXg9MDsgaW5kZXggPCBsaW5lcy5sZW5ndGg7IGluZGV4KyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnMgPSBsaW5lc1tpbmRleF0uc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cnNbMF0gIT0gXCJCVVlcIiAmJiBzdHJzWzBdICE9IFwiU0VMTFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50X3ByaWNlID0gYXdhaXQgR2V0RVRGQ3VycmVudFByaWNlKHN0cnNbMl0gKyBzdHJzWzBdLCBhcGlfbGljZW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudF9wcmljZSA9IE51bWJlcihjdXJyZW50X3ByaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuc3RvY2tfcmVtb3RlX3ByaWNlX2RpY3Quc2V0KHN0cnNbMF0sIGN1cnJlbnRfcHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRGVidWdMb2coXCJcdTY3RTVcdThCRTIgXCIsIHN0cnNbMV0sIFwiIFx1NUY1M1x1NTI0RFx1NjcwMFx1NjVCMFx1NEVGN1x1NjgzQ1x1NEUzQTogXCIsIGN1cnJlbnRfcHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wbHVnaW5fZW52LlB1Ymxpc2hFdmVudChGRVRDSF9DVVJSRU5UX1BSSUNFKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5jbGFzcyBUcmFkaW5nU3RyYXRlZ3lTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cbiAgICBwbHVnaW46IFRyYWRpbmdTdHJhdGVneTtcbiAgICBwbHVnaW5fZW52OiBQbHVnaW5FbnY7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBUcmFkaW5nU3RyYXRlZ3ksIHBsdWdpbl9lbnY6IFBsdWdpbkVudikge1xuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLnBsdWdpbl9lbnYgPSBwbHVnaW5fZW52O1xuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnBsdWdpbl9lbnYuaXNfc2V0dGluZ3NfY2hhbmdlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uU2F2ZVNldHRpbmdzVG9EaXNrKCk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuaXNfc2V0dGluZ3NfY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmhpZGUoKTtcbiAgICB9XG5cbiAgICBkaXNwbGF5KCk6IHZvaWQge1xuICAgICAgICAvL0RlYnVnTG9nKFwiZW50ZXIgZGlzcGxheSBzZXR0aW5nc1wiKVxuICAgICAgICAvLyBcdTZFMDVcdTdBN0FcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xuICAgICAgICAvLyBcdThCQkVcdTdGNkVcdTY4MDdcdTk4OThcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImgxXCIpLnNldFRleHQoXCJUcmFkaW5nU3RyYXRlZ3lcIik7XG4gICAgICAgIC8vIFx1NTdGQVx1Nzg0MFx1OTE0RFx1N0Y2RVxuICAgICAgICBjb25zdCBiYXNlX2RpdiA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJkaXZcIik7XG4gICAgICAgIGJhc2VfZGl2LmNyZWF0ZUVsKFwiaDJcIikuc2V0VGV4dChcIlx1NTdGQVx1Nzg0MFx1OTE0RFx1N0Y2RVwiKTtcbiAgICAgICAgbGV0IGJrZXk6IChrZXlvZiBQbHVnaW5CYXNlU2V0dGluZ3MpO1xuICAgICAgICBmb3IgKGJrZXkgaW4gdGhpcy5wbHVnaW5fZW52LmJhc2Vfc2V0dGluZ3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGtleV9uYW1lID0gU0VUVElOR19OQU1FLmdldChia2V5KVxuICAgICAgICAgICAgaWYgKGtleV9uYW1lICE9IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoYmFzZV9kaXYpLnNldE5hbWUoa2V5X25hbWUpO1xuICAgICAgICAgICAgICAgIHNldHRpbmcuYWRkVGV4dCgodGV4dF9jb21wLCBzZXR0aW5nX2tleT1ia2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRfY29tcC5zZXRWYWx1ZShTdHJpbmcoR2V0U2V0dGluZ1ZhbHVlKHRoaXMucGx1Z2luX2Vudi5iYXNlX3NldHRpbmdzLCBzZXR0aW5nX2tleSkpKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dF9jb21wLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTZXRTZXR0aW5nVmFsdWUodGhpcy5wbHVnaW5fZW52LmJhc2Vfc2V0dGluZ3MsIHNldHRpbmdfa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuaXNfc2V0dGluZ3NfY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFx1N0Y1MVx1NjgzQ1x1NEVBNFx1NjYxM1x1NTNDMlx1NjU3MFxuICAgICAgICBjb25zdCBncmlkX2RpdiA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJkaXZcIik7XG4gICAgICAgIGdyaWRfZGl2LmNyZWF0ZUVsKFwiaDJcIikuc2V0VGV4dChcIlx1N0Y1MVx1NjgzQ1x1OTE0RFx1N0Y2RVwiKTsgICBcbiAgICAgICAgbGV0IGtleTogKGtleW9mIEdyaWRUcmFkaW5nU2V0dGluZ3MpO1xuICAgICAgICBmb3IgKGtleSBpbiB0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qga2V5X25hbWUgPSBTRVRUSU5HX05BTUUuZ2V0KGtleSlcbiAgICAgICAgICAgIGlmIChrZXlfbmFtZSAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKGdyaWRfZGl2KS5zZXROYW1lKGtleV9uYW1lKTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nLmFkZFRleHQoKHRleHRfY29tcCwgc2V0dGluZ19rZXk9a2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIERlYnVnTG9nKFwiYWRkIFNldHRpbmcgS2V5OiBcIiwgc2V0dGluZ19rZXkpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0X2NvbXAuc2V0VmFsdWUoU3RyaW5nKEdldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncywgc2V0dGluZ19rZXkpKSk7XG4gICAgICAgICAgICAgICAgICAgIHRleHRfY29tcC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncywgc2V0dGluZ19rZXksIE51bWJlcih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnTG9nKFwiU2V0VmFsdWUgc3VjY2VlZCBcIiwgc2V0dGluZ19rZXksIEdldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncywgc2V0dGluZ19rZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuaXNfc2V0dGluZ3NfY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCAiXG5leHBvcnQgY29uc3QgU0VUVElOR19OQU1FID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oW1xuICAgIFtcIk9ORV9HUklEX0xJTUlUXCIsIFwiXHU5OTk2XHU3RjUxXHU0RTBBXHU5NjUwXHU1MDNDXCJdLFxuICAgIFtcIk1BWF9TTFVNUF9QQ1RcIiwgXCJcdTY3MDBcdTU5MjdcdTU2REVcdTY0QTRcdTUwM0NcIl0sXG4gICAgW1wiVFJJR0dFUl9BRERfUE9JTlRcIiwgXCJcdTg5RTZcdTUzRDFcdTRFRjdcdTUyQTBcdTcwQjlcIl0sXG4gICAgW1wiVFJBRElOR19QUklDRV9QUkVDSVNJT05cIiwgXCJcdTRFQTRcdTY2MTNcdTRFRjdcdTdDQkVcdTVFQTZcIl0sXG4gICAgW1wiTUlOX0JBVENIX0NPVU5UXCIsIFwiXHU1MzU1XHU2MjRCXHU0RUZEXHU2NTcwXHU5ODlEXCJdLFxuICAgIFtcIk1BWF9SSVNFX1BDVFwiLCBcIlx1NTM1NVx1NjVFNVx1NjcwMFx1NTkyN1x1NkRBOFx1NUU0NVwiXSxcbiAgICBbXCJTR1JJRF9TVEVQX1BDVFwiLCBcIlx1NUMwRlx1N0Y1MVx1NkI2NVx1OEZEQlx1NTAzQ1wiXSxcbiAgICBbXCJTR1JJRF9SRVRBSU5fQ09VTlRcIiwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIl0sXG4gICAgW1wiU0dSSURfQUREX1BDVFwiLCBcIlx1NkJDRlx1N0Y1MVx1OEZGRFx1NTJBMFwiXSxcbiAgICBbXCJNR1JJRF9TVEVQX1BDVFwiLCBcIlx1NEUyRFx1N0Y1MVx1NkI2NVx1OEZEQlx1NTAzQ1wiXSxcbiAgICBbXCJNR1JJRF9SRVRBSU5fQ09VTlRcIiwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIl0sXG4gICAgW1wiTUdSSURfQUREX1BDVFwiLCBcIlx1NkJDRlx1N0Y1MVx1OEZGRFx1NTJBMFwiXSxcbiAgICBbXCJMR1JJRF9TVEVQX1BDVFwiLCBcIlx1NTkyN1x1N0Y1MVx1NkI2NVx1OEZEQlx1NTAzQ1wiXSxcbiAgICBbXCJMR1JJRF9SRVRBSU5fQ09VTlRcIiwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIl0sXG4gICAgW1wiTEdSSURfQUREX1BDVFwiLCBcIlx1NkJDRlx1N0Y1MVx1OEZGRFx1NTJBMFwiXSxcbiAgICBbXCJEQVRBX0FQSV9MSUNFTkNFXCIsIFwiXHU2NTcwXHU2MzZFXHU2M0E1XHU1M0UzXHU4QkMxXHU0RTY2XCJdXG5dKTtcblxuZXhwb3J0IGNvbnN0IFNHUklEX1RZUEVfTkFNRV9TVFIgPSBcIlx1NUMwRlx1N0Y1MVwiO1xuZXhwb3J0IGNvbnN0IE1HUklEX1RZUEVfTkFNRV9TVFIgPSBcIlx1NEUyRFx1N0Y1MVwiO1xuZXhwb3J0IGNvbnN0IExHUklEX1RZUEVfTkFNRV9TVFIgPSBcIlx1NTkyN1x1N0Y1MVwiO1xuZXhwb3J0IGNvbnN0IFBFUkZJVF9UWVBFX05BTUVfU1RSID0gXCJcdTUyMjlcdTZEQTZcIjsiLCAiLypcbiAgICBTZXR0aW5nIFx1NTQwNFx1NzlDRFx1OTE0RFx1N0Y2RVx1NEZFMVx1NjA2Rlx1NTNDQVx1NUUzOFx1OTFDRlx1NUI5QVx1NEU0OVxuICAgIEdyaWRUcmFkaW5nU2V0dGluZ3M6IFx1N0Y1MVx1NjgzQ1x1NEVBNFx1NjYxM1x1NzY4NFx1NTNDMlx1NjU3MFx1NUI5QVx1NEU0OVx1RkYwQ1x1ODk4Nlx1NzZENlx1NTE3M1x1N0NGQlx1NEUzQSBcdTlFRDhcdThCQTRcdTUxNjhcdTVDNDBcdTUzQzJcdTY1NzA8LS1cdTgxRUFcdTVCOUFcdTRFNDlcdTUxNjhcdTVDNDBcdTUzQzJcdTY1NzA8LS1cdTgxRUFcdTVCOUFcdTRFNDlcdTY4MDdcdTc2ODRcdTUzQzJcdTY1NzBcbiovXG5cbmltcG9ydCB7IFNFVFRJTkdfTkFNRSB9IGZyb20gXCIuL2xhbmdfc3RyXCI7XG5cbi8vIFx1OTg5Q1x1ODI3Mlx1NUI5QVx1NEU0OVxuZXhwb3J0IGNvbnN0IEdSSURfQ09MT1JfQlVZX01PTklUT1IgICAgICAgICA9IFwiI0ZGRkYwMFwiOyAgICAvLyBcdTlFQzRcdTgyNzJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX1NFTExfTU9OSVRPUiAgICAgICAgPSBcIiNGRkZGMDBcIjsgICAgLy8gXHU5RUM0XHU4MjcyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9CVVlfVFJJR0dFUkVEICAgICAgID0gXCIjRDNEM0QzXCI7ICAgIC8vIFx1NzA3MFx1ODI3MlxuZXhwb3J0IGNvbnN0IEdSSURfQ09MT1JfU0VMTF9UUklHR0VSRUQgICAgICA9IFwiI0ZGRkZFMFwiOyAgICAvLyBcdTZENDVcdTlFQzRcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX0RJU0FCTEUgICAgICAgICAgICAgPSBcIiNGRkZGRTBcIjsgICAgLy8gXHU2REYxXHU3MDcwXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9TVE9DS19PVkVSVklFVyAgICAgID0gXCIjRkZGRkZGXCI7ICAgIC8vIFx1NTQwQ1x1NjVGNlx1ODBBOVx1OEQxRlx1NjgwN1x1OEJCMFx1NjU3MFx1NjM2RVx1N0M3Qlx1NTc4Qlx1RkYwQ1x1NEYzMFx1OTg5Q1x1ODI3Mlx1NTAzQ1x1NEUwRFx1ODBGRFx1NUI4Q1x1NTE2OFx1NzZGOFx1N0I0OVxuZXhwb3J0IGNvbnN0IEdSSURfQ09MT1JfVEFCTEVfVElUTEUgICAgICAgICA9IFwiI0QzRDNEM1wiOyAgICAvLyBcdTU0MENcdTY1RjZcdTgwQTlcdThEMUZcdTY4MDdcdThCQjBcdTY1NzBcdTYzNkVcdTdDN0JcdTU3OEJcdUZGMENcdTRGMzBcdTk4OUNcdTgyNzJcdTUwM0NcdTRFMERcdTgwRkRcdTVCOENcdTUxNjhcdTc2RjhcdTdCNDlcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX0JVWV9PVkVSVklFVyAgICAgICAgPSBcIiNGRkZGMDFcIjsgICAgLy8gXHU1NDBDXHU2NUY2XHU4MEE5XHU4RDFGXHU2ODA3XHU4QkIwXHU2NTcwXHU2MzZFXHU3QzdCXHU1NzhCXHVGRjBDXHU0RjMwXHU5ODlDXHU4MjcyXHU1MDNDXHU0RTBEXHU4MEZEXHU1QjhDXHU1MTY4XHU3NkY4XHU3QjQ5XG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9TRUxMX09WRVJWSUVXICAgICAgID0gXCIjRkZGRjAwXCI7ICAgIC8vIFx1NTQwQ1x1NjVGNlx1ODBBOVx1OEQxRlx1NjgwN1x1OEJCMFx1NjU3MFx1NjM2RVx1N0M3Qlx1NTc4Qlx1RkYwQ1x1NEYzMFx1OTg5Q1x1ODI3Mlx1NTAzQ1x1NEUwRFx1ODBGRFx1NUI4Q1x1NTE2OFx1NzZGOFx1N0I0OVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBQYWNrU2V0dGluZ3M8VD4oc2V0dGluZ3M6IFQpOiBzdHJpbmdcbntcbiAgICBsZXQgcGFja19zdHIgPSBcIlwiO1xuICAgIGxldCBrZXk6IGtleW9mIFQ7XG4gICAgZm9yIChrZXkgaW4gc2V0dGluZ3MpXG4gICAge1xuICAgICAgICBpZiAoU0VUVElOR19OQU1FLmhhcyhTdHJpbmcoa2V5KSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhY2tfc3RyID0gcGFja19zdHIgKyBTdHJpbmcoa2V5KSArIFwiOlwiICsgU3RyaW5nKHNldHRpbmdzW2tleV0pICsgXCJcXG5cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFja19zdHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbnBhY2tTZXR0aW5nczxUPihzZXR0aW5nczogVCwgbGluZXM6IHN0cmluZ1tdKVxue1xuICAgIGxpbmVzLmZvckVhY2goKGxpbmUsIGlkeCkgPT4ge1xuICAgICAgICBjb25zdCBzdHJzID0gbGluZS5zcGxpdChcIjpcIik7XG4gICAgICAgIGlmIChTRVRUSU5HX05BTUUuaGFzKHN0cnNbMF0pKVxuICAgICAgICB7XG4gICAgICAgICAgICBTZXRTZXR0aW5nVmFsdWUoc2V0dGluZ3MsIHN0cnNbMF0gYXMga2V5b2YgVCwgc3Ryc1sxXSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldFNldHRpbmdWYWx1ZTxUPihzZXR0aW5nczogVCwga2V5OiBrZXlvZiBUKVxue1xuICAgIHJldHVybiBzZXR0aW5nc1trZXldO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU2V0U2V0dGluZ1ZhbHVlPFQsIFZUPihzZXR0aW5nczogVCwga2V5OiBrZXlvZiBULCB2YWx1ZTogVlQpXG57XG4gICAgaWYgKGtleSBpbiBzZXR0aW5ncylcbiAgICB7XG4gICAgICAgIHNldHRpbmdzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG59XG5cbi8vIFx1NjNEMlx1NEVGNlx1OTE0RFx1N0Y2RVxuZXhwb3J0IGNsYXNzIFBsdWdpbkJhc2VTZXR0aW5nc1xue1xuICAgIERBVEFfQVBJX0xJQ0VOQ0U6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8vIFx1NTE0RFx1OEQzOVx1OUVEOFx1OEJBNExpY2Vuc2VcbiAgICAgICAgdGhpcy5EQVRBX0FQSV9MSUNFTkNFID0gXCIxMTJlODQ2NTYxNzRmMGE1XCI7XG4gICAgICAgIC8vIFx1NEUyQVx1NEVCQVx1NEVEOFx1OEQzOUxpY2Vuc2VcbiAgICAgICAgdGhpcy5EQVRBX0FQSV9MSUNFTkNFID0gXCJiMTkyZjUzYTZkNjkyODAzM1wiO1xuICAgIH1cbn1cblxuXG4vLyBcdTdGNTFcdTY4M0NcdTkxNERcdTdGNkVcbmV4cG9ydCBjbGFzcyBHcmlkVHJhZGluZ1NldHRpbmdzIHtcbiAgICBPTkVfR1JJRF9MSU1JVDogbnVtYmVyO1xuICAgIE1BWF9TTFVNUF9QQ1Q6IG51bWJlcjtcbiAgICBUUklHR0VSX0FERF9QT0lOVDogbnVtYmVyO1xuICAgIFRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OOiBudW1iZXI7XG4gICAgTUlOX0JBVENIX0NPVU5UOiBudW1iZXI7XG4gICAgTUFYX1JJU0VfUENUOiBudW1iZXI7XG4gICAgTUlOSU1VTV9CVVlfUENUOiBudW1iZXI7XG4gICAgQ0xFQVJfU1RFUF9QQ1Q6IG51bWJlcjtcblxuICAgIFNHUklEX1NURVBfUENUOiBudW1iZXI7XG4gICAgU0dSSURfQUREX1BDVDogbnVtYmVyO1xuICAgIFNHUklEX1JFVEFJTl9DT1VOVDogbnVtYmVyO1xuXG4gICAgTUdSSURfU1RFUF9QQ1Q6IG51bWJlcjtcbiAgICBNR1JJRF9BRERfUENUOiBudW1iZXI7XG4gICAgTUdSSURfUkVUQUlOX0NPVU5UOiBudW1iZXI7XG5cbiAgICBMR1JJRF9TVEVQX1BDVDogbnVtYmVyO1xuICAgIExHUklEX0FERF9QQ1Q6IG51bWJlcjtcbiAgICBMR1JJRF9SRVRBSU5fQ09VTlQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8vIFx1NjMwOVx1NzE2N1x1OUVEOFx1OEJBNFx1NTNDMlx1NjU3MFx1NTAzQ1x1NTIxRFx1NTlDQlx1NTMxNlxuICAgICAgICB0aGlzLk9ORV9HUklEX0xJTUlUID0gMTAwMDA7XG4gICAgICAgIHRoaXMuTUFYX1NMVU1QX1BDVCA9IDAuNjc7XG4gICAgICAgIHRoaXMuVFJJR0dFUl9BRERfUE9JTlQgPSAwLjAwNTtcbiAgICAgICAgdGhpcy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTiA9IDM7XG4gICAgICAgIHRoaXMuTUlOX0JBVENIX0NPVU5UID0gMTAwO1xuICAgICAgICB0aGlzLk1BWF9SSVNFX1BDVCA9IDAuMTU7XG4gICAgICAgIHRoaXMuTUlOSU1VTV9CVVlfUENUID0gMC4wMTtcbiAgICAgICAgdGhpcy5DTEVBUl9TVEVQX1BDVCA9IDAuMjU7XG4gICAgXG4gICAgICAgIHRoaXMuU0dSSURfU1RFUF9QQ1QgPSAwLjA1O1xuICAgICAgICB0aGlzLlNHUklEX0FERF9QQ1QgPSAwLjA1O1xuICAgICAgICB0aGlzLlNHUklEX1JFVEFJTl9DT1VOVCA9IDQ7XG5cbiAgICAgICAgdGhpcy5NR1JJRF9TVEVQX1BDVCA9IDAuMjI7XG4gICAgICAgIHRoaXMuTUdSSURfQUREX1BDVCA9IDAuMjtcbiAgICAgICAgdGhpcy5NR1JJRF9SRVRBSU5fQ09VTlQgPSAyO1xuXG4gICAgICAgIHRoaXMuTEdSSURfU1RFUF9QQ1QgPSAwLjUyO1xuICAgICAgICB0aGlzLkxHUklEX0FERF9QQ1QgPSAwLjU7XG4gICAgICAgIHRoaXMuTEdSSURfUkVUQUlOX0NPVU5UID0gMTtcbiAgICB9XG5cbiAgICBDbG9uZSgpOiBHcmlkVHJhZGluZ1NldHRpbmdzXG4gICAge1xuICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBHcmlkVHJhZGluZ1NldHRpbmdzKCk7XG4gICAgICAgIGNsb25lLk9ORV9HUklEX0xJTUlUID0gdGhpcy5PTkVfR1JJRF9MSU1JVDtcbiAgICAgICAgY2xvbmUuTUFYX1NMVU1QX1BDVCA9IHRoaXMuTUFYX1NMVU1QX1BDVDtcbiAgICAgICAgY2xvbmUuVFJJR0dFUl9BRERfUE9JTlQgPSB0aGlzLlRSSUdHRVJfQUREX1BPSU5UO1xuICAgICAgICBjbG9uZS5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTiA9IHRoaXMuVFJBRElOR19QUklDRV9QUkVDSVNJT047XG4gICAgICAgIGNsb25lLk1JTl9CQVRDSF9DT1VOVCA9IHRoaXMuTUlOX0JBVENIX0NPVU5UO1xuICAgICAgICBjbG9uZS5NQVhfUklTRV9QQ1QgPSB0aGlzLk1BWF9SSVNFX1BDVDtcbiAgICBcbiAgICAgICAgY2xvbmUuU0dSSURfU1RFUF9QQ1QgPSB0aGlzLlNHUklEX1NURVBfUENUO1xuICAgICAgICBjbG9uZS5TR1JJRF9BRERfUENUID0gdGhpcy5TR1JJRF9BRERfUENUO1xuICAgICAgICBjbG9uZS5TR1JJRF9SRVRBSU5fQ09VTlQgPSB0aGlzLlNHUklEX1JFVEFJTl9DT1VOVDtcbiAgICBcbiAgICAgICAgY2xvbmUuTUdSSURfU1RFUF9QQ1QgPSB0aGlzLk1HUklEX1NURVBfUENUO1xuICAgICAgICBjbG9uZS5NR1JJRF9BRERfUENUID0gdGhpcy5NR1JJRF9BRERfUENUO1xuICAgICAgICBjbG9uZS5NR1JJRF9SRVRBSU5fQ09VTlQgPSB0aGlzLk1HUklEX1JFVEFJTl9DT1VOVDtcbiAgICBcbiAgICAgICAgY2xvbmUuTEdSSURfU1RFUF9QQ1QgPSB0aGlzLkxHUklEX1NURVBfUENUO1xuICAgICAgICBjbG9uZS5MR1JJRF9BRERfUENUID0gdGhpcy5MR1JJRF9BRERfUENUO1xuICAgICAgICBjbG9uZS5MR1JJRF9SRVRBSU5fQ09VTlQgPSB0aGlzLkxHUklEX1JFVEFJTl9DT1VOVDtcbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cblxuICAgIFBhY2tCYXNlKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IFtcIkJBU0VcIiwgU3RyaW5nKHRoaXMuT05FX0dSSURfTElNSVQpLCBTdHJpbmcodGhpcy5NQVhfU0xVTVBfUENUKSwgU3RyaW5nKHRoaXMuVFJJR0dFUl9BRERfUE9JTlQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHRoaXMuVFJBRElOR19QUklDRV9QUkVDSVNJT04pLCBTdHJpbmcodGhpcy5NSU5fQkFUQ0hfQ09VTlQpLCBTdHJpbmcodGhpcy5NQVhfUklTRV9QQ1QpLFxuICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHRoaXMuQ0xFQVJfU1RFUF9QQ1QpLCBTdHJpbmcodGhpcy5NSU5JTVVNX0JVWV9QQ1QpXVxuICAgICAgICByZXR1cm4gc2V0dGluZy5qb2luKFwiLFwiKTtcbiAgICB9XG5cbiAgICBVbnBhY2tCYXNlKHN0cnM6IHN0cmluZ1tdKVxuICAgIHtcbiAgICAgICAgaWYgKHN0cnMubGVuZ3RoICE9IDkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLk9ORV9HUklEX0xJTUlUID0gTnVtYmVyKHN0cnNbMV0pO1xuICAgICAgICB0aGlzLk1BWF9TTFVNUF9QQ1QgPSBOdW1iZXIoc3Ryc1syXSk7XG4gICAgICAgIHRoaXMuVFJJR0dFUl9BRERfUE9JTlQgPSBOdW1iZXIoc3Ryc1szXSk7XG4gICAgICAgIHRoaXMuVFJBRElOR19QUklDRV9QUkVDSVNJT04gPSBOdW1iZXIoc3Ryc1s0XSk7XG4gICAgICAgIHRoaXMuTUlOX0JBVENIX0NPVU5UID0gTnVtYmVyKHN0cnNbNV0pO1xuICAgICAgICB0aGlzLk1BWF9SSVNFX1BDVCA9IE51bWJlcihzdHJzWzZdKTtcbiAgICAgICAgdGhpcy5DTEVBUl9TVEVQX1BDVCA9IE51bWJlcihzdHJzWzddKTtcbiAgICAgICAgdGhpcy5NSU5JTVVNX0JVWV9QQ1QgPSBOdW1iZXIoc3Ryc1s4XSk7XG4gICAgfVxuXG4gICAgUGFja1N0ZXAoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBjb25zdCBzZXR0aW5nID0gW1wiU1RFUFwiLCBTdHJpbmcodGhpcy5TR1JJRF9TVEVQX1BDVCksIFN0cmluZyh0aGlzLlNHUklEX0FERF9QQ1QpLCBTdHJpbmcodGhpcy5TR1JJRF9SRVRBSU5fQ09VTlQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHRoaXMuTUdSSURfU1RFUF9QQ1QpLCBTdHJpbmcodGhpcy5NR1JJRF9BRERfUENUKSwgU3RyaW5nKHRoaXMuTUdSSURfUkVUQUlOX0NPVU5UKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyh0aGlzLkxHUklEX1NURVBfUENUKSwgU3RyaW5nKHRoaXMuTEdSSURfQUREX1BDVCksIFN0cmluZyh0aGlzLkxHUklEX1JFVEFJTl9DT1VOVCldXG4gICAgICAgIHJldHVybiBzZXR0aW5nLmpvaW4oXCIsXCIpO1xuICAgIH1cblxuICAgIFVucGFja1N0ZXAoc3Ryczogc3RyaW5nW10pXG4gICAge1xuICAgICAgICBpZiAoc3Rycy5sZW5ndGggIT0gMTApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLlNHUklEX1NURVBfUENUID0gTnVtYmVyKHN0cnNbMV0pO1xuICAgICAgICB0aGlzLlNHUklEX0FERF9QQ1QgPSBOdW1iZXIoc3Ryc1syXSk7XG4gICAgICAgIHRoaXMuU0dSSURfUkVUQUlOX0NPVU5UID0gTnVtYmVyKHN0cnNbM10pO1xuICAgICAgICB0aGlzLk1HUklEX1NURVBfUENUID0gTnVtYmVyKHN0cnNbNF0pO1xuICAgICAgICB0aGlzLk1HUklEX0FERF9QQ1QgPSBOdW1iZXIoc3Ryc1s1XSk7XG4gICAgICAgIHRoaXMuTUdSSURfUkVUQUlOX0NPVU5UID0gTnVtYmVyKHN0cnNbNl0pO1xuICAgICAgICB0aGlzLkxHUklEX1NURVBfUENUID0gTnVtYmVyKHN0cnNbN10pO1xuICAgICAgICB0aGlzLkxHUklEX0FERF9QQ1QgPSBOdW1iZXIoc3Ryc1s4XSk7XG4gICAgICAgIHRoaXMuTEdSSURfUkVUQUlOX0NPVU5UID0gTnVtYmVyKHN0cnNbOV0pO1xuICAgIH1cbn1cbiIsICIvKlxuICAgIFx1NjU3MFx1NjM2RVx1Njc2NVx1NkU5MDogXHU1RkM1XHU3NkM4XHU2NTcwXHU2MzZFKGh0dHBzOi8vYWQuYml5aW5nYXBpLmNvbS9hcGlkb2MuaHRtbClcbiAgICBcdTY1NzBcdTYzNkVcdTgzMDNcdTU2RjQ6XG4gICAgICAgIFx1NkNBQVx1NkRGMVx1NTdGQVx1Nzg0MFx1NjU3MFx1NjM2RTogXHU4MEExXHU3OTY4XHU1MjE3XHU4ODY4XHUzMDAxXHU1MTZDXHU1M0Y4XHU4QkU2XHU2MEM1XHUzMDAxXHU1QjlFXHU2NUY2XHU0RUE0XHU2NjEzXHUzMDAxXHU1Mzg2XHU1M0YyXHU2NTcwXHU2MzZFXHUzMDAxXHU2REE4XHU4RENDXHU4MEExXHU2QzYwXHUzMDAxXHU4RDQ0XHU5MUQxXHU2RDQxXHU1NDExXHU3QjQ5NjBcdTRGNTlcdTRFMkFcdTRFMERcdTU0MENcdTdDN0JcdTU3OEJcdTc2ODRcdTY1NzBcdTYzNkVcdTYzQTVcdTUzRTNcbiAgICAgICAgXHU2Q0FBXHU2REYxXHU2REYxXHU1RUE2XHU2NTcwXHU2MzZFOiBcdTYyOTVcdThENDRcdTUzQzJcdTgwMDNcdTMwMDFcdTlGOTlcdTg2NEVcdTY5OUNcdTMwMDFcdTVFMDJcdTU3M0FcdTg4NjhcdTczQjBcdTMwMDFcdThEMjJcdTUyQTFcdTUyMDZcdTY3OTBcdTMwMDFcdTY3M0FcdTY3ODRcdTYzMDFcdTgwQTFcdTMwMDFcdThENDRcdTkxRDFcdTZENDFcdTdCNDk4MFx1NEY1OVx1NEUyQVx1NTQxMVx1NEUyQVx1NEUwRFx1NTQwQ1x1N0M3Qlx1NTc4Qlx1NzY4NFx1NjU3MFx1NjM2RVx1NjNBNVx1NTNFM1xuICAgICAgICBcdTZDQUFcdTZERjFcdTYzMDdcdTY1NzBcdTY1NzBcdTYzNkU6IFx1NkNBQVx1NkRGMVx1NjMwN1x1NjU3MFx1NTIxN1x1ODg2OFx1MzAwMVx1NUI5RVx1NjVGNlx1NEVBNFx1NjYxM1x1MzAwMVx1NTM4Nlx1NTNGMlx1NjU3MFx1NjM2RVx1MzAwMVx1NTIwNlx1NjVGNktESlx1MzAwMVx1NTIwNlx1NjVGNk1BQ0RcdTMwMDFcdTUyMDZcdTY1RjZCT0xMXHU3QjQ5MTZcdTRFMkFcdTRFMERcdTU0MENcdTdDN0JcdTU3OEJcdTc2ODRcdTY1NzBcdTYzNkVcdTYzQTVcdTUzRTNcbiAgICAgICAgXHU1N0ZBXHU5MUQxXHU4ODRDXHU2MEM1XHU2NTcwXHU2MzZFOiBcdTU3RkFcdTkxRDFcdTUyMTdcdTg4NjhcdTMwMDFcdTRGMzBcdTUwM0NcdTg4NENcdTYwQzVcdTMwMDFcdTY3MDBcdTY1QjBLXHU3RUJGXHUzMDAxXHU1Mzg2XHU1M0YyS1x1N0VCRlx1MzAwMVx1OEQ0NFx1NEVBN1x1OEQxRlx1NTAzQVx1ODg2OFx1MzAwMVx1Njg2M1x1Njg0OFx1NEZFMVx1NjA2Rlx1N0I0OTcwXHU0RjU5XHU0RTJBXHU0RTBEXHU1NDBDXHU3QzdCXHU1NzhCXHU3Njg0XHU2NTcwXHU2MzZFXHU2M0E1XHU1M0UzXG4gICAgXHU2NTcwXHU2MzZFXHU2M0E1XHU1M0UzOlxuICAgICAgICBFVEZcdTU3RkFcdTkxRDFcdTg4NENcdTYwQzVcbiAgICAgICAgICAgIEFQSVx1NjNBNVx1NTNFM1x1RkYxQWh0dHBzOi8vYXBpLmJpeWluZ2FwaS5jb20vamovZXRmaHEvRVRGXHU1N0ZBXHU5MUQxXHU0RUUzXHU3ODAxL1x1NjBBOFx1NzY4NGxpY2VuY2VcbiAgICAgICAgICAgIFx1NTkwN1x1NzUyOFx1NjNBNVx1NTNFM1x1RkYxQWh0dHBzOi8vYXBpMS5iaXlpbmdhcGkuY29tL2pqL2V0ZmhxL0VURlx1NTdGQVx1OTFEMVx1NEVFM1x1NzgwMS9cdTYwQThcdTc2ODRsaWNlbmNlXG4gICAgICAgIExPRlx1NTdGQVx1OTFEMVx1ODg0Q1x1NjBDNVxuICAgICAgICAgICAgQVBJXHU2M0E1XHU1M0UzXHVGRjFBaHR0cHM6Ly9hcGkuYml5aW5nYXBpLmNvbS9qai9sb2ZocS9MT0ZcdTU3RkFcdTkxRDFcdTRFRTNcdTc4MDEvXHU2MEE4XHU3Njg0bGljZW5jZVxuICAgICAgICAgICAgXHU1OTA3XHU3NTI4XHU2M0E1XHU1M0UzXHVGRjFBaHR0cHM6Ly9hcGkxLmJpeWluZ2FwaS5jb20vamovbG9maHEvTE9GXHU1N0ZBXHU5MUQxXHU0RUUzXHU3ODAxL1x1NjBBOFx1NzY4NGxpY2VuY2VcbiovXG5pbXBvcnQgeyBOb3RpY2UsIHJlcXVlc3RVcmwgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuY29uc3QgZGF0YV91cmxfcHJlZml4ID0gXCJodHRwOi8vYXBpLmJpeWluZ2FwaS5jb21cIjtcblxuXG5hc3luYyBmdW5jdGlvbiBGZXRjaERhdGEoZGF0YV9hcGk6IHN0cmluZywgYXBpX2xpY2VuY2U6IHN0cmluZywgZGVidWdfbG9nOiBzdHJpbmdbXVtdKVxue1xuICAgIGNvbnN0IHVybCA9IGRhdGFfdXJsX3ByZWZpeCArIGRhdGFfYXBpICsgXCIvXCIgKyBhcGlfbGljZW5jZTtcbiAgICBkZWJ1Z19sb2cucHVzaChbXCJJbmZvXCIsIFwiZnVsbCB1cmxcIiwgdXJsXSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHVybCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb247XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRFVEZDdXJyZW50UHJpY2UoZXRmX2NvZGU6IHN0cmluZywgYXBpX2xpY2VuY2U6IHN0cmluZylcbntcbiAgICBpZiAoIShldGZfY29kZS5zdGFydHNXaXRoKFwic3pcIikgfHwgZXRmX2NvZGUuc3RhcnRzV2l0aChcInNoXCIpKSlcbiAgICB7XG4gICAgICAgIC8vIFx1OTc1RXN6L3NoXHU1RTAyXHU1NzNBXHU3Njg0RVRGXHU0RUY3XHU2ODNDXHU2NUUwXHU2Q0Q1XHU4MUVBXHU1MkE4XHU4M0I3XHU1M0Q2XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgY29uc3QgZGF0YV9hcGkgPSBkYXRhX3VybF9wcmVmaXggKyBcIi9qai9ldGZocS9cIiArIGV0Zl9jb2RlICsgXCIvXCIgKyBhcGlfbGljZW5jZTtcbiAgICAvL0RlYnVnTG9nKFwicmVxdWVzdCB1cmw6IFwiLCBkYXRhX2FwaSk7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoZGF0YV9hcGkpO1xuICAgICAgICBEZWJ1Z0xvZyhcInJlcXVlc3QgXCIsIGV0Zl9jb2RlLCBcIiAgcmVzdWx0IFwiLCByZXNwb25zZS5qc29uW1wienhqXCJdKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb25bXCJ6eGpcIl07XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBEZWJ1Z0xvZyhcInJlcXVlc3QgXCIsIGRhdGFfYXBpLCBcIiAgZXJyb3IgXCIsIGUubWVzc2FnZSk7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRMT0ZDdXJyZW50UHJpY2UobG9mX2NvZGU6IHN0cmluZywgYXBpX2xpY2VuY2U6IHN0cmluZylcbntcbiAgICBpZiAoIShsb2ZfY29kZS5zdGFydHNXaXRoKFwic3pcIikgfHwgbG9mX2NvZGUuc3RhcnRzV2l0aChcInNoXCIpKSlcbiAgICB7XG4gICAgICAgIC8vIFx1OTc1RXN6L3NoXHU1RTAyXHU1NzNBXHU3Njg0TE9GXHU0RUY3XHU2ODNDXHU2NUUwXHU2Q0Q1XHU4MUVBXHU1MkE4XHU4M0I3XHU1M0Q2XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgY29uc3QgZGF0YV9hcGkgPSBkYXRhX3VybF9wcmVmaXggKyBcIi9qai9sb2ZocS9cIiArIGxvZl9jb2RlICsgXCIvXCIgKyBhcGlfbGljZW5jZTtcbiAgICAvL0RlYnVnTG9nKFwicmVxdWVzdCB1cmw6IFwiLCBkYXRhX2FwaSk7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoZGF0YV9hcGkpO1xuICAgICAgICBEZWJ1Z0xvZyhcInJlcXVlc3QgXCIsIGxvZl9jb2RlLCBcIiAgcmVzdWx0IFwiLCByZXNwb25zZS5qc29uW1wienhqXCJdKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb25bXCJ6eGpcIl07XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBEZWJ1Z0xvZyhcInJlcXVlc3QgXCIsIGRhdGFfYXBpLCBcIiAgZXJyb3IgXCIsIGUubWVzc2FnZSk7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZWJ1Z0xvZyguLi5hcmdzKVxue1xuICAgIGxldCBsb2dfc3RyID0gXCJcIjtcbiAgICBhcmdzLmZvckVhY2goKGNlbGwsIGkpID0+IHtcbiAgICAgICAgbG9nX3N0ciA9IGxvZ19zdHIgKyBTdHJpbmcoY2VsbCk7XG4gICAgfSk7XG4gICAgbmV3IE5vdGljZShsb2dfc3RyLCAwKTtcbn1cbiIsICIvKlxuICAgIEdyaWQgVHJhZGluZyBWaWV3XG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU1MTc3XHU0RjUzXHU2ODA3XHU3Njg0XHU1QzU1XHU3OTNBXHU4OUM2XHU1NkZFXG4qL1xuXG5pbXBvcnQgeyBUZXh0RmlsZVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEdyaWRUcmFkaW5nIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nXCI7XG5pbXBvcnQgeyBQbHVnaW5FbnYsIEZFVENIX0NVUlJFTlRfUFJJQ0UgfSBmcm9tIFwiLi9wbHVnaW5fZW52XCI7XG5pbXBvcnQgeyBHUklEX0NPTE9SX0JVWV9NT05JVE9SLCBHUklEX0NPTE9SX0JVWV9UUklHR0VSRUQsIEdSSURfQ09MT1JfRElTQUJMRSwgR1JJRF9DT0xPUl9TRUxMX01PTklUT1IsIEdSSURfQ09MT1JfU0VMTF9UUklHR0VSRUQgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgRGVidWdMb2cgfSBmcm9tIFwiLi9yZW1vdGVfdXRpbFwiO1xuaW1wb3J0IHsgRXhjdXRlR3JpZENvbW1hbmQgfSBmcm9tIFwiLi9jb21tYW5kX3V0aWxcIjtcblxuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0dUViA9IFwiZ3R2LXZpZXdcIlxuXG5leHBvcnQgY2xhc3MgR1RWVmlldyBleHRlbmRzIFRleHRGaWxlVmlld1xue1xuICAgIGRhdGE6IHN0cmluZztcbiAgICBwbHVnaW5fZW52OiBQbHVnaW5FbnY7XG4gICAgcmVmcmVzaF9ldmVudF9ndWlkOiBudW1iZXI7XG4gICAgdmlld19ndWlkOiBudW1iZXI7XG5cbiAgICBzdG9ja190aWxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICBzdG9ja190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XG4gICAgcGFyYW1fdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xuICAgIHBhcmFtX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICB0cmFkaW5nX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICB0cmFkaW5nX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICByZWNvcmRfdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xuICAgIHJlY29yZF90YWJsZV9lbDogSFRNTEVsZW1lbnQ7XG4gICAgaW5jb21lX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICBpbmNvbWVfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xuICAgIGFuYWx5c2lzX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICBhbmFseXNpc190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XG4gICAgZGVidWdfbG9nX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICBkZWJ1Z19sb2dfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xuXG4gICAgY29tbWFuZF90ZXh0X2VsOiBIVE1MRWxlbWVudDtcbiAgICBjb21tYW5kX2lucHV0X2VsOiBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbW1hbmRfYnRuX2VsOiBIVE1MRWxlbWVudDtcbiAgICBjb21tYW5kX2xpc3RfZWw6IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luX2VudjogUGx1Z2luRW52KVxuICAgIHtcbiAgICAgICAgc3VwZXIobGVhZik7XG4gICAgICAgIHRoaXMucGx1Z2luX2VudiA9IHBsdWdpbl9lbnY7XG4gICAgICAgIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID0gLTE7XG4gICAgICAgIHRoaXMudmlld19ndWlkID0gcGx1Z2luX2Vudi5HZW5HVUlEKCk7XG4gICAgfVxuXG4gICAgZ2V0Vmlld0RhdGEoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH1cblxuICAgIHNldFZpZXdEYXRhKGRhdGE6IHN0cmluZywgY2xlYXI6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLlJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBjbGVhcigpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSBcIlwiO1xuICAgIH1cblxuICAgIGdldFZpZXdUeXBlKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9HVFY7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIG9uT3BlbigpOiBQcm9taXNlPHZvaWQ+IFxuICAgIHtcbiAgICAgICAgbGV0IGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmNvbW1hbmRfYnRuX2VsID0gZGl2LmNyZWF0ZUVsKFwiYnV0dG9uXCIpO1xuICAgICAgICB0aGlzLmNvbW1hbmRfYnRuX2VsLnNldFRleHQoXCJFeGN1dGVcIik7XG4gICAgICAgIHRoaXMuY29tbWFuZF9idG5fZWwub25DbGlja0V2ZW50KChldjogTW91c2VFdmVudCkgPT4ge3RoaXMuT25DbGlja0FkZFJlY29yZEJ0bihldiwgdGhpcy5jb21tYW5kX2lucHV0X2VsKX0pO1xuXG4gICAgICAgIHRoaXMuY29tbWFuZF9pbnB1dF9lbCA9IGRpdi5jcmVhdGVFbChcImlucHV0XCIpO1xuICAgICAgICB0aGlzLmNvbW1hbmRfaW5wdXRfZWwuZW1wdHkoKTtcbiAgICAgICAgdGhpcy5jb21tYW5kX2lucHV0X2VsLnNpemUgPSA3MDtcbiAgICAgICAgdGhpcy5jb21tYW5kX2lucHV0X2VsLnBsYWNlaG9sZGVyID0gXCJJbnB1dCB5b3VyIGNvbW1hbmRcIlxuXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnN0b2NrX3RpbGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcbiAgICAgICAgdGhpcy5zdG9ja190YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xuXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnBhcmFtX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XG4gICAgICAgIHRoaXMucGFyYW1fdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcblxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcbiAgICAgICAgdGhpcy50cmFkaW5nX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xuXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnJlY29yZF90aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xuICAgICAgICB0aGlzLnJlY29yZF90YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xuICBcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuaW5jb21lX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XG4gICAgICAgIHRoaXMuaW5jb21lX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XG5cbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuYW5hbHlzaXNfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcbiAgICAgICAgdGhpcy5hbmFseXNpc190YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpXG5cbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIilcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcblxuICAgICAgICB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA9IHRoaXMucGx1Z2luX2Vudi5TdWJzY3JpYmVFdmVudChGRVRDSF9DVVJSRU5UX1BSSUNFLCAoKT0+dGhpcy5SZWZyZXNoKCkpO1xuICAgIH1cblxuICAgIE9uQ2xpY2tBZGRSZWNvcmRCdG4oZXY6IE1vdXNlRXZlbnQsIGlucHV0X2VsOiBIVE1MRWxlbWVudClcbiAgICB7XG4gICAgICAgIHRyeVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gaW5wdXRfZWwudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBncmlkX2NtZCA9IEV4Y3V0ZUdyaWRDb21tYW5kKHRleHQpO1xuICAgICAgICAgICAgaWYgKGdyaWRfY21kLmVycm9yX2NvZGUgPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZF9jbWQuY29tbWFuZCA9PSBcImFkZF9yZWNvcmRcIilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YSArIGdyaWRfY21kLmRhdGFfcmVzdWx0X3N0cjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3RGF0YSh0aGlzLmRhdGEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGdyaWRfY21kLmNvbW1hbmQgPT0gXCJkZWxfcmVjb3JkXCIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRoaXMuZGF0YS5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleD0wOyBpbmRleCA8IGxpbmVzLmxlbmd0aDsgaW5kZXgrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVzW2luZGV4XS5zdGFydHNXaXRoKFwiQlVZLFwiKSB8fCBsaW5lc1tpbmRleF0uc3RhcnRzV2l0aChcIlNFTEwsXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPT0gZ3JpZF9jbWQuZGF0YV9yZXN1bHRfbnVtKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGxpbmVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBsaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdEYXRhKHRoaXMuZGF0YSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSlcbiAgICAgICAge1xuICAgICAgICAgICAgRGVidWdMb2coXCJDb21tYW5kIGhhcyBlcnJvciBcIiwgZSlcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcm90ZWN0ZWQgYXN5bmMgb25DbG9zZSgpOiBQcm9taXNlPHZvaWQ+XG4gICAge1xuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xuICAgICAgICBpZiAodGhpcy5yZWZyZXNoX2V2ZW50X2d1aWQgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuVW5zdWJzY3JpYmVFdmVudChGRVRDSF9DVVJSRU5UX1BSSUNFLCB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCk7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA9IC0xO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgUmVmcmVzaCgpXG4gICAge1xuICAgICAgICAvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTY4MDdcdTk4OThcdTRFMEVcdTg4NjhcdTY4M0NcbiAgICAgICAgdGhpcy5zdG9ja190aWxlX2VsLnNldFRleHQoXCJcdTY3MkFcdTc3RTVcdTY4MDdcdTc2ODRcIik7XG4gICAgICAgIHRoaXMuc3RvY2tfdGFibGVfZWwuZW1wdHkoKTtcbiAgICAgICAgdGhpcy5wYXJhbV90aXRsZV9lbC5zZXRUZXh0KFwiXHU3RjUxXHU2ODNDXHU1M0MyXHU2NTcwXCIpO1xuICAgICAgICB0aGlzLnBhcmFtX3RhYmxlX2VsLmVtcHR5KCk7XG4gICAgICAgIHRoaXMudHJhZGluZ190aXRsZV9lbC5zZXRUZXh0KFwiXHU0RUE0XHU2NjEzXHU3RjUxXHU2ODNDXCIpO1xuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVfZWwuZW1wdHkoKTtcbiAgICAgICAgdGhpcy5yZWNvcmRfdGl0bGVfZWwuc2V0VGV4dChcIlx1NEVBNFx1NjYxM1x1OEJCMFx1NUY1NVwiKTtcbiAgICAgICAgdGhpcy5yZWNvcmRfdGFibGVfZWwuZW1wdHkoKTtcbiAgICAgICAgdGhpcy5pbmNvbWVfdGl0bGVfZWwuc2V0VGV4dChcIlx1NjUzNlx1NzZDQVx1NTIwNlx1Njc5MFwiKTtcbiAgICAgICAgdGhpcy5pbmNvbWVfdGFibGVfZWwuZW1wdHkoKTtcbiAgICAgICAgdGhpcy5hbmFseXNpc190aXRsZV9lbC5zZXRUZXh0KFwiXHU1NkRFXHU2NEE0XHU1MjA2XHU2NzkwXCIpO1xuICAgICAgICB0aGlzLmFuYWx5c2lzX3RhYmxlX2VsLmVtcHR5KCk7XG4gICAgICAgIC8vIHRoaXMuZGVidWdfbG9nX3RpdGxlX2VsLnNldFRleHQoXCJcdThDMDNcdThCRDVcdTY1RTVcdTVGRDdcIik7XG4gICAgICAgIC8vIHRoaXMuZGVidWdfbG9nX3RhYmxlX2VsLmVtcHR5KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZmlsZSAhPSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtb2RlX3N0ciA9IHRoaXMuZGF0YS5zcGxpdChcIlxcblwiKVswXS5zcGxpdChcIixcIilbMF07XG4gICAgICAgICAgICBjb25zdCBncmlkX3RyYWRpbmcgPSB0aGlzLnBsdWdpbl9lbnYuR2V0QW5kR2VuR3JpZFRyYWRpbmcodGhpcy5maWxlLm5hbWUsIG1vZGVfc3RyKTtcbiAgICAgICAgICAgIGdyaWRfdHJhZGluZy5Jbml0R3JpZFRyYWRpbmcodGhpcy5kYXRhKTtcbiAgICAgICAgICAgIC8vIFx1NjgwN1x1NzY4NFx1NEZFMVx1NjA2RlxuICAgICAgICAgICAgdGhpcy5zdG9ja190aWxlX2VsLnNldFRleHQoZ3JpZF90cmFkaW5nLnN0b2NrX25hbWUpO1xuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUoZ3JpZF90cmFkaW5nLCB0aGlzLnN0b2NrX3RhYmxlX2VsLCBncmlkX3RyYWRpbmcuc3RvY2tfdGFibGUsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIFx1N0Y1MVx1NjgzQ1x1NTNDMlx1NjU3MFxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUoZ3JpZF90cmFkaW5nLCB0aGlzLnBhcmFtX3RhYmxlX2VsLCBncmlkX3RyYWRpbmcucGFyYW1fdGFibGUsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIFx1NEVBNFx1NjYxM1x1N0Y1MVx1NjgzQ1xuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUoZ3JpZF90cmFkaW5nLCB0aGlzLnRyYWRpbmdfdGFibGVfZWwsIGdyaWRfdHJhZGluZy50cmFkaW5nX3RhYmxlLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIFx1NEVBNFx1NjYxM1x1OEJCMFx1NUY1NVxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUoZ3JpZF90cmFkaW5nLCB0aGlzLnJlY29yZF90YWJsZV9lbCwgZ3JpZF90cmFkaW5nLnRyYWRpbmdfcmVjb3JkLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyBcdTY1MzZcdTc2Q0FcdTUyMDZcdTY3OTBcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5pbmNvbWVfdGFibGVfZWwsIGdyaWRfdHJhZGluZy50cmFkaW5nX2luY29tZSwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gXHU1NkRFXHU2NEE0XHU1MjA2XHU2NzkwXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZShncmlkX3RyYWRpbmcsIHRoaXMuYW5hbHlzaXNfdGFibGVfZWwsIGdyaWRfdHJhZGluZy50cmFkaW5nX2FuYWx5c2lzLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyBcdThDMDNcdThCRDVcdTRGRTFcdTYwNkZcbiAgICAgICAgICAgIC8vIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5kZWJ1Z19sb2dfdGFibGVfZWwsIGdyaWRfdHJhZGluZy5kZWJ1Z19sb2csIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIERpc3BsYXlUYWJsZShncmlkX3RyYWRpbmc6IEdyaWRUcmFkaW5nLCB0YWJsZV9lbDogSFRNTEVsZW1lbnQsIHRhYmxlOiBzdHJpbmdbXVtdLCBpc19jb2xvcjogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0YWJsZV9ib2R5ID0gdGFibGVfZWwuY3JlYXRlRWwoXCJ0Ym9keVwiKTtcbiAgICAgICAgICAgIHRhYmxlLmZvckVhY2goKHJvdywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlX3JvdyA9IHRhYmxlX2JvZHkuY3JlYXRlRWwoXCJ0clwiKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgcm93LmZvckVhY2goKGNlbGwsIGopID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGVfY2VsbCA9IHRhYmxlX3Jvdy5jcmVhdGVFbChcInRkXCIsIHsgdGV4dDogY2VsbCwgYXR0cjoge1wiYWxpZ25cIjogXCJyaWdodFwifX0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNfY29sb3IgJiYgaSA+IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgKGogPT0gMCAmJiBncmlkX3RyYWRpbmcuZGlzYWJsZV9yb3dzLmluY2x1ZGVzKGkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy97XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB0YWJsZV9jZWxsLnNldEF0dHIoXCJiZ0NvbG9yXCIsIEdSSURfQ09MT1JfRElTQUJMRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqIDw9NSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZF90cmFkaW5nLmJ1eV90cmlnZ2VyZWRfcm93cy5pbmNsdWRlcyhpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlX2NlbGwuc2V0QXR0cihcImJnQ29sb3JcIiwgR1JJRF9DT0xPUl9CVVlfVFJJR0dFUkVEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZy5idXlfbW9uaXRvcl9yb3dzLmluY2x1ZGVzKGkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfY2VsbC5zZXRBdHRyKFwiYmdDb2xvclwiLCBHUklEX0NPTE9SX0JVWV9NT05JVE9SKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZy5zZWxsX3RyaWdnZXJlZF9yb3dzLmluY2x1ZGVzKGkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfY2VsbC5zZXRBdHRyKFwiYmdDb2xvclwiLCBHUklEX0NPTE9SX1NFTExfVFJJR0dFUkVEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZy5zZWxsX21vbml0b3Jfcm93cy5pbmNsdWRlcyhpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlX2NlbGwuc2V0QXR0cihcImJnQ29sb3JcIiwgR1JJRF9DT0xPUl9TRUxMX01PTklUT1IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBEZWJ1Z0xvZyhcIkRpc3BsYXlUYWJsZSBlcnJvcjogXCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiLypcbiAgICBteW1hdGg6IFx1N0Y1MVx1NjgzQ1x1NUI5QVx1NTIzNlx1NjU3MFx1NUI2Nlx1NUU5MywgXHU1QkY5XHU1MzlGXHU3NTFGXHU3Njg0TWF0aFx1NUU5M1x1OEZEQlx1ODg0Q1x1NUMwMVx1ODhDNVx1RkYwQ1x1NEY3Rlx1NUY5N1x1OEJBMVx1N0I5N1x1OTAzQlx1OEY5MVx1NjZGNFx1NTJBMFx1N0IyNlx1NTQwOFx1N0Y1MVx1NjgzQ1x1NEVBNFx1NjYxM1x1ODlDNFx1NTIxOVxuKi9cblxuZXhwb3J0IGZ1bmN0aW9uIEZpeGVkUHJpY2UocHJpY2U6IG51bWJlciwgcGN0OiBudW1iZXIsIHByZWNpc2lvbjogbnVtYmVyKVxue1xuICAgIGNvbnN0IHNjYWxlID0gMTAgKiogcHJlY2lzaW9uO1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguZmxvb3IocHJpY2UgKiBzY2FsZSkgKiBNYXRoLmZsb29yKHBjdCAqIDEwMCkgLyAxMDApIC8gc2NhbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBbGlnblByaWNlKHByaWNlOiBudW1iZXIsIHByZWNpc2lvbjogbnVtYmVyKVxue1xuICAgIGNvbnN0IHNjYWxlID0gMTAgKiogcHJlY2lzaW9uO1xuICAgIHJldHVybiBNYXRoLmZsb29yKHByaWNlICogc2NhbGUpIC8gc2NhbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNeUZsb29yKG51bTogbnVtYmVyLCBzaW5nbGU6IG51bWJlcilcbntcbiAgICByZXR1cm4gTWF0aC5mbG9vcihudW0gLyBzaW5nbGUpICogc2luZ2xlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTXlDZWlsKG51bTogbnVtYmVyLCBzaW5nbGU6IG51bWJlcilcbntcbiAgICByZXR1cm4gTWF0aC5jZWlsKG51bSAvIHNpbmdsZSkgKiBzaW5nbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUb1BlcmNlbnQobnVtOiBudW1iZXIsIGNvdW50ID0gMCk6IHN0cmluZ1xue1xuICAgIHJldHVybiAobnVtICogMTAwKS50b0ZpeGVkKGNvdW50KSArIFwiJVwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVG9QZXJjZW50U3RyKG51bTogbnVtYmVyLCBjb3VudCA9IDApOiBzdHJpbmdcbntcbiAgICByZXR1cm4gbnVtLnRvRml4ZWQoY291bnQpICsgXCIlXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUb051bWJlcihwZXJjZW50OiBzdHJpbmcpOiBudW1iZXJcbntcbiAgICByZXR1cm4gTnVtYmVyKHBlcmNlbnQucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwLjA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUb1RyYWRpbmdHYXAoY3VycmVudF9wcmljZTogbnVtYmVyfHVuZGVmaW5lZCwgdGFyZ2V0X3ByaWNlOiBudW1iZXJ8dW5kZWZpbmVkLCBjb3VudD0wKTogc3RyaW5nXG57XG4gICAgaWYgKHRhcmdldF9wcmljZSA9PSB1bmRlZmluZWQgfHwgY3VycmVudF9wcmljZSA9PSB1bmRlZmluZWQgfHwgY3VycmVudF9wcmljZSA9PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiLVwiO1xuICAgIH1cbiAgICBjb25zdCBnYXAgPSBNYXRoLmFicyh0YXJnZXRfcHJpY2UgLSBjdXJyZW50X3ByaWNlKTtcbiAgICBpZiAodGFyZ2V0X3ByaWNlID4gY3VycmVudF9wcmljZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIitcIiArIFRvUGVyY2VudChnYXAgLyBjdXJyZW50X3ByaWNlLCBjb3VudCk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHJldHVybiBcIi1cIiArIFRvUGVyY2VudChnYXAgLyBjdXJyZW50X3ByaWNlLCBjb3VudCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNOdW1lcmljKHN0cjogc3RyaW5nKTogYm9vbGVhblxue1xuICAgIHJldHVybiAhaXNOYU4oTnVtYmVyKHN0cikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVGltZUR1YXJpb24oc3RhcnRfdGltZTogc3RyaW5nLCBlbmRfdGltZTogc3RyaW5nKTogbnVtYmVyXG57XG4gICAgLy8gXHU2NUY2XHU5NUY0XHU3NTI4XHU2ODA3XHU1MUM2XHU3Njg0XHU1QjU3XHU3QjI2XHU0RTMyXHU4ODY4XHU3OTNBOiBZWVlZLU1NLURELCBcdTZCQ0ZcdTRFMkFcdTY3MDhcdTYzMDlcdTcxNjczMFx1NTkyOVx1OEJBMVx1N0I5N1x1RkYwQ1x1OTc1RVx1N0NCRVx1Nzg2RVx1NjVGNlx1OTVGNFx1RkYwQ1x1NjVGNlx1OTVGNFx1OERFOFx1NUVBNlx1OEQ4QVx1NTkyN1x1OEJBMVx1N0I5N1x1OEQ4QVx1NEUwRFx1NTFDNlxuICAgIGNvbnN0IHN0aW1lcyA9IHN0YXJ0X3RpbWUuc3BsaXQoXCItXCIpO1xuICAgIGNvbnN0IGV0aW1lcyA9IGVuZF90aW1lLnNwbGl0KFwiLVwiKTtcbiAgICBjb25zdCB5ZGlmZiA9IE51bWJlcihldGltZXNbMF0pIC0gTnVtYmVyKHN0aW1lc1swXSlcbiAgICBjb25zdCBtZGlmZiA9IE51bWJlcihldGltZXNbMV0pICsgeWRpZmYgKiAxMiAtIE51bWJlcihzdGltZXNbMV0pXG4gICAgcmV0dXJuIE51bWJlcihldGltZXNbMl0pIC0gTnVtYmVyKHN0aW1lc1syXSkgKyBtZGlmZiAqIDMwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdmVyYWdlUHJpY2UoY29zdDogbnVtYmVyLCBjb3VudDogbnVtYmVyLCBzaW5nbGU6IG51bWJlcik6IG51bWJlclxue1xuICAgIHJldHVybiBNeUNlaWwoY29zdCAvIGNvdW50LCBzaW5nbGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU3RyaW5nUGx1cyhudW0xOiBzdHJpbmcsIG51bTI6IHN0cmluZywgc2luZ2xlOiBudW1iZXIpOiBzdHJpbmdcbntcbiAgICByZXR1cm4gU3RyaW5nKE15Rmxvb3IoTnVtYmVyKG51bTEpICsgTnVtYmVyKG51bTIpLCBzaW5nbGUpKTtcbn0iLCAiLypcbiAgICBcdTdGNTFcdTY4M0NcdTdCNTZcdTc1NjVcdTc2ODRcdThCQTFcdTdCOTdcdTkwM0JcdThGOTFcbiAgICBcdTU3RkFcdTdDN0JcdUZGMENcdTRFMERcdThEMUZcdThEMjNcdTdGNTFcdTY4M0NcdTc2ODRcdTRFQTRcdTY2MTNcdThCQTFcdTdCOTdcdUZGMENcdTVDMDFcdTg4QzVcdTdFREZcdTRFMDBcdTc2ODRcdTYzQTVcdTUzRTNcbiovXG5pbXBvcnQgeyBNZDUgfSBmcm9tIFwidHMtbWQ1L2Rpc3QvbWQ1XCI7XG5pbXBvcnQgeyBHcmlkVHJhZGluZ1NldHRpbmdzLCBHUklEX0NPTE9SX1NUT0NLX09WRVJWSUVXLCBHUklEX0NPTE9SX0JVWV9PVkVSVklFVywgR1JJRF9DT0xPUl9TRUxMX09WRVJWSUVXIH0gZnJvbSBcIi4vc2V0dGluZ3NcIlxuaW1wb3J0IHsgUEVSRklUX1RZUEVfTkFNRV9TVFIgfSBmcm9tIFwiLi9sYW5nX3N0clwiO1xuaW1wb3J0IHsgTXlGbG9vciwgTXlDZWlsLCBUb1BlcmNlbnQsIFRvTnVtYmVyLCBUb1RyYWRpbmdHYXAsIFRpbWVEdWFyaW9uLCBBdmVyYWdlUHJpY2UsIEZpeGVkUHJpY2UgfSBmcm9tIFwiLi9teW1hdGhcIjtcbmltcG9ydCB7IFBsdWdpbkVudiB9IGZyb20gXCIuL3BsdWdpbl9lbnZcIjtcbmltcG9ydCB7IERlYnVnTG9nIH0gZnJvbSBcIi4vcmVtb3RlX3V0aWxcIjtcblxuXG5leHBvcnQgY2xhc3MgR3JpZFRyYWRpbmcgXG57XG4gICAgcGx1Z2luX2VudjogUGx1Z2luRW52O1xuICAgIGdyaWRfc2V0dGluZ3M6IEdyaWRUcmFkaW5nU2V0dGluZ3M7XG4gICAgaXNfZW1wdHk6IGJvb2xlYW47XG4gICAgZGF0YV9tZDU6IHN0cmluZztcbiAgICBzdG9ja190YWJsZTogc3RyaW5nIFtdW107XG4gICAgcGFyYW1fdGFibGU6IHN0cmluZyBbXVtdO1xuICAgIHRyYWRpbmdfdGFibGU6IHN0cmluZyBbXVtdO1xuICAgIHRyYWRpbmdfYW5hbHlzaXM6IHN0cmluZyBbXVtdO1xuICAgIHRyYWRpbmdfcmVjb3JkOiBzdHJpbmcgW11bXTtcbiAgICB0cmFkaW5nX2luY29tZTogc3RyaW5nIFtdW107XG4gICAgc3RvY2tfYW5hbHlzaXM6IHN0cmluZyBbXVtdO1xuICAgIGRlYnVnX2xvZzogc3RyaW5nIFtdW107XG4gICAgbW9kZV90eXBlOiBzdHJpbmc7XG5cbiAgICB0YXJnZXRfc3RvY2s6IG51bWJlcjtcbiAgICBzdG9ja19uYW1lOiBzdHJpbmc7XG4gICAgbWFya2V0X2NvZGU6IHN0cmluZztcbiAgICBjdXJyZW50X3ByaWNlOiBudW1iZXI7XG4gICAgcmVtb3RlX2N1cnJlbnRfcHJpY2U6IG51bWJlcjtcbiAgICB0YXJnZXRfcHJpY2U6IG51bWJlcjtcbiAgICByYXdfdHJhZGluZ19yZWNvcmQ6IHN0cmluZyBbXVtdO1xuICAgIHJhd19zdG9ja19yZWNvcmQ6IHN0cmluZyBbXVtdO1xuICAgIGJ1eV9ncmlkX3JlY29yZDogc3RyaW5nIFtdO1xuICAgIHNncmlkX3N0ZXBfdGFibGU6IHN0cmluZyBbXVtdO1xuICAgIG1ncmlkX3N0ZXBfdGFibGU6IHN0cmluZyBbXVtdO1xuICAgIGxncmlkX3N0ZXBfdGFibGU6IHN0cmluZyBbXVtdO1xuXG4gICAgdG90YWxfcmV0YWluOiBudW1iZXI7XG4gICAgcmV0YWluX2Nvc3Q6IG51bWJlcjtcbiAgICB0b3RhbF9ob2xkOiBudW1iZXI7XG4gICAgdG90YWxfY29zdDogbnVtYmVyO1xuICAgIGJ1eV90cmlnZ2VyZWRfcm93czogbnVtYmVyIFtdO1xuICAgIHNlbGxfdHJpZ2dlcmVkX3Jvd3M6IG51bWJlciBbXTtcbiAgICBidXlfbW9uaXRvcl9yb3dzOiBudW1iZXIgW107XG4gICAgc2VsbF9tb25pdG9yX3Jvd3M6IG51bWJlciBbXTtcbiAgICBkaXNhYmxlX3Jvd3M6IG51bWJlciBbXTtcblxuICAgIHN0b2NrX292ZXJ2aWV3OiBzdHJpbmcgW107XG4gICAgc3RvY2tfYnV5X292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcbiAgICBzdG9ja19zZWxsX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcbiAgICBzdG9ja19wYXNzaXZlX2ZpbGxlZF9yZWNvcmQ6IHN0cmluZyBbXVtdO1xuICAgIHN0b2NrX2FjdGl2ZV9maWxsZWRfcmVjb3JkOiBzdHJpbmcgW11bXTtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbl9lbnY6IFBsdWdpbkVudilcbiAgICB7XG4gICAgICAgIHRoaXMucGx1Z2luX2VudiA9IHBsdWdpbl9lbnY7XG4gICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncyA9IHBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncy5DbG9uZSgpO1xuICAgICAgICB0aGlzLmRlYnVnX2xvZyA9IFtdXG4gICAgICAgIHRoaXMuZGF0YV9tZDUgPSBcIlwiO1xuICAgICAgICB0aGlzLmlzX2VtcHR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA9IC0xO1xuICAgIH1cblxuICAgIEluaXRHcmlkVHJhZGluZyhkYXRhOiBzdHJpbmcpXG4gICAge1xuXG4gICAgfVxuXG4gICAgVXBkYXRlUmVtb3RlUHJpY2UocmVtb3RlX3ByaWNlOiBudW1iZXIpXG4gICAge1xuXG4gICAgfVxuXG4gICAgRGVidWdMb2cobGV2ZWw6IHN0cmluZywgbG9nX3N0cjogc3RyaW5nLCBleHRyYV9pbmZvOiBzdHJpbmcpXG4gICAge1xuICAgICAgICB0aGlzLmRlYnVnX2xvZy5wdXNoKFtsZXZlbCwgbG9nX3N0ciwgZXh0cmFfaW5mb10pO1xuICAgIH1cblxuICAgIEdldFRyYWRpbmdUaXRsZSgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b2NrX25hbWUgKyBcIihcIiArIFN0cmluZyh0aGlzLnRhcmdldF9zdG9jaykgKyBcIilcIjtcbiAgICB9XG5cbiAgICBJc1N0b2NrKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmlzX2VtcHR5ID09IGZhbHNlICYmICh0aGlzLm1hcmtldF9jb2RlID09IFwic3pcIiB8fCB0aGlzLm1hcmtldF9jb2RlID09IFwic2hcIikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgSW5pdFRyYWRpbmdPdmVydmlldygpXG4gICAge1xuICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3ID0gW0dSSURfQ09MT1JfU1RPQ0tfT1ZFUlZJRVcsIFN0cmluZyh0aGlzLnRhcmdldF9zdG9jayksIHRoaXMuc3RvY2tfbmFtZSwgdGhpcy50YXJnZXRfcHJpY2UudG9GaXhlZCgzKSwgdGhpcy5jdXJyZW50X3ByaWNlLnRvRml4ZWQoMyksXG4gICAgICAgICAgICAgICAgVG9QZXJjZW50KHRoaXMuY3VycmVudF9wcmljZSAvIHRoaXMudGFyZ2V0X3ByaWNlLCAxKSwgU3RyaW5nKHRoaXMudG90YWxfaG9sZCksIFN0cmluZyh0aGlzLnRvdGFsX2Nvc3QpLFxuICAgICAgICAgICAgICAgIFRvVHJhZGluZ0dhcCh0aGlzLnRvdGFsX2Nvc3QsIHRoaXMudG90YWxfaG9sZCAqIHRoaXMuY3VycmVudF9wcmljZSwgMiksIFN0cmluZyh0aGlzLnRvdGFsX3JldGFpbildO1xuICAgICAgICB0aGlzLnN0b2NrX2J1eV9vdmVydmlldyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5idXlfbW9uaXRvcl9yb3dzLmxlbmd0aCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5idXlfbW9uaXRvcl9yb3dzLmxlbmd0aDsgaWR4KyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5idXlfbW9uaXRvcl9yb3dzW2lkeF07XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhZGluZ19nYXAgPSBUb1RyYWRpbmdHYXAodGhpcy5jdXJyZW50X3ByaWNlLCBOdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bM10pLCAyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX2J1eV9vdmVydmlldy5wdXNoKFtHUklEX0NPTE9SX0JVWV9PVkVSVklFVywgU3RyaW5nKHRoaXMudGFyZ2V0X3N0b2NrKSwgdGhpcy5zdG9ja19uYW1lLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVswXSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVsyXSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bM10sIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzRdLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs1XSwgdHJhZGluZ19nYXBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0b2NrX3NlbGxfb3ZlcnZpZXcgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLmxlbmd0aDsgaWR4KyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5zZWxsX21vbml0b3Jfcm93c1tpZHhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWRpbmdfZ2FwID0gVG9UcmFkaW5nR2FwKHRoaXMuY3VycmVudF9wcmljZSwgTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzddKSwgMik7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9ja19zZWxsX292ZXJ2aWV3LnB1c2goW0dSSURfQ09MT1JfU0VMTF9PVkVSVklFVywgU3RyaW5nKHRoaXMudGFyZ2V0X3N0b2NrKSwgdGhpcy5zdG9ja19uYW1lLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVswXSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs2XSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bN10sIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzhdLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs5XSwgdHJhZGluZ19nYXBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdG9ja19hY3RpdmVfZmlsbGVkX3JlY29yZC5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBcIlx1NjgwN1x1NzY4NFx1NTQwRFx1NzlGMFwiLCBcIlx1N0Y1MVx1NjgzQ1x1NzlDRFx1N0M3QlwiLCBcIlx1NEVBNFx1NjYxM1x1NjVFNVx1NjcxRlwiLCBcIlx1NEU3MFx1NTE2NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGRFx1NjU3MFwiLCBcIlx1NEU3MFx1NTE2NVx1OTFEMVx1OTg5RFwiLCBcIlx1NUY1M1x1NTI0RFx1NEVGN1x1NjgzQ1wiLCBcIlx1NjMwMVx1NEVEM1x1NjUzNlx1NzZDQVwiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGRFx1NjU3MFwiLCBcIlx1N0QyRlx1NzlFRlx1N0I3OVx1NzgwMVwiXG4gICAgICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMuc3RvY2tfYWN0aXZlX2ZpbGxlZF9yZWNvcmQubGVuZ3RoOyBpZHgrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLnN0b2NrX2FjdGl2ZV9maWxsZWRfcmVjb3JkW2lkeF07XG4gICAgICAgICAgICAgICAgcm93WzhdID0gU3RyaW5nKHRoaXMuY3VycmVudF9wcmljZSk7XG4gICAgICAgICAgICAgICAgcm93WzldID0gVG9UcmFkaW5nR2FwKE51bWJlcihyb3dbNV0pLCB0aGlzLmN1cnJlbnRfcHJpY2UpO1xuICAgICAgICAgICAgICAgIHJvd1sxMF0gPSBTdHJpbmcoTXlDZWlsKE51bWJlcihyb3dbN10pIC8gdGhpcy5jdXJyZW50X3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKSk7XG4gICAgICAgICAgICAgICAgcm93WzExXSA9IFN0cmluZyhOdW1iZXIocm93WzZdKSAtIE51bWJlcihyb3dbMTBdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdG9ja19wYXNzaXZlX2ZpbGxlZF9yZWNvcmQubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gXCJcdTY4MDdcdTc2ODRcdTRFRTNcdTUzRjdcIiwgXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTVGNTNcdTUyNERcdTRFRjdcdTY4M0NcIiwgXCJcdTVGNTNcdTUyNERcdThEQ0NcdTVFNDVcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTZEQThcdTVFNDVcIlxuICAgICAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLnN0b2NrX3Bhc3NpdmVfZmlsbGVkX3JlY29yZC5sZW5ndGg7IGlkeCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMuc3RvY2tfcGFzc2l2ZV9maWxsZWRfcmVjb3JkW2lkeF07XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JpZF9yb3cgPSB0aGlzLkZpbmRUcmFkaW5nR3JpZFJvdyhyb3dbM10pO1xuICAgICAgICAgICAgICAgIGlmIChncmlkX3Jvdy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcm93WzNdID0gZ3JpZF9yb3dbMF07XG4gICAgICAgICAgICAgICAgICAgIHJvd1s0XSA9IGdyaWRfcm93WzFdO1xuICAgICAgICAgICAgICAgICAgICByb3dbNV0gPSBncmlkX3Jvd1szXTtcbiAgICAgICAgICAgICAgICAgICAgcm93WzZdID0gZ3JpZF9yb3dbNF07XG4gICAgICAgICAgICAgICAgICAgIHJvd1s3XSA9IGdyaWRfcm93WzVdO1xuICAgICAgICAgICAgICAgICAgICByb3dbOF0gPSBTdHJpbmcodGhpcy5jdXJyZW50X3ByaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgcm93WzldID0gVG9UcmFkaW5nR2FwKE51bWJlcihyb3dbNV0pLCB0aGlzLmN1cnJlbnRfcHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICByb3dbMTBdID0gZ3JpZF9yb3dbN107XG4gICAgICAgICAgICAgICAgICAgIHJvd1sxMV0gPSBUb1RyYWRpbmdHYXAodGhpcy5jdXJyZW50X3ByaWNlLCBOdW1iZXIocm93WzEwXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIFBhcnNlUmF3RGF0YShkYXRhOiBzdHJpbmcpOiBib29sZWFuXG4gICAge1xuICAgICAgICBjb25zdCBuZXdfbWQ1ID0gTWQ1Lmhhc2hTdHIoZGF0YSk7XG4gICAgICAgIGlmIChuZXdfbWQ1ID09PSB0aGlzLmRhdGFfbWQ1KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhX21kNSA9IG5ld19tZDU7XG4gICAgICAgIC8vIDE1OTg2OSxcdTZFMzhcdTYyMEZFVEYsc3osMSwwLjk1XG4gICAgICAgIGNvbnN0IGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgY29uc3Qgc3RycyA9IGxpbmVzWzBdLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgdGhpcy50YXJnZXRfc3RvY2sgPSBOdW1iZXIoc3Ryc1sxXSk7XG4gICAgICAgIHRoaXMuc3RvY2tfbmFtZSA9IHN0cnNbMl07XG4gICAgICAgIHRoaXMubWFya2V0X2NvZGUgPSBzdHJzWzNdO1xuICAgICAgICB0aGlzLnRhcmdldF9wcmljZSA9IE51bWJlcihzdHJzWzRdKTtcbiAgICAgICAgdGhpcy5jdXJyZW50X3ByaWNlID0gTnVtYmVyKHN0cnNbNV0pO1xuICAgICAgICB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID0gdGhpcy5wbHVnaW5fZW52LkdldFN0b2NrUmVtb3RlUHJpY2Uoc3Ryc1sxXSk7XG4gICAgICAgIGlmICh0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3ByaWNlID0gdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCQVNFLDEwMDAwLDAuNjcsMC4wMDUsMC4wMDEsMTAwLDAuMVxuICAgICAgICAvLyBTVEVQLDAuMDUsMC4wNSw0LDAuMjIsMC4yLDIsMC41MiwwLjUsMVxuICAgICAgICAvLyBCVVksMjAyNC0wMS0yMyxcdTVDMEZcdTdGNTEwXG4gICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncyA9IHRoaXMucGx1Z2luX2Vudi5ncmlkX3NldHRpbmdzLkNsb25lKCk7XG4gICAgICAgIHRoaXMucmF3X3RyYWRpbmdfcmVjb3JkID0gW107XG4gICAgICAgIHRoaXMuYnV5X2dyaWRfcmVjb3JkID0gW107XG4gICAgICAgIHRoaXMuc2dyaWRfc3RlcF90YWJsZSA9IFtdO1xuICAgICAgICB0aGlzLm1ncmlkX3N0ZXBfdGFibGUgPSBbXTtcbiAgICAgICAgdGhpcy5sZ3JpZF9zdGVwX3RhYmxlID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeD0xOyBpZHggPCBsaW5lcy5sZW5ndGg7IGlkeCsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzdHJzID0gbGluZXNbaWR4XS5zcGxpdChcIixcIik7XG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIkJVWVwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmF3X3RyYWRpbmdfcmVjb3JkLnB1c2goW3N0cnNbMF0sIHN0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1eV9ncmlkX3JlY29yZC5wdXNoKHN0cnNbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJTRUxMXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYXdfdHJhZGluZ19yZWNvcmQucHVzaChbc3Ryc1swXSwgc3Ryc1sxXSwgc3Ryc1syXSwgc3Ryc1szXSwgc3Ryc1s0XV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYnV5X2dyaWRfcmVjb3JkLnJlbW92ZShzdHJzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiU0hBUkVcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhd190cmFkaW5nX3JlY29yZC5wdXNoKFtzdHJzWzBdLCBzdHJzWzFdLCBzdHJzWzJdLCBzdHJzWzNdLCBzdHJzWzRdXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIkJBU0VcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuVW5wYWNrQmFzZShzdHJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiU1RFUFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5VbnBhY2tTdGVwKHN0cnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJTR1JJRFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2dyaWRfc3RlcF90YWJsZS5wdXNoKFtzdHJzWzFdLCBzdHJzWzJdLCBzdHJzWzNdLCBzdHJzWzRdXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIk1HUklEXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZ3JpZF9zdGVwX3RhYmxlLnB1c2goW3N0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiTEdSSURcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxncmlkX3N0ZXBfdGFibGUucHVzaChbc3Ryc1sxXSwgc3Ryc1syXSwgc3Ryc1szXSwgc3Ryc1s0XV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIEluaXRTdG9ja1RhYmxlKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGNsZWFyX3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgMS4wICsgdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENULCB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT04pO1xuICAgICAgICBjb25zdCBtaW5pX3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTklNVU1fQlVZX1BDVCwgdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OKTtcbiAgICAgICAgdGhpcy5zdG9ja190YWJsZSA9IFtcbiAgICAgICAgICAgIFtcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spXSxcbiAgICAgICAgICAgIFtcIlx1NjgwN1x1NzY4NFx1NTQwRFx1NzlGMFwiLCB0aGlzLnN0b2NrX25hbWVdLFxuICAgICAgICAgICAgW1wiXHU3RjUxXHU2ODNDXHU2QTIxXHU1RjBGXCIsIHRoaXMubW9kZV90eXBlXSxcbiAgICAgICAgICAgIFtcIlx1NUY1M1x1NTI0RFx1NEVGN1x1NjgzQ1wiLCBTdHJpbmcodGhpcy5jdXJyZW50X3ByaWNlKV0sXG4gICAgICAgICAgICBbXCJcdTRFRjdcdTY4M0NcdTc2N0VcdTUyMDZcdTRGNERcIiwgVG9QZXJjZW50KHRoaXMuY3VycmVudF9wcmljZSAvIHRoaXMudGFyZ2V0X3ByaWNlLCAxKV0sXG4gICAgICAgICAgICBbXCJcdTZFMDVcdTY4M0NcdTYyNDBcdTk3MDBcdTZEQThcdTVFNDVcIiwgVG9UcmFkaW5nR2FwKHRoaXMuY3VycmVudF9wcmljZSwgY2xlYXJfcHJpY2UsIDEpXSxcbiAgICAgICAgICAgIFtcIlx1NjcwMFx1NEY0RVx1NEU3MFx1NTE2NVx1NEVGN1wiLCBTdHJpbmcobWluaV9wcmljZSldLFxuICAgICAgICAgICAgW1wiXHU1MDVDXHU2ODNDXHU1MjY5XHU0RjU5XHU4RENDXHU1RTQ1XCIsIFRvVHJhZGluZ0dhcCh0aGlzLmN1cnJlbnRfcHJpY2UsIG1pbmlfcHJpY2UpXSxcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBJbml0R3JpZFBhcmFtKClcbiAgICB7XG4gICAgICAgIHRoaXMucGFyYW1fdGFibGUgPSBbXG4gICAgICAgICAgICBbXCJcdTk5OTZcdTdGNTFcdTc2RUVcdTY4MDdcdTRFRjdcIiwgU3RyaW5nKHRoaXMudGFyZ2V0X3ByaWNlKSwgXCJcdTY3MDBcdTRGNEVcdTRFNzBcdTUxNjVcdTRFRjdcIiwgU3RyaW5nKEZpeGVkUHJpY2UodGhpcy50YXJnZXRfcHJpY2UsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5JTVVNX0JVWV9QQ1QsIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTikpLCBcIlx1OTk5Nlx1N0Y1MVx1NzZFRVx1NjgwN1x1OTFEMVx1OTg5RFwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLk9ORV9HUklEX0xJTUlUKV0sXG4gICAgICAgICAgICBbXCJcdTY3MDBcdTU5MjdcdTU2REVcdTY0QTRcdTUwM0NcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKSwgXCJcdTY3MDBcdTRGNEVcdTRFNzBcdTUxNjVcdTRGNERcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5JTVVNX0JVWV9QQ1QpLCBcIlx1NjcwMFx1NTkyN1x1NkRBOFx1OERDQ1x1NUU0NVwiLCBUb1BlcmNlbnQodGhpcy5ncmlkX3NldHRpbmdzLk1BWF9SSVNFX1BDVCldLFxuICAgICAgICAgICAgW1wiXHU4OUU2XHU1M0QxXHU0RUY3XHU1MkEwXHU3MEI5XCIsIFN0cmluZyh0aGlzLmdyaWRfc2V0dGluZ3MuVFJJR0dFUl9BRERfUE9JTlQpLCBcIlx1NkJDRlx1NjI0Qlx1NEVGRFx1NjU3MFx1OTg5RFwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLk1JTl9CQVRDSF9DT1VOVCksIFwiXHU0RUE0XHU2NjEzXHU0RUY3XHU3Q0JFXHU1RUE2XCIsIFN0cmluZyh0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT04pXSxcbiAgICAgICAgICAgIFtcIlx1NUMwRlx1N0Y1MVx1NkI2NVx1OEZEQlx1NTAzQ1wiLCBUb1BlcmNlbnQodGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENUKSwgXCJcdTRFMkRcdTdGNTFcdTZCNjVcdThGREJcdTUwM0NcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCksIFwiXHU1OTI3XHU3RjUxXHU2QjY1XHU4RkRCXHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QpXSxcbiAgICAgICAgICAgIFtcIlx1NjI5NVx1NTE2NVx1OEZGRFx1NTJBMFx1NTAzQ1wiLCBUb1BlcmNlbnQodGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX0FERF9QQ1QpLCBcIlx1NjI5NVx1NTE2NVx1OEZGRFx1NTJBMFx1NTAzQ1wiLCBUb1BlcmNlbnQodGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX0FERF9QQ1QpLCBcIlx1NjI5NVx1NTE2NVx1OEZGRFx1NTJBMFx1NTAzQ1wiLCBUb1BlcmNlbnQodGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX0FERF9QQ1QpXSxcbiAgICAgICAgICAgIFtcIlx1NEZERFx1NzU1OVx1NTIyOVx1NkRBNlx1NjU3MFwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1JFVEFJTl9DT1VOVCksIFwiXHU0RkREXHU3NTU5XHU1MjI5XHU2REE2XHU2NTcwXCIsIFN0cmluZyh0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfUkVUQUlOX0NPVU5UKSwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIiwgU3RyaW5nKHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9SRVRBSU5fQ09VTlQpXSxcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBJbml0VHJhZGluZ0FuYWx5c2lzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHByaWNlID0gdGhpcy50YXJnZXRfcHJpY2U7XG4gICAgICAgIGNvbnN0IHJpc2VfcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENUO1xuICAgICAgICBjb25zdCB0YWJsZTpBcnJheTxBcnJheTxzdHJpbmc+PiA9IHRoaXMudHJhZGluZ190YWJsZTtcbiAgICAgICAgZnVuY3Rpb24gQW5hbHlzaXMoc2x1bXBfcGN0OiBudW1iZXIpIFxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdG90YWxfY29zdCA9IDA7XG4gICAgICAgICAgICBsZXQgdG90YWxfYW1vdW50ID0gMDtcbiAgICAgICAgICAgIGxldCB0b3RhbF9zZWxsID0gMDtcbiAgICAgICAgICAgIGxldCB0b3RhbF9nYWluID0gMDtcbiAgICAgICAgICAgIGNvbnN0IG1pbl9wcmljZSA9IHByaWNlICogKDEgLSBzbHVtcF9wY3QpO1xuICAgICAgICAgICAgY29uc3QgbWF4X3ByaWNlID0gcHJpY2UgKiAoMSArIHJpc2VfcGN0KTtcblxuICAgICAgICAgICAgdGFibGUuZm9yRWFjaCgocm93OkFycmF5PHN0cmluZz4sIGk6bnVtYmVyKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpID4gMCAmJiBUb051bWJlcihyb3dbMV0pID49IDEuMCAtIHNsdW1wX3BjdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX2Nvc3QgPSB0b3RhbF9jb3N0ICsgTnVtYmVyKHJvd1s1XSk7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX2Ftb3VudCA9IHRvdGFsX2Ftb3VudCArIE51bWJlcihyb3dbNF0pO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbF9nYWluID0gdG90YWxfZ2FpbiArIE51bWJlcihyb3dbOV0pO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbF9zZWxsID0gdG90YWxfc2VsbCArIE51bWJlcihyb3dbOF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgY29zdF9wcmljZSA9ICh0b3RhbF9jb3N0IC0gdG90YWxfZ2FpbikgLyAodG90YWxfYW1vdW50IC0gdG90YWxfc2VsbCk7XG4gICAgICAgICAgICBjb25zdCBnYWluX21vbmV5ID0gTWF0aC5mbG9vcihtYXhfcHJpY2UgKiAodG90YWxfYW1vdW50IC0gdG90YWxfc2VsbCkgLSAodG90YWxfY29zdCAtIHRvdGFsX2dhaW4pKTtcbiAgICAgICAgICAgIHJldHVybiBbVG9QZXJjZW50KHNsdW1wX3BjdCkgKyBcIihcIiArIG1pbl9wcmljZS50b0ZpeGVkKDMpICsgXCIpXCIsXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyh0b3RhbF9jb3N0KSwgU3RyaW5nKHRvdGFsX2Ftb3VudCksIFN0cmluZyhNYXRoLmNlaWwodG90YWxfYW1vdW50ICogbWluX3ByaWNlKSksXG4gICAgICAgICAgICAgICAgICAgICh0b3RhbF9jb3N0L3RvdGFsX2Ftb3VudCkudG9GaXhlZCgzKSwgU3RyaW5nKE1hdGguY2VpbCh0b3RhbF9jb3N0IC0gdG90YWxfYW1vdW50ICogbWluX3ByaWNlKSksXG4gICAgICAgICAgICAgICAgICAgICgodG90YWxfY29zdCAtIHRvdGFsX2Ftb3VudCAqIG1pbl9wcmljZSkgLyB0b3RhbF9jb3N0ICogMTAwKS50b0ZpeGVkKDIpICsgXCIlXCIsXG4gICAgICAgICAgICAgICAgICAgICgodG90YWxfY29zdCAvIHRvdGFsX2Ftb3VudCAtIG1pbl9wcmljZSkgLyBtaW5fcHJpY2UgKiAxMDApLnRvRml4ZWQoMikgKyBcIiVcIixcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHRvdGFsX2Ftb3VudCAtIHRvdGFsX3NlbGwpLCBTdHJpbmcoTWF0aC5mbG9vcihtYXhfcHJpY2UgKiAodG90YWxfYW1vdW50IC0gdG90YWxfc2VsbCkpKSwgU3RyaW5nKHRvdGFsX2Nvc3QgLSB0b3RhbF9nYWluKSxcbiAgICAgICAgICAgICAgICAgICAgY29zdF9wcmljZS50b0ZpeGVkKDMpLCAoKG1heF9wcmljZSAtIGNvc3RfcHJpY2UpIC8gY29zdF9wcmljZSAqIDEwMCkudG9GaXhlZCgyKSArIFwiJVwiLCBTdHJpbmcoZ2Fpbl9tb25leSksIChnYWluX21vbmV5IC8gdG90YWxfY29zdCAqIDEwMCkudG9GaXhlZCgyKSArIFwiJVwiXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhZGluZ19hbmFseXNpcyA9IFtcbiAgICAgICAgICAgIFtcIlx1NEU4Rlx1NjM1Rlx1NTIwNlx1Njc5MFwiLCBcIlx1NTZERVx1NjRBNFx1NkJENFx1NEY4QlwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NjI5NVx1NTE2NVx1OEQ0NFx1OTFEMVwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NjMwMVx1NEVEM1x1NEVGRFx1OTg5RFwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NjMwMVx1NEVEM1x1OTFEMVx1OTg5RFwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NjMwMVx1NEVEM1x1NjIxMFx1NjcyQ1wiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NEU4Rlx1NjM1Rlx1OTFEMVx1OTg5RFwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NEU4Rlx1NjM1Rlx1NkJENFx1NEY4QlwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NjI0MFx1OTcwMFx1NkRBOFx1NUU0NVwiXSxcbiAgICAgICAgICAgIFtcIlx1NTNDRFx1NUYzOVx1NzZDOFx1NTIyOVwiLCBcIlx1NjMwMVx1NEVEM1x1NEVGRFx1OTg5RFwiXSxcbiAgICAgICAgICAgIFsocHJpY2UgKiAoMSArIHJpc2VfcGN0KSkudG9GaXhlZCgzKSwgXCJcdTYzMDFcdTRFRDNcdTkxRDFcdTk4OURcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDFcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTYzMDFcdTRFRDNcdTYyMTBcdTY3MkNcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTZENkVcdTc2QzhcdTZCRDRcdTRGOEJcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTdGNTFcdTY4M0NcdTc2QzhcdTUyMjlcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTYwM0JcdTZENkVcdTc2QzhcdTZCRDRcIl0sXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3Qgc2x1bXBfcGN0czogbnVtYmVyIFtdID0gWzIwLCAzMCwgNDAsIDUwLCA2MCwgNzAsIDgwXTtcbiAgICAgICAgZm9yIChjb25zdCBwY3Qgb2Ygc2x1bXBfcGN0cylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gQW5hbHlzaXMocGN0IC8gMTAwLjApO1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDxyZXN1bHQubGVuZ3RoOyBpZHgrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfYW5hbHlzaXNbaWR4XS5wdXNoKHJlc3VsdFtpZHhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIEluaXRUcmFkaW5nUmVjb3JkKClcbiAgICB7XG4gICAgICAgIHRoaXMudG90YWxfcmV0YWluID0gMDtcbiAgICAgICAgdGhpcy5yZXRhaW5fY29zdCA9IDA7XG4gICAgICAgIHRoaXMudG90YWxfY29zdCA9IDA7XG4gICAgICAgIHRoaXMudG90YWxfaG9sZCA9IDA7XG4gICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQgPSBbW1wiXHU0RUE0XHU2NjEzXHU2NUI5XHU1NDExXCIsIFwiXHU0RUE0XHU2NjEzXHU2NUU1XHU2NzFGXCIsIFwiXHU3RjUxXHU2ODNDXHU3QzdCXHU1NzhCXCIsIFwiXHU0RUE0XHU2NjEzXHU0RUY3XHU2ODNDXCIsIFwiXHU0RUE0XHU2NjEzXHU4MEExXHU2NTcwXCIsIFwiXHU2RDg4XHU4MDE3XHU2NzJDXHU5MUQxXCIsIFwiXHU3RDJGXHU3OUVGXHU3Qjc5XHU3ODAxXCIsIFwiXHU2MzAxXHU0RUQzXHU2NUY2XHU5NTdGXCJdXTtcbiAgICAgICAgdGhpcy5zdG9ja19wYXNzaXZlX2ZpbGxlZF9yZWNvcmQgPSBbXTtcbiAgICAgICAgdGhpcy5zdG9ja19hY3RpdmVfZmlsbGVkX3JlY29yZCA9IFtdO1xuICAgICAgICBsZXQgcmF3X3JlY29yZCA9IFsuLi4gdGhpcy5yYXdfdHJhZGluZ19yZWNvcmRdO1xuICAgICAgICBsZXQgY3Vyc29yID0gMDtcbiAgICAgICAgd2hpbGUgKGN1cnNvciA8IHJhd19yZWNvcmQubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocmF3X3JlY29yZFtjdXJzb3JdWzBdID09IFwiQlVZXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHNjdXJzb3IgPSAtMTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpZHg9Y3Vyc29yOyBpZHg8cmF3X3JlY29yZC5sZW5ndGg7IGlkeCsrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbaWR4XVswXSA9PSBcIlNFTExcIiAmJiByYXdfcmVjb3JkW2lkeF1bMl0gPT0gcmF3X3JlY29yZFtjdXJzb3JdWzJdKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3Vyc29yID0gaWR4O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjdXJzb3IgPj0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFx1OEJBMVx1N0I5N1x1NEZERFx1NzU1OVx1NEVGRFx1NjU3MC9cdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDEvXHU2MzAxXHU0RUQzXHU2NUY2XHU5NUY0XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldGFpbl9jb3VudCA9IE1hdGguZmxvb3IoTnVtYmVyKHJhd19yZWNvcmRbY3Vyc29yXVs0XSkgLSBOdW1iZXIocmF3X3JlY29yZFtzY3Vyc29yXVs0XSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3N0X2NvdW50ID0gTWF0aC5mbG9vcihOdW1iZXIocmF3X3JlY29yZFtjdXJzb3JdWzNdKSAqIE51bWJlcihyYXdfcmVjb3JkW2N1cnNvcl1bNF0pIC0gTnVtYmVyKHJhd19yZWNvcmRbc2N1cnNvcl1bM10pICogTnVtYmVyKHJhd19yZWNvcmRbc2N1cnNvcl1bNF0pKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZV9kID0gVGltZUR1YXJpb24ocmF3X3JlY29yZFtjdXJzb3JdWzFdLCByYXdfcmVjb3JkW3NjdXJzb3JdWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbF9yZXRhaW4gPSB0aGlzLnRvdGFsX3JldGFpbiArIHJldGFpbl9jb3VudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXRhaW5fY29zdCA9IHRoaXMucmV0YWluX2Nvc3QgKyBjb3N0X2NvdW50O1xuICAgICAgICAgICAgICAgICAgICAvLyBcdThCQjBcdTVGNTVcdTYyMTBcdTVCRjlcdTc2ODRcdTRFNzBcdTUzNTZcdThCQjBcdTVGNTVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtyYXdfcmVjb3JkW2N1cnNvcl1bMF0sIHJhd19yZWNvcmRbY3Vyc29yXVsxXSwgcmF3X3JlY29yZFtjdXJzb3JdWzJdLCByYXdfcmVjb3JkW2N1cnNvcl1bM10sIHJhd19yZWNvcmRbY3Vyc29yXVs0XSwgU3RyaW5nKGNvc3RfY291bnQpXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtzY3Vyc29yXVswXSwgcmF3X3JlY29yZFtzY3Vyc29yXVsxXSwgcmF3X3JlY29yZFtzY3Vyc29yXVsyXSwgcmF3X3JlY29yZFtzY3Vyc29yXVszXSwgcmF3X3JlY29yZFtzY3Vyc29yXVs0XSwgXCItLVwiLCBTdHJpbmcocmV0YWluX2NvdW50KSwgU3RyaW5nKHRpbWVfZCkrXCJcdTU5MjlcIl0pO1xuICAgICAgICAgICAgICAgICAgICByYXdfcmVjb3JkLnNwbGljZShjdXJzb3IsIDEpO1xuICAgICAgICAgICAgICAgICAgICByYXdfcmVjb3JkLnNwbGljZShzY3Vyc29yIC0gMSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJzb3IrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHJhd19yZWNvcmQubGVuZ3RoOyBpZHgrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbaWR4XVswXSA9PSBcIkJVWVwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvc3RfY291bnQgPSBNYXRoLmZsb29yKE51bWJlcihyYXdfcmVjb3JkW2lkeF1bM10pICogTnVtYmVyKHJhd19yZWNvcmRbaWR4XVs0XSkpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtpZHhdWzBdLCByYXdfcmVjb3JkW2lkeF1bMV0sIHJhd19yZWNvcmRbaWR4XVsyXSwgcmF3X3JlY29yZFtpZHhdWzNdLCByYXdfcmVjb3JkW2lkeF1bNF0sIFN0cmluZyhjb3N0X2NvdW50KV0pO1xuICAgICAgICAgICAgICAgIHRoaXMudG90YWxfY29zdCA9IHRoaXMudG90YWxfY29zdCArIGNvc3RfY291bnQ7XG4gICAgICAgICAgICAgICAgaWYgKE51bWJlcihyYXdfcmVjb3JkW2lkeF1bM10pID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxfaG9sZCA9IHRoaXMudG90YWxfaG9sZCArIE51bWJlcihyYXdfcmVjb3JkW2lkeF1bNF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKHJhd19yZWNvcmRbaWR4XVszXSkgPT0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfcGFzc2l2ZV9maWxsZWRfcmVjb3JkLnB1c2goW0dSSURfQ09MT1JfQlVZX09WRVJWSUVXLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spLCB0aGlzLnN0b2NrX25hbWUsIHJhd19yZWNvcmRbaWR4XVsyXSwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyYXdfcmVjb3JkW2lkeF1bMl0uc3RhcnRzV2l0aChcIlx1ODg2NVx1NEVEM1wiKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfYWN0aXZlX2ZpbGxlZF9yZWNvcmQucHVzaChbR1JJRF9DT0xPUl9TRUxMX09WRVJWSUVXLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spLCB0aGlzLnN0b2NrX25hbWUsIHJhd19yZWNvcmRbaWR4XVsyXSwgcmF3X3JlY29yZFtpZHhdWzFdLCByYXdfcmVjb3JkW2lkeF1bM10sIHJhd19yZWNvcmRbaWR4XVs0XSwgU3RyaW5nKGNvc3RfY291bnQpLCBcIlwiLCBcIlwiLCBcIlwiXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbaWR4XVswXSA9PSBcIlNIQVJFXCIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF3X3JlY29yZFtpZHhdWzJdID09IFwiXHU3RUEyXHU1MjI5XCIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhaW5fY291bnQgPSBNYXRoLmZsb29yKE51bWJlcihyYXdfcmVjb3JkW2lkeF1bM10pICogTnVtYmVyKHJhd19yZWNvcmRbaWR4XVs0XSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtyYXdfcmVjb3JkW2lkeF1bMF0sIHJhd19yZWNvcmRbaWR4XVsxXSwgcmF3X3JlY29yZFtpZHhdWzJdLCByYXdfcmVjb3JkW2lkeF1bM10sIHJhd19yZWNvcmRbaWR4XVs0XSwgXCItXCIgKyBTdHJpbmcoZ2Fpbl9jb3VudCldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV0YWluX2Nvc3QgPSB0aGlzLnJldGFpbl9jb3N0IC0gZ2Fpbl9jb3VudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmF3X3JlY29yZFtpZHhdWzJdID09IFwiXHU2MkM2XHU4MEExXCIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtpZHhdWzBdLCByYXdfcmVjb3JkW2lkeF1bMV0sIHJhd19yZWNvcmRbaWR4XVsyXSwgcmF3X3JlY29yZFtpZHhdWzNdLCByYXdfcmVjb3JkW2lkeF1bNF0sIFwiLS1cIiwgcmF3X3JlY29yZFtpZHhdWzRdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsX3JldGFpbiA9IHRoaXMudG90YWxfcmV0YWluICsgTnVtYmVyKHJhd19yZWNvcmRbaWR4XVs0XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtyYXdfcmVjb3JkW2lkeF1bMF0sIHJhd19yZWNvcmRbaWR4XVsxXSwgcmF3X3JlY29yZFtpZHhdWzJdLCByYXdfcmVjb3JkW2lkeF1bM10sIHJhd19yZWNvcmRbaWR4XVs0XV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvdGFsX2hvbGQgPSB0aGlzLnRvdGFsX2hvbGQgKyB0aGlzLnRvdGFsX3JldGFpbjtcbiAgICAgICAgdGhpcy50b3RhbF9jb3N0ID0gdGhpcy50b3RhbF9jb3N0ICsgdGhpcy5yZXRhaW5fY29zdDtcbiAgICAgICAgaWYgKHRoaXMudG90YWxfY29zdCAhPSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfcmVjb3JkLnB1c2goW1wiQ29zdFwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBTdHJpbmcodGhpcy50b3RhbF9jb3N0KSwgXCJcIiwgXCJcIl0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRvdGFsX3JldGFpbiAgPD0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbXCJSZXRhaW5cIiwgXCJcIiwgXCJcIiwgXCJcIiwgU3RyaW5nKHRoaXMudG90YWxfaG9sZCksIFwiXCIsICBTdHJpbmcodGhpcy50b3RhbF9yZXRhaW4pLCBcIlwiXSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRfcGN0ID0gTXlDZWlsKHRoaXMuY3VycmVudF9wcmljZSAvIHRoaXMudGFyZ2V0X3ByaWNlLCAwLjAwMSk7XG4gICAgICAgIGZvciAobGV0IGluZGV4PTE7IGluZGV4PD0zOyBpbmRleCsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLkdlbmVyYXRlQ2xlYXJSb3coUEVSRklUX1RZUEVfTkFNRV9TVFIsIGluZGV4LCB0aGlzLmdyaWRfc2V0dGluZ3MuQ0xFQVJfU1RFUF9QQ1QsIE15Rmxvb3IodGhpcy50b3RhbF9yZXRhaW4gLyAzLCAxMDApKTtcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZS5wdXNoKHJvdyk7XG4gICAgICAgICAgICBpZiAoY3VycmVudF9wY3QgKyB0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1JJU0VfUENUID49IFRvTnVtYmVyKHJvd1sxXSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEluaXRUcmFkaW5nSW5jb21lKClcbiAgICB7XG4gICAgICAgIHRoaXMudHJhZGluZ19pbmNvbWUgPSBbXTtcbiAgICAgICAgdGhpcy50cmFkaW5nX2luY29tZS5wdXNoKFtcIlwiLCBcIlx1NjMwMVx1NEVEM1x1ODBBMVx1NjU3MFwiLCBcIlx1NTM2MFx1NzUyOFx1NjcyQ1x1OTFEMVwiLCBcIlx1NjMwMVx1NEVEM1x1NTc0N1x1NEVGN1wiLCBcIlx1NUI5RVx1OTY0NVx1OTFEMVx1OTg5RFwiLCBcIlx1NUI5RVx1OTY0NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NjMwMVx1NEVEM1x1NzZDOFx1NEU4RlwiLCBcIlx1NzZDOFx1NEU4Rlx1NkJENFx1NEY4QlwiLCBcIlx1NjI5NVx1NTE2NVx1OEQ0NFx1OTFEMVwiLCBcIlx1NjI5NVx1NTE2NVx1NzZDOFx1NEU4RlwiXSk7XG4gICAgICAgIHRoaXMudHJhZGluZ19pbmNvbWUucHVzaCh0aGlzLkdlbmVyYXRlSW5jb21lUm93KFwiXHU1RjUzXHU1MjREXHU2MzAxXHU0RUQzXCIsIHRoaXMudG90YWxfaG9sZCwgdGhpcy50b3RhbF9jb3N0LCB0aGlzLmN1cnJlbnRfcHJpY2UsIHRoaXMudG90YWxfY29zdCkpO1xuICAgICAgICB0aGlzLnRyYWRpbmdfaW5jb21lLnB1c2godGhpcy5HZW5lcmF0ZUluY29tZVJvdyhcIlx1N0QyRlx1NzlFRlx1N0I3OVx1NzgwMVwiLCB0aGlzLnRvdGFsX3JldGFpbiwgdGhpcy5yZXRhaW5fY29zdCwgdGhpcy5jdXJyZW50X3ByaWNlLCB0aGlzLnJldGFpbl9jb3N0KSk7XG4gICAgICAgIGNvbnN0IG1pbmltdW1fcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLk1JTklNVU1fQlVZX1BDVDtcbiAgICAgICAgY29uc3QgY2xlYXJfcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLkNMRUFSX1NURVBfUENUO1xuICAgICAgICBsZXQgbWF4X2Nvc3QgPSB0aGlzLnRvdGFsX2Nvc3Q7XG4gICAgICAgIGxldCBtYXhfY291bnQgPSB0aGlzLnRvdGFsX2hvbGQ7XG4gICAgICAgIGxldCBlbXB0eV9jb3N0ID0gdGhpcy50b3RhbF9jb3N0O1xuICAgICAgICBsZXQgZW1wdHlfY291bnQgPSB0aGlzLnRvdGFsX2hvbGQ7XG4gICAgICAgIGxldCBlbXB0eV9wcmljZSA9IDA7XG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZS5mb3JFYWNoKChyb3c6QXJyYXk8c3RyaW5nPiwgaTpudW1iZXIpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbaV1bMF0pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVtcHR5X2Nvc3QgPSBlbXB0eV9jb3N0IC0gTnVtYmVyKHJvd1s5XSk7XG4gICAgICAgICAgICAgICAgZW1wdHlfY291bnQgPSBlbXB0eV9jb3VudCAtIE51bWJlcihyb3dbOF0pO1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIocm93WzddKSA+IGVtcHR5X3ByaWNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZW1wdHlfcHJpY2UgPSBOdW1iZXIocm93WzddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwICYmIFRvTnVtYmVyKHJvd1sxXSkgPj0gbWluaW11bV9wY3QpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtYXhfY29zdCA9IG1heF9jb3N0ICsgTnVtYmVyKHJvd1s1XSk7XG4gICAgICAgICAgICAgICAgICAgIG1heF9jb3VudCA9IG1heF9jb3VudCArIE51bWJlcihyb3dbNF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJhZGluZ19pbmNvbWUucHVzaCh0aGlzLkdlbmVyYXRlSW5jb21lUm93KFwiXHU2NzAwXHU1OTI3XHU1NkRFXHU2NEE0XCIsIG1heF9jb3VudCwgbWF4X2Nvc3QsIHRoaXMudGFyZ2V0X3ByaWNlICogbWluaW11bV9wY3QsIG1heF9jb3N0KSk7XG4gICAgICAgIHRoaXMudHJhZGluZ19pbmNvbWUucHVzaCh0aGlzLkdlbmVyYXRlSW5jb21lUm93KFwiXHU1M0NEXHU1RjM5XHU2RTA1XHU2ODNDXCIsIGVtcHR5X2NvdW50LCBlbXB0eV9jb3N0LCBlbXB0eV9wcmljZSwgdGhpcy50b3RhbF9jb3N0KSk7XG4gICAgICAgIGNvbnN0IGNsZWFyX3ByaWNlID0gTnVtYmVyKCgodGhpcy5DYWxjQ2xlYXJQcmljZShjbGVhcl9wY3QsIDEpICsgdGhpcy5DYWxjQ2xlYXJQcmljZShjbGVhcl9wY3QsIDIpICsgdGhpcy5DYWxjQ2xlYXJQcmljZShjbGVhcl9wY3QsIDMpKSAvIDMpLnRvRml4ZWQodGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OKSk7XG4gICAgICAgIHRoaXMudHJhZGluZ19pbmNvbWUucHVzaCh0aGlzLkdlbmVyYXRlSW5jb21lUm93KFwiXHU4M0I3XHU1MjI5XHU2RTA1XHU3NkQ4XCIsIGVtcHR5X2NvdW50LCBlbXB0eV9jb3N0LCBjbGVhcl9wcmljZSwgdGhpcy50b3RhbF9jb3N0KSk7XG4gICAgfVxuXG4gICAgR2VuZXJhdGVDbGVhclJvdyhncmlkX25hbWU6IHN0cmluZywgaWR4OiBudW1iZXIsIGdyaWRfc3RlcF9wY3Q6IG51bWJlciwgc2VsbF9jb3VudDogbnVtYmVyKTogc3RyaW5nW11cbiAgICB7XG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTjtcbiAgICAgICAgY29uc3QgcHJpY2Vfc3RlcCA9IE1hdGguZmxvb3IoKDEwMCArIE1hdGguZmxvb3IoZ3JpZF9zdGVwX3BjdCAqIDEwMCkpICoqIGlkeCAvIDEwMCAqKiAoaWR4IC0xKSkgLyAxMDA7XG4gICAgICAgIGNvbnN0IHNlbGxfcHJpY2UgPSBGaXhlZFByaWNlKHRoaXMudGFyZ2V0X3ByaWNlLCBwcmljZV9zdGVwLCBwcmVjaXNpb24pO1xuICAgICAgICByZXR1cm4gW2dyaWRfbmFtZSArIFN0cmluZyhpZHgpLCBUb1BlcmNlbnQocHJpY2Vfc3RlcCksIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIChzZWxsX3ByaWNlIC0gdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKHByZWNpc2lvbiksXG4gICAgICAgICAgICAgICAgc2VsbF9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksIFN0cmluZyhzZWxsX2NvdW50KSwgU3RyaW5nKE1hdGguY2VpbChzZWxsX3ByaWNlICogc2VsbF9jb3VudCkpLCBcIi1cIiwgXCIrXCIgKyBUb1BlcmNlbnQoZ3JpZF9zdGVwX3BjdCldXG4gICAgfVxuXG4gICAgR2VuZXJhdGVJbmNvbWVSb3coZ3JpZF9uYW1lOiBzdHJpbmcsIHRvdGFsX2NvdW50OiBudW1iZXIsIHRvdGFsX2Nvc3Q6IG51bWJlciwgcmVhbF9wcmljZTogbnVtYmVyLCBtYXhfY29zdDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgLy8gW1wiXCIsIFwiXHU2MzAxXHU0RUQzXHU4MEExXHU2NTcwXCIsIFwiXHU1MzYwXHU3NTI4XHU2NzJDXHU5MUQxXCIsIFwiXHU2MzAxXHU0RUQzXHU1NzQ3XHU0RUY3XCIsIFwiXHU1QjlFXHU5NjQ1XHU5MUQxXHU5ODlEXCIsIFwiXHU1QjlFXHU5NjQ1XHU0RUY3XHU2ODNDXCIsIFwiXHU2MzAxXHU0RUQzXHU3NkM4XHU0RThGXCIsIFwiXHU3NkM4XHU0RThGXHU2QkQ0XHU0RjhCXCIsIFwiXHU2Mjk1XHU1MTY1XHU4RDQ0XHU5MUQxXCIsIFwiXHU2Mjk1XHU1MTY1XHU3NkM4XHU0RThGXCJdXG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTjtcbiAgICAgICAgY29uc3QgcmVhbF9jb3N0ID0gTXlGbG9vcih0b3RhbF9jb3VudCAqIHJlYWxfcHJpY2UsIDEpO1xuICAgICAgICBjb25zdCByZWFsX21heCA9IHJlYWxfY29zdCAtIHRvdGFsX2Nvc3QgKyBtYXhfY29zdDtcbiAgICAgICAgcmV0dXJuIFtncmlkX25hbWUsIFN0cmluZyh0b3RhbF9jb3VudCksIFN0cmluZyh0b3RhbF9jb3N0KSwgKHRvdGFsX2Nvc3QgLyBNYXRoLm1heCh0b3RhbF9jb3VudCwgMSkpLnRvRml4ZWQocHJlY2lzaW9uKSxcbiAgICAgICAgICAgICAgICBTdHJpbmcocmVhbF9jb3N0KSwgcmVhbF9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksIFN0cmluZyhyZWFsX2Nvc3QgLSB0b3RhbF9jb3N0KSwgVG9UcmFkaW5nR2FwKHRvdGFsX2Nvc3QsIHJlYWxfY29zdCwgMiksIFN0cmluZyhtYXhfY29zdCksIFRvVHJhZGluZ0dhcChtYXhfY29zdCwgcmVhbF9tYXgsIDIpXTtcbiAgICB9XG5cbiAgICBDYWxjQ2xlYXJQcmljZShzdGVwX3BjdDogbnVtYmVyLCBzdGVwX2lkeDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xuICAgICAgICBjb25zdCBwcmljZV9zdGVwID0gTWF0aC5mbG9vcigoMTAwICsgTWF0aC5mbG9vcihzdGVwX3BjdCAqIDEwMCkpICoqIHN0ZXBfaWR4IC8gMTAwICoqIChzdGVwX2lkeCAtMSkpIC8gMTAwO1xuICAgICAgICByZXR1cm4gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgcHJpY2Vfc3RlcCwgcHJlY2lzaW9uKTtcbiAgICB9XG5cbiAgICBJc05lZWRNb25pdG9yKHRhYmxlX2luZGV4OiBudW1iZXIsIGlzX3NlbGw6IGJvb2xlYW4sIGN1cnJlbnRfcHJpY2U6IG51bWJlciwgbWF4X3Jpc2VfcGN0OiBudW1iZXIpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoaXNfc2VsbClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU4OTgxXHU2MzAyXHU1MzU2XHU1MUZBXHU3NkQxXHU2M0E3XHU1MzU1XG4gICAgICAgICAgICBjb25zdCBzZWxsX3ByaWNlID0gTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVt0YWJsZV9pbmRleF1bN10pO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRfcHJpY2UgKiAoMS4wICsgbWF4X3Jpc2VfcGN0KSA+PSBzZWxsX3ByaWNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1ODk4MVx1NjMwMlx1NEU3MFx1NTE2NVx1NzZEMVx1NjNBN1x1NTM1NVxuICAgICAgICAgICAgY29uc3QgYnV5X3ByaWNlID0gTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVt0YWJsZV9pbmRleF1bM10pO1xuICAgICAgICAgICAgaWYgKGJ1eV9wcmljZSA8IHRoaXMudGFyZ2V0X3ByaWNlICogdGhpcy5ncmlkX3NldHRpbmdzLk1JTklNVU1fQlVZX1BDVClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudF9wcmljZSAqICgxLjAgLSBtYXhfcmlzZV9wY3QpIDw9IGJ1eV9wcmljZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBJc0Rpc2FibGVSb3codGFibGVfaW5kZXg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHByaWNlX3BjdCA9IFRvTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVt0YWJsZV9pbmRleF1bMV0pO1xuICAgICAgICBpZiAocHJpY2VfcGN0IDwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTklNVU1fQlVZX1BDVClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBGaW5kVHJhZGluZ0dyaWRSb3coZ3JpZF9uYW1lOiBzdHJpbmcpOiBzdHJpbmcgW11cbiAgICB7XG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aDsgaWR4KyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWRpbmdfdGFibGVbaWR4XVswXSA9PSBncmlkX25hbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhZGluZ190YWJsZVtpZHhdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBTb3J0VHJhZGluZ1RhYmxlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoIDw9IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGUucHVzaChbXCJcdTUwNUNcdTZCNjJcdTdFQkZcIiwgXCIwJVwiLF0pO1xuICAgICAgICBsZXQgbW92ZV9pZHggPSAwO1xuICAgICAgICBsZXQgbW92ZV9yb3cgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpZHg9MTsgaWR4PHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGg7IGlkeCsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFkaW5nX3RhYmxlW2lkeF1bMV0gPT0gXCIwJVwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuSXNEaXNhYmxlUm93KGlkeCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW92ZV9pZHggPSBpZHg7XG4gICAgICAgICAgICAgICAgbW92ZV9yb3cgPSB0aGlzLnRyYWRpbmdfdGFibGVbbW92ZV9pZHhdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeDI9bW92ZV9pZHg7IGlkeDI8dGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aCAtIDE7IGlkeDIrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtpZHgyXSA9IHRoaXMudHJhZGluZ190YWJsZVtpZHgyICsgMV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9tb25pdG9yX3Jvd3MuaW5kZXhPZihpZHgyKzEpICE9IC0xKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3NbdGhpcy5idXlfbW9uaXRvcl9yb3dzLmluZGV4T2YoaWR4MisxKV0gPSBpZHgyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5pbmRleE9mKGlkeDIrMSkgIT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzW3RoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLmluZGV4T2YoaWR4MisxKV0gPSBpZHgyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLmluZGV4T2YoaWR4MisxKSAhPSAtMSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93c1t0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLmluZGV4T2YoaWR4MisxKV0gPSBpZHgyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MuaW5kZXhPZihpZHgyKzEpICE9IC0xKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmluZGV4T2YoaWR4MisxKV0gPSBpZHgyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVt0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoLTFdID0gbW92ZV9yb3c7XG4gICAgICAgICAgICAgICAgaWR4LS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwgIi8qXG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU4QkExXHU3Qjk3XHU5MDNCXHU4RjkxXHVGRjBDXHU2QTIxXHU1RjBGMVx1RkYwQ1x1OUVEOFx1OEJBNFx1NkEyMVx1NUYwRlxuICAgIFx1NjMwOVx1NzE2N1x1NUMwRlx1NEUyRFx1NTkyN1x1NEUwRFx1NTQwQ1x1NzY4NFx1NjMwN1x1NUI5QVx1NkI2NVx1OEZEQlx1NTAzQ1xuKi9cbmltcG9ydCB7IFNHUklEX1RZUEVfTkFNRV9TVFIsIE1HUklEX1RZUEVfTkFNRV9TVFIsIExHUklEX1RZUEVfTkFNRV9TVFIsIFBFUkZJVF9UWVBFX05BTUVfU1RSIH0gZnJvbSBcIi4vbGFuZ19zdHJcIjtcbmltcG9ydCB7IE15Rmxvb3IsIE15Q2VpbCwgVG9QZXJjZW50LCBUb051bWJlciwgVG9UcmFkaW5nR2FwLCBGaXhlZFByaWNlLCBUb1BlcmNlbnRTdHIgfSBmcm9tIFwiLi9teW1hdGhcIjtcbmltcG9ydCB7IFBsdWdpbkVudiB9IGZyb20gXCIuL3BsdWdpbl9lbnZcIjtcbmltcG9ydCB7IERlYnVnTG9nIH0gZnJvbSBcIi4vcmVtb3RlX3V0aWxcIjtcbmltcG9ydCB7IEdyaWRUcmFkaW5nIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nXCI7XG5cblxuZXhwb3J0IGNsYXNzIEdyaWRUcmFkaW5nTW9kZU9uZSBleHRlbmRzIEdyaWRUcmFkaW5nIFxue1xuXG4gICAgY29uc3RydWN0b3IocGx1Z2luX2VudjogUGx1Z2luRW52KVxuICAgIHtcbiAgICAgICAgc3VwZXIocGx1Z2luX2VudilcbiAgICAgICAgdGhpcy5tb2RlX3R5cGUgPSBcIk9uZVwiO1xuICAgIH1cblxuICAgIEluaXRHcmlkVHJhZGluZyhkYXRhOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5QYXJzZVJhd0RhdGEoZGF0YSkgfHwgdGhpcy5pc19lbXB0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pc19lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5Jbml0U3RvY2tUYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5Jbml0R3JpZFBhcmFtKCk7XG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nVGFibGUoKTtcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdSZWNvcmQoKTtcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdJbmNvbWUoKTtcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xuICAgICAgICAgICAgdGhpcy5Tb3J0VHJhZGluZ1RhYmxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBVcGRhdGVSZW1vdGVQcmljZShyZW1vdGVfcHJpY2U6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2UgPSByZW1vdGVfcHJpY2U7XG4gICAgICAgIGlmICh0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID4gMCAmJiB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlICE9IHRoaXMuY3VycmVudF9wcmljZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3ByaWNlID0gdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZTtcbiAgICAgICAgICAgIHRoaXMuaXNfZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuSW5pdFN0b2NrVGFibGUoKTtcbiAgICAgICAgICAgIHRoaXMuSW5pdEdyaWRQYXJhbSgpO1xuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1RhYmxlKCk7XG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nSW5jb21lKCk7XG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nQW5hbHlzaXMoKTtcbiAgICAgICAgICAgIHRoaXMuU29ydFRyYWRpbmdUYWJsZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgSW5pdFRyYWRpbmdUYWJsZSgpXG4gICAge1xuICAgICAgICB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cyA9IFtdXG4gICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cyA9IFtdXG4gICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cyA9IFtdXG4gICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MgPSBbXVxuICAgICAgICB0aGlzLmRpc2FibGVfcm93cyA9IFtdXG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZSA9IFtdXG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZVswXSA9IFtcIlx1N0Y1MVx1NjgzQ1x1NzlDRFx1N0M3QlwiLCBcIlx1NEVGN1x1NjgzQ1x1Njg2M1x1NEY0RFwiLCBcIlx1NEU3MFx1NTE2NVx1ODlFNlx1NTNEMVx1NEVGN1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGRFx1NjU3MFwiLCBcIlx1NEU3MFx1NTE2NVx1OTFEMVx1OTg5RFwiLCBcIlx1NTM1Nlx1NTFGQVx1ODlFNlx1NTNEMVx1NEVGN1wiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGN1x1NjgzQ1wiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGRFx1NjU3MFwiLCBcIlx1NTM1Nlx1NTFGQVx1OTFEMVx1OTg5RFwiLCBcIlx1NzZGOFx1NUJGOVx1OERDQ1x1NUU0NVwiLCBcIlx1NzZGOFx1NUJGOVx1NkRBOFx1NUU0NVwiXTtcblxuICAgICAgICBjb25zdCBzY291bnQgPSBNYXRoLmZsb29yKHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUIC8gdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENUKTtcbiAgICAgICAgY29uc3QgbWNvdW50ID0gTWF0aC5mbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCAvIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCk7XG4gICAgICAgIGNvbnN0IGxjb3VudCA9IE1hdGguZmxvb3IodGhpcy5ncmlkX3NldHRpbmdzLk1BWF9TTFVNUF9QQ1QgLyB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QpO1xuICAgICAgICBjb25zdCBtYXhfcmlzZV9wY3QgPSB0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1JJU0VfUENUO1xuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PD1zY291bnQ7IGlkeCsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbaWR4ICsgMV0gPSB0aGlzLkdlbmVyYXRlT25lUm93KFNHUklEX1RZUEVfTkFNRV9TVFIsIGlkeCwgdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENULFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfUkVUQUlOX0NPVU5ULCB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfQUREX1BDVCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbaWR4ICsgMV1bMF0pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goaWR4ICsgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2goaWR4ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5Jc0Rpc2FibGVSb3coaWR4ICsgMSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MucHVzaChpZHggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gXHU1QzBGXHU3RjUxXG4gICAgICAgICAgICBjb25zdCBsYXN0X2J1eSA9IHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzW3RoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGxhc3RfYnV5IDwgc2NvdW50ICsgMSkgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9idXkgKyAxKTtcbiAgICAgICAgICAgIGxldCBsYXN0X3NlbGwgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XG4gICAgICAgICAgICBpZiAobGFzdF9zZWxsKSB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfcyA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihsYXN0X3NlbGxfcywgdHJ1ZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NUMwRlx1N0Y1MVx1NzY4NFx1OTk5Nlx1N0Y1MVx1NEU3MFx1NTE2NVxuICAgICAgICAgICAgY29uc3QgZmlyc3RfYnV5ID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IoZmlyc3RfYnV5LCBmYWxzZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGZpcnN0X2J1eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeDw9bWNvdW50OyBpZHgrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW3Njb3VudCArIDEgKyBpZHhdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhNR1JJRF9UWVBFX05BTUVfU1RSLCBpZHgsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1JFVEFJTl9DT1VOVCwgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX0FERF9QQ1QpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW3Njb3VudCArIDEgKyBpZHhdWzBdKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5wdXNoKHNjb3VudCArIDEgKyBpZHgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHNjb3VudCArIDEgKyBpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NEUyRFx1N0Y1MVx1NEU3MFx1NTM1NVx1NzZEMVx1NjNBN1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3Ioc2NvdW50ICsgMSArIGlkeCwgZmFsc2UsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKHNjb3VudCArIDEgKyBpZHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhzY291bnQgKyAxICsgaWR4KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVfcm93cy5wdXNoKHNjb3VudCArIDEgKyBpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdID4gc2NvdW50ICsgMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1MzU2XHU1MzU1XHU3NkQxXHU2M0E3XG4gICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfbSA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGxhc3Rfc2VsbF9tLCB0cnVlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnJlbW92ZShsYXN0X3NlbGxfbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpZHg9MTsgaWR4PD1sY291bnQ7IGlkeCsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbc2NvdW50ICsgMSArIG1jb3VudCArIGlkeF0gPSB0aGlzLkdlbmVyYXRlT25lUm93KExHUklEX1RZUEVfTkFNRV9TVFIsIGlkeCwgdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfUkVUQUlOX0NPVU5ULCB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfQUREX1BDVCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbc2NvdW50ICsgMSArIG1jb3VudCArIGlkeF1bMF0pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goc2NvdW50ICsgMSArIG1jb3VudCArIGlkeCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2goc2NvdW50ICsgMSArIG1jb3VudCArIGlkeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1OTI3XHU3RjUxXHU0RTcwXHU1MzU1XHU3NkQxXHU2M0E3XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihzY291bnQgKyAxICsgbWNvdW50LCBmYWxzZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goc2NvdW50ICsgMSArIG1jb3VudCArIGlkeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuSXNEaXNhYmxlUm93KHNjb3VudCArIDEgKyBtY291bnQgKyBpZHgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzLnB1c2goc2NvdW50ICsgMSArIG1jb3VudCArIGlkeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwICYmIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV0gPiBzY291bnQgKyAxICsgbWNvdW50KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcbiAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9sID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IobGFzdF9zZWxsX2wsIHRydWUsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucmVtb3ZlKGxhc3Rfc2VsbF9sKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX2wpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgR2VuZXJhdGVPbmVSb3coZ3JpZF9uYW1lOiBzdHJpbmcsIGlkeDogbnVtYmVyLCBncmlkX3N0ZXBfcGN0OiBudW1iZXIsIGdyaWRfcmV0YWluX2NvdW50OiBudW1iZXIsIGdyaWRfYWRkX3BjdDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xuICAgICAgICBjb25zdCBidXlfcHJpY2Vfc3RlcCA9IDEwMCAtIGlkeCAqIE1hdGguZmxvb3IoZ3JpZF9zdGVwX3BjdCAqIDEwMCk7XG4gICAgICAgIGNvbnN0IGJ1eV9wcmljZSA9IEZpeGVkUHJpY2UodGhpcy50YXJnZXRfcHJpY2UsIGJ1eV9wcmljZV9zdGVwIC8gMTAwLCBwcmVjaXNpb24pO1xuICAgICAgICBjb25zdCBidXlfY291bnQgPSBNeUZsb29yKHRoaXMuZ3JpZF9zZXR0aW5ncy5PTkVfR1JJRF9MSU1JVCAqICgxICsgaWR4ICogZ3JpZF9hZGRfcGN0KSAvIGJ1eV9wcmljZSwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTl9CQVRDSF9DT1VOVClcblxuICAgICAgICBjb25zdCBzZWxsX3ByaWNlX3N0ZXAgPSBidXlfcHJpY2Vfc3RlcCArIE1hdGguZmxvb3IoZ3JpZF9zdGVwX3BjdCAqIDEwMCk7XG4gICAgICAgIGNvbnN0IHNlbGxfcHJpY2UgPSBGaXhlZFByaWNlKHRoaXMudGFyZ2V0X3ByaWNlLCBzZWxsX3ByaWNlX3N0ZXAgLyAxMDAsIHByZWNpc2lvbik7XG4gICAgICAgIGNvbnN0IHJldGFpbl9jb3VudCA9IChzZWxsX3ByaWNlIC0gYnV5X3ByaWNlKSAqIGJ1eV9jb3VudCAqIGdyaWRfcmV0YWluX2NvdW50O1xuICAgICAgICBjb25zdCBzZWxsX2NvdW50ID0gTXlGbG9vcigoc2VsbF9wcmljZSAqIGJ1eV9jb3VudCAtIHJldGFpbl9jb3VudCkgLyBzZWxsX3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKTtcblxuICAgICAgICByZXR1cm4gW2dyaWRfbmFtZSArIFN0cmluZyhpZHgpLCBUb1BlcmNlbnRTdHIoYnV5X3ByaWNlX3N0ZXApLCAoYnV5X3ByaWNlICsgdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKHByZWNpc2lvbiksIFxuICAgICAgICAgICAgICAgIGJ1eV9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksIFN0cmluZyhidXlfY291bnQpLCBTdHJpbmcoTWF0aC5jZWlsKGJ1eV9wcmljZSAqIGJ1eV9jb3VudCkpLFxuICAgICAgICAgICAgICAgIChzZWxsX3ByaWNlIC0gdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKHByZWNpc2lvbiksIHNlbGxfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLFxuICAgICAgICAgICAgICAgIFN0cmluZyhzZWxsX2NvdW50KSwgU3RyaW5nKE1hdGguY2VpbChzZWxsX3ByaWNlICogc2VsbF9jb3VudCkpLCBUb1RyYWRpbmdHYXAoc2VsbF9wcmljZSwgYnV5X3ByaWNlLCAxKSxcbiAgICAgICAgICAgICAgICBUb1RyYWRpbmdHYXAoYnV5X3ByaWNlLCBzZWxsX3ByaWNlLCAxKV07XG4gICAgfVxufSIsICIvKlxuICAgIFx1N0Y1MVx1NjgzQ1x1N0I1Nlx1NzU2NVx1NzY4NFx1OEJBMVx1N0I5N1x1OTAzQlx1OEY5MVx1RkYwQ1x1NkEyMVx1NUYwRjJcbiAgICBcdTZBMjFcdTVGMEYxXHU3Njg0XHU1N0ZBXHU3ODQwXHU0RTBBXHU5MDFBXHU4RkM3XHU1MjA2XHU2QkI1XHU3QjU2XHU3NTY1XHU0RjdGXHU1Rjk3XHU1QzBGXHU3RjUxXHU3Njg0XHU2QjY1XHU4RkRCXHU1MDNDXHU2NkY0XHU1MkEwXHU1NzQ3XHU4ODYxXG4qL1xuaW1wb3J0IHsgU0dSSURfVFlQRV9OQU1FX1NUUiwgTUdSSURfVFlQRV9OQU1FX1NUUiwgTEdSSURfVFlQRV9OQU1FX1NUUiB9IGZyb20gXCIuL2xhbmdfc3RyXCI7XG5pbXBvcnQgeyBNeUZsb29yLCBNeUNlaWwsIFRvUGVyY2VudCwgVG9OdW1iZXIsIFRvVHJhZGluZ0dhcCwgRml4ZWRQcmljZSB9IGZyb20gXCIuL215bWF0aFwiO1xuaW1wb3J0IHsgUGx1Z2luRW52IH0gZnJvbSBcIi4vcGx1Z2luX2VudlwiO1xuaW1wb3J0IHsgRGVidWdMb2cgfSBmcm9tIFwiLi9yZW1vdGVfdXRpbFwiO1xuaW1wb3J0IHsgR3JpZFRyYWRpbmcgfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdcIjtcblxuXG5leHBvcnQgY2xhc3MgR3JpZFRyYWRpbmdNb2RlVHdvIGV4dGVuZHMgR3JpZFRyYWRpbmcgXG57XG5cbiAgICBjb25zdHJ1Y3RvcihwbHVnaW5fZW52OiBQbHVnaW5FbnYpXG4gICAge1xuICAgICAgICBzdXBlcihwbHVnaW5fZW52KVxuICAgICAgICB0aGlzLm1vZGVfdHlwZSA9IFwiVHdvXCI7XG4gICAgfVxuXG4gICAgSW5pdEdyaWRUcmFkaW5nKGRhdGE6IHN0cmluZylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLlBhcnNlUmF3RGF0YShkYXRhKSB8fCB0aGlzLmlzX2VtcHR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLkluaXRTdG9ja1RhYmxlKCk7XG4gICAgICAgICAgICB0aGlzLkluaXRHcmlkUGFyYW0oKTtcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdUYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1JlY29yZCgpO1xuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0luY29tZSgpO1xuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0FuYWx5c2lzKCk7XG4gICAgICAgICAgICB0aGlzLlNvcnRUcmFkaW5nVGFibGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFVwZGF0ZVJlbW90ZVByaWNlKHJlbW90ZV9wcmljZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA9IHJlbW90ZV9wcmljZTtcbiAgICAgICAgaWYgKHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2UgPiAwICYmIHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2UgIT0gdGhpcy5jdXJyZW50X3ByaWNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfcHJpY2UgPSB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlO1xuICAgICAgICAgICAgdGhpcy5pc19lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5Jbml0U3RvY2tUYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5Jbml0R3JpZFBhcmFtKCk7XG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nVGFibGUoKTtcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdSZWNvcmQoKTtcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdJbmNvbWUoKTtcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xuICAgICAgICAgICAgdGhpcy5Tb3J0VHJhZGluZ1RhYmxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBJbml0VHJhZGluZ1RhYmxlKClcbiAgICB7XG4gICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzID0gW11cbiAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzID0gW11cbiAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzID0gW11cbiAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cyA9IFtdXG4gICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzID0gW11cbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlID0gW11cbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlWzBdID0gW1wiXHU3RjUxXHU2ODNDXHU3OUNEXHU3QzdCXCIsIFwiXHU0RUY3XHU2ODNDXHU2ODYzXHU0RjREXCIsIFwiXHU0RTcwXHU1MTY1XHU4OUU2XHU1M0QxXHU0RUY3XCIsIFwiXHU0RTcwXHU1MTY1XHU0RUY3XHU2ODNDXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUZEXHU2NTcwXCIsIFwiXHU0RTcwXHU1MTY1XHU5MUQxXHU5ODlEXCIsIFwiXHU1MzU2XHU1MUZBXHU4OUU2XHU1M0QxXHU0RUY3XCIsIFwiXHU1MzU2XHU1MUZBXHU0RUY3XHU2ODNDXCIsIFwiXHU1MzU2XHU1MUZBXHU0RUZEXHU2NTcwXCIsIFwiXHU1MzU2XHU1MUZBXHU5MUQxXHU5ODlEXCIsIFwiXHU3NkY4XHU1QkY5XHU4RENDXHU1RTQ1XCIsIFwiXHU3NkY4XHU1QkY5XHU2REE4XHU1RTQ1XCJdO1xuXG4gICAgICAgIGNvbnN0IGNvdW50ID0gTWF0aC5mbG9vcihNYXRoLmxvZygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9TTFVNUF9QQ1QpIC8gTWF0aC5sb2coMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCkpICsgMTtcbiAgICAgICAgY29uc3QgbWF4X3Jpc2VfcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9SSVNFX1BDVDtcbiAgICAgICAgLy8gXHU1QzBGXHU3RjUxXG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICBsZXQgbWF4X3NsdW1wX3BjdCA9IE1hdGgucm91bmQoKDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCkgKiAxMDApO1xuICAgICAgICBsZXQgc2VsbF9wcmljZV9zdGVwID0gMSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9TVEVQX1BDVDtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNvdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0aSA9IDE7XG4gICAgICAgICAgICBjb25zdCBmaXJzdF9zdGVwID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnBvdygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULCBpKSk7XG4gICAgICAgICAgICBjb25zdCBzbHVtcF9wY3QgPSBNYXRoLnJvdW5kKDEwMCAqIE1hdGgucG93KDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QsIGkgKyAxKSk7XG4gICAgICAgICAgICBsZXQgc3RlcF9wY3QgPSBmaXJzdF9zdGVwO1xuICAgICAgICAgICAgd2hpbGUgKHN0ZXBfcGN0ID4gc2x1bXBfcGN0ICYmIHN0ZXBfcGN0ID4gbWF4X3NsdW1wX3BjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbaWR4ICsgMV0gPSB0aGlzLkdlbmVyYXRlT25lUm93KFNHUklEX1RZUEVfTkFNRV9TVFIsIGlkeCwgc3RlcF9wY3QgLyAxMDAsIHNlbGxfcHJpY2Vfc3RlcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9SRVRBSU5fQ09VTlQsIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9BRERfUENUKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdWzBdKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goaWR4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKGlkeCArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc0Rpc2FibGVSb3coaWR4ICsgMSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVfcm93cy5wdXNoKGlkeCArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxsX3ByaWNlX3N0ZXAgPSBzdGVwX3BjdCAvIDEwMDtcbiAgICAgICAgICAgICAgICBzdGVwX3BjdCA9IE1hdGgucm91bmQoZmlyc3Rfc3RlcCAqICgxIC0gdGkgKiB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1QpKTtcbiAgICAgICAgICAgICAgICB0aSsrO1xuICAgICAgICAgICAgICAgIGlkeCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBcdTVDMEZcdTdGNTFcbiAgICAgICAgICAgIGNvbnN0IGxhc3RfYnV5ID0gdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAobGFzdF9idXkgPCB0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoKSB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChsYXN0X2J1eSArIDEpO1xuICAgICAgICAgICAgbGV0IGxhc3Rfc2VsbCA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wb3AoKTtcbiAgICAgICAgICAgIGlmIChsYXN0X3NlbGwpIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9zID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGxhc3Rfc2VsbF9zLCB0cnVlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGxfcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1QzBGXHU3RjUxXHU3Njg0XHU5OTk2XHU3RjUxXHU0RTcwXHU1MTY1XG4gICAgICAgICAgICBjb25zdCBmaXJzdF9idXkgPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihmaXJzdF9idXksIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goZmlyc3RfYnV5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBcdTRFMkRcdTdGNTFcbiAgICAgICAgbGV0IHN0YXJ0X2luZGV4ID0gdGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aDtcbiAgICAgICAgaWR4ID0gMDtcbiAgICAgICAgc2VsbF9wcmljZV9zdGVwID0gMTtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNvdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0aSA9IDI7XG4gICAgICAgICAgICBjb25zdCBmaXJzdF9zdGVwID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnBvdygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULCBpKSk7XG4gICAgICAgICAgICBjb25zdCBzbHVtcF9wY3QgPSBNYXRoLnJvdW5kKDEwMCAqIE1hdGgucG93KDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QsIGkgKyAxKSk7XG4gICAgICAgICAgICBsZXQgc3RlcF9wY3QgPSBNYXRoLnJvdW5kKGZpcnN0X3N0ZXAgKiAoMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCkpO1xuICAgICAgICAgICAgd2hpbGUgKHN0ZXBfcGN0ID4gc2x1bXBfcGN0ICYmIHN0ZXBfcGN0ID4gbWF4X3NsdW1wX3BjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbc3RhcnRfaW5kZXggKyBpZHhdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhNR1JJRF9UWVBFX05BTUVfU1RSLCBpZHggKyAxLCBzdGVwX3BjdCAvIDEwMCwgc2VsbF9wcmljZV9zdGVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1JFVEFJTl9DT1VOVCwgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX0FERF9QQ1QpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhzdGFydF9pbmRleCArIGlkeCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF1bMF0pKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU0RTJEXHU3RjUxXHU0RTcwXHU1MzU1XHU3NkQxXHU2M0E3XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3Ioc3RhcnRfaW5kZXggKyBpZHgsIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxsX3ByaWNlX3N0ZXAgPSBzdGVwX3BjdCAvIDEwMDtcbiAgICAgICAgICAgICAgICBzdGVwX3BjdCA9IE1hdGgucm91bmQoZmlyc3Rfc3RlcCAqICgxIC0gdGkgKiB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfU1RFUF9QQ1QpKTtcbiAgICAgICAgICAgICAgICB0aSsrO1xuICAgICAgICAgICAgICAgIGlkeCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdID49IHN0YXJ0X2luZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcbiAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9tID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IobGFzdF9zZWxsX20sIHRydWUsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucmVtb3ZlKGxhc3Rfc2VsbF9tKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX20pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFx1NTkyN1x1N0Y1MVxuICAgICAgICBzdGFydF9pbmRleCA9IHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGg7XG4gICAgICAgIGlkeCA9IDA7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxjb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWxsX3ByaWNlX3N0ZXAgPSBNYXRoLnJvdW5kKDEwMCAqIE1hdGgucG93KDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QsIGkpKSAvIDEwMDtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXBfcGN0ID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnBvdygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULCBpICsgMSkpO1xuICAgICAgICAgICAgaWYgKHN0ZXBfcGN0ID4gbWF4X3NsdW1wX3BjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbc3RhcnRfaW5kZXggKyBpZHhdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhMR1JJRF9UWVBFX05BTUVfU1RSLCBpZHggKyAxLCBzdGVwX3BjdCAvIDEwMCwgc2VsbF9wcmljZV9zdGVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1JFVEFJTl9DT1VOVCwgdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX0FERF9QQ1QpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhzdGFydF9pbmRleCArIGlkeCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF1bMF0pKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1OTI3XHU3RjUxXHU0RTcwXHU1MzU1XHU3NkQxXHU2M0E3XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3Ioc3RhcnRfaW5kZXggKyBpZHgsIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZHgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCA+IDAgJiYgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXSA+PSBzdGFydF9pbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1MzU2XHU1MzU1XHU3NkQxXHU2M0E3XG4gICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfbCA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGxhc3Rfc2VsbF9sLCB0cnVlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnJlbW92ZShsYXN0X3NlbGxfbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIEdlbmVyYXRlT25lUm93KGdyaWRfbmFtZTogc3RyaW5nLCBpZHg6IG51bWJlciwgYnV5X3ByaWNlX3N0ZXA6IG51bWJlciwgc2VsbF9wcmljZV9zdGVwOiBudW1iZXIsIGdyaWRfcmV0YWluX2NvdW50OiBudW1iZXIsIGdyaWRfYWRkX3BjdDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xuICAgICAgICBjb25zdCBidXlfcHJpY2UgPSBGaXhlZFByaWNlKHRoaXMudGFyZ2V0X3ByaWNlLCBidXlfcHJpY2Vfc3RlcCwgcHJlY2lzaW9uKTtcbiAgICAgICAgY29uc3QgYnV5X2NvdW50ID0gTXlGbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuT05FX0dSSURfTElNSVQgKiAoMSArIGlkeCAqIGdyaWRfYWRkX3BjdCkgLyBidXlfcHJpY2UsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5fQkFUQ0hfQ09VTlQpXG5cbiAgICAgICAgY29uc3Qgc2VsbF9wcmljZSA9IEZpeGVkUHJpY2UodGhpcy50YXJnZXRfcHJpY2UsIHNlbGxfcHJpY2Vfc3RlcCwgcHJlY2lzaW9uKTtcbiAgICAgICAgY29uc3QgcmV0YWluX2NvdW50ID0gKHNlbGxfcHJpY2UgLSBidXlfcHJpY2UpICogYnV5X2NvdW50ICogZ3JpZF9yZXRhaW5fY291bnQ7XG4gICAgICAgIGNvbnN0IHNlbGxfY291bnQgPSBNeUZsb29yKChzZWxsX3ByaWNlICogYnV5X2NvdW50IC0gcmV0YWluX2NvdW50KSAvIHNlbGxfcHJpY2UsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5fQkFUQ0hfQ09VTlQpO1xuXG4gICAgICAgIHJldHVybiBbZ3JpZF9uYW1lICsgU3RyaW5nKGlkeCksIFRvUGVyY2VudChidXlfcHJpY2Vfc3RlcCksIChidXlfcHJpY2UgKyB0aGlzLmdyaWRfc2V0dGluZ3MuVFJJR0dFUl9BRERfUE9JTlQpLnRvRml4ZWQocHJlY2lzaW9uKSwgXG4gICAgICAgICAgICAgICAgYnV5X3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSwgU3RyaW5nKGJ1eV9jb3VudCksIFN0cmluZyhNYXRoLmNlaWwoYnV5X3ByaWNlICogYnV5X2NvdW50KSksXG4gICAgICAgICAgICAgICAgKHNlbGxfcHJpY2UgLSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJJR0dFUl9BRERfUE9JTlQpLnRvRml4ZWQocHJlY2lzaW9uKSwgc2VsbF9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksXG4gICAgICAgICAgICAgICAgU3RyaW5nKHNlbGxfY291bnQpLCBTdHJpbmcoTWF0aC5jZWlsKHNlbGxfcHJpY2UgKiBzZWxsX2NvdW50KSksIFRvVHJhZGluZ0dhcChzZWxsX3ByaWNlLCBidXlfcHJpY2UsIDEpLFxuICAgICAgICAgICAgICAgIFRvVHJhZGluZ0dhcChidXlfcHJpY2UsIHNlbGxfcHJpY2UsIDEpXTtcbiAgICB9XG5cbn0iLCAiLypcbiAgICBcdTdGNTFcdTY4M0NcdTdCNTZcdTc1NjVcdTc2ODRcdThCQTFcdTdCOTdcdTkwM0JcdThGOTFcdUZGMENcdTZBMjFcdTVGMEYzXG4gICAgXHU3Mjc5XHU2QjhBXHU1Mzg2XHU1M0YyXHU1MzlGXHU1NkUwXHU1RTI2XHU2NzY1XHU3Njg0XHU0RTAwXHU0RTlCXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHVGRjBDXHU5NzAwXHU4OTgxXHU2MjRCXHU1MkE4XHU4QkJFXHU3RjZFXHU3RjUxXHU2ODNDXHU2QkNGXHU0RTJBXHU2ODNDXHU1QjUwXHU3Njg0XHU2QjY1XHU4RkRCXHU1MDNDXG4qL1xuXG5pbXBvcnQgeyBNeUZsb29yLCBNeUNlaWwsIFRvUGVyY2VudCwgVG9OdW1iZXIsIFRvVHJhZGluZ0dhcCwgRml4ZWRQcmljZSB9IGZyb20gXCIuL215bWF0aFwiO1xuaW1wb3J0IHsgUGx1Z2luRW52IH0gZnJvbSBcIi4vcGx1Z2luX2VudlwiO1xuaW1wb3J0IHsgR3JpZFRyYWRpbmcgfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdcIjtcblxuXG5leHBvcnQgY2xhc3MgR3JpZFRyYWRpbmdNb2RlVGhyZWUgZXh0ZW5kcyBHcmlkVHJhZGluZyBcbntcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW5fZW52OiBQbHVnaW5FbnYpXG4gICAge1xuICAgICAgICBzdXBlcihwbHVnaW5fZW52KVxuICAgICAgICB0aGlzLm1vZGVfdHlwZSA9IFwiVGhyZWVcIjtcbiAgICB9XG5cbiAgICBJbml0R3JpZFRyYWRpbmcoZGF0YTogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuUGFyc2VSYXdEYXRhKGRhdGEpIHx8IHRoaXMuaXNfZW1wdHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXNfZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuSW5pdFN0b2NrVGFibGUoKTtcbiAgICAgICAgICAgIHRoaXMuSW5pdEdyaWRQYXJhbSgpO1xuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1RhYmxlKCk7XG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nSW5jb21lKCk7XG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nQW5hbHlzaXMoKTtcbiAgICAgICAgICAgIHRoaXMuU29ydFRyYWRpbmdUYWJsZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgVXBkYXRlUmVtb3RlUHJpY2UocmVtb3RlX3ByaWNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID0gcmVtb3RlX3ByaWNlO1xuICAgICAgICBpZiAodGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA+IDAgJiYgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSAhPSB0aGlzLmN1cnJlbnRfcHJpY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9wcmljZSA9IHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2U7XG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLkluaXRTdG9ja1RhYmxlKCk7XG4gICAgICAgICAgICB0aGlzLkluaXRHcmlkUGFyYW0oKTtcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdUYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1JlY29yZCgpO1xuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0luY29tZSgpO1xuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0FuYWx5c2lzKCk7XG4gICAgICAgICAgICB0aGlzLlNvcnRUcmFkaW5nVGFibGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEluaXRUcmFkaW5nVGFibGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MgPSBbXVxuICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MgPSBbXVxuICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MgPSBbXVxuICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzID0gW11cbiAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MgPSBbXVxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGUgPSBbXVxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbMF0gPSBbXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTRFNzBcdTUxNjVcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTUzNTZcdTUxRkFcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTkxRDFcdTk4OURcIiwgXCJcdTc2RjhcdTVCRjlcdThEQ0NcdTVFNDVcIiwgXCJcdTc2RjhcdTVCRjlcdTZEQThcdTVFNDVcIl07XG5cbiAgICAgICAgY29uc3QgbWF4X3Jpc2VfcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9SSVNFX1BDVDtcbiAgICAgICAgbGV0IGdyaWRfc2VsbF9wY3QgPSAxLjAgKyB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1RcbiAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLnNncmlkX3N0ZXBfdGFibGUubGVuZ3RoOyBpZHgrKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGdyaWRfYnV5X3BjdCA9IFRvTnVtYmVyKHRoaXMuc2dyaWRfc3RlcF90YWJsZVtpZHhdWzFdKVxuICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyh0aGlzLnNncmlkX3N0ZXBfdGFibGVbaWR4XVswXSwgZ3JpZF9idXlfcGN0LCBncmlkX3NlbGxfcGN0LFxuICAgICAgICAgICAgICAgICAgICBOdW1iZXIodGhpcy5zZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMl0pLCBOdW1iZXIodGhpcy5zZ3JpZF9zdGVwX3RhYmxlW2lkeF1bM10pKTtcbiAgICAgICAgICAgIGdyaWRfc2VsbF9wY3QgPSBncmlkX2J1eV9wY3Q7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhpZHggKyAxKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVfcm93cy5wdXNoKGlkeCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtpZHggKyAxXVswXSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChpZHggKyAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucHVzaChpZHggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gXHU1QzBGXHU3RjUxXG4gICAgICAgICAgICBjb25zdCBsYXN0X2J1eSA9IHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzW3RoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGxhc3RfYnV5IDwgdGhpcy5zZ3JpZF9zdGVwX3RhYmxlLmxlbmd0aCkgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9idXkgKyAxKTtcbiAgICAgICAgICAgIGxldCBsYXN0X3NlbGwgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XG4gICAgICAgICAgICBpZiAobGFzdF9zZWxsKSB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfcyA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihsYXN0X3NlbGxfcywgdHJ1ZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NUMwRlx1N0Y1MVx1NzY4NFx1OTk5Nlx1N0Y1MVx1NEU3MFx1NTE2NVxuICAgICAgICAgICAgY29uc3QgZmlyc3RfYnV5ID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IoZmlyc3RfYnV5LCBmYWxzZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGZpcnN0X2J1eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0X2luZGV4ID0gdGhpcy5zZ3JpZF9zdGVwX3RhYmxlLmxlbmd0aCArIDE7XG4gICAgICAgIGdyaWRfc2VsbF9wY3QgPSAxLjAgKyB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfU1RFUF9QQ1Q7XG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5tZ3JpZF9zdGVwX3RhYmxlLmxlbmd0aDsgaWR4KyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBncmlkX2J1eV9wY3QgPSBUb051bWJlcih0aGlzLm1ncmlkX3N0ZXBfdGFibGVbaWR4XVsxXSlcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF0gPSB0aGlzLkdlbmVyYXRlT25lUm93KHRoaXMubWdyaWRfc3RlcF90YWJsZVtpZHhdWzBdLCBncmlkX2J1eV9wY3QsIGdyaWRfc2VsbF9wY3QsXG4gICAgICAgICAgICAgICAgICAgIE51bWJlcih0aGlzLm1ncmlkX3N0ZXBfdGFibGVbaWR4XVsyXSksIE51bWJlcih0aGlzLm1ncmlkX3N0ZXBfdGFibGVbaWR4XVszXSkpO1xuICAgICAgICAgICAgZ3JpZF9zZWxsX3BjdCA9IGdyaWRfYnV5X3BjdDtcbiAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhzdGFydF9pbmRleCArIGlkeCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW3N0YXJ0X2luZGV4ICsgaWR4XVswXSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NEUyRFx1N0Y1MVx1NEU3MFx1NTM1NVx1NzZEMVx1NjNBN1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3Ioc3RhcnRfaW5kZXggKyBpZHgsIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdID49IHN0YXJ0X2luZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcbiAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9tID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IobGFzdF9zZWxsX20sIHRydWUsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucmVtb3ZlKGxhc3Rfc2VsbF9tKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX20pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXJ0X2luZGV4ID0gdGhpcy5zZ3JpZF9zdGVwX3RhYmxlLmxlbmd0aCArIHRoaXMubWdyaWRfc3RlcF90YWJsZS5sZW5ndGggKyAxO1xuICAgICAgICBncmlkX3NlbGxfcGN0ID0gMS4wICsgdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENUO1xuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMubGdyaWRfc3RlcF90YWJsZS5sZW5ndGg7IGlkeCsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZ3JpZF9idXlfcGN0ID0gVG9OdW1iZXIodGhpcy5sZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMV0pXG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbc3RhcnRfaW5kZXggKyBpZHhdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyh0aGlzLmxncmlkX3N0ZXBfdGFibGVbaWR4XVswXSwgZ3JpZF9idXlfcGN0LCBncmlkX3NlbGxfcGN0LFxuICAgICAgICAgICAgICAgICAgICBOdW1iZXIodGhpcy5sZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMl0pLCBOdW1iZXIodGhpcy5sZ3JpZF9zdGVwX3RhYmxlW2lkeF1bM10pKTtcbiAgICAgICAgICAgIGdyaWRfc2VsbF9wY3QgPSBncmlkX2J1eV9wY3Q7XG4gICAgICAgICAgICBpZiAodGhpcy5Jc0Rpc2FibGVSb3coc3RhcnRfaW5kZXggKyBpZHgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF1bMF0pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTU5MjdcdTdGNTFcdTRFNzBcdTUzNTVcdTc2RDFcdTYzQTdcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKHN0YXJ0X2luZGV4ICsgaWR4LCBmYWxzZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdID49IHN0YXJ0X2luZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcbiAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9sID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IobGFzdF9zZWxsX2wsIHRydWUsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucmVtb3ZlKGxhc3Rfc2VsbF9sKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX2wpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgR2VuZXJhdGVPbmVSb3coZ3JpZF9uYW1lOiBzdHJpbmcsIGdyaWRfYnV5X3BjdDogbnVtYmVyLCBncmlkX3NlbGxfcGN0OiBudW1iZXIsIGdyaWRfYWRkX3BjdDogbnVtYmVyLCBncmlkX3JldGFpbl9jb3VudDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xuICAgICAgICBjb25zdCBidXlfcHJpY2UgPSBGaXhlZFByaWNlKHRoaXMudGFyZ2V0X3ByaWNlLCBncmlkX2J1eV9wY3QsIHByZWNpc2lvbik7XG4gICAgICAgIGNvbnN0IGJ1eV9jb3VudCA9IE15Rmxvb3IodGhpcy5ncmlkX3NldHRpbmdzLk9ORV9HUklEX0xJTUlUICogKDEgKyBncmlkX2FkZF9wY3QpIC8gYnV5X3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKVxuXG4gICAgICAgIGNvbnN0IHNlbGxfcHJpY2UgPSBGaXhlZFByaWNlKHRoaXMudGFyZ2V0X3ByaWNlLCBncmlkX3NlbGxfcGN0LCBwcmVjaXNpb24pO1xuICAgICAgICBjb25zdCByZXRhaW5fY291bnQgPSAoc2VsbF9wcmljZSAtIGJ1eV9wcmljZSkgKiBidXlfY291bnQgKiBncmlkX3JldGFpbl9jb3VudDtcbiAgICAgICAgY29uc3Qgc2VsbF9jb3VudCA9IE15Rmxvb3IoKHNlbGxfcHJpY2UgKiBidXlfY291bnQgLSByZXRhaW5fY291bnQpIC8gc2VsbF9wcmljZSwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTl9CQVRDSF9DT1VOVCk7XG5cbiAgICAgICAgcmV0dXJuIFtncmlkX25hbWUsIFRvUGVyY2VudChncmlkX2J1eV9wY3QpLCAoYnV5X3ByaWNlICsgdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKHByZWNpc2lvbiksIFxuICAgICAgICAgICAgICAgIGJ1eV9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksIFN0cmluZyhidXlfY291bnQpLCBTdHJpbmcoTWF0aC5jZWlsKGJ1eV9wcmljZSAqIGJ1eV9jb3VudCkpLFxuICAgICAgICAgICAgICAgIChzZWxsX3ByaWNlIC0gdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKHByZWNpc2lvbiksIHNlbGxfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLFxuICAgICAgICAgICAgICAgIFN0cmluZyhzZWxsX2NvdW50KSwgU3RyaW5nKE1hdGguY2VpbChzZWxsX3ByaWNlICogc2VsbF9jb3VudCkpLCBUb1RyYWRpbmdHYXAoc2VsbF9wcmljZSwgYnV5X3ByaWNlLCAxKSxcbiAgICAgICAgICAgICAgICBUb1RyYWRpbmdHYXAoYnV5X3ByaWNlLCBzZWxsX3ByaWNlLCAxKV07XG4gICAgfVxuXG59IiwgIi8qXG4gICAgUGx1Z2luIHJ1bnRpbWUgZGF0YVxuKi9cblxuaW1wb3J0IHsgUGx1Z2luQmFzZVNldHRpbmdzLCBHcmlkVHJhZGluZ1NldHRpbmdzLCBQYWNrU2V0dGluZ3MsIFVucGFja1NldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IEdyaWRUcmFkaW5nIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nXCI7XG5pbXBvcnQgeyBEZWJ1Z0xvZyB9IGZyb20gXCIuL3JlbW90ZV91dGlsXCI7XG5pbXBvcnQgeyBHcmlkVHJhZGluZ01vZGVPbmUgfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdfbTFcIjtcbmltcG9ydCB7IEdyaWRUcmFkaW5nTW9kZVR3byB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ19tMlwiO1xuaW1wb3J0IHsgR3JpZFRyYWRpbmdNb2RlVGhyZWUgfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdfbTNcIjtcblxuZXhwb3J0IGNvbnN0IFVQREFURV9TVE9DS19TRVRUSU5HID0gXCJ1cGRhdGVfc3RvY2tfc2V0dGluZ1wiO1xuZXhwb3J0IGNvbnN0IEZFVENIX0NVUlJFTlRfUFJJQ0UgPSBcImZldGNoX2N1cnJlbnRfcHJpY2VcIjtcblxudHlwZSBDYWxsYmFjayA9ICgpID0+IHZvaWQ7XG5cbmV4cG9ydCBjbGFzcyBQbHVnaW5FbnZcbntcbiAgICBpc19zZXR0aW5nc19jaGFuZ2VkOiBib29sZWFuO1xuICAgIGJhc2Vfc2V0dGluZ3M6IFBsdWdpbkJhc2VTZXR0aW5ncztcbiAgICBncmlkX3NldHRpbmdzOiBHcmlkVHJhZGluZ1NldHRpbmdzO1xuXG4gICAgZ3JpZF90cmFkaW5nX2RpY3Q6IE1hcDxzdHJpbmcsIEdyaWRUcmFkaW5nPjtcbiAgICBzdG9ja19yZW1vdGVfcHJpY2VfZGljdDogTWFwPHN0cmluZywgbnVtYmVyPjtcbiAgICBldmVudF9jYWxsYmFja19kaWN0OiBNYXA8c3RyaW5nLCBNYXA8bnVtYmVyLCBDYWxsYmFjaz4+XG4gICAgX2V2ZW50X2d1aWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMuaXNfc2V0dGluZ3NfY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJhc2Vfc2V0dGluZ3MgPSBuZXcgUGx1Z2luQmFzZVNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncyA9IG5ldyBHcmlkVHJhZGluZ1NldHRpbmdzKCk7XG4gICAgICAgIHRoaXMuZ3JpZF90cmFkaW5nX2RpY3QgPSBuZXcgTWFwPHN0cmluZywgR3JpZFRyYWRpbmc+O1xuICAgICAgICB0aGlzLnN0b2NrX3JlbW90ZV9wcmljZV9kaWN0ID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj47XG4gICAgICAgIHRoaXMuZXZlbnRfY2FsbGJhY2tfZGljdCA9IG5ldyBNYXA8c3RyaW5nLCBNYXA8bnVtYmVyLCBDYWxsYmFjaz4+O1xuICAgICAgICB0aGlzLl9ldmVudF9ndWlkID0gMDtcbiAgICB9XG5cbiAgICBHZXRBUElMaXNlbmNlKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZV9zZXR0aW5ncy5EQVRBX0FQSV9MSUNFTkNFO1xuICAgIH1cblxuICAgIEdldFN0b2NrUmVtb3RlUHJpY2Uoc3RvY2tfbm86IHN0cmluZyk6IG51bWJlclxuICAgIHtcbiAgICAgICAgY29uc3QgcHJpY2UgPSB0aGlzLnN0b2NrX3JlbW90ZV9wcmljZV9kaWN0LmdldChzdG9ja19ubyk7XG4gICAgICAgIGlmIChwcmljZSAhPSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwcmljZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEdldEdyaWRUcmFkaW5nVHlwZUJ5U3RyaW5nKG1vZGU6IHN0cmluZylcbiAgICB7XG4gICAgICAgIGlmIChtb2RlID09IFwibW9kZV90d29cIilcbiAgICAgICAge1xuICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIkdldEdyaWRUcmFkaW5nVHlwZUJ5U3RyaW5nIHJldHVybiBUd28gXCIsIG1vZGUpXG4gICAgICAgICAgICByZXR1cm4gR3JpZFRyYWRpbmdNb2RlVHdvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlID09IFwibW9kZV90aHJlZVwiKVxuICAgICAgICB7XG4gICAgICAgICAgICAvL0RlYnVnTG9nKFwiR2V0R3JpZFRyYWRpbmdUeXBlQnlTdHJpbmcgcmV0dXJuIFRocmVlIFwiLCBtb2RlKVxuICAgICAgICAgICAgcmV0dXJuIEdyaWRUcmFkaW5nTW9kZVRocmVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFx1OUVEOFx1OEJBNFx1NEY3Rlx1NzUyOFx1NkEyMVx1NUYwRjFcbiAgICAgICAgLy9EZWJ1Z0xvZyhcIkdldEdyaWRUcmFkaW5nVHlwZUJ5U3RyaW5nIHJldHVybiBPbmUgXCIsIG1vZGUpXG4gICAgICAgIHJldHVybiBHcmlkVHJhZGluZ01vZGVPbmU7XG4gICAgfVxuXG4gICAgR2V0QW5kR2VuR3JpZFRyYWRpbmcoZ3JpZF9uYW1lOiBzdHJpbmcsIG1vZGU6IHN0cmluZylcbiAgICB7XG4gICAgICAgIGxldCBncmlkX3RyYWRpbmcgPSB0aGlzLmdyaWRfdHJhZGluZ19kaWN0LmdldChncmlkX25hbWUpXG4gICAgICAgIGNvbnN0IHRyYWRpbmdfbW9kZSA9IHRoaXMuR2V0R3JpZFRyYWRpbmdUeXBlQnlTdHJpbmcobW9kZSlcbiAgICAgICAgaWYgKGdyaWRfdHJhZGluZyBpbnN0YW5jZW9mIHRyYWRpbmdfbW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGdyaWRfdHJhZGluZztcbiAgICAgICAgfVxuICAgICAgICBncmlkX3RyYWRpbmcgPSBuZXcgdHJhZGluZ19tb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmdyaWRfdHJhZGluZ19kaWN0LnNldChncmlkX25hbWUsIGdyaWRfdHJhZGluZyk7XG4gICAgICAgIHJldHVybiBncmlkX3RyYWRpbmc7XG4gICAgfVxuXG4gICAgVW5zZXJpYWxpemVkU2V0dGluZ3MoZGF0YTogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgY29uc3QgbGluZXMgPSBkYXRhLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICBpZiAobGluZXMubGVuZ3RoIDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIFVucGFja1NldHRpbmdzKHRoaXMuYmFzZV9zZXR0aW5ncywgbGluZXMpO1xuICAgICAgICBVbnBhY2tTZXR0aW5ncyh0aGlzLmdyaWRfc2V0dGluZ3MsIGxpbmVzKTtcbiAgICB9XG5cbiAgICBTZXJpYWxpemVkU2V0dGluZ3MoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gUGFja1NldHRpbmdzKHRoaXMuYmFzZV9zZXR0aW5ncykgKyBQYWNrU2V0dGluZ3ModGhpcy5ncmlkX3NldHRpbmdzKTtcbiAgICB9XG5cbiAgICBQdWJsaXNoRXZlbnQoZXZlbnRfbmFtZTogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgLy9EZWJ1Z0xvZyhcIlB1Ymxpc2hFdmVudDogXCIsIGV2ZW50X25hbWUpO1xuICAgICAgICBjb25zdCBjYl9kaWN0ID0gdGhpcy5ldmVudF9jYWxsYmFja19kaWN0LmdldChldmVudF9uYW1lKVxuICAgICAgICBpZiAoY2JfZGljdCA9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBbZ3VpZCwgZXZlbnRfY2JdIG9mIGNiX2RpY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vRGVidWdMb2coXCJUcmlnZ2VyRXZlbnRDYiBndWlkOiBcIiwgZ3VpZCwgXCIgY2I6IFwiLCBldmVudF9jYi5uYW1lKTtcbiAgICAgICAgICAgICAgICBldmVudF9jYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2goZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBTdWJzY3JpYmVFdmVudChldmVudF9uYW1lOiBzdHJpbmcsIGV2ZW50X2NiOiBDYWxsYmFjayk6IG51bWJlclxuICAgIHtcbiAgICAgICAgY29uc3QgZ3VpZCA9IHRoaXMuR2VuR1VJRCgpO1xuICAgICAgICBsZXQgY2JfZGljdCA9IHRoaXMuZXZlbnRfY2FsbGJhY2tfZGljdC5nZXQoZXZlbnRfbmFtZSk7XG4gICAgICAgIGlmIChjYl9kaWN0ID09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgY2JfZGljdCA9IG5ldyBNYXA8bnVtYmVyLCBDYWxsYmFjaz47XG4gICAgICAgICAgICB0aGlzLmV2ZW50X2NhbGxiYWNrX2RpY3Quc2V0KGV2ZW50X25hbWUsIGNiX2RpY3QpO1xuICAgICAgICB9XG4gICAgICAgIGNiX2RpY3Quc2V0KGd1aWQsIGV2ZW50X2NiKTtcbiAgICAgICAgLy9EZWJ1Z0xvZyhcIlN1YnNjcmliZUV2ZW50OiBcIiwgZXZlbnRfbmFtZSwgXCIgZ3VpZDogXCIsIGd1aWQsIFwiIGNiOiBcIiwgZXZlbnRfY2IubmFtZSk7XG4gICAgICAgIHJldHVybiBndWlkO1xuICAgIH1cblxuICAgIFVuc3Vic2NyaWJlRXZlbnQoZXZlbnRfbmFtZTogc3RyaW5nLCBldmVudF9ndWlkOiBudW1iZXIpOiBib29sZWFuXG4gICAge1xuICAgICAgICBjb25zdCBjYl9kaWN0ID0gdGhpcy5ldmVudF9jYWxsYmFja19kaWN0LmdldChldmVudF9uYW1lKVxuICAgICAgICBpZiAoY2JfZGljdCA9PSB1bmRlZmluZWQgfHwgIWNiX2RpY3QuaGFzKGV2ZW50X2d1aWQpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy9EZWJ1Z0xvZyhcIlVuc3Vic2NyaWJlRXZlbnQ6IFwiLCBldmVudF9uYW1lLCBcIiBndWlkOiBcIiwgZXZlbnRfZ3VpZCk7XG4gICAgICAgIHJldHVybiBjYl9kaWN0LmRlbGV0ZShldmVudF9ndWlkKTtcbiAgICB9XG5cbiAgICBHZW5HVUlEKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgdGhpcy5fZXZlbnRfZ3VpZCsrO1xuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnRfZ3VpZDtcbiAgICB9XG59XG4iLCAiLypcbiAgICBcdTU5MDRcdTc0MDZcdTY0Q0RcdTRGNUNcdTYzMDdcdTRFRTRcdUZGMENcdThEMUZcdThEMjNcdTg5RTNcdTY3OTBcdTUxODVcdTVCQjlcdTVFNzZcdTc1MUZcdTYyMTBcdTY4M0NcdTVGMEZcdTUzMTZcdTdFRDNcdTY3OUNcbiovXG5cbmltcG9ydCB7IHN1YnNjcmliZSB9IGZyb20gXCJkaWFnbm9zdGljc19jaGFubmVsXCI7XG5pbXBvcnQgeyBJc051bWVyaWMgfSBmcm9tIFwiLi9teW1hdGhcIjtcblxuZXhwb3J0IGNsYXNzIEdyaWRDb21tYW5kXG57XG4gICAgY29tbWFuZDogc3RyaW5nO1xuICAgIGNvbW1hbmRfdHlwZTogc3RyaW5nO1xuICAgIGNvbW1hbmRfcGFyYW0xOiBzdHJpbmc7XG4gICAgY29tbWFuZF9wYXJhbTI6IGFueTsgXG4gICAgZGF0YV9yZXN1bHRfc3RyOiBzdHJpbmc7XG4gICAgZGF0YV9yZXN1bHRfbnVtOiBudW1iZXI7XG4gICAgZXJyb3JfY29kZTogbnVtYmVyO1xuICAgIGVycm9yX21zZzogc3RyaW5nO1xuICAgIHJhd19jb21tYW5kX3RleHQ6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMuY29tbWFuZCA9IFwibm9uZVwiO1xuICAgICAgICB0aGlzLmNvbW1hbmRfdHlwZSA9IFwiZ3JpZFwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEV4Y3V0ZUdyaWRDb21tYW5kKGNtZF9zdHI6IHN0cmluZyk6IEdyaWRDb21tYW5kXG57XG4gICAgY29uc3Qgc3RycyA9IGNtZF9zdHIuc3BsaXQoXCIgXCIpO1xuICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgR3JpZENvbW1hbmQoKTtcbiAgICBjb21tYW5kLmNvbW1hbmQgPSBzdHJzWzBdO1xuICAgIGNvbW1hbmQucmF3X2NvbW1hbmRfdGV4dCA9IGNtZF9zdHI7XG4gICAgaWYgKGNvbW1hbmQuY29tbWFuZCA9PSBcImFkZF9yZWNvcmRcIilcbiAgICB7XG4gICAgICAgIGNvbW1hbmQuY29tbWFuZF9wYXJhbTEgPSBzdHJzWzFdO1xuICAgICAgICBBZGRHcmlkUmVjb3JkKGNvbW1hbmQpO1xuICAgIH1cbiAgICBpZiAoY29tbWFuZC5jb21tYW5kID09IFwiZGVsX3JlY29yZFwiKVxuICAgIHtcbiAgICAgICAgY29tbWFuZC5jb21tYW5kX3BhcmFtMSA9IHN0cnNbMV07XG4gICAgICAgIERlbEdyaWRSZWNvcmQoY29tbWFuZCk7XG4gICAgfVxuICAgIHJldHVybiBjb21tYW5kO1xufVxuXG5mdW5jdGlvbiBBZGRHcmlkUmVjb3JkKGNvbW1hbmQ6IEdyaWRDb21tYW5kKVxue1xuICAgIGNvbnN0IHN1Yl9zdHJzID0gY29tbWFuZC5jb21tYW5kX3BhcmFtMS5zcGxpdChcIixcIik7XG4gICAgaWYgKHN1Yl9zdHJzLmxlbmd0aCAhPSA1KVxuICAgIHtcbiAgICAgICAgY29tbWFuZC5lcnJvcl9jb2RlID0gLTE7XG4gICAgICAgIGNvbW1hbmQuZXJyb3JfbXNnID0gXCJpbnZhbGlkIHBhcmFtXCJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoc3ViX3N0cnNbMF0gIT0gXCJCVVlcIiAmJiBzdWJfc3Ryc1swXSAhPSBcIlNFTExcIiAmJiBzdWJfc3Ryc1swXSAhPSBcIlNIQVJFXCIpXG4gICAge1xuICAgICAgICBjb21tYW5kLmVycm9yX2NvZGUgPSAtMTtcbiAgICAgICAgY29tbWFuZC5lcnJvcl9tc2cgPSBcImludmFsaWQgcGFyYW1cIlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NUMwRlx1N0Y1MVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NEUyRFx1N0Y1MVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NTkyN1x1N0Y1MVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1N0VBMlx1NTIyOVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NTIyOVx1NkRBNlwiKSlcbiAgICB7XG4gICAgICAgIGNvbW1hbmQuZXJyb3JfY29kZSA9IC0xO1xuICAgICAgICBjb21tYW5kLmVycm9yX21zZyA9IFwiaW52YWxpZCBwYXJhbVwiXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29tbWFuZC5lcnJvcl9jb2RlID0gMDtcbiAgICBjb21tYW5kLmRhdGFfcmVzdWx0X3N0ciA9IFwiXFxuXCIgKyBjb21tYW5kLmNvbW1hbmRfcGFyYW0xO1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBEZWxHcmlkUmVjb3JkKGNvbW1hbmQ6IEdyaWRDb21tYW5kKVxue1xuICAgIGlmIChJc051bWVyaWMoY29tbWFuZC5jb21tYW5kX3BhcmFtMSkpXG4gICAge1xuICAgICAgICBjb21tYW5kLmVycm9yX2NvZGUgPSAwO1xuICAgICAgICBjb21tYW5kLmRhdGFfcmVzdWx0X251bSA9IE51bWJlcihjb21tYW5kLmNvbW1hbmRfcGFyYW0xKVxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBjb21tYW5kLmVycm9yX2NvZGUgPSAtMTtcbiAgICAgICAgY29tbWFuZC5lcnJvcl9tc2cgPSBcImludmFsaWQgcGFyYW1cIjtcbiAgICB9XG59IiwgIi8qXG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU2MDNCXHU4OUM4XHU4OUM2XHU1NkZFXG4qL1xuaW1wb3J0IHsgVGV4dEZpbGVWaWV3LCBXb3Jrc3BhY2VMZWFmLCBURmlsZSwgVEZvbGRlciwgVmF1bHQgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEdSSURfQ09MT1JfU1RPQ0tfT1ZFUlZJRVcsIEdSSURfQ09MT1JfVEFCTEVfVElUTEUsIEdSSURfQ09MT1JfQlVZX09WRVJWSUVXLCBHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgR3JpZFRyYWRpbmcgfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdcIjtcbmltcG9ydCB7IFBsdWdpbkVudiwgRkVUQ0hfQ1VSUkVOVF9QUklDRSB9IGZyb20gXCIuL3BsdWdpbl9lbnZcIjtcbmltcG9ydCB7IFN0cmluZ1BsdXMsIFRvUGVyY2VudCwgVG9UcmFkaW5nR2FwIH0gZnJvbSBcIi4vbXltYXRoXCI7XG5cbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfR1RPID0gXCJndG8tdmlld1wiXG5cbmV4cG9ydCBjbGFzcyBHVE9WaWV3IGV4dGVuZHMgVGV4dEZpbGVWaWV3XG57XG4gICAgZGF0YTogc3RyaW5nO1xuICAgIHZhdWx0OiBWYXVsdDtcbiAgICBwbHVnaW5fZW52OiBQbHVnaW5FbnY7XG4gICAgcmVmcmVzaF9ldmVudF9ndWlkOiBudW1iZXI7XG5cbiAgICBkZWJ1Z19sb2c6IHN0cmluZyBbXVtdO1xuICAgIHN0b2NrX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcbiAgICBjdXN0b21fc3RvY2tfb3ZlcnZpZXc6IHN0cmluZyBbXVtdO1xuICAgIHN0b2NrX2ZpbGxlZF9vdmVydmlldzogc3RyaW5nIFtdW107XG4gICAgaW5jb21lX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcblxuICAgIG92ZXJ2aWV3X3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICBvdmVydmlld190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XG4gICAgY3VzdG9tX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICBjdXN0b21fdGFibGVfZWw6IEhUTUxFbGVtZW50O1xuICAgIGZpbGxlZF90aWxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICBmaWxsZWRfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xuICAgIGluY29tZV90aXRsZV9lbDogSFRNTEVsZW1lbnQ7XG4gICAgaW5jb21lX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcbiAgICBkZWJ1Z19sb2dfdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xuICAgIGRlYnVnX2xvZ190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCB2YXVsdDogVmF1bHQsIHBsdWdpbl9lbnY6IFBsdWdpbkVudilcbiAgICB7XG4gICAgICAgIHN1cGVyKGxlYWYpO1xuICAgICAgICB0aGlzLnZhdWx0ID0gdmF1bHQ7XG4gICAgICAgIHRoaXMucGx1Z2luX2VudiA9IHBsdWdpbl9lbnY7XG4gICAgICAgIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID0gLTE7XG5cbiAgICAgICAgdGhpcy5kZWJ1Z19sb2cgPSBbXTtcbiAgICAgICAgdGhpcy5zdG9ja19vdmVydmlldyA9IFtdO1xuICAgICAgICB0aGlzLmN1c3RvbV9zdG9ja19vdmVydmlldyA9IFtdO1xuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldyA9IFtdO1xuICAgIH1cblxuICAgIFJlYWRDdXN0b21TdG9jaygpXG4gICAge1xuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldyA9IFtbXCJcIiwgXCJcdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDFcIiwgXCJcdTVCOUVcdTk2NDVcdTkxRDFcdTk4OURcIiwgXCJcdTYzMDFcdTRFRDNcdTc2QzhcdTRFOEZcIiwgXCJcdTc2QzhcdTRFOEZcdTZCRDRcdTRGOEJcIiwgXCJcdTYyOTVcdTUxNjVcdThENDRcdTkxRDFcIiwgXCJcdTYyOTVcdTUxNjVcdTc2QzhcdTRFOEZcIl1dO1xuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldy5wdXNoKFtcIlx1NUY1M1x1NTI0RFx1NjMwMVx1NEVEM1wiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XG4gICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3LnB1c2goW1wiXHU3RDJGXHU3OUVGXHU3Qjc5XHU3ODAxXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcbiAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXcucHVzaChbXCJcdTY3MDBcdTU5MjdcdTU2REVcdTY0QTRcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0pO1xuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldy5wdXNoKFtcIlx1NTNDRFx1NUYzOVx1NkUwNVx1NjgzQ1wiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XG4gICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3LnB1c2goW1wiXHU4M0I3XHU1MjI5XHU2RTA1XHU3NkQ4XCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcbiAgICAgICAgY29uc3Qgc3RvY2tfdGFibGU6IHN0cmluZyBbXVtdID0gW1tHUklEX0NPTE9SX1RBQkxFX1RJVExFLCBcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBcIlx1NjgwN1x1NzY4NFx1NTQwRFx1NzlGMFwiLCBcIlx1OTk5Nlx1N0Y1MVx1NzZFRVx1NjgwN1x1NEVGN1wiLCBcIlx1NUY1M1x1NTI0RFx1NEVGN1x1NjgzQ1wiLCBcIlx1NEVGN1x1NjgzQ1x1NzY3RVx1NTIwNlx1NEY0RFwiLCBcIlx1NjMwMVx1NEVEM1x1ODBBMVx1NjU3MFwiLCBcIlx1NkQ4OFx1ODAxN1x1NjcyQ1x1OTFEMVwiLCBcIlx1NzZDOFx1NEU4Rlx1NkJENFx1NzM4N1wiLCBcIlx1N0QyRlx1NzlFRlx1N0I3OVx1NzgwMVwiXV07XG4gICAgICAgIGxldCBidXlfdGFibGU6IHN0cmluZyBbXVtdID0gW1tHUklEX0NPTE9SX1RBQkxFX1RJVExFLCBcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBcIlx1NjgwN1x1NzY4NFx1NTQwRFx1NzlGMFwiLCBcIlx1N0Y1MVx1NjgzQ1x1NzlDRFx1N0M3QlwiLCBcIlx1NEVGN1x1NjgzQ1x1Njg2M1x1NEY0RFwiLCBcIlx1NEU3MFx1NTE2NVx1ODlFNlx1NTNEMVx1NEVGN1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGRFx1NjU3MFwiLCBcIlx1NEU3MFx1NTE2NVx1OTFEMVx1OTg5RFwiLCBcIlx1OERERFx1NjIxMFx1NEVBNFx1NEVGN1wiXV07XG4gICAgICAgIGxldCBzZWxsX3RhYmxlOiBzdHJpbmcgW11bXSA9IFtbR1JJRF9DT0xPUl9UQUJMRV9USVRMRSwgXCJcdTY4MDdcdTc2ODRcdTRFRTNcdTUzRjdcIiwgXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTUzNTZcdTUxRkFcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTkxRDFcdTk4OURcIiwgXCJcdThERERcdTYyMTBcdTRFQTRcdTRFRjdcIl1dO1xuICAgICAgICBsZXQgcGFzc2l2ZV90YWJsZTogc3RyaW5nIFtdW10gPSBbW0dSSURfQ09MT1JfVEFCTEVfVElUTEUsIFwiXHU2ODA3XHU3Njg0XHU0RUUzXHU1M0Y3XCIsIFwiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIFwiXHU3RjUxXHU2ODNDXHU3OUNEXHU3QzdCXCIsIFwiXHU0RUY3XHU2ODNDXHU2ODYzXHU0RjREXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUY3XHU2ODNDXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUZEXHU2NTcwXCIsIFwiXHU0RTcwXHU1MTY1XHU5MUQxXHU5ODlEXCIsIFwiXHU1RjUzXHU1MjREXHU0RUY3XHU2ODNDXCIsIFwiXHU1RjUzXHU1MjREXHU4RENDXHU1RTQ1XCIsIFwiXHU1MzU2XHU1MUZBXHU0RUY3XHU2ODNDXCIsIFwiXHU1MzU2XHU1MUZBXHU2REE4XHU1RTQ1XCJdXTtcbiAgICAgICAgbGV0IGFjdGl2ZV90YWJsZTogc3RyaW5nIFtdW10gPSBbW0dSSURfQ09MT1JfVEFCTEVfVElUTEUsIFwiXHU2ODA3XHU3Njg0XHU0RUUzXHU1M0Y3XCIsIFwiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIFwiXHU3RjUxXHU2ODNDXHU3OUNEXHU3QzdCXCIsIFwiXHU0RUE0XHU2NjEzXHU2NUU1XHU2NzFGXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUY3XHU2ODNDXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUZEXHU2NTcwXCIsIFwiXHU0RTcwXHU1MTY1XHU5MUQxXHU5ODlEXCIsIFwiXHU1RjUzXHU1MjREXHU0RUY3XHU2ODNDXCIsIFwiXHU2MzAxXHU0RUQzXHU2NTM2XHU3NkNBXCIsIFwiXHU1MzU2XHU1MUZBXHU0RUZEXHU2NTcwXCIsIFwiXHU3RDJGXHU3OUVGXHU3Qjc5XHU3ODAxXCJdXTtcbiAgICAgICAgY29uc3QgZ3JpZF9mb2xkZXIgPSB0aGlzLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCgnR3JpZFRyYWRpbmcnKTtcbiAgICAgICAgaWYgKGdyaWRfZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXg9MDsgaW5kZXggPCBncmlkX2ZvbGRlci5jaGlsZHJlbi5sZW5ndGg7IGluZGV4KyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JpZF9maWxlID0gZ3JpZF9mb2xkZXIuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChncmlkX2ZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBncmlkX2ZpbGUubmFtZS5lbmRzV2l0aChcIi5ndHZcIikpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBncmlkX3RyYWRpbmcgPSB0aGlzLnBsdWdpbl9lbnYuZ3JpZF90cmFkaW5nX2RpY3QuZ2V0KGdyaWRfZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZyBpbnN0YW5jZW9mIEdyaWRUcmFkaW5nICYmIGdyaWRfdHJhZGluZy5Jc1N0b2NrKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRfdHJhZGluZy5Jbml0VHJhZGluZ092ZXJ2aWV3KClcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrX3RhYmxlLnB1c2goZ3JpZF90cmFkaW5nLnN0b2NrX292ZXJ2aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1eV90YWJsZSA9IGJ1eV90YWJsZS5jb25jYXQoZ3JpZF90cmFkaW5nLnN0b2NrX2J1eV9vdmVydmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxsX3RhYmxlID0gc2VsbF90YWJsZS5jb25jYXQoZ3JpZF90cmFkaW5nLnN0b2NrX3NlbGxfb3ZlcnZpZXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZV90YWJsZSA9IHBhc3NpdmVfdGFibGUuY29uY2F0KGdyaWRfdHJhZGluZy5zdG9ja19wYXNzaXZlX2ZpbGxlZF9yZWNvcmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlX3RhYmxlID0gYWN0aXZlX3RhYmxlLmNvbmNhdChncmlkX3RyYWRpbmcuc3RvY2tfYWN0aXZlX2ZpbGxlZF9yZWNvcmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhZGluZ19pbmNvbWUgPSBncmlkX3RyYWRpbmcudHJhZGluZ19pbmNvbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpZHg9MTsgaWR4PD01OyBpZHgrKylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzFdID0gU3RyaW5nUGx1cyh0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzFdLCB0cmFkaW5nX2luY29tZVtpZHhdWzJdLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzJdID0gU3RyaW5nUGx1cyh0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzJdLCB0cmFkaW5nX2luY29tZVtpZHhdWzRdLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzNdID0gU3RyaW5nUGx1cyh0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzNdLCB0cmFkaW5nX2luY29tZVtpZHhdWzZdLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzVdID0gU3RyaW5nUGx1cyh0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzVdLCB0cmFkaW5nX2luY29tZVtpZHhdWzhdLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpZHg9MTsgaWR4PD01OyBpZHgrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXdbaWR4XVs0XSA9IFRvVHJhZGluZ0dhcChOdW1iZXIodGhpcy5pbmNvbWVfb3ZlcnZpZXdbaWR4XVsxXSksIE51bWJlcih0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzJdKSwgMik7XG4gICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzZdID0gVG9UcmFkaW5nR2FwKE51bWJlcih0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzVdKSwgTnVtYmVyKHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bNV0pICsgTnVtYmVyKHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bM10pLCAyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1c3RvbV9zdG9ja19vdmVydmlldyA9IFsuLi5zdG9ja190YWJsZSwgLi4uYnV5X3RhYmxlLCAuLi5zZWxsX3RhYmxlXTtcbiAgICAgICAgdGhpcy5zdG9ja19maWxsZWRfb3ZlcnZpZXcgPSBbLi4ucGFzc2l2ZV90YWJsZSwgLi4uYWN0aXZlX3RhYmxlXTtcbiAgICB9XG5cbiAgICBTdW11cEFsbFN0b2NrKClcbiAgICB7XG4gICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXcgPSBbXTtcbiAgICAgICAgbGV0IHN0b2NrX2NvdW50OiBudW1iZXIgPSAwO1xuICAgICAgICBsZXQgYnV5X21vbml0b3JfY291bnQ6IG51bWJlciA9IDA7XG4gICAgICAgIGxldCBzZWxsX21vbml0b3JfY291bnQ6IG51bWJlciA9IDA7XG4gICAgICAgIGxldCBidXlfY29zdF9saXN0OiBudW1iZXIgW10gPSBbXTtcblxuICAgICAgICBmb3IobGV0IGlkeD0wOyBpZHg8dGhpcy5jdXN0b21fc3RvY2tfb3ZlcnZpZXcubGVuZ3RoOyBpZHgrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3RvY2sgPSB0aGlzLmN1c3RvbV9zdG9ja19vdmVydmlld1tpZHhdO1xuICAgICAgICAgICAgaWYgKHN0b2NrWzBdID09IEdSSURfQ09MT1JfU1RPQ0tfT1ZFUlZJRVcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RvY2tfY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdG9ja1swXSA9PSBHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VsbF9tb25pdG9yX2NvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RvY2tbMF0gPT0gR1JJRF9DT0xPUl9CVVlfT1ZFUlZJRVcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHN0b2NrLmxlbmd0aCA+IDQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBidXlfbW9uaXRvcl9jb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBidXlfY29zdF9saXN0LnB1c2goTnVtYmVyKHN0b2NrWzhdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB0b3RhbF9jb3N0ID0gMDtcbiAgICAgICAgbGV0IHRvcDVfY29zdCA9IDA7XG4gICAgICAgIGJ1eV9jb3N0X2xpc3Quc29ydCgoYSwgYikgPT4gYiAtIGEpO1xuICAgICAgICBidXlfY29zdF9saXN0LmZvckVhY2goKHZhbCwgaWR4KSA9PiB0b3RhbF9jb3N0ID0gdG90YWxfY29zdCArIHZhbCk7XG4gICAgICAgIGJ1eV9jb3N0X2xpc3QuZm9yRWFjaCgodmFsLCBpZHgpID0+IHtpZiAoaWR4IDwgNSkgdG9wNV9jb3N0ID0gdG9wNV9jb3N0ICsgdmFsfSk7XG4gICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXcucHVzaChbXCJcdTY4MDdcdTc2ODRcdTYwM0JcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTc2RDFcdTYzQTdcdTY4M0NcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTc2RDFcdTYzQTdcdTY4M0NcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTUzNTVcdTYyMTBcdTRFQTRcdTYwM0JcdTk4OURcIiwgXCJUT1A1XHU0RTcwXHU1MTY1XHU2MjEwXHU0RUE0XHU2MDNCXHU5ODlEXCJdKTtcbiAgICAgICAgdGhpcy5zdG9ja19vdmVydmlldy5wdXNoKFtTdHJpbmcoc3RvY2tfY291bnQpLCBTdHJpbmcoc2VsbF9tb25pdG9yX2NvdW50KSwgU3RyaW5nKGJ1eV9tb25pdG9yX2NvdW50KSwgU3RyaW5nKHRvdGFsX2Nvc3QpLCBTdHJpbmcodG9wNV9jb3N0KV0pO1xuICAgIH1cblxuICAgIERlYnVnTG9nKGxldmVsOiBzdHJpbmcsIGxvZ19zdHI6IHN0cmluZywgZXh0cmFfaW5mbzogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2cucHVzaChbbGV2ZWwsIGxvZ19zdHIsIGV4dHJhX2luZm9dKTtcbiAgICB9XG5cbiAgICBnZXRWaWV3RGF0YSgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgfVxuXG4gICAgc2V0Vmlld0RhdGEoZGF0YTogc3RyaW5nLCBjbGVhcjogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuUmVmcmVzaCgpO1xuICAgIH1cblxuICAgIGNsZWFyKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSA9IFwiXCI7XG4gICAgfVxuXG4gICAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gVklFV19UWVBFX0dUTztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4gXG4gICAge1xuICAgICAgICBsZXQgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XG4gICAgICAgIHRoaXMub3ZlcnZpZXdfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcbiAgICAgICAgdGhpcy5vdmVydmlld190YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xuXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmluY29tZV90aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xuICAgICAgICB0aGlzLmluY29tZV90YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xuXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmN1c3RvbV90aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xuICAgICAgICB0aGlzLmN1c3RvbV90YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xuXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmZpbGxlZF90aWxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XG4gICAgICAgIHRoaXMuZmlsbGVkX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XG5cbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIilcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcblxuICAgICAgICB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA9IHRoaXMucGx1Z2luX2Vudi5TdWJzY3JpYmVFdmVudChGRVRDSF9DVVJSRU5UX1BSSUNFLCAoKT0+dGhpcy5SZWZyZXNoKCkpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBvbkNsb3NlKCk6IFByb21pc2U8dm9pZD5cbiAgICB7XG4gICAgICAgIHRoaXMuY29udGVudEVsLmVtcHR5KCk7ICBcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5VbnN1YnNjcmliZUV2ZW50KEZFVENIX0NVUlJFTlRfUFJJQ0UsIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkKTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBSZWZyZXNoKClcbiAgICB7XG4gICAgICAgIHRoaXMuUmVhZEN1c3RvbVN0b2NrKCk7XG4gICAgICAgIHRoaXMuU3VtdXBBbGxTdG9jaygpO1xuICAgICAgICAvLyBcdTY4MDdcdTc2ODRcdTYwM0JcdTg5QzhcbiAgICAgICAgdGhpcy5vdmVydmlld190aXRsZV9lbC5zZXRUZXh0KFwiXHU3RjUxXHU2ODNDXHU2MDNCXHU4OUM4XCIpO1xuICAgICAgICB0aGlzLm92ZXJ2aWV3X3RhYmxlX2VsLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKHRoaXMub3ZlcnZpZXdfdGFibGVfZWwsIHRoaXMuc3RvY2tfb3ZlcnZpZXcsIGZhbHNlKTtcbiAgICBcbiAgICAgICAgLy8gXHU3NkM4XHU0RThGXHU2MDNCXHU4OUM4XG4gICAgICAgIHRoaXMuaW5jb21lX3RpdGxlX2VsLnNldFRleHQoXCJcdTc2QzhcdTRFOEZcdTYwM0JcdTg5QzhcIik7XG4gICAgICAgIHRoaXMuaW5jb21lX3RhYmxlX2VsLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKHRoaXMuaW5jb21lX3RhYmxlX2VsLCB0aGlzLmluY29tZV9vdmVydmlldywgZmFsc2UpO1xuXG4gICAgICAgIC8vIFx1NjgwN1x1NzY4NFx1NEZFMVx1NjA2RlxuICAgICAgICB0aGlzLmN1c3RvbV90aXRsZV9lbC5zZXRUZXh0KFwiXHU2MjExXHU3Njg0XHU3RjUxXHU2ODNDXCIpO1xuICAgICAgICB0aGlzLmN1c3RvbV90YWJsZV9lbC5lbXB0eSgpO1xuICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZSh0aGlzLmN1c3RvbV90YWJsZV9lbCwgdGhpcy5jdXN0b21fc3RvY2tfb3ZlcnZpZXcsIHRydWUpO1xuXG4gICAgICAgIC8vIFx1ODg2NVx1NEVEMy9cdTUyQTBcdTRFRDNcdTRGRTFcdTYwNkZcbiAgICAgICAgdGhpcy5maWxsZWRfdGlsZV9lbC5zZXRUZXh0KFwiXHU4ODY1XHU0RUQzXHU0RkUxXHU2MDZGXCIpO1xuICAgICAgICB0aGlzLmZpbGxlZF90YWJsZV9lbC5lbXB0eSgpO1xuICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZSh0aGlzLmZpbGxlZF90YWJsZV9lbCwgdGhpcy5zdG9ja19maWxsZWRfb3ZlcnZpZXcsIHRydWUpO1xuXG4gICAgICAgIC8vIFx1OEMwM1x1OEJENVx1NEZFMVx1NjA2RlxuICAgICAgICAvLyB0aGlzLmRlYnVnX2xvZ190aXRsZV9lbC5zZXRUZXh0KFwiXHU4QzAzXHU4QkQ1XHU2NUU1XHU1RkQ3XCIpO1xuICAgICAgICAvLyB0aGlzLmRlYnVnX2xvZ190YWJsZV9lbC5lbXB0eSgpO1xuICAgICAgICAvLyB0aGlzLkRpc3BsYXlUYWJsZSh0aGlzLmRlYnVnX2xvZ190YWJsZV9lbCwgdGhpcy5kZWJ1Z19sb2csIGZhbHNlKTtcbiAgICB9XG5cbiAgICBEaXNwbGF5VGFibGUodGFibGVfZWw6IEhUTUxFbGVtZW50LCB0YWJsZTogc3RyaW5nW11bXSwgaXNfY29sb3I6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBjb25zdCB0YWJsZV9ib2R5ID0gdGFibGVfZWwuY3JlYXRlRWwoXCJ0Ym9keVwiKTtcbiAgICAgICAgdGFibGUuZm9yRWFjaCgocm93LCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YWJsZV9yb3cgPSB0YWJsZV9ib2R5LmNyZWF0ZUVsKFwidHJcIik7XG4gICAgXG4gICAgICAgICAgICByb3cuZm9yRWFjaCgoY2VsbCwgaikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc19jb2xvcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqID4gMCkgXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlX3Jvdy5jcmVhdGVFbChcInRkXCIsIHsgdGV4dDogY2VsbCwgYXR0cjoge1wiYmdDb2xvclwiOiB0YWJsZVtpXVswXSwgXCJhbGlnblwiOiBcInJpZ2h0XCJ9fSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGVfcm93LmNyZWF0ZUVsKFwidGRcIiwgeyB0ZXh0OiBjZWxsLCBhdHRyOiB7XCJhbGlnblwiOiBcInJpZ2h0XCJ9fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCAiLypcbiAgICBDb3JyZWxhdGlvbjogXHU3NkY4XHU1MTczXHU2MDI3XHU3Q0ZCXHU2NTcwXHU4OUM2XHU1NkZFXG4gICAgXHU1QzU1XHU3OTNBXHU1OTFBXHU0RTJBXHU2ODA3XHU3Njg0XHU0RTI0XHU0RTI0XHU5NUY0XHU3Njg0XHU2REE4XHU4RENDXHU4RDcwXHU1MkJGXHU3NkY4XHU1MTczXHU2MDI3XG4qL1xuXG5pbXBvcnQgeyBUZXh0RmlsZVZpZXcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBURm9sZGVyLCBWYXVsdCB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0NPUiA9IFwiY29yLXZpZXdcIlxuXG5leHBvcnQgY2xhc3MgQ29yVmlldyBleHRlbmRzIFRleHRGaWxlVmlld1xue1xuICAgIGRhdGFfZWw6IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZilcbiAgICB7XG4gICAgICAgIHN1cGVyKGxlYWYpO1xuICAgIH1cblxuICAgIGdldFZpZXdUeXBlKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9DT1I7XG4gICAgfVxuXG4gICAgZ2V0Vmlld0RhdGEoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH1cblxuICAgIHNldFZpZXdEYXRhKGRhdGE6IHN0cmluZywgY2xlYXI6IGJvb2xlYW4pOiB2b2lkIFxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5SZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgY2xlYXIoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhID0gXCJcIjsgICAgXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIG9uT3BlbigpOiBQcm9taXNlPHZvaWQ+IFxuICAgIHtcbiAgICAgICAgbGV0IGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmRhdGFfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgb25DbG9zZSgpOiBQcm9taXNlPHZvaWQ+XG4gICAge1xuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cblxuICAgIFJlZnJlc2goKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhX2VsLnNldFRleHQodGhpcy5kYXRhKTtcbiAgICB9XG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQXFEQSxXQUFPLGVBQWUsU0FBUyxjQUFjLEVBQUUsT0FBTyxLQUFLLENBQUM7QUFDNUQsWUFBUSxNQUFNO0FBRWQsUUFBSUE7QUFBQTtBQUFBLE1BQXFCLFdBQVk7QUFDakMsaUJBQVNBLE9BQU07QUFDWCxlQUFLLGNBQWM7QUFDbkIsZUFBSyxnQkFBZ0I7QUFDckIsZUFBSyxTQUFTLElBQUksV0FBVyxDQUFDO0FBQzlCLGVBQUssVUFBVSxJQUFJLFlBQVksRUFBRTtBQUNqQyxlQUFLLFdBQVcsSUFBSSxXQUFXLEtBQUssU0FBUyxHQUFHLEVBQUU7QUFDbEQsZUFBSyxZQUFZLElBQUksWUFBWSxLQUFLLFNBQVMsR0FBRyxFQUFFO0FBQ3BELGVBQUssTUFBTTtBQUFBLFFBQ2Y7QUFDQSxRQUFBQSxLQUFJLFVBQVUsU0FBVSxLQUFLLEtBQUs7QUFDOUIsY0FBSSxRQUFRLFFBQVE7QUFBRSxrQkFBTTtBQUFBLFVBQU87QUFDbkMsaUJBQU8sS0FBSyxjQUNQLE1BQU0sRUFDTixVQUFVLEdBQUcsRUFDYixJQUFJLEdBQUc7QUFBQSxRQUNoQjtBQUNBLFFBQUFBLEtBQUksZUFBZSxTQUFVLEtBQUssS0FBSztBQUNuQyxjQUFJLFFBQVEsUUFBUTtBQUFFLGtCQUFNO0FBQUEsVUFBTztBQUNuQyxpQkFBTyxLQUFLLGNBQ1AsTUFBTSxFQUNOLGVBQWUsR0FBRyxFQUNsQixJQUFJLEdBQUc7QUFBQSxRQUNoQjtBQUNBLFFBQUFBLEtBQUksT0FBTyxTQUFVLEdBQUc7QUFDcEIsY0FBSSxLQUFLQSxLQUFJO0FBQ2IsY0FBSSxLQUFLQSxLQUFJO0FBQ2IsY0FBSTtBQUNKLGNBQUk7QUFDSixjQUFJO0FBQ0osY0FBSTtBQUNKLGVBQUssSUFBSSxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUc7QUFDdkIscUJBQVMsSUFBSTtBQUNiLGdCQUFJLEVBQUUsQ0FBQztBQUNQLGlCQUFLLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHO0FBQ3ZCLGlCQUFHLFNBQVMsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLElBQUksRUFBSTtBQUN2QyxxQkFBTztBQUNQLGlCQUFHLFNBQVMsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLElBQUksRUFBSTtBQUN2QyxxQkFBTztBQUFBLFlBQ1g7QUFBQSxVQUNKO0FBQ0EsaUJBQU8sR0FBRyxLQUFLLEVBQUU7QUFBQSxRQUNyQjtBQUNBLFFBQUFBLEtBQUksWUFBWSxTQUFVLEdBQUcsR0FBRztBQUM1QixjQUFJLElBQUksRUFBRSxDQUFDO0FBQ1gsY0FBSSxJQUFJLEVBQUUsQ0FBQztBQUNYLGNBQUksSUFBSSxFQUFFLENBQUM7QUFDWCxjQUFJLElBQUksRUFBRSxDQUFDO0FBRVgsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLFlBQVk7QUFDM0MsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLFlBQVk7QUFDM0MsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLFlBQVk7QUFDM0MsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLGFBQWE7QUFDNUMsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLFlBQVk7QUFDM0MsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLGFBQWE7QUFDNUMsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLGFBQWE7QUFDNUMsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLFdBQVc7QUFDMUMsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLGFBQWE7QUFDNUMsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLGFBQWE7QUFDNUMsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsRUFBRSxJQUFJLFFBQVE7QUFDeEMsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsRUFBRSxJQUFJLGFBQWE7QUFDN0MsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsRUFBRSxJQUFJLGFBQWE7QUFDN0MsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsRUFBRSxJQUFJLFdBQVc7QUFDM0MsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsRUFBRSxJQUFJLGFBQWE7QUFDN0MsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsRUFBRSxJQUFJLGFBQWE7QUFDN0MsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFFL0IsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLFlBQVk7QUFDM0MsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLGFBQWE7QUFDNUMsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLFlBQVk7QUFDNUMsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLFlBQVk7QUFDM0MsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLFlBQVk7QUFDM0MsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLFdBQVc7QUFDM0MsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLFlBQVk7QUFDNUMsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLFlBQVk7QUFDM0MsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLFlBQVk7QUFDM0MsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLGFBQWE7QUFDN0MsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLFlBQVk7QUFDM0MsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLGFBQWE7QUFDNUMsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLGFBQWE7QUFDN0MsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLFdBQVc7QUFDMUMsZUFBSyxLQUFLLElBQUksTUFBTSxNQUFNLElBQUk7QUFDOUIsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLGFBQWE7QUFDNUMsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFDL0IsZ0JBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLGFBQWE7QUFDN0MsZUFBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7QUFFL0IsZ0JBQU0sSUFBSSxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksU0FBUztBQUNuQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxhQUFhO0FBQ3ZDLGVBQUssS0FBSyxL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
