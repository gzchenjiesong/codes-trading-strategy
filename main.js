/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/ts-md5/dist/md5.js
var require_md5 = __commonJS({
  "node_modules/ts-md5/dist/md5.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Md5 = void 0;
    var Md52 = (
      /** @class */
      function() {
        function Md53() {
          this._dataLength = 0;
          this._bufferLength = 0;
          this._state = new Int32Array(4);
          this._buffer = new ArrayBuffer(68);
          this._buffer8 = new Uint8Array(this._buffer, 0, 68);
          this._buffer32 = new Uint32Array(this._buffer, 0, 17);
          this.start();
        }
        Md53.hashStr = function(str, raw) {
          if (raw === void 0) {
            raw = false;
          }
          return this.onePassHasher.start().appendStr(str).end(raw);
        };
        Md53.hashAsciiStr = function(str, raw) {
          if (raw === void 0) {
            raw = false;
          }
          return this.onePassHasher.start().appendAsciiStr(str).end(raw);
        };
        Md53._hex = function(x) {
          var hc = Md53.hexChars;
          var ho = Md53.hexOut;
          var n;
          var offset;
          var j;
          var i;
          for (i = 0; i < 4; i += 1) {
            offset = i * 8;
            n = x[i];
            for (j = 0; j < 8; j += 2) {
              ho[offset + 1 + j] = hc.charAt(n & 15);
              n >>>= 4;
              ho[offset + 0 + j] = hc.charAt(n & 15);
              n >>>= 4;
            }
          }
          return ho.join("");
        };
        Md53._md5cycle = function(x, k) {
          var a = x[0];
          var b = x[1];
          var c = x[2];
          var d = x[3];
          a += (b & c | ~b & d) + k[0] - 680876936 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[1] - 389564586 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[2] + 606105819 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[3] - 1044525330 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[4] - 176418897 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[5] + 1200080426 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[6] - 1473231341 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[7] - 45705983 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[8] + 1770035416 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[9] - 1958414417 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[10] - 42063 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[11] - 1990404162 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[12] + 1804603682 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[13] - 40341101 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[14] - 1502002290 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[15] + 1236535329 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & d | c & ~d) + k[1] - 165796510 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[6] - 1069501632 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[11] + 643717713 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[0] - 373897302 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[5] - 701558691 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[10] + 38016083 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[15] - 660478335 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[4] - 405537848 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[9] + 568446438 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[14] - 1019803690 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[3] - 187363961 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[8] + 1163531501 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[13] - 1444681467 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[2] - 51403784 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[7] + 1735328473 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[12] - 1926607734 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b ^ c ^ d) + k[5] - 378558 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[8] - 2022574463 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[11] + 1839030562 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[14] - 35309556 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[1] - 1530992060 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[4] + 1272893353 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[7] - 155497632 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[10] - 1094730640 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[13] + 681279174 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[0] - 358537222 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[3] - 722521979 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[6] + 76029189 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[9] - 640364487 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[12] - 421815835 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[15] + 530742520 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[2] - 995338651 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          x[0] = a + x[0] | 0;
          x[1] = b + x[1] | 0;
          x[2] = c + x[2] | 0;
          x[3] = d + x[3] | 0;
        };
        Md53.prototype.start = function() {
          this._dataLength = 0;
          this._bufferLength = 0;
          this._state.set(Md53.stateIdentity);
          return this;
        };
        Md53.prototype.appendStr = function(str) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var code;
          var i;
          for (i = 0; i < str.length; i += 1) {
            code = str.charCodeAt(i);
            if (code < 128) {
              buf8[bufLen++] = code;
            } else if (code < 2048) {
              buf8[bufLen++] = (code >>> 6) + 192;
              buf8[bufLen++] = code & 63 | 128;
            } else if (code < 55296 || code > 56319) {
              buf8[bufLen++] = (code >>> 12) + 224;
              buf8[bufLen++] = code >>> 6 & 63 | 128;
              buf8[bufLen++] = code & 63 | 128;
            } else {
              code = (code - 55296) * 1024 + (str.charCodeAt(++i) - 56320) + 65536;
              if (code > 1114111) {
                throw new Error("Unicode standard supports code points up to U+10FFFF");
              }
              buf8[bufLen++] = (code >>> 18) + 240;
              buf8[bufLen++] = code >>> 12 & 63 | 128;
              buf8[bufLen++] = code >>> 6 & 63 | 128;
              buf8[bufLen++] = code & 63 | 128;
            }
            if (bufLen >= 64) {
              this._dataLength += 64;
              Md53._md5cycle(this._state, buf32);
              bufLen -= 64;
              buf32[0] = buf32[16];
            }
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.appendAsciiStr = function(str) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var i;
          var j = 0;
          for (; ; ) {
            i = Math.min(str.length - j, 64 - bufLen);
            while (i--) {
              buf8[bufLen++] = str.charCodeAt(j++);
            }
            if (bufLen < 64) {
              break;
            }
            this._dataLength += 64;
            Md53._md5cycle(this._state, buf32);
            bufLen = 0;
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.appendByteArray = function(input) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var i;
          var j = 0;
          for (; ; ) {
            i = Math.min(input.length - j, 64 - bufLen);
            while (i--) {
              buf8[bufLen++] = input[j++];
            }
            if (bufLen < 64) {
              break;
            }
            this._dataLength += 64;
            Md53._md5cycle(this._state, buf32);
            bufLen = 0;
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.getState = function() {
          var s = this._state;
          return {
            buffer: String.fromCharCode.apply(null, Array.from(this._buffer8)),
            buflen: this._bufferLength,
            length: this._dataLength,
            state: [s[0], s[1], s[2], s[3]]
          };
        };
        Md53.prototype.setState = function(state) {
          var buf = state.buffer;
          var x = state.state;
          var s = this._state;
          var i;
          this._dataLength = state.length;
          this._bufferLength = state.buflen;
          s[0] = x[0];
          s[1] = x[1];
          s[2] = x[2];
          s[3] = x[3];
          for (i = 0; i < buf.length; i += 1) {
            this._buffer8[i] = buf.charCodeAt(i);
          }
        };
        Md53.prototype.end = function(raw) {
          if (raw === void 0) {
            raw = false;
          }
          var bufLen = this._bufferLength;
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var i = (bufLen >> 2) + 1;
          this._dataLength += bufLen;
          var dataBitsLen = this._dataLength * 8;
          buf8[bufLen] = 128;
          buf8[bufLen + 1] = buf8[bufLen + 2] = buf8[bufLen + 3] = 0;
          buf32.set(Md53.buffer32Identity.subarray(i), i);
          if (bufLen > 55) {
            Md53._md5cycle(this._state, buf32);
            buf32.set(Md53.buffer32Identity);
          }
          if (dataBitsLen <= 4294967295) {
            buf32[14] = dataBitsLen;
          } else {
            var matches = dataBitsLen.toString(16).match(/(.*?)(.{0,8})$/);
            if (matches === null) {
              return;
            }
            var lo = parseInt(matches[2], 16);
            var hi = parseInt(matches[1], 16) || 0;
            buf32[14] = lo;
            buf32[15] = hi;
          }
          Md53._md5cycle(this._state, buf32);
          return raw ? this._state : Md53._hex(this._state);
        };
        Md53.stateIdentity = new Int32Array([1732584193, -271733879, -1732584194, 271733878]);
        Md53.buffer32Identity = new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        Md53.hexChars = "0123456789abcdef";
        Md53.hexOut = [];
        Md53.onePassHasher = new Md53();
        return Md53;
      }()
    );
    exports.Md5 = Md52;
    if (Md52.hashStr("hello") !== "5d41402abc4b2a76b9719d911017c592") {
      throw new Error("Md5 self test failed.");
    }
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => TradingStrategy
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/lang_str.ts
var SETTING_NAME = /* @__PURE__ */ new Map([
  ["ONE_GRID_LIMIT", "\u9996\u7F51\u4E0A\u9650\u503C"],
  ["MAX_SLUMP_PCT", "\u6700\u5927\u56DE\u64A4\u503C"],
  ["TRIGGER_ADD_POINT", "\u89E6\u53D1\u4EF7\u52A0\u70B9"],
  ["TRADING_PRICE_PRECISION", "\u4EA4\u6613\u4EF7\u7CBE\u5EA6"],
  ["MIN_BATCH_COUNT", "\u5355\u624B\u4EFD\u6570\u989D"],
  ["MAX_RISE_PCT", "\u5355\u65E5\u6700\u5927\u6DA8\u5E45"],
  ["SGRID_STEP_PCT", "\u5C0F\u7F51\u6B65\u8FDB\u503C"],
  ["SGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["SGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["MGRID_STEP_PCT", "\u4E2D\u7F51\u6B65\u8FDB\u503C"],
  ["MGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["MGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["LGRID_STEP_PCT", "\u5927\u7F51\u6B65\u8FDB\u503C"],
  ["LGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["LGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["DATA_API_LICENCE", "\u6570\u636E\u63A5\u53E3\u8BC1\u4E66"]
]);
var SGRID_TYPE_NAME_STR = "\u5C0F\u7F51";
var MGRID_TYPE_NAME_STR = "\u4E2D\u7F51";
var LGRID_TYPE_NAME_STR = "\u5927\u7F51";
var PERFIT_TYPE_NAME_STR = "\u5229\u6DA6";

// src/settings.ts
var GRID_COLOR_BUY_MONITOR = "#FFFF00";
var GRID_COLOR_SELL_MONITOR = "#FFFF00";
var GRID_COLOR_BUY_TRIGGERED = "#D3D3D3";
var GRID_COLOR_SELL_TRIGGERED = "#FFFFE0";
var GRID_COLOR_STOCK_OVERVIEW = "#FFFFFF";
var GRID_COLOR_TABLE_TITLE = "#D3D3D3";
var GRID_COLOR_BUY_OVERVIEW = "#FFFF01";
var GRID_COLOR_SELL_OVERVIEW = "#FFFF00";
function PackSettings(settings) {
  let pack_str = "";
  let key;
  for (key in settings) {
    if (SETTING_NAME.has(String(key))) {
      pack_str = pack_str + String(key) + ":" + String(settings[key]) + "\n";
    }
  }
  return pack_str;
}
function UnpackSettings(settings, lines) {
  lines.forEach((line, idx) => {
    const strs = line.split(":");
    if (SETTING_NAME.has(strs[0])) {
      SetSettingValue(settings, strs[0], strs[1]);
    }
  });
}
function GetSettingValue(settings, key) {
  return settings[key];
}
function SetSettingValue(settings, key, value) {
  if (key in settings) {
    settings[key] = value;
  }
}
var PluginBaseSettings = class {
  constructor() {
    this.DATA_API_LICENCE = "112e84656174f0a5";
    this.DATA_API_LICENCE = "b192f53a6d6928033";
  }
};
var GridTradingSettings = class {
  constructor() {
    this.ONE_GRID_LIMIT = 1e4;
    this.MAX_SLUMP_PCT = 0.67;
    this.TRIGGER_ADD_POINT = 5e-3;
    this.TRADING_PRICE_PRECISION = 3;
    this.MIN_BATCH_COUNT = 100;
    this.MAX_RISE_PCT = 0.1;
    this.CLEAR_STEP_PCT = 0.25;
    this.MINIMUM_BUY_PCT = 0.1;
    this.BOTTOM_BUY_PCT = 0.2;
    this.SGRID_STEP_PCT = 0.05;
    this.SGRID_ADD_PCT = 0.05;
    this.SGRID_RETAIN_COUNT = 4;
    this.MGRID_STEP_PCT = 0.22;
    this.MGRID_ADD_PCT = 0.2;
    this.MGRID_RETAIN_COUNT = 2;
    this.LGRID_STEP_PCT = 0.52;
    this.LGRID_ADD_PCT = 0.5;
    this.LGRID_RETAIN_COUNT = 1;
  }
  Clone() {
    const clone = new GridTradingSettings();
    clone.ONE_GRID_LIMIT = this.ONE_GRID_LIMIT;
    clone.MAX_SLUMP_PCT = this.MAX_SLUMP_PCT;
    clone.TRIGGER_ADD_POINT = this.TRIGGER_ADD_POINT;
    clone.TRADING_PRICE_PRECISION = this.TRADING_PRICE_PRECISION;
    clone.MIN_BATCH_COUNT = this.MIN_BATCH_COUNT;
    clone.MAX_RISE_PCT = this.MAX_RISE_PCT;
    clone.CLEAR_STEP_PCT = this.CLEAR_STEP_PCT;
    clone.MINIMUM_BUY_PCT = this.MINIMUM_BUY_PCT;
    clone.BOTTOM_BUY_PCT = this.BOTTOM_BUY_PCT;
    clone.SGRID_STEP_PCT = this.SGRID_STEP_PCT;
    clone.SGRID_ADD_PCT = this.SGRID_ADD_PCT;
    clone.SGRID_RETAIN_COUNT = this.SGRID_RETAIN_COUNT;
    clone.MGRID_STEP_PCT = this.MGRID_STEP_PCT;
    clone.MGRID_ADD_PCT = this.MGRID_ADD_PCT;
    clone.MGRID_RETAIN_COUNT = this.MGRID_RETAIN_COUNT;
    clone.LGRID_STEP_PCT = this.LGRID_STEP_PCT;
    clone.LGRID_ADD_PCT = this.LGRID_ADD_PCT;
    clone.LGRID_RETAIN_COUNT = this.LGRID_RETAIN_COUNT;
    return clone;
  }
  PackBase() {
    const setting = [
      "BASE",
      String(this.ONE_GRID_LIMIT),
      String(this.MAX_SLUMP_PCT),
      String(this.TRIGGER_ADD_POINT),
      String(this.TRADING_PRICE_PRECISION),
      String(this.MIN_BATCH_COUNT),
      String(this.MAX_RISE_PCT),
      String(this.CLEAR_STEP_PCT),
      String(this.MINIMUM_BUY_PCT),
      String(this.BOTTOM_BUY_PCT)
    ];
    return setting.join(",");
  }
  UnpackBase(strs) {
    if (strs.length < 10) {
      return;
    }
    this.ONE_GRID_LIMIT = Number(strs[1]);
    this.MAX_SLUMP_PCT = Number(strs[2]);
    this.TRIGGER_ADD_POINT = Number(strs[3]);
    this.TRADING_PRICE_PRECISION = Number(strs[4]);
    this.MIN_BATCH_COUNT = Number(strs[5]);
    this.MAX_RISE_PCT = Number(strs[6]);
    this.CLEAR_STEP_PCT = Number(strs[7]);
    this.MINIMUM_BUY_PCT = Number(strs[8]);
    this.BOTTOM_BUY_PCT = Number(strs[9]);
  }
  PackStep() {
    const setting = [
      "STEP",
      String(this.SGRID_STEP_PCT),
      String(this.SGRID_ADD_PCT),
      String(this.SGRID_RETAIN_COUNT),
      String(this.MGRID_STEP_PCT),
      String(this.MGRID_ADD_PCT),
      String(this.MGRID_RETAIN_COUNT),
      String(this.LGRID_STEP_PCT),
      String(this.LGRID_ADD_PCT),
      String(this.LGRID_RETAIN_COUNT)
    ];
    return setting.join(",");
  }
  UnpackStep(strs) {
    if (strs.length != 10) {
      return;
    }
    this.SGRID_STEP_PCT = Number(strs[1]);
    this.SGRID_ADD_PCT = Number(strs[2]);
    this.SGRID_RETAIN_COUNT = Number(strs[3]);
    this.MGRID_STEP_PCT = Number(strs[4]);
    this.MGRID_ADD_PCT = Number(strs[5]);
    this.MGRID_RETAIN_COUNT = Number(strs[6]);
    this.LGRID_STEP_PCT = Number(strs[7]);
    this.LGRID_ADD_PCT = Number(strs[8]);
    this.LGRID_RETAIN_COUNT = Number(strs[9]);
  }
  PackQuant() {
    const setting = ["QUANT"];
    return setting.join(",");
  }
  UnpackQuant(strs) {
  }
};

// src/remote_util.ts
var import_obsidian = require("obsidian");
function DebugLog(...args) {
  let log_str = "";
  args.forEach((cell, i) => {
    log_str = log_str + String(cell);
  });
  new import_obsidian.Notice(log_str);
}

// src/grid_view.ts
var import_obsidian2 = require("obsidian");

// src/mymath.ts
function FixedPrice(price, pct, precision) {
  const scale = 10 ** precision;
  return Math.floor(Math.floor(price * scale) * Math.floor(pct * 100) / 100) / scale;
}
function MyFloor(num, single) {
  return Math.floor(num / single) * single;
}
function MyCeil(num, single) {
  return Math.ceil(num / single) * single;
}
function ToPercent(num, count = 0) {
  return (num * 100).toFixed(count) + "%";
}
function ToPercentStr(num, count = 0) {
  return num.toFixed(count) + "%";
}
function ToNumber(percent) {
  return Number(percent.replace("%", "")) / 100;
}
function ToTradingGap(current_price, target_price, count = 0) {
  if (target_price == void 0 || current_price == void 0 || current_price == 0) {
    return "-";
  }
  const gap = Math.abs(target_price - current_price);
  if (target_price > current_price) {
    return "+" + ToPercent(gap / current_price, count);
  } else {
    return "-" + ToPercent(gap / current_price, count);
  }
}
function IsNumeric(str) {
  return !isNaN(Number(str));
}
function TimeDuarion(dateStr1, dateStr2) {
  const date1 = new Date(dateStr1);
  const date2 = new Date(dateStr2);
  if (isNaN(date1.getTime()) || isNaN(date2.getTime())) {
    throw new Error("\u8F93\u5165\u7684\u65E5\u671F\u683C\u5F0F\u4E0D\u6B63\u786E");
  }
  const utc1 = Date.UTC(
    date1.getUTCFullYear(),
    date1.getUTCMonth(),
    date1.getUTCDate()
  );
  const utc2 = Date.UTC(
    date2.getUTCFullYear(),
    date2.getUTCMonth(),
    date2.getUTCDate()
  );
  return Math.abs(Math.floor((utc1 - utc2) / (1e3 * 60 * 60 * 24)));
}
function AveragePriceStr(cost, count, single) {
  if (count == 0) {
    return count.toFixed(single);
  }
  return String((cost / count).toFixed(single));
}
function StringPlus(num1, num2, single) {
  return String(MyFloor(Number(num1) + Number(num2), single));
}
function ProportionPctStr(count, total, single) {
  if (total == 0) {
    return total.toFixed(single) + "%";
  }
  return String((count / total * 100).toFixed(single)) + "%";
}

// src/grid_trading.ts
var import_md5 = __toESM(require_md5());
var GridTrading = class {
  constructor(plugin_env) {
    this.plugin_env = plugin_env;
    this.grid_settings = plugin_env.grid_settings.Clone();
    this.debug_log = [];
    this.data_md5 = "";
    this.is_empty = true;
    this.is_debug = false;
    this.remote_current_price = -1;
  }
  InitGridTrading(data) {
  }
  UpdateRemotePrice(remote_price) {
  }
  DebugLog(level, log_str, extra_info) {
    this.debug_log.push([level, log_str, extra_info]);
  }
  GetTradingTitle() {
    return this.stock_name + "(" + String(this.target_stock) + ")";
  }
  IsStock() {
    if (this.is_empty == false && (this.market_code == "sz" || this.market_code == "sh")) {
      return true;
    } else {
      return false;
    }
  }
  IsMonitor() {
    if (this.is_empty || this.is_debug || this.is_clear || this.is_cancel) {
      return false;
    } else {
      return true;
    }
  }
  ParseRawData(data) {
    const new_md5 = import_md5.Md5.hashStr(data);
    if (new_md5 === this.data_md5) {
      return false;
    }
    this.data_md5 = new_md5;
    const lines = data.split("\n");
    const strs = lines[0].split(",");
    this.target_stock = Number(strs[1]);
    this.stock_name = strs[2];
    this.market_code = strs[3];
    this.target_price = Number(strs[4]);
    this.current_price = Number(strs[5]);
    this.remote_current_price = this.plugin_env.GetStockRemotePrice(strs[1]);
    if (this.remote_current_price > 0) {
      this.current_price = this.remote_current_price;
    }
    this.is_debug = false;
    this.is_pause = false;
    this.is_clear = false;
    this.is_cancel = false;
    this.grid_settings = this.plugin_env.grid_settings.Clone();
    this.raw_trading_record = [];
    this.raw_adjust_record = [];
    this.buy_grid_record = [];
    this.sgrid_step_table = [];
    this.mgrid_step_table = [];
    this.lgrid_step_table = [];
    this.clear_sell_record = /* @__PURE__ */ new Map();
    this.force_view_grid_list = [];
    for (let idx = 1; idx < lines.length; idx++) {
      const strs2 = lines[idx].split(",");
      if (strs2[0] == "BUY") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
        this.buy_grid_record.push(strs2[2]);
      }
      if (strs2[0] == "SELL") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
        this.buy_grid_record.remove(strs2[2]);
      }
      if (strs2[0] == "SHARE") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "BASE") {
        this.grid_settings.UnpackBase(strs2);
      }
      if (strs2[0] == "STEP") {
        this.grid_settings.UnpackStep(strs2);
      }
      if (strs2[0] == "SGRID") {
        this.sgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "MGRID") {
        this.mgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "LGRID") {
        this.lgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "ADJ") {
        this.raw_adjust_record.push([strs2[1], strs2[2], strs2[3], strs2[4], strs2[5]]);
      }
      if (strs2[0] == "VIEW") {
        for (let i = 1; i < strs2.length; i++)
          if (strs2[i].trim().length > 0)
            this.force_view_grid_list.push(strs2[i].trim());
      }
      if (strs2[0] == "CTRL") {
        for (let i = 1; i < strs2.length; i++) {
          if (strs2[i].trim() == "DEBUG") {
            this.is_debug = true;
          }
          if (strs2[i].trim() == "PAUSE") {
            this.is_pause = true;
          }
          if (strs2[i].trim() == "CLEAR") {
            this.is_clear = true;
          }
          if (strs2[i].trim() == "CANCEL") {
            this.is_cancel = true;
          }
        }
      }
      if (strs2[0] == "HIST") {
        if (strs2[1] == "RANGE") {
        }
      }
    }
    return true;
  }
  InitTradingOverview() {
    this.stock_overview = [
      GRID_COLOR_STOCK_OVERVIEW,
      String(this.target_stock),
      this.stock_name,
      this.target_price.toFixed(3),
      this.current_price.toFixed(3),
      ToPercent(this.current_price / this.target_price, 1),
      String(this.total_hold),
      String(this.total_cost),
      ToTradingGap(this.total_cost, this.total_hold * this.current_price, 2),
      this.trading_income[5][10]
    ];
    this.stock_buy_overview = [];
    if (this.buy_monitor_rows.length > 0 && !(this.is_pause || this.is_clear || this.is_cancel)) {
      for (let idx = 0; idx < this.buy_monitor_rows.length; idx++) {
        const row = this.buy_monitor_rows[idx];
        const trading_gap = ToTradingGap(this.current_price, Number(this.trading_table[row][3]), 2);
        this.stock_buy_overview.push([
          GRID_COLOR_BUY_OVERVIEW,
          String(this.target_stock),
          this.stock_name,
          this.trading_table[row][0],
          this.trading_table[row][1],
          this.trading_table[row][2],
          this.trading_table[row][3],
          this.trading_table[row][4],
          this.trading_table[row][5],
          trading_gap
        ]);
      }
    }
    this.stock_sell_overview = [];
    if (this.sell_monitor_rows.length > 0 && !(this.is_clear || this.is_cancel)) {
      for (let idx = 0; idx < this.sell_monitor_rows.length; idx++) {
        const row = this.sell_monitor_rows[idx];
        const trading_gap = ToTradingGap(this.current_price, Number(this.trading_table[row][7]), 2);
        this.stock_sell_overview.push([
          GRID_COLOR_SELL_OVERVIEW,
          String(this.target_stock),
          this.stock_name,
          this.trading_table[row][0],
          this.trading_table[row][1],
          this.trading_table[row][6],
          this.trading_table[row][7],
          this.trading_table[row][8],
          this.trading_table[row][9],
          trading_gap
        ]);
      }
    }
    if (this.stock_active_filled_record.length > 0) {
      for (let idx = 0; idx < this.stock_active_filled_record.length; idx++) {
        const row = this.stock_active_filled_record[idx];
        row[8] = String(this.current_price);
        row[9] = ToTradingGap(Number(row[5]), this.current_price);
        row[10] = String(MyCeil(Number(row[7]) / this.current_price, this.grid_settings.MIN_BATCH_COUNT));
        row[11] = String(Number(row[6]) - Number(row[10]));
      }
    }
    if (this.stock_passive_filled_record.length > 0) {
      for (let idx = 0; idx < this.stock_passive_filled_record.length; idx++) {
        const row = this.stock_passive_filled_record[idx];
        const grid_row = this.FindTradingGridRow(row[3]);
        if (grid_row.length > 0) {
          row[3] = grid_row[0];
          row[4] = grid_row[1];
          row[5] = grid_row[3];
          row[6] = grid_row[4];
          row[7] = grid_row[5];
          row[8] = String(this.current_price);
          row[9] = ToTradingGap(Number(row[5]), this.current_price);
          row[10] = grid_row[7];
          row[11] = ToTradingGap(this.current_price, Number(row[10]));
        }
      }
    }
  }
  InitStockTable() {
    this.empty_price = FixedPrice(this.target_price, 1 + this.grid_settings.SGRID_STEP_PCT, this.grid_settings.TRADING_PRICE_PRECISION);
    for (let idx = 1; idx < this.trading_table.length; idx++) {
      if (Number(this.trading_table[idx][7]) > this.empty_price) {
        this.empty_price = Number(this.trading_table[idx][7]);
      }
    }
    const clear_pct = this.grid_settings.CLEAR_STEP_PCT;
    this.clear_avg_price = Number(((this.CalcClearPrice(clear_pct, 1) + this.CalcClearPrice(clear_pct, 2) + this.CalcClearPrice(clear_pct, 3)) / 3).toFixed(this.grid_settings.TRADING_PRICE_PRECISION));
    this.clear_price = this.CalcClearPrice(clear_pct, 3);
    const mini_price = FixedPrice(this.target_price, this.grid_settings.MINIMUM_BUY_PCT, this.grid_settings.TRADING_PRICE_PRECISION);
    const bottom_price = FixedPrice(this.target_price, this.grid_settings.BOTTOM_BUY_PCT, this.grid_settings.TRADING_PRICE_PRECISION);
    this.stock_table = [
      ["\u6807\u7684\u4EE3\u53F7", String(this.target_stock)],
      ["\u6807\u7684\u540D\u79F0", this.stock_name],
      ["\u7F51\u683C\u6A21\u5F0F", this.mode_type],
      ["\u9996\u7F51\u4EF7\u683C", String(this.target_price)],
      ["\u5F53\u524D\u4EF7\u683C", String(this.current_price), "\u4EF7\u683C\u767E\u5206\u4F4D", ToPercent(this.current_price / this.target_price, 1)],
      ["\u56DE\u8C03\u4EF7\u683C", String(bottom_price), "\u4EF7\u683C\u767E\u5206\u4F4D", ToPercent(this.grid_settings.BOTTOM_BUY_PCT, 1)],
      ["\u6700\u4F4E\u4EF7\u683C", String(mini_price), "\u4EF7\u683C\u767E\u5206\u4F4D", ToPercent(this.grid_settings.MINIMUM_BUY_PCT, 1)],
      ["\u505C\u683C\u8DCC\u5E45", ToTradingGap(this.current_price, mini_price), "\u6E05\u683C\u6DA8\u5E45", ToTradingGap(this.current_price, this.empty_price, 1)]
    ];
    for (let idx = 0; idx < this.force_view_grid_list.length; idx++) {
      const row = this.FindTradingGridRowIndex(this.force_view_grid_list[idx]);
      if (row < 0 || this.buy_monitor_rows.includes(row)) {
        continue;
      }
      this.buy_monitor_rows.push(row);
    }
  }
  InitGridParam() {
    this.param_table = [
      ["\u9996\u7F51\u76EE\u6807\u91D1\u989D", String(this.grid_settings.ONE_GRID_LIMIT), "\u6700\u5927\u56DE\u64A4\u503C", ToPercent(this.grid_settings.MAX_SLUMP_PCT), "\u6700\u5927\u6DA8\u8DCC\u5E45", ToPercent(this.grid_settings.MAX_RISE_PCT)],
      ["\u89E6\u53D1\u4EF7\u52A0\u70B9", String(this.grid_settings.TRIGGER_ADD_POINT), "\u6BCF\u624B\u4EFD\u6570\u989D", String(this.grid_settings.MIN_BATCH_COUNT), "\u4EA4\u6613\u4EF7\u7CBE\u5EA6", String(this.grid_settings.TRADING_PRICE_PRECISION)],
      ["\u5C0F\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.SGRID_STEP_PCT), "\u4E2D\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.MGRID_STEP_PCT), "\u5927\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.LGRID_STEP_PCT)],
      ["\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.SGRID_ADD_PCT), "\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.MGRID_ADD_PCT), "\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.LGRID_ADD_PCT)],
      ["\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.SGRID_RETAIN_COUNT), "\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.MGRID_RETAIN_COUNT), "\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.LGRID_RETAIN_COUNT)]
    ];
  }
  InitTradingAnalysis() {
    const price = this.target_price;
    const rise_pct = this.grid_settings.SGRID_STEP_PCT;
    const table = this.trading_table;
    function Analysis(slump_pct) {
      let total_cost = 0;
      let total_amount = 0;
      let total_sell = 0;
      let total_gain = 0;
      const min_price = price * (1 - slump_pct);
      const max_price = price * (1 + rise_pct);
      table.forEach((row, i) => {
        if (i > 0 && ToNumber(row[1]) >= 1 - slump_pct) {
          total_cost = total_cost + Number(row[5]);
          total_amount = total_amount + Number(row[4]);
          total_gain = total_gain + Number(row[9]);
          total_sell = total_sell + Number(row[8]);
        }
      });
      const cost_price = (total_cost - total_gain) / (total_amount - total_sell);
      const gain_money = Math.floor(max_price * (total_amount - total_sell) - (total_cost - total_gain));
      return [
        ToPercent(slump_pct) + "(" + min_price.toFixed(3) + ")",
        String(total_cost),
        String(total_amount),
        String(Math.ceil(total_amount * min_price)),
        (total_cost / total_amount).toFixed(3),
        String(Math.ceil(total_cost - total_amount * min_price)),
        ((total_cost - total_amount * min_price) / total_cost * 100).toFixed(2) + "%",
        ((total_cost / total_amount - min_price) / min_price * 100).toFixed(2) + "%",
        String(total_amount - total_sell),
        String(Math.floor(max_price * (total_amount - total_sell))),
        String(total_cost - total_gain),
        cost_price.toFixed(3),
        ((max_price - cost_price) / cost_price * 100).toFixed(2) + "%",
        String(gain_money),
        (gain_money / total_cost * 100).toFixed(2) + "%"
      ];
    }
    this.trading_analysis = [
      ["\u4E8F\u635F\u5206\u6790", "\u56DE\u64A4\u6BD4\u4F8B"],
      ["", "\u6295\u5165\u8D44\u91D1"],
      ["", "\u6301\u4ED3\u4EFD\u989D"],
      ["", "\u6301\u4ED3\u91D1\u989D"],
      ["", "\u6301\u4ED3\u6210\u672C"],
      ["", "\u4E8F\u635F\u91D1\u989D"],
      ["", "\u4E8F\u635F\u6BD4\u4F8B"],
      ["", "\u6240\u9700\u6DA8\u5E45"],
      ["\u53CD\u5F39\u76C8\u5229", "\u6301\u4ED3\u4EFD\u989D"],
      [(price * (1 + rise_pct)).toFixed(3), "\u6301\u4ED3\u91D1\u989D"],
      ["", "\u5360\u7528\u672C\u91D1"],
      ["", "\u6301\u4ED3\u6210\u672C"],
      ["", "\u6D6E\u76C8\u6BD4\u4F8B"],
      ["", "\u7F51\u683C\u76C8\u5229"],
      ["", "\u603B\u6D6E\u76C8\u6BD4"]
    ];
    const slump_pcts = [20, 30, 40, 50, 60, 70, 80];
    for (const pct of slump_pcts) {
      const result = Analysis(pct / 100);
      for (let idx = 0; idx < result.length; idx++) {
        this.trading_analysis[idx].push(result[idx]);
      }
    }
  }
  InitTradingRecord() {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    let adjust_price = 0;
    let adjust_count = 0;
    let adjust_cost = 0;
    this.adjust_record = [["\u8C03\u6574\u65E5\u671F", "\u8C03\u6574\u7C7B\u578B", "\u8C03\u6574\u5185\u5BB9", "\u4EA4\u6613\u4EF7\u683C", "\u4EA4\u6613\u80A1\u6570", "\u6D88\u8017\u672C\u91D1"]];
    for (let idx = 0; idx < this.raw_adjust_record.length; idx++) {
      if (IsNumeric(this.raw_adjust_record[idx][3])) {
        adjust_price = Number(this.raw_adjust_record[idx][3]);
      } else {
        adjust_price = 0;
      }
      if (IsNumeric(this.raw_adjust_record[idx][4])) {
        adjust_count = Number(this.raw_adjust_record[idx][4]);
      } else {
        adjust_count = 0;
      }
      adjust_cost = Math.ceil(adjust_price * adjust_count);
      if (adjust_cost > 0) {
        this.adjust_record.push([this.raw_adjust_record[idx][0], this.raw_adjust_record[idx][1], this.raw_adjust_record[idx][2], adjust_price.toFixed(precision), String(adjust_count), String(adjust_cost)]);
      } else {
        this.adjust_record.push([this.raw_adjust_record[idx][0], this.raw_adjust_record[idx][1], this.raw_adjust_record[idx][2], "-", "-", "-"]);
      }
    }
    this.total_retain = 0;
    this.retain_cost = 0;
    this.total_cost = 0;
    this.total_hold = 0;
    this.trading_record = [["\u4EA4\u6613\u65B9\u5411", "\u4EA4\u6613\u65E5\u671F", "\u7F51\u683C\u7C7B\u578B", "\u4EA4\u6613\u4EF7\u683C", "\u4EA4\u6613\u80A1\u6570", "\u6D88\u8017\u672C\u91D1", "\u7D2F\u79EF\u7B79\u7801", "\u6301\u4ED3\u65F6\u957F"]];
    this.stock_passive_filled_record = [];
    this.stock_active_filled_record = [];
    this.holding_record = [];
    let raw_record = [...this.raw_trading_record];
    let cursor = 0;
    let retain_sell = 0;
    while (cursor < raw_record.length) {
      if (raw_record[cursor][0] == "BUY") {
        let scursor = -1;
        for (let idx = cursor; idx < raw_record.length; idx++) {
          if (raw_record[idx][0] == "SELL" && raw_record[idx][2] == raw_record[cursor][2]) {
            scursor = idx;
            break;
          }
        }
        if (scursor >= 0) {
          const retain_count = Math.floor(Number(raw_record[cursor][4]) - Number(raw_record[scursor][4]));
          const cost_count = Math.floor(Number(raw_record[cursor][3]) * Number(raw_record[cursor][4]) - Number(raw_record[scursor][3]) * Number(raw_record[scursor][4]));
          const time_d = TimeDuarion(raw_record[cursor][1], raw_record[scursor][1]);
          this.total_retain = this.total_retain + retain_count;
          this.retain_cost = this.retain_cost + cost_count;
          this.trading_record.push([raw_record[cursor][0], raw_record[cursor][1], raw_record[cursor][2], raw_record[cursor][3], raw_record[cursor][4], String(cost_count)]);
          this.trading_record.push([raw_record[scursor][0], raw_record[scursor][1], raw_record[scursor][2], raw_record[scursor][3], raw_record[scursor][4], "--", String(retain_count), String(time_d) + "\u5929"]);
          raw_record.splice(cursor, 1);
          raw_record.splice(scursor - 1, 1);
        } else {
          cursor++;
        }
      } else {
        cursor++;
      }
    }
    for (let idx = 0; idx < raw_record.length; idx++) {
      if (raw_record[idx][0] == "BUY") {
        const cost_count = Math.floor(Number(raw_record[idx][3]) * Number(raw_record[idx][4]));
        this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], String(cost_count)]);
        this.total_cost = this.total_cost + cost_count;
        if (Number(raw_record[idx][3]) > 0) {
          this.total_hold = this.total_hold + Number(raw_record[idx][4]);
          this.holding_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4]]);
        }
        if (Number(raw_record[idx][3]) == 0) {
          this.stock_passive_filled_record.push([GRID_COLOR_BUY_OVERVIEW, String(this.target_stock), this.stock_name, raw_record[idx][2], "", "", "", "", "", "", "", ""]);
        }
        if (raw_record[idx][2].startsWith("\u8865\u4ED3")) {
          this.stock_active_filled_record.push([GRID_COLOR_SELL_OVERVIEW, String(this.target_stock), this.stock_name, raw_record[idx][2], raw_record[idx][1], raw_record[idx][3], raw_record[idx][4], String(cost_count), "", "", ""]);
        }
      } else {
        if (raw_record[idx][0] == "SHARE") {
          if (raw_record[idx][2] == "\u7EA2\u5229") {
            const gain_count = Math.floor(Number(raw_record[idx][3]) * Number(raw_record[idx][4]));
            this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], "-" + String(gain_count)]);
            this.retain_cost = this.retain_cost - gain_count;
          }
          if (raw_record[idx][2] == "\u62C6\u80A1") {
            this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], "--", raw_record[idx][4]]);
            this.total_retain = this.total_retain + Number(raw_record[idx][4]);
          }
        } else {
          if (raw_record[idx][0] == "SELL" && raw_record[idx][2].startsWith("\u5229\u6DA6")) {
            this.total_retain = this.total_retain - Number(raw_record[idx][4]);
            this.retain_cost = this.retain_cost - Number(raw_record[idx][3]) * Number(raw_record[idx][4]);
            retain_sell = retain_sell + Number(raw_record[idx][4]);
            let sell_count = this.clear_sell_record.get(raw_record[idx][2]);
            if (sell_count == void 0) {
              sell_count = 0;
            }
            this.clear_sell_record.set(raw_record[idx][2], sell_count + Number(raw_record[idx][4]));
          }
          this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4]]);
        }
      }
    }
    this.total_hold = this.total_hold + this.total_retain;
    this.total_cost = this.total_cost + this.retain_cost;
    if (this.total_cost != 0) {
      this.trading_record.push(["Cost", "", "", "", "", String(this.total_cost), "", ""]);
    }
    if (this.total_retain <= 0) {
      if (this.total_hold > 0) {
        this.trading_record.push(["Retain", "", "", "", String(this.total_hold), "", "0", ""]);
      }
      return;
    }
    this.trading_record.push(["Retain", "", "", "", String(this.total_hold), "", String(this.total_retain), ""]);
    const current_pct = MyCeil(this.current_price / this.target_price, 1e-3);
    for (let index = 1; index <= 3; index++) {
      const row = this.GenerateClearRow(PERFIT_TYPE_NAME_STR, index, this.grid_settings.CLEAR_STEP_PCT, MyFloor((this.total_retain + retain_sell) / 3, 100));
      this.trading_table.push(row);
      if (current_pct + this.grid_settings.MAX_RISE_PCT >= ToNumber(row[1])) {
        this.sell_monitor_rows.push(this.trading_table.length - 1);
      }
      this.sell_triggered_rows.push(this.trading_table.length - 1);
    }
  }
  InitTradingIncome() {
    this.trading_income = [];
    this.trading_income.push(["", "\u6301\u4ED3\u80A1\u6570", "\u5360\u7528\u672C\u91D1", "\u6301\u4ED3\u91D1\u989D", "\u6301\u4ED3\u5747\u4EF7", "\u5B9E\u9645\u4EF7\u683C", "\u6301\u4ED3\u76C8\u4E8F", "\u6295\u5165\u8D44\u91D1", "\u8D26\u9762\u8D44\u91D1", "\u6295\u5165\u76C8\u4E8F", "\u6295\u5165\u4ED3\u4F4D"]);
    this.trading_income.push(this.GenerateIncomeRow("\u7D2F\u8BA1\u7B79\u7801", this.total_retain, this.retain_cost, this.current_price, this.retain_cost, 0, 0));
    let need_slump = !this.is_clear && !this.is_cancel;
    this.CalcTradingIncome("\u5F53\u524D", this.current_price / this.target_price, this.empty_price, this.clear_avg_price, this.clear_price, false);
    this.CalcTradingIncome("\u56DE\u8C03", this.grid_settings.BOTTOM_BUY_PCT, this.empty_price, this.clear_avg_price, this.clear_price, need_slump);
    this.CalcTradingIncome("\u6700\u5927", this.grid_settings.MINIMUM_BUY_PCT, this.empty_price, this.clear_avg_price, this.clear_price, need_slump);
  }
  InitHoldingAnalysis() {
    const total_hold = this.total_hold;
    const total_cost = this.total_cost;
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    this.holding_analysis = [];
    this.holding_analysis.push(["\u7B79\u7801\u7C7B\u578B", "\u6301\u4ED3\u80A1\u6570", "\u5360\u7528\u672C\u91D1", "\u6301\u4ED3\u91D1\u989D", "\u6301\u4ED3\u5747\u4EF7", "\u5F53\u524D\u4EF7\u683C", "\u6301\u4ED3\u76C8\u4E8F", "\u6E05\u683C\u76C8\u5229", "\u6E05\u4ED3\u76C8\u5229", "\u6301\u4ED3\u5360\u6BD4", "\u672C\u91D1\u5360\u6BD4"]);
    this.holding_analysis.push(["\u603B\u989D"]);
    this.CalcHoldingPercent("\u5C0F\u7F51", this.empty_price, this.clear_avg_price);
    this.CalcHoldingPercent("\u4E2D\u7F51", this.empty_price, this.clear_avg_price);
    this.CalcHoldingPercent("\u5927\u7F51", this.empty_price, this.clear_avg_price);
    let grid_total_hold = this.total_retain;
    let grid_total_cost = this.retain_cost;
    let grid_current_value = Math.floor(grid_total_hold * this.current_price);
    let grid_empty_income = grid_total_hold * this.empty_price - grid_total_cost;
    let grid_clear_income = grid_total_hold * this.clear_avg_price - grid_total_cost;
    this.holding_analysis.push([
      "\u7D2F\u79EF",
      String(grid_total_hold),
      String(grid_total_cost),
      String(grid_current_value),
      AveragePriceStr(grid_total_cost, grid_total_hold, precision),
      this.current_price.toFixed(precision),
      String(grid_current_value - grid_total_cost),
      grid_empty_income.toFixed(0),
      grid_clear_income.toFixed(0),
      ProportionPctStr(grid_total_hold, total_hold, 2),
      ProportionPctStr(grid_total_cost, total_cost, 2)
    ]);
    grid_total_hold = 0;
    grid_total_cost = 0;
    for (let idx = 0; idx < this.holding_record.length; idx++) {
      if (this.holding_record[idx][2].startsWith("\u8865\u4ED3")) {
        grid_total_hold += Number(this.holding_record[idx][4]);
        grid_total_cost += Number(this.holding_record[idx][3]) * Number(this.holding_record[idx][4]);
      }
    }
    grid_total_cost = Math.ceil(grid_total_cost);
    grid_current_value = Math.floor(grid_total_hold * this.current_price);
    grid_empty_income = grid_total_hold * this.empty_price - grid_total_cost;
    grid_clear_income = grid_total_hold * this.clear_avg_price - grid_total_cost;
    this.holding_analysis.push([
      "\u8865\u4ED3",
      String(grid_total_hold),
      String(grid_total_cost),
      String(grid_current_value),
      AveragePriceStr(grid_total_cost, grid_total_hold, precision),
      this.current_price.toFixed(precision),
      String(grid_current_value - grid_total_cost),
      grid_empty_income.toFixed(0),
      grid_clear_income.toFixed(0),
      ProportionPctStr(grid_total_hold, total_hold, 2),
      ProportionPctStr(grid_total_cost, total_cost, 2)
    ]);
    grid_total_hold = 0;
    grid_total_cost = 0;
    grid_current_value = 0;
    grid_empty_income = 0;
    grid_clear_income = 0;
    for (let idx = 2; idx < this.holding_analysis.length; idx++) {
      grid_total_hold += Number(this.holding_analysis[idx][1]);
      grid_total_cost += Number(this.holding_analysis[idx][2]);
      grid_current_value += Number(this.holding_analysis[idx][3]);
      grid_empty_income += Number(this.holding_analysis[idx][7]);
      grid_clear_income += Number(this.holding_analysis[idx][8]);
    }
    this.holding_analysis[1] = [
      "\u603B\u989D",
      String(grid_total_hold),
      String(grid_total_cost),
      String(grid_current_value),
      AveragePriceStr(grid_total_cost, grid_total_hold, precision),
      this.current_price.toFixed(precision),
      String(grid_current_value - grid_total_cost),
      grid_empty_income.toFixed(0),
      grid_clear_income.toFixed(0),
      ProportionPctStr(grid_total_hold, total_hold, 2),
      ProportionPctStr(grid_total_cost, total_cost, 2)
    ];
  }
  CalcHoldingPercent(grid_type, empty_price, clear_avg_price) {
    const total_hold = this.total_hold;
    const total_cost = this.total_cost;
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    let grid_total_hold = 0;
    let grid_total_cost = 0;
    let grid_empty_income = 0;
    let grid_clear_income = 0;
    for (let idx = 0; idx < this.holding_record.length; idx++) {
      if (this.holding_record[idx][2].startsWith(grid_type)) {
        const grid_hold = Number(this.holding_record[idx][4]);
        const grid_cost = Number(this.holding_record[idx][3]) * Number(this.holding_record[idx][4]);
        grid_total_hold += grid_hold;
        grid_total_cost += grid_cost;
        let grid_row = this.FindTradingGridRow(this.holding_record[idx][2]);
        const empty_income = Number(grid_row[9]) + (grid_hold - Number(grid_row[8])) * empty_price - grid_cost;
        grid_empty_income += empty_income;
        const clear_income = Number(grid_row[9]) + (grid_hold - Number(grid_row[8])) * clear_avg_price - grid_cost;
        grid_clear_income += clear_income;
      }
    }
    grid_total_cost = Math.ceil(grid_total_cost);
    let grid_current_value = Math.floor(grid_total_hold * this.current_price);
    this.holding_analysis.push([
      grid_type,
      String(grid_total_hold),
      String(grid_total_cost),
      String(grid_current_value),
      AveragePriceStr(grid_total_cost, grid_total_hold, precision),
      this.current_price.toFixed(precision),
      String(grid_current_value - grid_total_cost),
      grid_empty_income.toFixed(0),
      grid_clear_income.toFixed(0),
      ProportionPctStr(grid_total_hold, total_hold, 2),
      ProportionPctStr(grid_total_cost, total_cost, 2)
    ]);
  }
  CalcTradingIncome(title_txt, slump_pct, empty_price, clear_avg_price, clear_price, need_slump = true) {
    let total_cost = this.total_cost;
    let total_count = this.total_hold;
    let empty_cost = this.total_cost;
    let empty_count = this.total_hold;
    let clear_income_max = 0;
    let total_sell_cost = 0;
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    this.trading_table.forEach((row, i) => {
      if (this.trading_table[i][0].startsWith("\u5229\u6DA6")) {
        clear_income_max = clear_income_max + Number(this.trading_table[i][9]);
      } else {
        if (this.buy_grid_record.includes(this.trading_table[i][0])) {
          empty_cost = empty_cost - Number(row[9]);
          empty_count = empty_count - Number(row[8]);
          clear_income_max = clear_income_max + (Number(row[4]) - Number(row[8])) * clear_avg_price;
          total_sell_cost = total_sell_cost + Number(row[9]);
        } else {
          if (i > 0 && ToNumber(row[1]) >= slump_pct && need_slump) {
            total_cost = total_cost + Number(row[5]);
            total_count = total_count + Number(row[4]);
            empty_cost = empty_cost + Number(row[5]) - Number(row[9]);
            empty_count = empty_count + Number(row[4]) - Number(row[8]);
            clear_income_max = clear_income_max + (Number(row[4]) - Number(row[8])) * clear_avg_price;
            total_sell_cost = total_sell_cost + Number(row[9]);
          }
        }
      }
    });
    clear_income_max = Math.floor(clear_income_max - empty_cost);
    this.trading_income.push(this.GenerateIncomeRow(title_txt + "\u6301\u4ED3", total_count, total_cost, this.target_price * slump_pct, total_cost, this.total_cost, 0));
    this.trading_income.push(this.GenerateIncomeRow(title_txt + "\u6E05\u683C", empty_count, empty_cost, empty_price, total_cost, 0, total_sell_cost));
    this.trading_income.push([
      title_txt + "\u6E05\u4ED3",
      "0",
      "0",
      "0",
      "-",
      clear_price.toFixed(precision),
      String(clear_income_max),
      String(total_cost),
      String(total_sell_cost + empty_cost + clear_income_max),
      ToTradingGap(total_cost, total_sell_cost + empty_cost + clear_income_max, 2),
      "-"
    ]);
  }
  GenerateClearRow(grid_name, idx, grid_step_pct, sell_count) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const price_step = Math.floor((100 + Math.floor(grid_step_pct * 100)) ** idx / 100 ** (idx - 1)) / 100;
    const sell_price = FixedPrice(this.target_price, price_step, precision);
    let clear_count = this.clear_sell_record.get(grid_name + String(idx));
    if (clear_count == void 0) {
      clear_count = 0;
    }
    return [
      grid_name + String(idx),
      ToPercent(price_step),
      "",
      "",
      "",
      "",
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count - clear_count),
      String(Math.ceil(sell_price * (sell_count - clear_count))),
      "-",
      "+" + ToPercent(grid_step_pct)
    ];
  }
  GenerateIncomeRow(grid_name, total_count, total_cost, current_price, max_cost, current_cost, sell_value) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const current_value = MyFloor(total_count * current_price, 1);
    const total_income = current_value - total_cost;
    let position = ToPercent(current_cost / max_cost);
    if (current_cost == 0) {
      position = "-";
    }
    return [
      grid_name,
      String(total_count),
      String(total_cost),
      String(current_value),
      (total_cost / Math.max(total_count, 1)).toFixed(precision),
      current_price.toFixed(precision),
      String(total_income),
      String(max_cost),
      String(sell_value + current_value),
      ToTradingGap(max_cost, total_income + max_cost, 2),
      position
    ];
  }
  CalcClearPrice(step_pct, step_idx) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const price_step = Math.floor((100 + Math.floor(step_pct * 100)) ** step_idx / 100 ** (step_idx - 1)) / 100;
    return FixedPrice(this.target_price, price_step, precision);
  }
  IsNeedMonitor(table_index, is_sell, current_price, max_rise_pct) {
    if (is_sell) {
      const sell_price = Number(this.trading_table[table_index][7]);
      if (current_price * (1 + max_rise_pct) >= sell_price) {
        return true;
      } else {
        return false;
      }
    } else {
      const buy_price = Number(this.trading_table[table_index][3]);
      if (buy_price < this.target_price * this.grid_settings.MINIMUM_BUY_PCT) {
        return false;
      }
      if (current_price * (1 - max_rise_pct) <= buy_price) {
        return true;
      } else {
        return false;
      }
    }
  }
  IsDisableRow(table_index) {
    const price_pct = ToNumber(this.trading_table[table_index][1]);
    if (price_pct < this.grid_settings.MINIMUM_BUY_PCT) {
      return true;
    } else {
      return false;
    }
  }
  FindTradingGridRow(grid_name) {
    for (let idx = 0; idx < this.trading_table.length; idx++) {
      if (this.trading_table[idx][0] == grid_name) {
        return this.trading_table[idx];
      }
    }
    return [];
  }
  FindTradingGridRowIndex(grid_name) {
    for (let idx = 0; idx < this.trading_table.length; idx++) {
      if (this.trading_table[idx][0] == grid_name) {
        return idx;
      }
    }
    return -1;
  }
  SortTradingTable() {
    if (this.trading_table.length <= 1) {
      return;
    }
    this.trading_table.push(["\u505C\u6B62\u7EBF", "0%"]);
    let move_idx = 0;
    let move_row = null;
    for (let idx = 1; idx < this.trading_table.length; idx++) {
      if (this.trading_table[idx][1] == "0%") {
        break;
      }
      if (this.IsDisableRow(idx)) {
        move_idx = idx;
        move_row = this.trading_table[move_idx];
        for (let idx2 = move_idx; idx2 < this.trading_table.length - 1; idx2++) {
          this.trading_table[idx2] = this.trading_table[idx2 + 1];
          if (this.buy_monitor_rows.indexOf(idx2 + 1) != -1) {
            this.buy_monitor_rows[this.buy_monitor_rows.indexOf(idx2 + 1)] = idx2;
          }
          if (this.buy_triggered_rows.indexOf(idx2 + 1) != -1) {
            this.buy_triggered_rows[this.buy_triggered_rows.indexOf(idx2 + 1)] = idx2;
          }
          if (this.sell_monitor_rows.indexOf(idx2 + 1) != -1) {
            this.sell_monitor_rows[this.sell_monitor_rows.indexOf(idx2 + 1)] = idx2;
          }
          if (this.sell_triggered_rows.indexOf(idx2 + 1) != -1) {
            this.sell_triggered_rows[this.sell_triggered_rows.indexOf(idx2 + 1)] = idx2;
          }
        }
        this.trading_table[this.trading_table.length - 1] = move_row;
        idx--;
      }
    }
  }
};

// src/grid_trading_m1.ts
var GridTradingModeOne = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "One";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.disable_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const scount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.SGRID_STEP_PCT);
    const mcount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.MGRID_STEP_PCT);
    const lcount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.LGRID_STEP_PCT);
    const max_rise_pct = this.grid_settings.MAX_RISE_PCT;
    for (let idx = 0; idx <= scount; idx++) {
      this.trading_table[idx + 1] = this.GenerateOneRow(
        SGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.SGRID_STEP_PCT,
        this.grid_settings.SGRID_RETAIN_COUNT,
        this.grid_settings.SGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
        this.buy_triggered_rows.push(idx + 1);
        this.sell_triggered_rows.push(idx + 1);
      }
      if (this.IsDisableRow(idx + 1)) {
        this.disable_rows.push(idx + 1);
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < scount + 1)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      if (false) {
        const last_sell_s = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
        if (this.IsNeedMonitor(last_sell_s, true, this.current_price, max_rise_pct)) {
          this.sell_triggered_rows.pop();
          this.sell_monitor_rows.push(last_sell_s);
        }
      }
    } else {
      const first_buy = 1;
      if (this.IsNeedMonitor(first_buy, false, this.current_price, max_rise_pct)) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    for (let idx = 1; idx <= mcount; idx++) {
      this.trading_table[scount + 1 + idx] = this.GenerateOneRow(
        MGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.MGRID_STEP_PCT,
        this.grid_settings.MGRID_RETAIN_COUNT,
        this.grid_settings.MGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[scount + 1 + idx][0])) {
        this.buy_triggered_rows.push(scount + 1 + idx);
        this.sell_triggered_rows.push(scount + 1 + idx);
      } else {
        if (this.IsNeedMonitor(scount + 1 + idx, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(scount + 1 + idx);
        }
      }
      if (this.IsDisableRow(scount + 1 + idx)) {
        this.disable_rows.push(scount + 1 + idx);
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] > scount + 1) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_m, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    for (let idx = 1; idx <= lcount; idx++) {
      this.trading_table[scount + 1 + mcount + idx] = this.GenerateOneRow(
        LGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.LGRID_STEP_PCT,
        this.grid_settings.LGRID_RETAIN_COUNT,
        this.grid_settings.LGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[scount + 1 + mcount + idx][0])) {
        this.buy_triggered_rows.push(scount + 1 + mcount + idx);
        this.sell_triggered_rows.push(scount + 1 + mcount + idx);
      } else {
        if (this.IsNeedMonitor(scount + 1 + mcount, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(scount + 1 + mcount + idx);
        }
      }
      if (this.IsDisableRow(scount + 1 + mcount + idx)) {
        this.disable_rows.push(scount + 1 + mcount + idx);
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] > scount + 1 + mcount) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_l, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, idx, grid_step_pct, grid_retain_count, grid_add_pct) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const buy_price_step = 100 - idx * Math.floor(grid_step_pct * 100);
    const buy_price = FixedPrice(this.target_price, buy_price_step / 100, precision);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + idx * grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price_step = buy_price_step + Math.floor(grid_step_pct * 100);
    const sell_price = FixedPrice(this.target_price, sell_price_step / 100, precision);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name + String(idx),
      ToPercentStr(buy_price_step),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      buy_price.toFixed(precision),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/grid_trading_m2.ts
var GridTradingModeTwo = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "Two";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.disable_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const count = Math.floor(Math.log(1 - this.grid_settings.MAX_SLUMP_PCT) / Math.log(1 - this.grid_settings.LGRID_STEP_PCT)) + 1;
    const max_rise_pct = this.grid_settings.MAX_RISE_PCT;
    let idx = 0;
    let max_slump_pct = Math.round((1 - this.grid_settings.MAX_SLUMP_PCT) * 100);
    let sell_price_step = 1 + this.grid_settings.SGRID_STEP_PCT;
    for (let i = 0; i < count; i++) {
      let ti = 1;
      const first_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i));
      const slump_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      let step_pct = first_step;
      while (step_pct > slump_pct && step_pct > max_slump_pct) {
        this.trading_table[idx + 1] = this.GenerateOneRow(
          SGRID_TYPE_NAME_STR,
          idx,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.SGRID_RETAIN_COUNT,
          this.grid_settings.SGRID_ADD_PCT
        );
        if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
          this.buy_triggered_rows.push(idx + 1);
          this.sell_triggered_rows.push(idx + 1);
        }
        if (this.IsDisableRow(idx + 1)) {
          this.disable_rows.push(idx + 1);
        }
        sell_price_step = step_pct / 100;
        step_pct = Math.round(first_step * (1 - ti * this.grid_settings.SGRID_STEP_PCT));
        ti++;
        idx++;
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < this.trading_table.length)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      if (false) {
        const last_sell_s = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
        if (this.IsNeedMonitor(last_sell_s, true, this.current_price, max_rise_pct)) {
          this.sell_triggered_rows.pop();
          this.sell_monitor_rows.push(last_sell_s);
        }
      }
    } else {
      const first_buy = 1;
      if (this.IsNeedMonitor(first_buy, false, this.current_price, max_rise_pct)) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    let start_index = this.trading_table.length;
    idx = 0;
    sell_price_step = 1;
    for (let i = 0; i < count; i++) {
      let ti = 2;
      const first_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i));
      const slump_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      let step_pct = Math.round(first_step * (1 - this.grid_settings.MGRID_STEP_PCT));
      while (step_pct > slump_pct && step_pct > max_slump_pct) {
        this.trading_table[start_index + idx] = this.GenerateOneRow(
          MGRID_TYPE_NAME_STR,
          idx + 1,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.MGRID_RETAIN_COUNT,
          this.grid_settings.MGRID_ADD_PCT
        );
        if (this.IsDisableRow(start_index + idx)) {
          this.disable_rows.push(start_index + idx);
        }
        if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
          this.buy_triggered_rows.push(start_index + idx);
          this.sell_triggered_rows.push(start_index + idx);
        } else {
          if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
            this.buy_monitor_rows.push(start_index + idx);
          }
        }
        sell_price_step = step_pct / 100;
        step_pct = Math.round(first_step * (1 - ti * this.grid_settings.MGRID_STEP_PCT));
        ti++;
        idx++;
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_m, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    start_index = this.trading_table.length;
    idx = 0;
    for (let i = 0; i < count; i++) {
      sell_price_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i)) / 100;
      const step_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      if (step_pct > max_slump_pct) {
        this.trading_table[start_index + idx] = this.GenerateOneRow(
          LGRID_TYPE_NAME_STR,
          idx + 1,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.LGRID_RETAIN_COUNT,
          this.grid_settings.LGRID_ADD_PCT
        );
        if (this.IsDisableRow(start_index + idx)) {
          this.disable_rows.push(start_index + idx);
        }
        if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
          this.buy_triggered_rows.push(start_index + idx);
          this.sell_triggered_rows.push(start_index + idx);
        } else {
          if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
            this.buy_monitor_rows.push(start_index + idx);
          }
        }
        idx++;
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_l, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, idx, buy_price_step, sell_price_step, grid_retain_count, grid_add_pct) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const buy_price = FixedPrice(this.target_price, buy_price_step, precision);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + idx * grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price = FixedPrice(this.target_price, sell_price_step, precision);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name + String(idx),
      ToPercent(buy_price_step),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      buy_price.toFixed(precision),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/grid_trading_m3.ts
var GridTradingModeThree = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "Three";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.disable_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const max_rise_pct = this.grid_settings.MAX_RISE_PCT;
    let grid_sell_pct = 1 + this.grid_settings.SGRID_STEP_PCT;
    for (let idx = 0; idx < this.sgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.sgrid_step_table[idx][1]);
      this.trading_table[idx + 1] = this.GenerateOneRow(
        this.sgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.sgrid_step_table[idx][2]),
        Number(this.sgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.IsDisableRow(idx + 1)) {
        this.disable_rows.push(idx + 1);
      }
      if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
        this.buy_triggered_rows.push(idx + 1);
        this.sell_triggered_rows.push(idx + 1);
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < this.sgrid_step_table.length)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      if (false) {
        const last_sell_s = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
        if (this.IsNeedMonitor(last_sell_s, true, this.current_price, max_rise_pct)) {
          this.sell_triggered_rows.pop();
          this.sell_monitor_rows.push(last_sell_s);
        }
      }
    } else {
      const first_buy = 1;
      if (this.IsNeedMonitor(first_buy, false, this.current_price, max_rise_pct)) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    let start_index = this.sgrid_step_table.length + 1;
    grid_sell_pct = 1 + this.grid_settings.MGRID_STEP_PCT;
    for (let idx = 0; idx < this.mgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.mgrid_step_table[idx][1]);
      this.trading_table[start_index + idx] = this.GenerateOneRow(
        this.mgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.mgrid_step_table[idx][2]),
        Number(this.mgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.IsDisableRow(start_index + idx)) {
        this.disable_rows.push(start_index + idx);
      }
      if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
        this.buy_triggered_rows.push(start_index + idx);
        this.sell_triggered_rows.push(start_index + idx);
      } else {
        if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(start_index + idx);
        }
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_m, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    start_index = this.sgrid_step_table.length + this.mgrid_step_table.length + 1;
    grid_sell_pct = 1 + this.grid_settings.LGRID_STEP_PCT;
    for (let idx = 0; idx < this.lgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.lgrid_step_table[idx][1]);
      this.trading_table[start_index + idx] = this.GenerateOneRow(
        this.lgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.lgrid_step_table[idx][2]),
        Number(this.lgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.IsDisableRow(start_index + idx)) {
        this.disable_rows.push(start_index + idx);
      }
      if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
        this.buy_triggered_rows.push(start_index + idx);
        this.sell_triggered_rows.push(start_index + idx);
      } else {
        if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(start_index + idx);
        }
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_l, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, grid_buy_pct, grid_sell_pct, grid_add_pct, grid_retain_count) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const buy_price = FixedPrice(this.target_price, grid_buy_pct, precision);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price = FixedPrice(this.target_price, grid_sell_pct, precision);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name,
      ToPercent(grid_buy_pct),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      buy_price.toFixed(precision),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/plugin_env.ts
var FETCH_CURRENT_PRICE = "fetch_current_price";
var PluginEnv = class {
  constructor() {
    this.is_settings_changed = false;
    this.base_settings = new PluginBaseSettings();
    this.grid_settings = new GridTradingSettings();
    this.grid_trading_dict = /* @__PURE__ */ new Map();
    this.stock_remote_price_dict = /* @__PURE__ */ new Map();
    this.event_callback_dict = /* @__PURE__ */ new Map();
    this._event_guid = 0;
  }
  GetAPILisence() {
    return this.base_settings.DATA_API_LICENCE;
  }
  GetStockRemotePrice(stock_no) {
    const price = this.stock_remote_price_dict.get(stock_no);
    if (price != void 0) {
      return price;
    } else {
      return -1;
    }
  }
  GetGridTradingTypeByString(mode) {
    if (mode == "mode_two") {
      return GridTradingModeTwo;
    }
    if (mode == "mode_three") {
      return GridTradingModeThree;
    }
    return GridTradingModeOne;
  }
  GetAndGenGridTrading(grid_name, mode) {
    let grid_trading = this.grid_trading_dict.get(grid_name);
    const trading_mode = this.GetGridTradingTypeByString(mode);
    if (grid_trading instanceof trading_mode) {
      return grid_trading;
    }
    grid_trading = new trading_mode(this);
    this.grid_trading_dict.set(grid_name, grid_trading);
    return grid_trading;
  }
  UnserializedSettings(data) {
    const lines = data.split("\n");
    if (lines.length <= 0) {
      return;
    }
    UnpackSettings(this.base_settings, lines);
    UnpackSettings(this.grid_settings, lines);
  }
  SerializedSettings() {
    return PackSettings(this.base_settings) + PackSettings(this.grid_settings);
  }
  PublishEvent(event_name) {
    const cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0) {
      return;
    }
    for (let [guid, event_cb] of cb_dict) {
      try {
        event_cb();
      } catch (e) {
        ;
      }
    }
  }
  SubscribeEvent(event_name, event_cb) {
    const guid = this.GenGUID();
    let cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0) {
      cb_dict = /* @__PURE__ */ new Map();
      this.event_callback_dict.set(event_name, cb_dict);
    }
    cb_dict.set(guid, event_cb);
    return guid;
  }
  UnsubscribeEvent(event_name, event_guid) {
    const cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0 || !cb_dict.has(event_guid)) {
      return false;
    }
    return cb_dict.delete(event_guid);
  }
  GenGUID() {
    this._event_guid++;
    return this._event_guid;
  }
};

// src/command_util.ts
var GridCommand = class {
  constructor() {
    this.command = "none";
    this.command_type = "grid";
  }
};
function ExcuteGridCommand(cmd_str) {
  const strs = cmd_str.split(" ");
  const command = new GridCommand();
  command.command = strs[0];
  command.raw_command_text = cmd_str;
  if (command.command == "add_record") {
    command.command_param1 = strs[1];
    AddGridRecord(command);
  }
  if (command.command == "del_record") {
    command.command_param1 = strs[1];
    DelGridRecord(command);
  }
  return command;
}
function AddGridRecord(command) {
  const sub_strs = command.command_param1.split(",");
  if (sub_strs.length != 5) {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  if (sub_strs[0] != "BUY" && sub_strs[0] != "SELL" && sub_strs[0] != "SHARE") {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  if (!sub_strs[2].startsWith("\u5C0F\u7F51") && !sub_strs[2].startsWith("\u4E2D\u7F51") && !sub_strs[2].startsWith("\u5927\u7F51") && !sub_strs[2].startsWith("\u7EA2\u5229") && !sub_strs[2].startsWith("\u5229\u6DA6")) {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  command.error_code = 0;
  command.data_result_str = "\n" + command.command_param1;
  return true;
}
function DelGridRecord(command) {
  if (IsNumeric(command.command_param1)) {
    command.error_code = 0;
    command.data_result_num = Number(command.command_param1);
  } else {
    command.error_code = -1;
    command.error_msg = "invalid param";
  }
}

// src/grid_view.ts
var VIEW_TYPE_GTV = "gtv-view";
var GTVView = class extends import_obsidian2.TextFileView {
  constructor(leaf, plugin_env) {
    super(leaf);
    this.plugin_env = plugin_env;
    this.refresh_event_guid = -1;
    this.view_guid = plugin_env.GenGUID();
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  getViewType() {
    return VIEW_TYPE_GTV;
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.command_btn_el = div.createEl("button");
    this.command_btn_el.setText("Excute");
    this.command_btn_el.onClickEvent((ev) => {
      this.OnClickAddRecordBtn(ev, this.command_input_el);
    });
    this.command_input_el = div.createEl("input");
    this.command_input_el.empty();
    this.command_input_el.size = 70;
    this.command_input_el.placeholder = "Input your command";
    div = this.contentEl.createEl("div");
    this.stock_tile_el = div.createEl("h1");
    this.stock_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.param_title_el = div.createEl("h1");
    this.param_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.trading_title_el = div.createEl("h1");
    this.trading_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.holding_title_el = div.createEl("h1");
    this.holding_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.income_title_el = div.createEl("h1");
    this.income_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.analysis_title_el = div.createEl("h1");
    this.analysis_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.record_title_el = div.createEl("h1");
    this.record_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.adjust_title_el = div.createEl("h1");
    this.adjust_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.debug_log_title_el = div.createEl("h1");
    this.debug_log_table_el = div.createEl("table");
    this.refresh_event_guid = this.plugin_env.SubscribeEvent(FETCH_CURRENT_PRICE, () => this.Refresh());
  }
  OnClickAddRecordBtn(ev, input_el) {
    try {
      const text = input_el.value;
      const grid_cmd = ExcuteGridCommand(text);
      if (grid_cmd.error_code == 0) {
        if (grid_cmd.command == "add_record") {
          this.data = this.data + grid_cmd.data_result_str;
          this.setViewData(this.data, false);
        }
        if (grid_cmd.command == "del_record") {
          const lines = this.data.split("\n");
          let count = 0;
          let index = 0;
          for (index = 0; index < lines.length; index++) {
            if (lines[index].startsWith("BUY,") || lines[index].startsWith("SELL,")) {
              count++;
            }
            if (count == grid_cmd.data_result_num) {
              break;
            }
          }
          if (index < lines.length) {
            lines.splice(index, 1);
          }
          this.data = lines.join("\n");
          this.setViewData(this.data, false);
        }
      }
    } catch (e) {
      DebugLog("Command has error ", e);
    }
  }
  async onClose() {
    this.contentEl.empty();
    if (this.refresh_event_guid > 0) {
      this.plugin_env.UnsubscribeEvent(FETCH_CURRENT_PRICE, this.refresh_event_guid);
      this.refresh_event_guid = -1;
    }
  }
  Refresh() {
    this.stock_tile_el.setText("\u672A\u77E5\u6807\u7684");
    this.stock_table_el.empty();
    this.param_title_el.setText("\u7F51\u683C\u53C2\u6570");
    this.param_table_el.empty();
    this.trading_title_el.setText("\u4EA4\u6613\u7F51\u683C");
    this.trading_table_el.empty();
    this.holding_title_el.setText("\u6301\u4ED3\u5206\u6790");
    this.holding_table_el.empty();
    this.income_title_el.setText("\u6536\u76CA\u5206\u6790");
    this.income_table_el.empty();
    this.analysis_title_el.setText("\u56DE\u64A4\u5206\u6790");
    this.analysis_table_el.empty();
    this.record_title_el.setText("\u4EA4\u6613\u8BB0\u5F55");
    this.record_table_el.empty();
    this.adjust_title_el.setText("\u8C03\u6574\u8BB0\u5F55");
    this.adjust_table_el.empty();
    if (this.file != null) {
      const mode_str = this.data.split("\n")[0].split(",")[0];
      const grid_trading = this.plugin_env.GetAndGenGridTrading(this.file.name, mode_str);
      grid_trading.InitGridTrading(this.data);
      this.stock_tile_el.setText(grid_trading.stock_name);
      this.DisplayTable(grid_trading, this.stock_table_el, grid_trading.stock_table, false);
      this.DisplayTable(grid_trading, this.param_table_el, grid_trading.param_table, false);
      this.DisplayTable(grid_trading, this.trading_table_el, grid_trading.trading_table, true);
      this.DisplayTable(grid_trading, this.holding_table_el, grid_trading.holding_analysis, false);
      this.DisplayTable(grid_trading, this.income_table_el, grid_trading.trading_income, false);
      this.DisplayTable(grid_trading, this.analysis_table_el, grid_trading.trading_analysis, false);
      this.DisplayTable(grid_trading, this.record_table_el, grid_trading.trading_record, false);
      this.DisplayTable(grid_trading, this.adjust_table_el, grid_trading.adjust_record, false);
    }
  }
  DisplayTable(grid_trading, table_el, table, is_color) {
    try {
      const table_body = table_el.createEl("tbody");
      table.forEach((row, i) => {
        const table_row = table_body.createEl("tr");
        row.forEach((cell, j) => {
          const table_cell = table_row.createEl("td", { text: cell, attr: { "align": "right" } });
          if (is_color && i > 0) {
            if (j <= 5) {
              if (grid_trading.buy_triggered_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_BUY_TRIGGERED);
              }
              if (grid_trading.buy_monitor_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_BUY_MONITOR);
              }
            } else {
              if (grid_trading.sell_triggered_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_SELL_TRIGGERED);
              }
              if (grid_trading.sell_monitor_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_SELL_MONITOR);
              }
            }
          }
        });
      });
    } catch (error) {
      DebugLog("DisplayTable error: ", error);
    }
  }
};

// src/grid_overview.ts
var import_obsidian3 = require("obsidian");
var VIEW_TYPE_GTO = "gto-view";
var GTOView = class extends import_obsidian3.TextFileView {
  constructor(leaf, vault, plugin_env) {
    super(leaf);
    this.vault = vault;
    this.plugin_env = plugin_env;
    this.refresh_event_guid = -1;
    this.debug_log = [];
    this.stock_overview = [];
    this.custom_stock_overview = [];
    this.income_overview = [];
    this.holding_overview = [];
  }
  ReadCustomStock() {
    this.holding_overview = [["\u7B79\u7801\u7C7B\u578B", "\u5360\u7528\u672C\u91D1", "\u6301\u4ED3\u91D1\u989D", "\u6301\u4ED3\u76C8\u4E8F", "\u6E05\u683C\u76C8\u5229", "\u6E05\u4ED3\u76C8\u5229", "\u6301\u4ED3\u5360\u6BD4", "\u672C\u91D1\u5360\u6BD4"]];
    this.holding_overview.push(["\u603B\u989D", "0", "0", "0", "0", "0", "0", "0"]);
    this.holding_overview.push(["\u5C0F\u7F51", "0", "0", "0", "0", "0", "0", "0"]);
    this.holding_overview.push(["\u4E2D\u7F51", "0", "0", "0", "0", "0", "0", "0"]);
    this.holding_overview.push(["\u5927\u7F51", "0", "0", "0", "0", "0", "0", "0"]);
    this.holding_overview.push(["\u7D2F\u79EF", "0", "0", "0", "0", "0", "0", "0"]);
    this.holding_overview.push(["\u8865\u4ED3", "0", "0", "0", "0", "0", "0", "0"]);
    this.income_overview = [["", "\u5360\u7528\u672C\u91D1", "\u6301\u4ED3\u91D1\u989D", "\u6301\u4ED3\u76C8\u4E8F", "\u6295\u5165\u8D44\u91D1", "\u8D26\u9762\u8D44\u91D1", "\u6295\u5165\u76C8\u4E8F", "\u6295\u5165\u4ED3\u4F4D"]];
    this.income_overview.push(["\u7D2F\u79EF\u7B79\u7801", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u5F53\u524D\u6301\u4ED3", "0", "0", "0", "0", "0", "0", "0"]);
    this.income_overview.push(["\u5F53\u524D\u6E05\u683C", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u5F53\u524D\u6E05\u4ED3", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u56DE\u8C03\u6301\u4ED3", "0", "0", "0", "0", "0", "0", "0"]);
    this.income_overview.push(["\u56DE\u8C03\u6E05\u683C", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u56DE\u8C03\u6E05\u76D8", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u6700\u5927\u6301\u4ED3", "0", "0", "0", "0", "0", "0", "0"]);
    this.income_overview.push(["\u6700\u5927\u6E05\u683C", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u6700\u5927\u6E05\u76D8", "0", "0", "0", "0", "0", "0", "-"]);
    let stock_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u9996\u7F51\u76EE\u6807\u4EF7", "\u5F53\u524D\u4EF7\u683C", "\u4EF7\u683C\u767E\u5206\u4F4D", "\u6301\u4ED3\u80A1\u6570", "\u6D88\u8017\u672C\u91D1", "\u76C8\u4E8F\u6BD4\u7387", "\u56DE\u8C03\u4ED3\u4F4D"]];
    let buy_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u8DDD\u6210\u4EA4\u4EF7"]];
    let sell_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u8DDD\u6210\u4EA4\u4EF7"]];
    let passive_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5F53\u524D\u4EF7\u683C", "\u5F53\u524D\u8DCC\u5E45", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u6DA8\u5E45"]];
    let active_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EA4\u6613\u65E5\u671F", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5F53\u524D\u4EF7\u683C", "\u6301\u4ED3\u6536\u76CA", "\u5356\u51FA\u4EFD\u6570", "\u7D2F\u79EF\u7B79\u7801"]];
    const grid_folder = this.vault.getAbstractFileByPath("GridTrading");
    let grid_file_names = [];
    if (grid_folder instanceof import_obsidian3.TFolder) {
      for (let index = 0; index < grid_folder.children.length; index++) {
        const grid_file = grid_folder.children[index];
        if (grid_file instanceof import_obsidian3.TFile && grid_file.name.endsWith(".gtv")) {
          grid_file_names.push(grid_file.name);
        }
      }
    }
    grid_file_names.sort();
    this.active_stock_count = 0;
    this.clear_stock_count = 0;
    for (let idx = 0; idx < grid_file_names.length; idx++) {
      const grid_trading = this.plugin_env.grid_trading_dict.get(grid_file_names[idx]);
      if (grid_trading instanceof GridTrading && grid_trading.IsStock() && !grid_trading.is_debug) {
        grid_trading.InitTradingOverview();
        if (grid_trading.IsMonitor()) {
          this.active_stock_count++;
        }
        if (grid_trading.is_clear) {
          this.clear_stock_count++;
        }
        stock_table.push(grid_trading.stock_overview);
        buy_table = buy_table.concat(grid_trading.stock_buy_overview);
        sell_table = sell_table.concat(grid_trading.stock_sell_overview);
        passive_table = passive_table.concat(grid_trading.stock_passive_filled_record);
        active_table = active_table.concat(grid_trading.stock_active_filled_record);
        const trading_income = grid_trading.trading_income;
        for (let idx2 = 1; idx2 <= 10; idx2++) {
          this.income_overview[idx2][1] = StringPlus(this.income_overview[idx2][1], trading_income[idx2][2], 1);
          this.income_overview[idx2][2] = StringPlus(this.income_overview[idx2][2], trading_income[idx2][3], 1);
          this.income_overview[idx2][3] = StringPlus(this.income_overview[idx2][3], trading_income[idx2][6], 1);
          this.income_overview[idx2][4] = StringPlus(this.income_overview[idx2][4], trading_income[idx2][7], 1);
          this.income_overview[idx2][5] = StringPlus(this.income_overview[idx2][5], trading_income[idx2][8], 1);
        }
        const trading_holding = grid_trading.holding_analysis;
        for (let idx2 = 1; idx2 <= 6; idx2++) {
          this.holding_overview[idx2][1] = StringPlus(this.holding_overview[idx2][1], trading_holding[idx2][2], 1);
          this.holding_overview[idx2][2] = StringPlus(this.holding_overview[idx2][2], trading_holding[idx2][3], 1);
          this.holding_overview[idx2][3] = StringPlus(this.holding_overview[idx2][3], trading_holding[idx2][6], 1);
          this.holding_overview[idx2][4] = StringPlus(this.holding_overview[idx2][4], trading_holding[idx2][7], 1);
          this.holding_overview[idx2][5] = StringPlus(this.holding_overview[idx2][5], trading_holding[idx2][8], 1);
        }
      }
    }
    let current_cost = Number(this.income_overview[2][1]);
    let current_hold = Number(this.income_overview[2][2]);
    for (let idx = 1; idx <= 10; idx++) {
      this.income_overview[idx][6] = ToPercent(Number(this.income_overview[idx][3]) / Number(this.income_overview[idx][4]), 2);
      if (this.income_overview[idx][7] != "-") {
        this.income_overview[idx][7] = ToPercent(current_cost / Number(this.income_overview[idx][4]));
      }
    }
    for (let idx = 1; idx <= 6; idx++) {
      this.holding_overview[idx][6] = ProportionPctStr(Number(this.holding_overview[idx][2]), current_hold, 2);
      this.holding_overview[idx][7] = ProportionPctStr(Number(this.holding_overview[idx][1]), current_cost, 2);
    }
    this.custom_stock_overview = [...stock_table, ...buy_table, ...sell_table];
    this.stock_filled_overview = [...passive_table, ...active_table];
  }
  SumupAllStock() {
    this.stock_overview = [
      ["\u6807\u7684\u603B\u6570", "", "\u6301\u4ED3\u6807\u7684", String(this.active_stock_count), "\u5F85\u5F00\u683C\u6570", String(this.clear_stock_count)],
      ["\u4E70\u5165\u76D1\u63A7", ""],
      ["\u5356\u51FA\u76D1\u63A7", ""],
      ["", "\u4E70\u5165\u603B\u989D", "-5%\u4E70\u5165\u603B\u989D", "-3%\u4E70\u5165\u603B\u989D", "+3%\u5356\u51FA\u603B\u989D", "+5%\u5356\u51FA\u603B\u989D", "\u5356\u51FA\u603B\u989D"],
      ["\u5168\u90E8", "0", "0", "0", "0", "0", "0"],
      ["\u5C0F\u7F51", "0", "0", "0", "0", "0", "0"],
      ["\u4E2D\u7F51", "0", "0", "0", "0", "0", "0"],
      ["\u5927\u7F51", "0", "0", "0", "0", "0", "0"]
    ];
    let stock_count = 0;
    let buy_monitor_count = 0;
    let sell_monitor_count = 0;
    for (let idx = 0; idx < this.custom_stock_overview.length; idx++) {
      const stock = this.custom_stock_overview[idx];
      if (stock[0] == GRID_COLOR_STOCK_OVERVIEW) {
        stock_count++;
      }
      if (stock[0] == GRID_COLOR_BUY_OVERVIEW) {
        buy_monitor_count++;
        this.stock_overview[4][1] = StringPlus(this.stock_overview[4][1], stock[8], 1);
        if (stock[3].startsWith("\u5C0F\u7F51")) {
          this.stock_overview[5][1] = StringPlus(this.stock_overview[5][1], stock[8], 1);
        }
        if (stock[3].startsWith("\u4E2D\u7F51")) {
          this.stock_overview[6][1] = StringPlus(this.stock_overview[6][1], stock[8], 1);
        }
        if (stock[3].startsWith("\u5927\u7F51")) {
          this.stock_overview[7][1] = StringPlus(this.stock_overview[7][1], stock[8], 1);
        }
        const trading_gap = Number(stock[9].replace("%", "").replace("+", ""));
        if (trading_gap > -3) {
          this.stock_overview[4][3] = StringPlus(this.stock_overview[4][3], stock[8], 1);
          if (stock[3].startsWith("\u5C0F\u7F51")) {
            this.stock_overview[5][3] = StringPlus(this.stock_overview[5][3], stock[8], 1);
          }
          if (stock[3].startsWith("\u4E2D\u7F51")) {
            this.stock_overview[6][3] = StringPlus(this.stock_overview[6][3], stock[8], 1);
          }
          if (stock[3].startsWith("\u5927\u7F51")) {
            this.stock_overview[7][3] = StringPlus(this.stock_overview[7][3], stock[8], 1);
          }
        }
        if (trading_gap > -5) {
          this.stock_overview[4][2] = StringPlus(this.stock_overview[4][2], stock[8], 1);
          if (stock[3].startsWith("\u5C0F\u7F51")) {
            this.stock_overview[5][2] = StringPlus(this.stock_overview[5][2], stock[8], 1);
          }
          if (stock[3].startsWith("\u4E2D\u7F51")) {
            this.stock_overview[6][2] = StringPlus(this.stock_overview[6][2], stock[8], 10);
          }
          if (stock[3].startsWith("\u5927\u7F51")) {
            this.stock_overview[7][2] = StringPlus(this.stock_overview[7][2], stock[8], 1);
          }
        }
      }
      if (stock[0] == GRID_COLOR_SELL_OVERVIEW) {
        sell_monitor_count++;
        this.stock_overview[4][6] = StringPlus(this.stock_overview[4][6], stock[8], 1);
        if (stock[3].startsWith("\u5C0F\u7F51")) {
          this.stock_overview[5][6] = StringPlus(this.stock_overview[5][6], stock[8], 1);
        }
        if (stock[3].startsWith("\u4E2D\u7F51")) {
          this.stock_overview[6][6] = StringPlus(this.stock_overview[6][6], stock[8], 1);
        }
        if (stock[3].startsWith("\u5927\u7F51")) {
          this.stock_overview[7][6] = StringPlus(this.stock_overview[7][6], stock[8], 1);
        }
        const trading_gap = Number(stock[9].replace("%", "").replace("+", ""));
        if (trading_gap < 3) {
          this.stock_overview[4][4] = StringPlus(this.stock_overview[4][4], stock[8], 1);
          if (stock[3].startsWith("\u5C0F\u7F51")) {
            this.stock_overview[5][4] = StringPlus(this.stock_overview[5][4], stock[8], 1);
          }
          if (stock[3].startsWith("\u4E2D\u7F51")) {
            this.stock_overview[6][4] = StringPlus(this.stock_overview[6][4], stock[8], 1);
          }
          if (stock[3].startsWith("\u5927\u7F51")) {
            this.stock_overview[7][4] = StringPlus(this.stock_overview[7][4], stock[8], 1);
          }
        }
        if (trading_gap < 5) {
          this.stock_overview[4][5] = StringPlus(this.stock_overview[4][5], stock[8], 1);
          if (stock[3].startsWith("\u5C0F\u7F51")) {
            this.stock_overview[5][5] = StringPlus(this.stock_overview[5][5], stock[8], 1);
          }
          if (stock[3].startsWith("\u4E2D\u7F51")) {
            this.stock_overview[6][5] = StringPlus(this.stock_overview[6][5], stock[8], 1);
          }
          if (stock[3].startsWith("\u5927\u7F51")) {
            this.stock_overview[7][5] = StringPlus(this.stock_overview[7][5], stock[8], 1);
          }
        }
      }
    }
    this.stock_overview[0][1] = String(stock_count);
    this.stock_overview[1][1] = String(buy_monitor_count);
    this.stock_overview[2][1] = String(sell_monitor_count);
  }
  DebugLog(level, log_str, extra_info) {
    this.debug_log.push([level, log_str, extra_info]);
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  getViewType() {
    return VIEW_TYPE_GTO;
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.overview_title_el = div.createEl("h1");
    this.overview_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.holding_title_el = div.createEl("h1");
    this.holding_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.income_title_el = div.createEl("h1");
    this.income_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.custom_title_el = div.createEl("h1");
    this.custom_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.filled_tile_el = div.createEl("h1");
    this.filled_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.debug_log_title_el = div.createEl("h1");
    this.debug_log_table_el = div.createEl("table");
    this.refresh_event_guid = this.plugin_env.SubscribeEvent(FETCH_CURRENT_PRICE, () => this.Refresh());
  }
  async onClose() {
    this.contentEl.empty();
    if (this.refresh_event_guid > 0) {
      this.plugin_env.UnsubscribeEvent(FETCH_CURRENT_PRICE, this.refresh_event_guid);
      this.refresh_event_guid = -1;
    }
  }
  Refresh() {
    this.ReadCustomStock();
    this.SumupAllStock();
    this.overview_title_el.setText("\u7F51\u683C\u603B\u89C8");
    this.overview_table_el.empty();
    this.DisplayTable(this.overview_table_el, this.stock_overview, false);
    this.holding_title_el.setText("\u6301\u4ED3\u5206\u6790");
    this.holding_table_el.empty();
    this.DisplayTable(this.holding_table_el, this.holding_overview, false);
    this.income_title_el.setText("\u76C8\u4E8F\u603B\u89C8");
    this.income_table_el.empty();
    this.DisplayTable(this.income_table_el, this.income_overview, false);
    this.custom_title_el.setText("\u6211\u7684\u7F51\u683C");
    this.custom_table_el.empty();
    this.DisplayTable(this.custom_table_el, this.custom_stock_overview, true);
    this.filled_tile_el.setText("\u8865\u4ED3\u4FE1\u606F");
    this.filled_table_el.empty();
    this.DisplayTable(this.filled_table_el, this.stock_filled_overview, true);
  }
  DisplayTable(table_el, table, is_color) {
    const table_body = table_el.createEl("tbody");
    table.forEach((row, i) => {
      const table_row = table_body.createEl("tr");
      row.forEach((cell, j) => {
        if (is_color) {
          if (j > 0) {
            table_row.createEl("td", { text: cell, attr: { "bgColor": table[i][0], "align": "right" } });
          }
        } else {
          table_row.createEl("td", { text: cell, attr: { "align": "right" } });
        }
      });
    });
  }
};

// src/cor_view.ts
var import_obsidian4 = require("obsidian");
var VIEW_TYPE_COR = "cor-view";
var CorView = class extends import_obsidian4.TextFileView {
  constructor(leaf) {
    super(leaf);
  }
  getViewType() {
    return VIEW_TYPE_COR;
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.data_el = div.createEl("h1");
  }
  async onClose() {
    this.contentEl.empty();
  }
  Refresh() {
    this.data_el.setText(this.data);
  }
};

// src/main.ts
var TradingStrategy = class extends import_obsidian5.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.plugin_env = new PluginEnv();
    this.interval_callback_id = -1;
  }
  async onload() {
    await this.LoadSettingsFromDisk();
    const ribbonIconEl = this.addRibbonIcon("dice", "GridTrading", (evt) => {
      this.FetchAllStockCurrentPrice();
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    this.addSettingTab(new TradingStrategySettingTab(this.app, this, this.plugin_env));
    this.interval_callback_id = window.setInterval(() => this.FetchAllStockCurrentPrice(), 1 * 1e3);
    this.registerInterval(this.interval_callback_id);
    this.registerView(VIEW_TYPE_GTV, (leaf) => {
      const gtv_view = new GTVView(leaf, this.plugin_env);
      return gtv_view;
    });
    this.registerView(VIEW_TYPE_GTO, (leaf) => {
      const gto_view = new GTOView(leaf, this.app.vault, this.plugin_env);
      return gto_view;
    });
    this.registerView(VIEW_TYPE_COR, (leaf) => {
      const cor_view = new CorView(leaf);
      return cor_view;
    });
    this.registerExtensions(["gtv"], VIEW_TYPE_GTV);
    this.registerExtensions(["gto"], VIEW_TYPE_GTO);
    this.registerExtensions(["cor"], VIEW_TYPE_COR);
  }
  onunload() {
  }
  async LoadSettingsFromDisk() {
    const setting_data = await this.loadData();
    if (setting_data != null) {
      this.plugin_env.UnserializedSettings(setting_data);
    }
  }
  SaveSettingsToDisk() {
    DebugLog("MAX_SLUMP_PCT1 ", this.plugin_env.grid_settings.MAX_SLUMP_PCT);
    const setting_data = this.plugin_env.SerializedSettings();
    DebugLog("MAX_SLUMP_PCT2 ", this.plugin_env.grid_settings.MAX_SLUMP_PCT);
    DebugLog(setting_data);
    this.saveData(setting_data);
  }
  async FetchAllStockCurrentPrice() {
    const api_licence = this.plugin_env.GetAPILisence();
    const grid_folder = this.app.vault.getAbstractFileByPath("GridTrading");
    let price_cache = /* @__PURE__ */ new Map();
    if (grid_folder instanceof import_obsidian5.TFolder) {
      if (this.interval_callback_id > 0) {
        window.clearInterval(this.interval_callback_id);
        this.interval_callback_id = -1;
      }
      for (let index = 0; index < grid_folder.children.length; index++) {
        const grid_file = grid_folder.children[index];
        if (grid_file instanceof import_obsidian5.TFile && grid_file.name.endsWith(".gto")) {
          const content = await this.app.vault.cachedRead(grid_file);
          const lines = content.split("\n");
          for (let idx = 0; idx < lines.length; idx++) {
            const strs = lines[idx].split(",");
            if (strs[0] == "PRICE") {
              price_cache.set(strs[1], Number(strs[3]));
            }
          }
        }
      }
      for (let index = 0; index < grid_folder.children.length; index++) {
        const grid_file = grid_folder.children[index];
        if (grid_file instanceof import_obsidian5.TFile && grid_file.name.endsWith(".gtv")) {
          const content = await this.app.vault.cachedRead(grid_file);
          const mode_str = content.split("\n")[0].split(",")[0];
          let grid_trading = this.plugin_env.GetAndGenGridTrading(grid_file.name, mode_str);
          grid_trading.InitGridTrading(content);
          if (grid_trading.is_debug) {
            continue;
          }
          let current_price = price_cache.get(grid_trading.market_code + String(grid_trading.target_stock));
          if (current_price) {
            this.plugin_env.stock_remote_price_dict.set(String(grid_trading.target_stock), current_price);
            grid_trading.UpdateRemotePrice(current_price);
          }
        }
      }
      this.plugin_env.PublishEvent(FETCH_CURRENT_PRICE);
    }
  }
};
var TradingStrategySettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app, plugin, plugin_env) {
    super(app, plugin);
    this.plugin = plugin;
    this.plugin_env = plugin_env;
  }
  hide() {
    if (this.plugin_env.is_settings_changed) {
      this.plugin.SaveSettingsToDisk();
      this.plugin_env.is_settings_changed = false;
    }
    super.hide();
  }
  display() {
    this.containerEl.empty();
    this.containerEl.createEl("h1").setText("TradingStrategy");
    const base_div = this.containerEl.createEl("div");
    base_div.createEl("h2").setText("\u57FA\u7840\u914D\u7F6E");
    let bkey;
    for (bkey in this.plugin_env.base_settings) {
      const key_name = SETTING_NAME.get(bkey);
      if (key_name != void 0) {
        const setting = new import_obsidian5.Setting(base_div).setName(key_name);
        setting.addText((text_comp, setting_key = bkey) => {
          text_comp.setValue(String(GetSettingValue(this.plugin_env.base_settings, setting_key)));
          text_comp.onChange((value) => {
            SetSettingValue(this.plugin_env.base_settings, setting_key, value);
            this.plugin_env.is_settings_changed = true;
          });
        });
      }
    }
    const grid_div = this.containerEl.createEl("div");
    grid_div.createEl("h2").setText("\u7F51\u683C\u914D\u7F6E");
    let key;
    for (key in this.plugin_env.grid_settings) {
      const key_name = SETTING_NAME.get(key);
      if (key_name != void 0) {
        const setting = new import_obsidian5.Setting(grid_div).setName(key_name);
        setting.addText((text_comp, setting_key = key) => {
          DebugLog("add Setting Key: ", setting_key);
          text_comp.setValue(String(GetSettingValue(this.plugin_env.grid_settings, setting_key)));
          text_comp.onChange((value) => {
            SetSettingValue(this.plugin_env.grid_settings, setting_key, Number(value));
            DebugLog("SetValue succeed ", setting_key, GetSettingValue(this.plugin_env.grid_settings, setting_key));
            this.plugin_env.is_settings_changed = true;
          });
        });
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3RzLW1kNS9kaXN0L21kNS5qcyIsICJzcmMvbWFpbi50cyIsICJzcmMvbGFuZ19zdHIudHMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy9yZW1vdGVfdXRpbC50cyIsICJzcmMvZ3JpZF92aWV3LnRzIiwgInNyYy9teW1hdGgudHMiLCAic3JjL2dyaWRfdHJhZGluZy50cyIsICJzcmMvZ3JpZF90cmFkaW5nX20xLnRzIiwgInNyYy9ncmlkX3RyYWRpbmdfbTIudHMiLCAic3JjL2dyaWRfdHJhZGluZ19tMy50cyIsICJzcmMvcGx1Z2luX2Vudi50cyIsICJzcmMvY29tbWFuZF91dGlsLnRzIiwgInNyYy9ncmlkX292ZXJ2aWV3LnRzIiwgInNyYy9jb3Jfdmlldy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuXG5UeXBlU2NyaXB0IE1kNVxuPT09PT09PT09PT09PT1cblxuQmFzZWQgb24gd29yayBieVxuKiBKb3NlcGggTXllcnM6IGh0dHA6Ly93d3cubXllcnNkYWlseS5vcmcvam9zZXBoL2phdmFzY3JpcHQvbWQ1LXRleHQuaHRtbFxuKiBBbmRyXHUwMEU5IENydXo6IGh0dHBzOi8vZ2l0aHViLmNvbS9zYXRhem9yL1NwYXJrTUQ1XG4qIFJheW1vbmQgSGlsbDogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwveWFtZDUuanNcblxuRWZmZWN0aXZlbHkgYSBUeXBlU2NyeXB0IHJlLXdyaXRlIG9mIFJheW1vbmQgSGlsbCBKUyBMaWJyYXJ5XG5cblRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG5Db3B5cmlnaHQgKEMpIDIwMTQgUmF5bW9uZCBIaWxsXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuXG5cbiAgICAgICAgICAgIERPIFdIQVQgWU9VIFdBTlQgVE8gUFVCTElDIExJQ0VOU0VcbiAgICAgICAgICAgICAgICAgICAgVmVyc2lvbiAyLCBEZWNlbWJlciAyMDA0XG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUgQW5kclx1MDBFOSBDcnV6IDxhbWRmY3J1ekBnbWFpbC5jb20+XG5cbiBFdmVyeW9uZSBpcyBwZXJtaXR0ZWQgdG8gY29weSBhbmQgZGlzdHJpYnV0ZSB2ZXJiYXRpbSBvciBtb2RpZmllZFxuIGNvcGllcyBvZiB0aGlzIGxpY2Vuc2UgZG9jdW1lbnQsIGFuZCBjaGFuZ2luZyBpdCBpcyBhbGxvd2VkIGFzIGxvbmdcbiBhcyB0aGUgbmFtZSBpcyBjaGFuZ2VkLlxuXG4gICAgICAgICAgICBETyBXSEFUIFlPVSBXQU5UIFRPIFBVQkxJQyBMSUNFTlNFXG4gICBURVJNUyBBTkQgQ09ORElUSU9OUyBGT1IgQ09QWUlORywgRElTVFJJQlVUSU9OIEFORCBNT0RJRklDQVRJT05cblxuICAwLiBZb3UganVzdCBETyBXSEFUIFlPVSBXQU5UIFRPLlxuXG5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1kNSA9IHZvaWQgMDtcbjtcbnZhciBNZDUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWQ1KCkge1xuICAgICAgICB0aGlzLl9kYXRhTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXcgSW50MzJBcnJheSg0KTtcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDY4KTtcbiAgICAgICAgdGhpcy5fYnVmZmVyOCA9IG5ldyBVaW50OEFycmF5KHRoaXMuX2J1ZmZlciwgMCwgNjgpO1xuICAgICAgICB0aGlzLl9idWZmZXIzMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLl9idWZmZXIsIDAsIDE3KTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgICBNZDUuaGFzaFN0ciA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICBpZiAocmF3ID09PSB2b2lkIDApIHsgcmF3ID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMub25lUGFzc0hhc2hlclxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5hcHBlbmRTdHIoc3RyKVxuICAgICAgICAgICAgLmVuZChyYXcpO1xuICAgIH07XG4gICAgTWQ1Lmhhc2hBc2NpaVN0ciA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICBpZiAocmF3ID09PSB2b2lkIDApIHsgcmF3ID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMub25lUGFzc0hhc2hlclxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5hcHBlbmRBc2NpaVN0cihzdHIpXG4gICAgICAgICAgICAuZW5kKHJhdyk7XG4gICAgfTtcbiAgICBNZDUuX2hleCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBoYyA9IE1kNS5oZXhDaGFycztcbiAgICAgICAgdmFyIGhvID0gTWQ1LmhleE91dDtcbiAgICAgICAgdmFyIG47XG4gICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgIHZhciBqO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gaSAqIDg7XG4gICAgICAgICAgICBuID0geFtpXTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCA4OyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICBob1tvZmZzZXQgKyAxICsgal0gPSBoYy5jaGFyQXQobiAmIDB4MEYpO1xuICAgICAgICAgICAgICAgIG4gPj4+PSA0O1xuICAgICAgICAgICAgICAgIGhvW29mZnNldCArIDAgKyBqXSA9IGhjLmNoYXJBdChuICYgMHgwRik7XG4gICAgICAgICAgICAgICAgbiA+Pj49IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhvLmpvaW4oJycpO1xuICAgIH07XG4gICAgTWQ1Ll9tZDVjeWNsZSA9IGZ1bmN0aW9uICh4LCBrKSB7XG4gICAgICAgIHZhciBhID0geFswXTtcbiAgICAgICAgdmFyIGIgPSB4WzFdO1xuICAgICAgICB2YXIgYyA9IHhbMl07XG4gICAgICAgIHZhciBkID0geFszXTtcbiAgICAgICAgLy8gZmYoKVxuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzBdIC0gNjgwODc2OTM2IHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxXSAtIDM4OTU2NDU4NiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzJdICsgNjA2MTA1ODE5IHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbM10gLSAxMDQ0NTI1MzMwIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbNF0gLSAxNzY0MTg4OTcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzVdICsgMTIwMDA4MDQyNiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzZdIC0gMTQ3MzIzMTM0MSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzddIC0gNDU3MDU5ODMgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1s4XSArIDE3NzAwMzU0MTYgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzldIC0gMTk1ODQxNDQxNyB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzEwXSAtIDQyMDYzIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbMTFdIC0gMTk5MDQwNDE2MiB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzEyXSArIDE4MDQ2MDM2ODIgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzEzXSAtIDQwMzQxMTAxIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMTRdIC0gMTUwMjAwMjI5MCB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzE1XSArIDEyMzY1MzUzMjkgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgLy8gZ2coKVxuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzFdIC0gMTY1Nzk2NTEwIHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1s2XSAtIDEwNjk1MDE2MzIgfCAwO1xuICAgICAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzExXSArIDY0MzcxNzcxMyB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzBdIC0gMzczODk3MzAyIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbNV0gLSA3MDE1NTg2OTEgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzEwXSArIDM4MDE2MDgzIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1sxNV0gLSA2NjA0NzgzMzUgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1s0XSAtIDQwNTUzNzg0OCB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzldICsgNTY4NDQ2NDM4IHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1sxNF0gLSAxMDE5ODAzNjkwIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1szXSAtIDE4NzM2Mzk2MSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzhdICsgMTE2MzUzMTUwMSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzEzXSAtIDE0NDQ2ODE0NjcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzJdIC0gNTE0MDM3ODQgfCAwO1xuICAgICAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzddICsgMTczNTMyODQ3MyB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzEyXSAtIDE5MjY2MDc3MzQgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgLy8gaGgoKVxuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s1XSAtIDM3ODU1OCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzhdIC0gMjAyMjU3NDQ2MyB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1sxMV0gKyAxODM5MDMwNTYyIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzE0XSAtIDM1MzA5NTU2IHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMV0gLSAxNTMwOTkyMDYwIHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbNF0gKyAxMjcyODkzMzUzIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzddIC0gMTU1NDk3NjMyIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzEwXSAtIDEwOTQ3MzA2NDAgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1sxM10gKyA2ODEyNzkxNzQgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1swXSAtIDM1ODUzNzIyMiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1szXSAtIDcyMjUyMTk3OSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1s2XSArIDc2MDI5MTg5IHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbOV0gLSA2NDAzNjQ0ODcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1sxMl0gLSA0MjE4MTU4MzUgfCAwO1xuICAgICAgICBkID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTVdICsgNTMwNzQyNTIwIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzJdIC0gOTk1MzM4NjUxIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgLy8gaWkoKVxuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1swXSAtIDE5ODYzMDg0NCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzddICsgMTEyNjg5MTQxNSB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxNF0gLSAxNDE2MzU0OTA1IHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzVdIC0gNTc0MzQwNTUgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjEgfCBiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMTJdICsgMTcwMDQ4NTU3MSB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzNdIC0gMTg5NDk4NjYwNiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxMF0gLSAxMDUxNTIzIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzFdIC0gMjA1NDkyMjc5OSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s4XSArIDE4NzMzMTMzNTkgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxNV0gLSAzMDYxMTc0NCB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1s2XSAtIDE1NjAxOTgzODAgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMTNdICsgMTMwOTE1MTY0OSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s0XSAtIDE0NTUyMzA3MCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzExXSAtIDExMjAyMTAzNzkgfCAwO1xuICAgICAgICBkID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMl0gKyA3MTg3ODcyNTkgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbOV0gLSAzNDM0ODU1NTEgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjEgfCBiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgeFswXSA9IGEgKyB4WzBdIHwgMDtcbiAgICAgICAgeFsxXSA9IGIgKyB4WzFdIHwgMDtcbiAgICAgICAgeFsyXSA9IGMgKyB4WzJdIHwgMDtcbiAgICAgICAgeFszXSA9IGQgKyB4WzNdIHwgMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpc2UgYnVmZmVyIHRvIGJlIGhhc2hlZFxuICAgICAqL1xuICAgIE1kNS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2RhdGFMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9idWZmZXJMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9zdGF0ZS5zZXQoTWQ1LnN0YXRlSWRlbnRpdHkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIENoYXIgdG8gY29kZSBwb2ludCB0byB0byBhcnJheSBjb252ZXJzaW9uOlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9jaGFyQ29kZUF0XG4gICAgLy8gI0V4YW1wbGUuM0FfRml4aW5nX2NoYXJDb2RlQXRfdG9faGFuZGxlX25vbi1CYXNpYy1NdWx0aWxpbmd1YWwtUGxhbmVfY2hhcmFjdGVyc19pZl90aGVpcl9wcmVzZW5jZV9lYXJsaWVyX2luX3RoZV9zdHJpbmdfaXNfdW5rbm93blxuICAgIC8qKlxuICAgICAqIEFwcGVuZCBhIFVURi04IHN0cmluZyB0byB0aGUgaGFzaCBidWZmZXJcbiAgICAgKiBAcGFyYW0gc3RyIFN0cmluZyB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZFN0ciA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdmFyIGJ1ZjggPSB0aGlzLl9idWZmZXI4O1xuICAgICAgICB2YXIgYnVmMzIgPSB0aGlzLl9idWZmZXIzMjtcbiAgICAgICAgdmFyIGJ1ZkxlbiA9IHRoaXMuX2J1ZmZlckxlbmd0aDtcbiAgICAgICAgdmFyIGNvZGU7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoY29kZSA8IDEyOCkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gY29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPCAweDgwMCkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDYpICsgMHhDMDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IGNvZGUgJiAweDNGIHwgMHg4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPCAweEQ4MDAgfHwgY29kZSA+IDB4REJGRikge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDEyKSArIDB4RTA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gNiAmIDB4M0YpIHwgMHg4MDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IChjb2RlICYgMHgzRikgfCAweDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29kZSA9ICgoY29kZSAtIDB4RDgwMCkgKiAweDQwMCkgKyAoc3RyLmNoYXJDb2RlQXQoKytpKSAtIDB4REMwMCkgKyAweDEwMDAwO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID4gMHgxMEZGRkYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmljb2RlIHN0YW5kYXJkIHN1cHBvcnRzIGNvZGUgcG9pbnRzIHVwIHRvIFUrMTBGRkZGJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDE4KSArIDB4RjA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gMTIgJiAweDNGKSB8IDB4ODA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gNiAmIDB4M0YpIHwgMHg4MDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IChjb2RlICYgMHgzRikgfCAweDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1ZkxlbiA+PSA2NCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFMZW5ndGggKz0gNjQ7XG4gICAgICAgICAgICAgICAgTWQ1Ll9tZDVjeWNsZSh0aGlzLl9zdGF0ZSwgYnVmMzIpO1xuICAgICAgICAgICAgICAgIGJ1ZkxlbiAtPSA2NDtcbiAgICAgICAgICAgICAgICBidWYzMlswXSA9IGJ1ZjMyWzE2XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJMZW5ndGggPSBidWZMZW47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kIGFuIEFTQ0lJIHN0cmluZyB0byB0aGUgaGFzaCBidWZmZXJcbiAgICAgKiBAcGFyYW0gc3RyIFN0cmluZyB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZEFzY2lpU3RyID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpID0gTWF0aC5taW4oc3RyLmxlbmd0aCAtIGosIDY0IC0gYnVmTGVuKTtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IHN0ci5jaGFyQ29kZUF0KGorKyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVmTGVuIDwgNjQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RhdGFMZW5ndGggKz0gNjQ7XG4gICAgICAgICAgICBNZDUuX21kNWN5Y2xlKHRoaXMuX3N0YXRlLCBidWYzMik7XG4gICAgICAgICAgICBidWZMZW4gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlckxlbmd0aCA9IGJ1ZkxlbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmQgYSBieXRlIGFycmF5IHRvIHRoZSBoYXNoIGJ1ZmZlclxuICAgICAqIEBwYXJhbSBpbnB1dCBhcnJheSB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZEJ5dGVBcnJheSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpID0gTWF0aC5taW4oaW5wdXQubGVuZ3RoIC0gaiwgNjQgLSBidWZMZW4pO1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gaW5wdXRbaisrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidWZMZW4gPCA2NCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGF0YUxlbmd0aCArPSA2NDtcbiAgICAgICAgICAgIE1kNS5fbWQ1Y3ljbGUodGhpcy5fc3RhdGUsIGJ1ZjMyKTtcbiAgICAgICAgICAgIGJ1ZkxlbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID0gYnVmTGVuO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3RhdGUgb2YgdGhlIGhhc2ggYnVmZmVyXG4gICAgICovXG4gICAgTWQ1LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHMgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1ZmZlcjogU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBBcnJheS5mcm9tKHRoaXMuX2J1ZmZlcjgpKSxcbiAgICAgICAgICAgIGJ1ZmxlbjogdGhpcy5fYnVmZmVyTGVuZ3RoLFxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLl9kYXRhTGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGU6IFtzWzBdLCBzWzFdLCBzWzJdLCBzWzNdXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGhhc2ggYnVmZmVyXG4gICAgICogQHBhcmFtIHN0YXRlIE5ldyBoYXNoIGJ1ZmZlciBzdGF0ZVxuICAgICAqL1xuICAgIE1kNS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHN0YXRlLmJ1ZmZlcjtcbiAgICAgICAgdmFyIHggPSBzdGF0ZS5zdGF0ZTtcbiAgICAgICAgdmFyIHMgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHRoaXMuX2RhdGFMZW5ndGggPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlckxlbmd0aCA9IHN0YXRlLmJ1ZmxlbjtcbiAgICAgICAgc1swXSA9IHhbMF07XG4gICAgICAgIHNbMV0gPSB4WzFdO1xuICAgICAgICBzWzJdID0geFsyXTtcbiAgICAgICAgc1szXSA9IHhbM107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBidWYubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcjhbaV0gPSBidWYuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFzaCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgaGFzaCBidWZmZXIgYW5kIHJldHVybiB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIHJhdyBXaGV0aGVyIHRvIHJldHVybiB0aGUgdmFsdWUgYXMgYW4gYEludDMyQXJyYXlgXG4gICAgICovXG4gICAgTWQ1LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIGlmIChyYXcgPT09IHZvaWQgMCkgeyByYXcgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgaSA9IChidWZMZW4gPj4gMikgKyAxO1xuICAgICAgICB0aGlzLl9kYXRhTGVuZ3RoICs9IGJ1ZkxlbjtcbiAgICAgICAgdmFyIGRhdGFCaXRzTGVuID0gdGhpcy5fZGF0YUxlbmd0aCAqIDg7XG4gICAgICAgIGJ1ZjhbYnVmTGVuXSA9IDB4ODA7XG4gICAgICAgIGJ1ZjhbYnVmTGVuICsgMV0gPSBidWY4W2J1ZkxlbiArIDJdID0gYnVmOFtidWZMZW4gKyAzXSA9IDA7XG4gICAgICAgIGJ1ZjMyLnNldChNZDUuYnVmZmVyMzJJZGVudGl0eS5zdWJhcnJheShpKSwgaSk7XG4gICAgICAgIGlmIChidWZMZW4gPiA1NSkge1xuICAgICAgICAgICAgTWQ1Ll9tZDVjeWNsZSh0aGlzLl9zdGF0ZSwgYnVmMzIpO1xuICAgICAgICAgICAgYnVmMzIuc2V0KE1kNS5idWZmZXIzMklkZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyB0aGUgZmluYWwgY29tcHV0YXRpb24gYmFzZWQgb24gdGhlIHRhaWwgYW5kIGxlbmd0aFxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1heSBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgaWYgKGRhdGFCaXRzTGVuIDw9IDB4RkZGRkZGRkYpIHtcbiAgICAgICAgICAgIGJ1ZjMyWzE0XSA9IGRhdGFCaXRzTGVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBkYXRhQml0c0xlbi50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsbyA9IHBhcnNlSW50KG1hdGNoZXNbMl0sIDE2KTtcbiAgICAgICAgICAgIHZhciBoaSA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDE2KSB8fCAwO1xuICAgICAgICAgICAgYnVmMzJbMTRdID0gbG87XG4gICAgICAgICAgICBidWYzMlsxNV0gPSBoaTtcbiAgICAgICAgfVxuICAgICAgICBNZDUuX21kNWN5Y2xlKHRoaXMuX3N0YXRlLCBidWYzMik7XG4gICAgICAgIHJldHVybiByYXcgPyB0aGlzLl9zdGF0ZSA6IE1kNS5faGV4KHRoaXMuX3N0YXRlKTtcbiAgICB9O1xuICAgIC8vIFByaXZhdGUgU3RhdGljIFZhcmlhYmxlc1xuICAgIE1kNS5zdGF0ZUlkZW50aXR5ID0gbmV3IEludDMyQXJyYXkoWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdKTtcbiAgICBNZDUuYnVmZmVyMzJJZGVudGl0eSA9IG5ldyBJbnQzMkFycmF5KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSk7XG4gICAgTWQ1LmhleENoYXJzID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuICAgIE1kNS5oZXhPdXQgPSBbXTtcbiAgICAvLyBQZXJtYW5lbnQgaW5zdGFuY2UgaXMgdG8gdXNlIGZvciBvbmUtY2FsbCBoYXNoaW5nXG4gICAgTWQ1Lm9uZVBhc3NIYXNoZXIgPSBuZXcgTWQ1KCk7XG4gICAgcmV0dXJuIE1kNTtcbn0oKSk7XG5leHBvcnRzLk1kNSA9IE1kNTtcbmlmIChNZDUuaGFzaFN0cignaGVsbG8nKSAhPT0gJzVkNDE0MDJhYmM0YjJhNzZiOTcxOWQ5MTEwMTdjNTkyJykge1xuICAgIHRocm93IG5ldyBFcnJvcignTWQ1IHNlbGYgdGVzdCBmYWlsZWQuJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZDUuanMubWFwIiwgIi8qXHJcbiAgICBNYWluOiBcdTYzRDJcdTRFRjZcdTVCOUFcdTRFNDlcdTUzQ0FcdTRFM0JcdTkwM0JcdThGOTFcclxuICAgIFx1OEJCRVx1N0Y2RVx1OTc2Mlx1Njc3Rlx1OTAwOVx1OTg3OVxyXG4qL1xyXG5pbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgUGx1Z2luTWFuaWZlc3QsIFNldHRpbmcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBURm9sZGVyIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZ1NldHRpbmdzLCBQbHVnaW5CYXNlU2V0dGluZ3MsIFNldFNldHRpbmdWYWx1ZSwgR2V0U2V0dGluZ1ZhbHVlIH0gZnJvbSBcIi4vc2V0dGluZ3NcIlxyXG5pbXBvcnQgeyBHZXRFVEZDdXJyZW50UHJpY2UsIEdldExPRkN1cnJlbnRQcmljZSwgRGVidWdMb2cgfSBmcm9tICcuL3JlbW90ZV91dGlsJztcclxuaW1wb3J0IHsgR1RWVmlldywgVklFV19UWVBFX0dUViB9IGZyb20gXCIuL2dyaWRfdmlld1wiXHJcbmltcG9ydCB7IEdUT1ZpZXcsIFZJRVdfVFlQRV9HVE8gfSBmcm9tICcuL2dyaWRfb3ZlcnZpZXcnO1xyXG5pbXBvcnQgeyBDb3JWaWV3LCBWSUVXX1RZUEVfQ09SIH0gZnJvbSAnLi9jb3Jfdmlldyc7XHJcbmltcG9ydCB7IFBsdWdpbkVudiwgRkVUQ0hfQ1VSUkVOVF9QUklDRSB9IGZyb20gJy4vcGx1Z2luX2Vudic7XHJcbmltcG9ydCB7IFNFVFRJTkdfTkFNRSB9IGZyb20gXCIuL2xhbmdfc3RyXCJcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFkaW5nU3RyYXRlZ3kgZXh0ZW5kcyBQbHVnaW5cclxue1xyXG4gICAgcGx1Z2luX2VudjogUGx1Z2luRW52O1xyXG4gICAgaW50ZXJ2YWxfY2FsbGJhY2tfaWQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgbWFuaWZlc3Q6IFBsdWdpbk1hbmlmZXN0KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKGFwcCwgbWFuaWZlc3QpO1xyXG4gICAgICAgIHRoaXMucGx1Z2luX2VudiA9IG5ldyBQbHVnaW5FbnYoKTtcclxuICAgICAgICB0aGlzLmludGVydmFsX2NhbGxiYWNrX2lkID0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25sb2FkKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuTG9hZFNldHRpbmdzRnJvbURpc2soKTtcclxuICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgYW4gaWNvbiBpbiB0aGUgbGVmdCByaWJib24uXHJcbiAgICAgICAgY29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKCdkaWNlJywgJ0dyaWRUcmFkaW5nJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGljb24uXHJcbiAgICAgICAgICAgIHRoaXMuRmV0Y2hBbGxTdG9ja0N1cnJlbnRQcmljZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFBlcmZvcm0gYWRkaXRpb25hbCB0aGluZ3Mgd2l0aCB0aGUgcmliYm9uXHJcbiAgICAgICAgcmliYm9uSWNvbkVsLmFkZENsYXNzKCdteS1wbHVnaW4tcmliYm9uLWNsYXNzJyk7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXHJcbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBUcmFkaW5nU3RyYXRlZ3lTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzLCB0aGlzLnBsdWdpbl9lbnYpKTtcclxuXHJcbiAgICAgICAgLy8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbF9jYWxsYmFja19pZCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB0aGlzLkZldGNoQWxsU3RvY2tDdXJyZW50UHJpY2UoKSwgMSAqIDEwMDApO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJJbnRlcnZhbCh0aGlzLmludGVydmFsX2NhbGxiYWNrX2lkKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoVklFV19UWVBFX0dUViwgKGxlYWY6IFdvcmtzcGFjZUxlYWYpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZ3R2X3ZpZXcgPSBuZXcgR1RWVmlldyhsZWFmLCB0aGlzLnBsdWdpbl9lbnYpO1xyXG4gICAgICAgICAgICByZXR1cm4gZ3R2X3ZpZXc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoVklFV19UWVBFX0dUTywgKGxlYWY6IFdvcmtzcGFjZUxlYWYpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZ3RvX3ZpZXcgPSBuZXcgR1RPVmlldyhsZWFmLCB0aGlzLmFwcC52YXVsdCwgdGhpcy5wbHVnaW5fZW52KTtcclxuICAgICAgICAgICAgcmV0dXJuIGd0b192aWV3O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJWaWV3KFZJRVdfVFlQRV9DT1IsIChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvcl92aWV3ID0gbmV3IENvclZpZXcobGVhZik7XHJcbiAgICAgICAgICAgIHJldHVybiBjb3JfdmlldztcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFeHRlbnNpb25zKFtcImd0dlwiXSwgVklFV19UWVBFX0dUVik7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV4dGVuc2lvbnMoW1wiZ3RvXCJdLCBWSUVXX1RZUEVfR1RPKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXh0ZW5zaW9ucyhbXCJjb3JcIl0sIFZJRVdfVFlQRV9DT1IpO1xyXG4gICAgfVxyXG5cclxuICAgIG9udW5sb2FkKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBMb2FkU2V0dGluZ3NGcm9tRGlzaygpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ19kYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xyXG4gICAgICAgIC8vRGVidWdMb2coXCJGaW5pc2ggbG9hZGluZyBzZXR0aW5nLCBzZXR0aW5nX2RhdGE6IFwiLCBzZXR0aW5nX2RhdGEpO1xyXG4gICAgICAgIGlmIChzZXR0aW5nX2RhdGEgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5VbnNlcmlhbGl6ZWRTZXR0aW5ncyhzZXR0aW5nX2RhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBTYXZlU2V0dGluZ3NUb0Rpc2soKVxyXG4gICAge1xyXG4gICAgICAgIERlYnVnTG9nKFwiTUFYX1NMVU1QX1BDVDEgXCIsIHRoaXMucGx1Z2luX2Vudi5ncmlkX3NldHRpbmdzLk1BWF9TTFVNUF9QQ1QpO1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdfZGF0YSA9IHRoaXMucGx1Z2luX2Vudi5TZXJpYWxpemVkU2V0dGluZ3MoKTtcclxuICAgICAgICBEZWJ1Z0xvZyhcIk1BWF9TTFVNUF9QQ1QyIFwiLCB0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKTtcclxuICAgICAgICBEZWJ1Z0xvZyhzZXR0aW5nX2RhdGEpO1xyXG4gICAgICAgIHRoaXMuc2F2ZURhdGEoc2V0dGluZ19kYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBGZXRjaEFsbFN0b2NrQ3VycmVudFByaWNlKClcclxuICAgIHtcclxuICAgICAgICAvL0RlYnVnTG9nKCdydW4gRmV0Y2hBbGxTdG9ja0N1cnJlbnRQcmljZSAnLCB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCkpO1xyXG4gICAgICAgIGNvbnN0IGFwaV9saWNlbmNlID0gdGhpcy5wbHVnaW5fZW52LkdldEFQSUxpc2VuY2UoKVxyXG4gICAgICAgIGNvbnN0IGdyaWRfZm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKCdHcmlkVHJhZGluZycpO1xyXG4gICAgICAgIGxldCBwcmljZV9jYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+O1xyXG4gICAgICAgIC8vRGVidWdMb2coXCJnZXRBYnN0cmFjdEZpbGVCeVBhdGggXCIsIFN0cmluZyhncmlkX2ZvbGRlcikpO1xyXG4gICAgICAgIGlmIChncmlkX2ZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnRlcnZhbF9jYWxsYmFja19pZCA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcnZhbF9jYWxsYmFja19pZCA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4PTA7IGluZGV4IDwgZ3JpZF9mb2xkZXIuY2hpbGRyZW4ubGVuZ3RoOyBpbmRleCsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmlkX2ZpbGUgPSBncmlkX2ZvbGRlci5jaGlsZHJlbltpbmRleF07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChncmlkX2ZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBncmlkX2ZpbGUubmFtZS5lbmRzV2l0aChcIi5ndG9cIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoZ3JpZF9maWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDxsaW5lcy5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RycyA9IGxpbmVzW2lkeF0uc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIlBSSUNFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX2NhY2hlLnNldChzdHJzWzFdLCBOdW1iZXIoc3Ryc1szXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4PTA7IGluZGV4IDwgZ3JpZF9mb2xkZXIuY2hpbGRyZW4ubGVuZ3RoOyBpbmRleCsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmlkX2ZpbGUgPSBncmlkX2ZvbGRlci5jaGlsZHJlbltpbmRleF07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRfZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIGdyaWRfZmlsZS5uYW1lLmVuZHNXaXRoKFwiLmd0dlwiKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZChncmlkX2ZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVfc3RyID0gY29udGVudC5zcGxpdChcIlxcblwiKVswXS5zcGxpdChcIixcIilbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdyaWRfdHJhZGluZyA9IHRoaXMucGx1Z2luX2Vudi5HZXRBbmRHZW5HcmlkVHJhZGluZyhncmlkX2ZpbGUubmFtZSwgbW9kZV9zdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRGVidWdMb2coXCJHZXRBbmRHZW5HcmlkVHJhZGluZywgbmFtZTogXCIsIGdyaWRfZmlsZS5uYW1lLCBcIiwgbW9kZTogXCIsIG1vZGVfc3RyKTtcclxuICAgICAgICAgICAgICAgICAgICBncmlkX3RyYWRpbmcuSW5pdEdyaWRUcmFkaW5nKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkX3RyYWRpbmcuaXNfZGVidWcpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRfcHJpY2UgPSBwcmljZV9jYWNoZS5nZXQoZ3JpZF90cmFkaW5nLm1hcmtldF9jb2RlICsgU3RyaW5nKGdyaWRfdHJhZGluZy50YXJnZXRfc3RvY2spKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudF9wcmljZSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5zdG9ja19yZW1vdGVfcHJpY2VfZGljdC5zZXQoU3RyaW5nKGdyaWRfdHJhZGluZy50YXJnZXRfc3RvY2spLCBjdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZF90cmFkaW5nLlVwZGF0ZVJlbW90ZVByaWNlKGN1cnJlbnRfcHJpY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL0RlYnVnTG9nKCdGb2xkZXIgY2hpbGRyZW4gY291bnQgJywgU3RyaW5nKGdyaWRfZm9sZGVyLmNoaWxkcmVuLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleD0wOyBpbmRleCA8IGdyaWRfZm9sZGVyLmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JpZF9maWxlID0gZ3JpZF9mb2xkZXIuY2hpbGRyZW5baW5kZXhdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChncmlkX2ZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBncmlkX2ZpbGUubmFtZS5lbmRzV2l0aChcIi5ndHZcIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcInJlYWQgZmlsZSBcIiwgZ3JpZF9maWxlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKGdyaWRfZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZV9zdHIgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpWzBdLnNwbGl0KFwiLFwiKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZF90cmFkaW5nID0gdGhpcy5wbHVnaW5fZW52LkdldEFuZEdlbkdyaWRUcmFkaW5nKGdyaWRfZmlsZS5uYW1lLCBtb2RlX3N0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIkdldEFuZEdlbkdyaWRUcmFkaW5nLCBuYW1lOiBcIiwgZ3JpZF9maWxlLm5hbWUsIFwiLCBtb2RlOiBcIiwgbW9kZV9zdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWRfdHJhZGluZy5Jbml0R3JpZFRyYWRpbmcoY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZy5pc19kZWJ1ZylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL0RlYnVnTG9nKFwiVHJ5IHRvIGZldGNoIHJlbW90ZSBwcmljZSwgXCIsIGdyaWRfdHJhZGluZy5tYXJrZXRfY29kZSwgZ3JpZF90cmFkaW5nLnRhcmdldF9zdG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRfcHJpY2UgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZF9maWxlLm5hbWUuaW5jbHVkZXMoXCJMT0ZcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3ByaWNlID0gYXdhaXQgR2V0TE9GQ3VycmVudFByaWNlKGdyaWRfdHJhZGluZy5tYXJrZXRfY29kZSArIFN0cmluZyhncmlkX3RyYWRpbmcudGFyZ2V0X3N0b2NrKSwgYXBpX2xpY2VuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3ByaWNlID0gTnVtYmVyKGN1cnJlbnRfcHJpY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3ByaWNlID0gYXdhaXQgR2V0RVRGQ3VycmVudFByaWNlKGdyaWRfdHJhZGluZy5tYXJrZXRfY29kZSArIFN0cmluZyhncmlkX3RyYWRpbmcudGFyZ2V0X3N0b2NrKSwgYXBpX2xpY2VuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQUzogXHU5NzAwXHU4OTgxXHU1RjNBXHU4RjZDXHU0RTAwXHU0RTBCXHVGRjBDXHU0RTBEXHU1RjNBXHU1MjM2XHU4RjZDXHU2MzYyXHU2NUUwXHU2Q0Q1XHU0RjdGXHU3NTI4IHRvRml4ZWQgXHU1MUZEXHU2NTcwXHVGRjBDXHU1M0VGXHU4MEZEXHU2NjJGXHU3QzdCXHU1NzhCXHU5NUVFXHU5ODk4XHVGRjBDXHU2Q0ExXHU2REYxXHU3QTc2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfcHJpY2UgPSBOdW1iZXIoY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNsZWVwKDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5fZW52LnN0b2NrX3JlbW90ZV9wcmljZV9kaWN0LnNldChTdHJpbmcoZ3JpZF90cmFkaW5nLnRhcmdldF9zdG9jayksIGN1cnJlbnRfcHJpY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRGVidWdMb2coXCJcdTY3RTVcdThCRTIgXCIsIGdyaWRfdHJhZGluZy5zdG9ja19uYW1lLCBcIiBcdTVGNTNcdTUyNERcdTY3MDBcdTY1QjBcdTRFRjdcdTY4M0NcdTRFM0E6IFwiLCBjdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICBncmlkX3RyYWRpbmcuVXBkYXRlUmVtb3RlUHJpY2UoY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdGhpcy5wbHVnaW5fZW52LlB1Ymxpc2hFdmVudChGRVRDSF9DVVJSRU5UX1BSSUNFKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5jbGFzcyBUcmFkaW5nU3RyYXRlZ3lTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblxyXG4gICAgcGx1Z2luOiBUcmFkaW5nU3RyYXRlZ3k7XHJcbiAgICBwbHVnaW5fZW52OiBQbHVnaW5FbnY7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogVHJhZGluZ1N0cmF0ZWd5LCBwbHVnaW5fZW52OiBQbHVnaW5FbnYpIHtcclxuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICAgICAgdGhpcy5wbHVnaW5fZW52ID0gcGx1Z2luX2VudjtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbl9lbnYuaXNfc2V0dGluZ3NfY2hhbmdlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLlNhdmVTZXR0aW5nc1RvRGlzaygpO1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuaXNfc2V0dGluZ3NfY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcclxuICAgICAgICAvL0RlYnVnTG9nKFwiZW50ZXIgZGlzcGxheSBzZXR0aW5nc1wiKVxyXG4gICAgICAgIC8vIFx1NkUwNVx1N0E3QVxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKTtcclxuICAgICAgICAvLyBcdThCQkVcdTdGNkVcdTY4MDdcdTk4OThcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDFcIikuc2V0VGV4dChcIlRyYWRpbmdTdHJhdGVneVwiKTtcclxuICAgICAgICAvLyBcdTU3RkFcdTc4NDBcdTkxNERcdTdGNkVcclxuICAgICAgICBjb25zdCBiYXNlX2RpdiA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgYmFzZV9kaXYuY3JlYXRlRWwoXCJoMlwiKS5zZXRUZXh0KFwiXHU1N0ZBXHU3ODQwXHU5MTREXHU3RjZFXCIpO1xyXG4gICAgICAgIGxldCBia2V5OiAoa2V5b2YgUGx1Z2luQmFzZVNldHRpbmdzKTtcclxuICAgICAgICBmb3IgKGJrZXkgaW4gdGhpcy5wbHVnaW5fZW52LmJhc2Vfc2V0dGluZ3MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBrZXlfbmFtZSA9IFNFVFRJTkdfTkFNRS5nZXQoYmtleSlcclxuICAgICAgICAgICAgaWYgKGtleV9uYW1lICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKGJhc2VfZGl2KS5zZXROYW1lKGtleV9uYW1lKTtcclxuICAgICAgICAgICAgICAgIHNldHRpbmcuYWRkVGV4dCgodGV4dF9jb21wLCBzZXR0aW5nX2tleT1ia2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dF9jb21wLnNldFZhbHVlKFN0cmluZyhHZXRTZXR0aW5nVmFsdWUodGhpcy5wbHVnaW5fZW52LmJhc2Vfc2V0dGluZ3MsIHNldHRpbmdfa2V5KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRfY29tcC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZXRTZXR0aW5nVmFsdWUodGhpcy5wbHVnaW5fZW52LmJhc2Vfc2V0dGluZ3MsIHNldHRpbmdfa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5pc19zZXR0aW5nc19jaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFx1N0Y1MVx1NjgzQ1x1NEVBNFx1NjYxM1x1NTNDMlx1NjU3MFxyXG4gICAgICAgIGNvbnN0IGdyaWRfZGl2ID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICBncmlkX2Rpdi5jcmVhdGVFbChcImgyXCIpLnNldFRleHQoXCJcdTdGNTFcdTY4M0NcdTkxNERcdTdGNkVcIik7ICAgXHJcbiAgICAgICAgbGV0IGtleTogKGtleW9mIEdyaWRUcmFkaW5nU2V0dGluZ3MpO1xyXG4gICAgICAgIGZvciAoa2V5IGluIHRoaXMucGx1Z2luX2Vudi5ncmlkX3NldHRpbmdzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5X25hbWUgPSBTRVRUSU5HX05BTUUuZ2V0KGtleSlcclxuICAgICAgICAgICAgaWYgKGtleV9uYW1lICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKGdyaWRfZGl2KS5zZXROYW1lKGtleV9uYW1lKTtcclxuICAgICAgICAgICAgICAgIHNldHRpbmcuYWRkVGV4dCgodGV4dF9jb21wLCBzZXR0aW5nX2tleT1rZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Z0xvZyhcImFkZCBTZXR0aW5nIEtleTogXCIsIHNldHRpbmdfa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0X2NvbXAuc2V0VmFsdWUoU3RyaW5nKEdldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncywgc2V0dGluZ19rZXkpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dF9jb21wLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXRTZXR0aW5nVmFsdWUodGhpcy5wbHVnaW5fZW52LmdyaWRfc2V0dGluZ3MsIHNldHRpbmdfa2V5LCBOdW1iZXIodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnTG9nKFwiU2V0VmFsdWUgc3VjY2VlZCBcIiwgc2V0dGluZ19rZXksIEdldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncywgc2V0dGluZ19rZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5pc19zZXR0aW5nc19jaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCAiXHJcbmV4cG9ydCBjb25zdCBTRVRUSU5HX05BTUUgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPihbXHJcbiAgICBbXCJPTkVfR1JJRF9MSU1JVFwiLCBcIlx1OTk5Nlx1N0Y1MVx1NEUwQVx1OTY1MFx1NTAzQ1wiXSxcclxuICAgIFtcIk1BWF9TTFVNUF9QQ1RcIiwgXCJcdTY3MDBcdTU5MjdcdTU2REVcdTY0QTRcdTUwM0NcIl0sXHJcbiAgICBbXCJUUklHR0VSX0FERF9QT0lOVFwiLCBcIlx1ODlFNlx1NTNEMVx1NEVGN1x1NTJBMFx1NzBCOVwiXSxcclxuICAgIFtcIlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OXCIsIFwiXHU0RUE0XHU2NjEzXHU0RUY3XHU3Q0JFXHU1RUE2XCJdLFxyXG4gICAgW1wiTUlOX0JBVENIX0NPVU5UXCIsIFwiXHU1MzU1XHU2MjRCXHU0RUZEXHU2NTcwXHU5ODlEXCJdLFxyXG4gICAgW1wiTUFYX1JJU0VfUENUXCIsIFwiXHU1MzU1XHU2NUU1XHU2NzAwXHU1OTI3XHU2REE4XHU1RTQ1XCJdLFxyXG4gICAgW1wiU0dSSURfU1RFUF9QQ1RcIiwgXCJcdTVDMEZcdTdGNTFcdTZCNjVcdThGREJcdTUwM0NcIl0sXHJcbiAgICBbXCJTR1JJRF9SRVRBSU5fQ09VTlRcIiwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIl0sXHJcbiAgICBbXCJTR1JJRF9BRERfUENUXCIsIFwiXHU2QkNGXHU3RjUxXHU4RkZEXHU1MkEwXCJdLFxyXG4gICAgW1wiTUdSSURfU1RFUF9QQ1RcIiwgXCJcdTRFMkRcdTdGNTFcdTZCNjVcdThGREJcdTUwM0NcIl0sXHJcbiAgICBbXCJNR1JJRF9SRVRBSU5fQ09VTlRcIiwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIl0sXHJcbiAgICBbXCJNR1JJRF9BRERfUENUXCIsIFwiXHU2QkNGXHU3RjUxXHU4RkZEXHU1MkEwXCJdLFxyXG4gICAgW1wiTEdSSURfU1RFUF9QQ1RcIiwgXCJcdTU5MjdcdTdGNTFcdTZCNjVcdThGREJcdTUwM0NcIl0sXHJcbiAgICBbXCJMR1JJRF9SRVRBSU5fQ09VTlRcIiwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIl0sXHJcbiAgICBbXCJMR1JJRF9BRERfUENUXCIsIFwiXHU2QkNGXHU3RjUxXHU4RkZEXHU1MkEwXCJdLFxyXG4gICAgW1wiREFUQV9BUElfTElDRU5DRVwiLCBcIlx1NjU3MFx1NjM2RVx1NjNBNVx1NTNFM1x1OEJDMVx1NEU2NlwiXVxyXG5dKTtcclxuXHJcbmV4cG9ydCBjb25zdCBTR1JJRF9UWVBFX05BTUVfU1RSID0gXCJcdTVDMEZcdTdGNTFcIjtcclxuZXhwb3J0IGNvbnN0IE1HUklEX1RZUEVfTkFNRV9TVFIgPSBcIlx1NEUyRFx1N0Y1MVwiO1xyXG5leHBvcnQgY29uc3QgTEdSSURfVFlQRV9OQU1FX1NUUiA9IFwiXHU1OTI3XHU3RjUxXCI7XHJcbmV4cG9ydCBjb25zdCBQRVJGSVRfVFlQRV9OQU1FX1NUUiA9IFwiXHU1MjI5XHU2REE2XCI7IiwgIi8qXHJcbiAgICBTZXR0aW5nIFx1NTQwNFx1NzlDRFx1OTE0RFx1N0Y2RVx1NEZFMVx1NjA2Rlx1NTNDQVx1NUUzOFx1OTFDRlx1NUI5QVx1NEU0OVxyXG4gICAgR3JpZFRyYWRpbmdTZXR0aW5nczogXHU3RjUxXHU2ODNDXHU0RUE0XHU2NjEzXHU3Njg0XHU1M0MyXHU2NTcwXHU1QjlBXHU0RTQ5XHVGRjBDXHU4OTg2XHU3NkQ2XHU1MTczXHU3Q0ZCXHU0RTNBIFx1OUVEOFx1OEJBNFx1NTE2OFx1NUM0MFx1NTNDMlx1NjU3MDwtLVx1ODFFQVx1NUI5QVx1NEU0OVx1NTE2OFx1NUM0MFx1NTNDMlx1NjU3MDwtLVx1ODFFQVx1NUI5QVx1NEU0OVx1NjgwN1x1NzY4NFx1NTNDMlx1NjU3MFxyXG4qL1xyXG5cclxuaW1wb3J0IHsgU0VUVElOR19OQU1FIH0gZnJvbSBcIi4vbGFuZ19zdHJcIjtcclxuXHJcbi8vIFx1OTg5Q1x1ODI3Mlx1NUI5QVx1NEU0OVxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9CVVlfTU9OSVRPUiAgICAgICAgID0gXCIjRkZGRjAwXCI7ICAgIC8vIFx1OUVDNFx1ODI3MlxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9TRUxMX01PTklUT1IgICAgICAgID0gXCIjRkZGRjAwXCI7ICAgIC8vIFx1OUVDNFx1ODI3MlxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9CVVlfVFJJR0dFUkVEICAgICAgID0gXCIjRDNEM0QzXCI7ICAgIC8vIFx1NzA3MFx1ODI3MlxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9TRUxMX1RSSUdHRVJFRCAgICAgID0gXCIjRkZGRkUwXCI7ICAgIC8vIFx1NkQ0NVx1OUVDNFxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9ESVNBQkxFICAgICAgICAgICAgID0gXCIjRkZGRkUwXCI7ICAgIC8vIFx1NkRGMVx1NzA3MFxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9TVE9DS19PVkVSVklFVyAgICAgID0gXCIjRkZGRkZGXCI7ICAgIC8vIFx1NTQwQ1x1NjVGNlx1ODBBOVx1OEQxRlx1NjgwN1x1OEJCMFx1NjU3MFx1NjM2RVx1N0M3Qlx1NTc4Qlx1RkYwQ1x1NjU0NVx1OTg5Q1x1ODI3Mlx1NTAzQ1x1NEUwRFx1ODBGRFx1NUI4Q1x1NTE2OFx1NzZGOFx1N0I0OVxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9UQUJMRV9USVRMRSAgICAgICAgID0gXCIjRDNEM0QzXCI7ICAgIC8vIFx1NTQwQ1x1NjVGNlx1ODBBOVx1OEQxRlx1NjgwN1x1OEJCMFx1NjU3MFx1NjM2RVx1N0M3Qlx1NTc4Qlx1RkYwQ1x1NjU0NVx1OTg5Q1x1ODI3Mlx1NTAzQ1x1NEUwRFx1ODBGRFx1NUI4Q1x1NTE2OFx1NzZGOFx1N0I0OVxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9CVVlfT1ZFUlZJRVcgICAgICAgID0gXCIjRkZGRjAxXCI7ICAgIC8vIFx1NTQwQ1x1NjVGNlx1ODBBOVx1OEQxRlx1NjgwN1x1OEJCMFx1NjU3MFx1NjM2RVx1N0M3Qlx1NTc4Qlx1RkYwQ1x1NjU0NVx1OTg5Q1x1ODI3Mlx1NTAzQ1x1NEUwRFx1ODBGRFx1NUI4Q1x1NTE2OFx1NzZGOFx1N0I0OVxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9TRUxMX09WRVJWSUVXICAgICAgID0gXCIjRkZGRjAwXCI7ICAgIC8vIFx1NTQwQ1x1NjVGNlx1ODBBOVx1OEQxRlx1NjgwN1x1OEJCMFx1NjU3MFx1NjM2RVx1N0M3Qlx1NTc4Qlx1RkYwQ1x1NjU0NVx1OTg5Q1x1ODI3Mlx1NTAzQ1x1NEUwRFx1ODBGRFx1NUI4Q1x1NTE2OFx1NzZGOFx1N0I0OVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBQYWNrU2V0dGluZ3M8VD4oc2V0dGluZ3M6IFQpOiBzdHJpbmdcclxue1xyXG4gICAgbGV0IHBhY2tfc3RyID0gXCJcIjtcclxuICAgIGxldCBrZXk6IGtleW9mIFQ7XHJcbiAgICBmb3IgKGtleSBpbiBzZXR0aW5ncylcclxuICAgIHtcclxuICAgICAgICBpZiAoU0VUVElOR19OQU1FLmhhcyhTdHJpbmcoa2V5KSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwYWNrX3N0ciA9IHBhY2tfc3RyICsgU3RyaW5nKGtleSkgKyBcIjpcIiArIFN0cmluZyhzZXR0aW5nc1trZXldKSArIFwiXFxuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhY2tfc3RyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVW5wYWNrU2V0dGluZ3M8VD4oc2V0dGluZ3M6IFQsIGxpbmVzOiBzdHJpbmdbXSlcclxue1xyXG4gICAgbGluZXMuZm9yRWFjaCgobGluZSwgaWR4KSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3RycyA9IGxpbmUuc3BsaXQoXCI6XCIpO1xyXG4gICAgICAgIGlmIChTRVRUSU5HX05BTUUuaGFzKHN0cnNbMF0pKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU2V0U2V0dGluZ1ZhbHVlKHNldHRpbmdzLCBzdHJzWzBdIGFzIGtleW9mIFQsIHN0cnNbMV0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0U2V0dGluZ1ZhbHVlPFQ+KHNldHRpbmdzOiBULCBrZXk6IGtleW9mIFQpXHJcbntcclxuICAgIHJldHVybiBzZXR0aW5nc1trZXldO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU2V0U2V0dGluZ1ZhbHVlPFQsIFZUPihzZXR0aW5nczogVCwga2V5OiBrZXlvZiBULCB2YWx1ZTogVlQpXHJcbntcclxuICAgIGlmIChrZXkgaW4gc2V0dGluZ3MpXHJcbiAgICB7XHJcbiAgICAgICAgc2V0dGluZ3Nba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBcdTYzRDJcdTRFRjZcdTkxNERcdTdGNkVcclxuZXhwb3J0IGNsYXNzIFBsdWdpbkJhc2VTZXR0aW5nc1xyXG57XHJcbiAgICBEQVRBX0FQSV9MSUNFTkNFOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFx1NTE0RFx1OEQzOVx1OUVEOFx1OEJBNExpY2Vuc2VcclxuICAgICAgICB0aGlzLkRBVEFfQVBJX0xJQ0VOQ0UgPSBcIjExMmU4NDY1NjE3NGYwYTVcIjtcclxuICAgICAgICAvLyBcdTRFMkFcdTRFQkFcdTRFRDhcdThEMzlMaWNlbnNlXHJcbiAgICAgICAgdGhpcy5EQVRBX0FQSV9MSUNFTkNFID0gXCJiMTkyZjUzYTZkNjkyODAzM1wiO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy8gXHU3RjUxXHU2ODNDXHU5MTREXHU3RjZFXHJcbmV4cG9ydCBjbGFzcyBHcmlkVHJhZGluZ1NldHRpbmdzIHtcclxuICAgIE9ORV9HUklEX0xJTUlUOiBudW1iZXI7XHJcbiAgICBNQVhfU0xVTVBfUENUOiBudW1iZXI7XHJcbiAgICBUUklHR0VSX0FERF9QT0lOVDogbnVtYmVyO1xyXG4gICAgVFJBRElOR19QUklDRV9QUkVDSVNJT046IG51bWJlcjtcclxuICAgIE1JTl9CQVRDSF9DT1VOVDogbnVtYmVyO1xyXG4gICAgTUFYX1JJU0VfUENUOiBudW1iZXI7XHJcbiAgICBNSU5JTVVNX0JVWV9QQ1Q6IG51bWJlcjtcclxuICAgIENMRUFSX1NURVBfUENUOiBudW1iZXI7XHJcbiAgICBCT1RUT01fQlVZX1BDVDogbnVtYmVyO1xyXG5cclxuICAgIFNHUklEX1NURVBfUENUOiBudW1iZXI7XHJcbiAgICBTR1JJRF9BRERfUENUOiBudW1iZXI7XHJcbiAgICBTR1JJRF9SRVRBSU5fQ09VTlQ6IG51bWJlcjtcclxuXHJcbiAgICBNR1JJRF9TVEVQX1BDVDogbnVtYmVyO1xyXG4gICAgTUdSSURfQUREX1BDVDogbnVtYmVyO1xyXG4gICAgTUdSSURfUkVUQUlOX0NPVU5UOiBudW1iZXI7XHJcblxyXG4gICAgTEdSSURfU1RFUF9QQ1Q6IG51bWJlcjtcclxuICAgIExHUklEX0FERF9QQ1Q6IG51bWJlcjtcclxuICAgIExHUklEX1JFVEFJTl9DT1VOVDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICAvLyBcdTYzMDlcdTcxNjdcdTlFRDhcdThCQTRcdTUzQzJcdTY1NzBcdTUwM0NcdTUyMURcdTU5Q0JcdTUzMTZcclxuICAgICAgICB0aGlzLk9ORV9HUklEX0xJTUlUID0gMTAwMDA7XHJcbiAgICAgICAgdGhpcy5NQVhfU0xVTVBfUENUID0gMC42NztcclxuICAgICAgICB0aGlzLlRSSUdHRVJfQUREX1BPSU5UID0gMC4wMDU7XHJcbiAgICAgICAgdGhpcy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTiA9IDM7XHJcbiAgICAgICAgdGhpcy5NSU5fQkFUQ0hfQ09VTlQgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5NQVhfUklTRV9QQ1QgPSAwLjE7XHJcbiAgICAgICAgdGhpcy5DTEVBUl9TVEVQX1BDVCA9IDAuMjU7XHJcbiAgICAgICAgdGhpcy5NSU5JTVVNX0JVWV9QQ1QgPSAwLjE7XHJcbiAgICAgICAgdGhpcy5CT1RUT01fQlVZX1BDVCA9IDAuMlxyXG4gICAgXHJcbiAgICAgICAgdGhpcy5TR1JJRF9TVEVQX1BDVCA9IDAuMDU7XHJcbiAgICAgICAgdGhpcy5TR1JJRF9BRERfUENUID0gMC4wNTtcclxuICAgICAgICB0aGlzLlNHUklEX1JFVEFJTl9DT1VOVCA9IDQ7XHJcblxyXG4gICAgICAgIHRoaXMuTUdSSURfU1RFUF9QQ1QgPSAwLjIyO1xyXG4gICAgICAgIHRoaXMuTUdSSURfQUREX1BDVCA9IDAuMjtcclxuICAgICAgICB0aGlzLk1HUklEX1JFVEFJTl9DT1VOVCA9IDI7XHJcblxyXG4gICAgICAgIHRoaXMuTEdSSURfU1RFUF9QQ1QgPSAwLjUyO1xyXG4gICAgICAgIHRoaXMuTEdSSURfQUREX1BDVCA9IDAuNTtcclxuICAgICAgICB0aGlzLkxHUklEX1JFVEFJTl9DT1VOVCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgQ2xvbmUoKTogR3JpZFRyYWRpbmdTZXR0aW5nc1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGNsb25lID0gbmV3IEdyaWRUcmFkaW5nU2V0dGluZ3MoKTtcclxuICAgICAgICBjbG9uZS5PTkVfR1JJRF9MSU1JVCA9IHRoaXMuT05FX0dSSURfTElNSVQ7XHJcbiAgICAgICAgY2xvbmUuTUFYX1NMVU1QX1BDVCA9IHRoaXMuTUFYX1NMVU1QX1BDVDtcclxuICAgICAgICBjbG9uZS5UUklHR0VSX0FERF9QT0lOVCA9IHRoaXMuVFJJR0dFUl9BRERfUE9JTlQ7XHJcbiAgICAgICAgY2xvbmUuVFJBRElOR19QUklDRV9QUkVDSVNJT04gPSB0aGlzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xyXG4gICAgICAgIGNsb25lLk1JTl9CQVRDSF9DT1VOVCA9IHRoaXMuTUlOX0JBVENIX0NPVU5UO1xyXG4gICAgICAgIGNsb25lLk1BWF9SSVNFX1BDVCA9IHRoaXMuTUFYX1JJU0VfUENUO1xyXG4gICAgICAgIGNsb25lLkNMRUFSX1NURVBfUENUID0gdGhpcy5DTEVBUl9TVEVQX1BDVDtcclxuICAgICAgICBjbG9uZS5NSU5JTVVNX0JVWV9QQ1QgPSB0aGlzLk1JTklNVU1fQlVZX1BDVDtcclxuICAgICAgICBjbG9uZS5CT1RUT01fQlVZX1BDVCA9IHRoaXMuQk9UVE9NX0JVWV9QQ1Q7XHJcbiAgICBcclxuICAgICAgICBjbG9uZS5TR1JJRF9TVEVQX1BDVCA9IHRoaXMuU0dSSURfU1RFUF9QQ1Q7XHJcbiAgICAgICAgY2xvbmUuU0dSSURfQUREX1BDVCA9IHRoaXMuU0dSSURfQUREX1BDVDtcclxuICAgICAgICBjbG9uZS5TR1JJRF9SRVRBSU5fQ09VTlQgPSB0aGlzLlNHUklEX1JFVEFJTl9DT1VOVDtcclxuICAgIFxyXG4gICAgICAgIGNsb25lLk1HUklEX1NURVBfUENUID0gdGhpcy5NR1JJRF9TVEVQX1BDVDtcclxuICAgICAgICBjbG9uZS5NR1JJRF9BRERfUENUID0gdGhpcy5NR1JJRF9BRERfUENUO1xyXG4gICAgICAgIGNsb25lLk1HUklEX1JFVEFJTl9DT1VOVCA9IHRoaXMuTUdSSURfUkVUQUlOX0NPVU5UO1xyXG4gICAgXHJcbiAgICAgICAgY2xvbmUuTEdSSURfU1RFUF9QQ1QgPSB0aGlzLkxHUklEX1NURVBfUENUO1xyXG4gICAgICAgIGNsb25lLkxHUklEX0FERF9QQ1QgPSB0aGlzLkxHUklEX0FERF9QQ1Q7XHJcbiAgICAgICAgY2xvbmUuTEdSSURfUkVUQUlOX0NPVU5UID0gdGhpcy5MR1JJRF9SRVRBSU5fQ09VTlQ7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgfVxyXG5cclxuICAgIFBhY2tCYXNlKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSBbXCJCQVNFXCIsIFN0cmluZyh0aGlzLk9ORV9HUklEX0xJTUlUKSwgU3RyaW5nKHRoaXMuTUFYX1NMVU1QX1BDVCksIFN0cmluZyh0aGlzLlRSSUdHRVJfQUREX1BPSU5UKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHRoaXMuVFJBRElOR19QUklDRV9QUkVDSVNJT04pLCBTdHJpbmcodGhpcy5NSU5fQkFUQ0hfQ09VTlQpLCBTdHJpbmcodGhpcy5NQVhfUklTRV9QQ1QpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcodGhpcy5DTEVBUl9TVEVQX1BDVCksIFN0cmluZyh0aGlzLk1JTklNVU1fQlVZX1BDVCksIFN0cmluZyh0aGlzLkJPVFRPTV9CVVlfUENUKV1cclxuICAgICAgICByZXR1cm4gc2V0dGluZy5qb2luKFwiLFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBVbnBhY2tCYXNlKHN0cnM6IHN0cmluZ1tdKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChzdHJzLmxlbmd0aCA8IDEwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLk9ORV9HUklEX0xJTUlUID0gTnVtYmVyKHN0cnNbMV0pO1xyXG4gICAgICAgIHRoaXMuTUFYX1NMVU1QX1BDVCA9IE51bWJlcihzdHJzWzJdKTtcclxuICAgICAgICB0aGlzLlRSSUdHRVJfQUREX1BPSU5UID0gTnVtYmVyKHN0cnNbM10pO1xyXG4gICAgICAgIHRoaXMuVFJBRElOR19QUklDRV9QUkVDSVNJT04gPSBOdW1iZXIoc3Ryc1s0XSk7XHJcbiAgICAgICAgdGhpcy5NSU5fQkFUQ0hfQ09VTlQgPSBOdW1iZXIoc3Ryc1s1XSk7XHJcbiAgICAgICAgdGhpcy5NQVhfUklTRV9QQ1QgPSBOdW1iZXIoc3Ryc1s2XSk7XHJcbiAgICAgICAgdGhpcy5DTEVBUl9TVEVQX1BDVCA9IE51bWJlcihzdHJzWzddKTtcclxuICAgICAgICB0aGlzLk1JTklNVU1fQlVZX1BDVCA9IE51bWJlcihzdHJzWzhdKTtcclxuICAgICAgICB0aGlzLkJPVFRPTV9CVVlfUENUID0gTnVtYmVyKHN0cnNbOV0pO1xyXG4gICAgfVxyXG5cclxuICAgIFBhY2tTdGVwKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSBbXCJTVEVQXCIsIFN0cmluZyh0aGlzLlNHUklEX1NURVBfUENUKSwgU3RyaW5nKHRoaXMuU0dSSURfQUREX1BDVCksIFN0cmluZyh0aGlzLlNHUklEX1JFVEFJTl9DT1VOVCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyh0aGlzLk1HUklEX1NURVBfUENUKSwgU3RyaW5nKHRoaXMuTUdSSURfQUREX1BDVCksIFN0cmluZyh0aGlzLk1HUklEX1JFVEFJTl9DT1VOVCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyh0aGlzLkxHUklEX1NURVBfUENUKSwgU3RyaW5nKHRoaXMuTEdSSURfQUREX1BDVCksIFN0cmluZyh0aGlzLkxHUklEX1JFVEFJTl9DT1VOVCldXHJcbiAgICAgICAgcmV0dXJuIHNldHRpbmcuam9pbihcIixcIik7XHJcbiAgICB9XHJcblxyXG4gICAgVW5wYWNrU3RlcChzdHJzOiBzdHJpbmdbXSlcclxuICAgIHtcclxuICAgICAgICBpZiAoc3Rycy5sZW5ndGggIT0gMTApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuU0dSSURfU1RFUF9QQ1QgPSBOdW1iZXIoc3Ryc1sxXSk7XHJcbiAgICAgICAgdGhpcy5TR1JJRF9BRERfUENUID0gTnVtYmVyKHN0cnNbMl0pO1xyXG4gICAgICAgIHRoaXMuU0dSSURfUkVUQUlOX0NPVU5UID0gTnVtYmVyKHN0cnNbM10pO1xyXG4gICAgICAgIHRoaXMuTUdSSURfU1RFUF9QQ1QgPSBOdW1iZXIoc3Ryc1s0XSk7XHJcbiAgICAgICAgdGhpcy5NR1JJRF9BRERfUENUID0gTnVtYmVyKHN0cnNbNV0pO1xyXG4gICAgICAgIHRoaXMuTUdSSURfUkVUQUlOX0NPVU5UID0gTnVtYmVyKHN0cnNbNl0pO1xyXG4gICAgICAgIHRoaXMuTEdSSURfU1RFUF9QQ1QgPSBOdW1iZXIoc3Ryc1s3XSk7XHJcbiAgICAgICAgdGhpcy5MR1JJRF9BRERfUENUID0gTnVtYmVyKHN0cnNbOF0pO1xyXG4gICAgICAgIHRoaXMuTEdSSURfUkVUQUlOX0NPVU5UID0gTnVtYmVyKHN0cnNbOV0pO1xyXG4gICAgfVxyXG5cclxuICAgIFBhY2tRdWFudCgpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0gW1wiUVVBTlRcIiwgXVxyXG5cclxuICAgICAgICByZXR1cm4gc2V0dGluZy5qb2luKFwiLFwiKVxyXG4gICAgfVxyXG5cclxuICAgIFVucGFja1F1YW50KHN0cnM6IHN0cmluZyBbXSlcclxuICAgIHtcclxuXHJcbiAgICB9XHJcbn1cclxuIiwgIi8qXHJcbiAgICBcdTY1NzBcdTYzNkVcdTY3NjVcdTZFOTA6IFx1NUZDNVx1NzZDOFx1NjU3MFx1NjM2RShodHRwczovL2FkLmJpeWluZ2FwaS5jb20vYXBpZG9jLmh0bWwpXHJcbiAgICBcdTY1NzBcdTYzNkVcdTgzMDNcdTU2RjQ6XHJcbiAgICAgICAgXHU2Q0FBXHU2REYxXHU1N0ZBXHU3ODQwXHU2NTcwXHU2MzZFOiBcdTgwQTFcdTc5NjhcdTUyMTdcdTg4NjhcdTMwMDFcdTUxNkNcdTUzRjhcdThCRTZcdTYwQzVcdTMwMDFcdTVCOUVcdTY1RjZcdTRFQTRcdTY2MTNcdTMwMDFcdTUzODZcdTUzRjJcdTY1NzBcdTYzNkVcdTMwMDFcdTZEQThcdThEQ0NcdTgwQTFcdTZDNjBcdTMwMDFcdThENDRcdTkxRDFcdTZENDFcdTU0MTFcdTdCNDk2MFx1NEY1OVx1NEUyQVx1NEUwRFx1NTQwQ1x1N0M3Qlx1NTc4Qlx1NzY4NFx1NjU3MFx1NjM2RVx1NjNBNVx1NTNFM1xyXG4gICAgICAgIFx1NkNBQVx1NkRGMVx1NkRGMVx1NUVBNlx1NjU3MFx1NjM2RTogXHU2Mjk1XHU4RDQ0XHU1M0MyXHU4MDAzXHUzMDAxXHU5Rjk5XHU4NjRFXHU2OTlDXHUzMDAxXHU1RTAyXHU1NzNBXHU4ODY4XHU3M0IwXHUzMDAxXHU4RDIyXHU1MkExXHU1MjA2XHU2NzkwXHUzMDAxXHU2NzNBXHU2Nzg0XHU2MzAxXHU4MEExXHUzMDAxXHU4RDQ0XHU5MUQxXHU2RDQxXHU3QjQ5ODBcdTRGNTlcdTRFMkFcdTU0MTFcdTRFMkFcdTRFMERcdTU0MENcdTdDN0JcdTU3OEJcdTc2ODRcdTY1NzBcdTYzNkVcdTYzQTVcdTUzRTNcclxuICAgICAgICBcdTZDQUFcdTZERjFcdTYzMDdcdTY1NzBcdTY1NzBcdTYzNkU6IFx1NkNBQVx1NkRGMVx1NjMwN1x1NjU3MFx1NTIxN1x1ODg2OFx1MzAwMVx1NUI5RVx1NjVGNlx1NEVBNFx1NjYxM1x1MzAwMVx1NTM4Nlx1NTNGMlx1NjU3MFx1NjM2RVx1MzAwMVx1NTIwNlx1NjVGNktESlx1MzAwMVx1NTIwNlx1NjVGNk1BQ0RcdTMwMDFcdTUyMDZcdTY1RjZCT0xMXHU3QjQ5MTZcdTRFMkFcdTRFMERcdTU0MENcdTdDN0JcdTU3OEJcdTc2ODRcdTY1NzBcdTYzNkVcdTYzQTVcdTUzRTNcclxuICAgICAgICBcdTU3RkFcdTkxRDFcdTg4NENcdTYwQzVcdTY1NzBcdTYzNkU6IFx1NTdGQVx1OTFEMVx1NTIxN1x1ODg2OFx1MzAwMVx1NEYzMFx1NTAzQ1x1ODg0Q1x1NjBDNVx1MzAwMVx1NjcwMFx1NjVCMEtcdTdFQkZcdTMwMDFcdTUzODZcdTUzRjJLXHU3RUJGXHUzMDAxXHU4RDQ0XHU0RUE3XHU4RDFGXHU1MDNBXHU4ODY4XHUzMDAxXHU2ODYzXHU2ODQ4XHU0RkUxXHU2MDZGXHU3QjQ5NzBcdTRGNTlcdTRFMkFcdTRFMERcdTU0MENcdTdDN0JcdTU3OEJcdTc2ODRcdTY1NzBcdTYzNkVcdTYzQTVcdTUzRTNcclxuICAgIFx1NjU3MFx1NjM2RVx1NjNBNVx1NTNFMzpcclxuICAgICAgICBFVEZcdTU3RkFcdTkxRDFcdTg4NENcdTYwQzVcclxuICAgICAgICAgICAgQVBJXHU2M0E1XHU1M0UzXHVGRjFBaHR0cHM6Ly9hcGkuYml5aW5nYXBpLmNvbS9qai9ldGZocS9FVEZcdTU3RkFcdTkxRDFcdTRFRTNcdTc4MDEvXHU2MEE4XHU3Njg0bGljZW5jZVxyXG4gICAgICAgICAgICBcdTU5MDdcdTc1MjhcdTYzQTVcdTUzRTNcdUZGMUFodHRwczovL2FwaTEuYml5aW5nYXBpLmNvbS9qai9ldGZocS9FVEZcdTU3RkFcdTkxRDFcdTRFRTNcdTc4MDEvXHU2MEE4XHU3Njg0bGljZW5jZVxyXG4gICAgICAgIExPRlx1NTdGQVx1OTFEMVx1ODg0Q1x1NjBDNVxyXG4gICAgICAgICAgICBBUElcdTYzQTVcdTUzRTNcdUZGMUFodHRwczovL2FwaS5iaXlpbmdhcGkuY29tL2pqL2xvZmhxL0xPRlx1NTdGQVx1OTFEMVx1NEVFM1x1NzgwMS9cdTYwQThcdTc2ODRsaWNlbmNlXHJcbiAgICAgICAgICAgIFx1NTkwN1x1NzUyOFx1NjNBNVx1NTNFM1x1RkYxQWh0dHBzOi8vYXBpMS5iaXlpbmdhcGkuY29tL2pqL2xvZmhxL0xPRlx1NTdGQVx1OTFEMVx1NEVFM1x1NzgwMS9cdTYwQThcdTc2ODRsaWNlbmNlXHJcbiovXHJcbmltcG9ydCB7IE5vdGljZSwgcmVxdWVzdFVybCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuY29uc3QgZGF0YV91cmxfcHJlZml4ID0gXCJodHRwOi8vYXBpLmJpeWluZ2FwaS5jb21cIjtcclxuXHJcblxyXG5hc3luYyBmdW5jdGlvbiBGZXRjaERhdGEoZGF0YV9hcGk6IHN0cmluZywgYXBpX2xpY2VuY2U6IHN0cmluZywgZGVidWdfbG9nOiBzdHJpbmdbXVtdKVxyXG57XHJcbiAgICBjb25zdCB1cmwgPSBkYXRhX3VybF9wcmVmaXggKyBkYXRhX2FwaSArIFwiL1wiICsgYXBpX2xpY2VuY2U7XHJcbiAgICBkZWJ1Z19sb2cucHVzaChbXCJJbmZvXCIsIFwiZnVsbCB1cmxcIiwgdXJsXSk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwodXJsKTtcclxuICAgIHJldHVybiByZXNwb25zZS5qc29uO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0RVRGQ3VycmVudFByaWNlKGV0Zl9jb2RlOiBzdHJpbmcsIGFwaV9saWNlbmNlOiBzdHJpbmcsIHJldHJ5X2NvdW50ID0gMylcclxue1xyXG4gICAgLypcclxuICAgIGlmICghKGV0Zl9jb2RlLnN0YXJ0c1dpdGgoXCJzelwiKSB8fCBldGZfY29kZS5zdGFydHNXaXRoKFwic2hcIikpKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFx1OTc1RXN6L3NoXHU1RTAyXHU1NzNBXHU3Njg0RVRGXHU0RUY3XHU2ODNDXHU2NUUwXHU2Q0Q1XHU4MUVBXHU1MkE4XHU4M0I3XHU1M0Q2XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGF0YV9hcGkgPSBkYXRhX3VybF9wcmVmaXggKyBcIi9qai9ldGZocS9cIiArIGV0Zl9jb2RlICsgXCIvXCIgKyBhcGlfbGljZW5jZTtcclxuICAgIC8vRGVidWdMb2coXCJyZXF1ZXN0IHVybDogXCIsIGRhdGFfYXBpKTtcclxuXHJcbiAgICB3aGlsZSAocmV0cnlfY291bnQgPj0gMClcclxuICAgIHtcclxuICAgICAgICB0cnlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybChkYXRhX2FwaSk7XHJcbiAgICAgICAgICAgIERlYnVnTG9nKFwicmVxdWVzdCBcIiwgZXRmX2NvZGUsIFwiICByZXN1bHQgXCIsIHJlc3BvbnNlLmpzb25bXCJ6eGpcIl0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbltcInp4alwiXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2goZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIERlYnVnTG9nKFwicmVxdWVzdCBcIiwgZGF0YV9hcGksIFwiICBlcnJvciBcIiwgZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoMzAgKiAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0cnlfY291bnQgPSByZXRyeV9jb3VudCAtIDE7XHJcbiAgICB9XHJcbiAgICAqL1xyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0TE9GQ3VycmVudFByaWNlKGxvZl9jb2RlOiBzdHJpbmcsIGFwaV9saWNlbmNlOiBzdHJpbmcsIHJldHJ5X2NvdW50ID0gMylcclxue1xyXG4gICAgLypcclxuICAgIGlmICghKGxvZl9jb2RlLnN0YXJ0c1dpdGgoXCJzelwiKSB8fCBsb2ZfY29kZS5zdGFydHNXaXRoKFwic2hcIikpKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFx1OTc1RXN6L3NoXHU1RTAyXHU1NzNBXHU3Njg0TE9GXHU0RUY3XHU2ODNDXHU2NUUwXHU2Q0Q1XHU4MUVBXHU1MkE4XHU4M0I3XHU1M0Q2XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGF0YV9hcGkgPSBkYXRhX3VybF9wcmVmaXggKyBcIi9qai9sb2ZocS9cIiArIGxvZl9jb2RlICsgXCIvXCIgKyBhcGlfbGljZW5jZTtcclxuICAgIC8vRGVidWdMb2coXCJyZXF1ZXN0IHVybDogXCIsIGRhdGFfYXBpKTtcclxuICAgIHdoaWxlIChyZXRyeV9jb3VudCA+PSAwKVxyXG4gICAge1xyXG4gICAgICAgIHRyeVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKGRhdGFfYXBpKTtcclxuICAgICAgICAgICAgRGVidWdMb2coXCJyZXF1ZXN0IFwiLCBsb2ZfY29kZSwgXCIgIHJlc3VsdCBcIiwgcmVzcG9uc2UuanNvbltcInp4alwiXSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uW1wienhqXCJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRGVidWdMb2coXCJyZXF1ZXN0IFwiLCBkYXRhX2FwaSwgXCIgIGVycm9yIFwiLCBlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBhd2FpdCBzbGVlcCgzMCAqIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICovXHJcbiAgICByZXR1cm4gLTE7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBEZWJ1Z0xvZyguLi5hcmdzKVxyXG57XHJcbiAgICBsZXQgbG9nX3N0ciA9IFwiXCI7XHJcbiAgICBhcmdzLmZvckVhY2goKGNlbGwsIGkpID0+IHtcclxuICAgICAgICBsb2dfc3RyID0gbG9nX3N0ciArIFN0cmluZyhjZWxsKTtcclxuICAgIH0pO1xyXG4gICAgbmV3IE5vdGljZShsb2dfc3RyKTtcclxufVxyXG4iLCAiLypcclxuICAgIEdyaWQgVHJhZGluZyBWaWV3XHJcbiAgICBcdTdGNTFcdTY4M0NcdTdCNTZcdTc1NjVcdTc2ODRcdTUxNzdcdTRGNTNcdTY4MDdcdTc2ODRcdTVDNTVcdTc5M0FcdTg5QzZcdTU2RkVcclxuKi9cclxuXHJcbmltcG9ydCB7IFRleHRGaWxlVmlldywgV29ya3NwYWNlTGVhZiB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZyB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ1wiO1xyXG5pbXBvcnQgeyBQbHVnaW5FbnYsIEZFVENIX0NVUlJFTlRfUFJJQ0UgfSBmcm9tIFwiLi9wbHVnaW5fZW52XCI7XHJcbmltcG9ydCB7IEdSSURfQ09MT1JfQlVZX01PTklUT1IsIEdSSURfQ09MT1JfQlVZX1RSSUdHRVJFRCwgR1JJRF9DT0xPUl9ESVNBQkxFLCBHUklEX0NPTE9SX1NFTExfTU9OSVRPUiwgR1JJRF9DT0xPUl9TRUxMX1RSSUdHRVJFRCB9IGZyb20gXCIuL3NldHRpbmdzXCI7XHJcbmltcG9ydCB7IERlYnVnTG9nIH0gZnJvbSBcIi4vcmVtb3RlX3V0aWxcIjtcclxuaW1wb3J0IHsgRXhjdXRlR3JpZENvbW1hbmQgfSBmcm9tIFwiLi9jb21tYW5kX3V0aWxcIjtcclxuXHJcblxyXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0dUViA9IFwiZ3R2LXZpZXdcIlxyXG5cclxuZXhwb3J0IGNsYXNzIEdUVlZpZXcgZXh0ZW5kcyBUZXh0RmlsZVZpZXdcclxue1xyXG4gICAgZGF0YTogc3RyaW5nO1xyXG4gICAgcGx1Z2luX2VudjogUGx1Z2luRW52O1xyXG4gICAgcmVmcmVzaF9ldmVudF9ndWlkOiBudW1iZXI7XHJcbiAgICB2aWV3X2d1aWQ6IG51bWJlcjtcclxuXHJcbiAgICBzdG9ja190aWxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIHN0b2NrX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIHBhcmFtX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIHBhcmFtX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIHRyYWRpbmdfdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgdHJhZGluZ190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBob2xkaW5nX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGhvbGRpbmdfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgaW5jb21lX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGluY29tZV90YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBhbmFseXNpc190aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBhbmFseXNpc190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICByZWNvcmRfdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgcmVjb3JkX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGFkanVzdF90aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBhZGp1c3RfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgZGVidWdfbG9nX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGRlYnVnX2xvZ190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgY29tbWFuZF90ZXh0X2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGNvbW1hbmRfaW5wdXRfZWw6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBjb21tYW5kX2J0bl9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBjb21tYW5kX2xpc3RfZWw6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbl9lbnY6IFBsdWdpbkVudilcclxuICAgIHtcclxuICAgICAgICBzdXBlcihsZWFmKTtcclxuICAgICAgICB0aGlzLnBsdWdpbl9lbnYgPSBwbHVnaW5fZW52O1xyXG4gICAgICAgIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID0gLTE7XHJcbiAgICAgICAgdGhpcy52aWV3X2d1aWQgPSBwbHVnaW5fZW52LkdlbkdVSUQoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3RGF0YSgpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFZpZXdEYXRhKGRhdGE6IHN0cmluZywgY2xlYXI6IGJvb2xlYW4pOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLlJlZnJlc2goKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3VHlwZSgpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gVklFV19UWVBFX0dUVjtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4gXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZF9idG5fZWwgPSBkaXYuY3JlYXRlRWwoXCJidXR0b25cIik7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kX2J0bl9lbC5zZXRUZXh0KFwiRXhjdXRlXCIpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZF9idG5fZWwub25DbGlja0V2ZW50KChldjogTW91c2VFdmVudCkgPT4ge3RoaXMuT25DbGlja0FkZFJlY29yZEJ0bihldiwgdGhpcy5jb21tYW5kX2lucHV0X2VsKX0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbW1hbmRfaW5wdXRfZWwgPSBkaXYuY3JlYXRlRWwoXCJpbnB1dFwiKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRfaW5wdXRfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRfaW5wdXRfZWwuc2l6ZSA9IDcwO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZF9pbnB1dF9lbC5wbGFjZWhvbGRlciA9IFwiSW5wdXQgeW91ciBjb21tYW5kXCJcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5zdG9ja190aWxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5zdG9ja190YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnBhcmFtX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5wYXJhbV90YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIilcclxuICAgICAgICB0aGlzLmhvbGRpbmdfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLmluY29tZV90YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmFuYWx5c2lzX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5hbmFseXNpc190YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpXHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMucmVjb3JkX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5yZWNvcmRfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuICBcclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmFkanVzdF90aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMuYWRqdXN0X3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpXHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLmRlYnVnX2xvZ190YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA9IHRoaXMucGx1Z2luX2Vudi5TdWJzY3JpYmVFdmVudChGRVRDSF9DVVJSRU5UX1BSSUNFLCAoKT0+dGhpcy5SZWZyZXNoKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIE9uQ2xpY2tBZGRSZWNvcmRCdG4oZXY6IE1vdXNlRXZlbnQsIGlucHV0X2VsOiBIVE1MRWxlbWVudClcclxuICAgIHtcclxuICAgICAgICB0cnlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBpbnB1dF9lbC52YWx1ZTtcclxuICAgICAgICAgICAgY29uc3QgZ3JpZF9jbWQgPSBFeGN1dGVHcmlkQ29tbWFuZCh0ZXh0KTtcclxuICAgICAgICAgICAgaWYgKGdyaWRfY21kLmVycm9yX2NvZGUgPT0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRfY21kLmNvbW1hbmQgPT0gXCJhZGRfcmVjb3JkXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhICsgZ3JpZF9jbWQuZGF0YV9yZXN1bHRfc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld0RhdGEodGhpcy5kYXRhLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZF9jbWQuY29tbWFuZCA9PSBcImRlbF9yZWNvcmRcIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRoaXMuZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleD0wOyBpbmRleCA8IGxpbmVzLmxlbmd0aDsgaW5kZXgrKylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lc1tpbmRleF0uc3RhcnRzV2l0aChcIkJVWSxcIikgfHwgbGluZXNbaW5kZXhdLnN0YXJ0c1dpdGgoXCJTRUxMLFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPT0gZ3JpZF9jbWQuZGF0YV9yZXN1bHRfbnVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCBsaW5lcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBsaW5lcy5qb2luKFwiXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld0RhdGEodGhpcy5kYXRhLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBEZWJ1Z0xvZyhcIkNvbW1hbmQgaGFzIGVycm9yIFwiLCBlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGFzeW5jIG9uQ2xvc2UoKTogUHJvbWlzZTx2b2lkPlxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5VbnN1YnNjcmliZUV2ZW50KEZFVENIX0NVUlJFTlRfUFJJQ0UsIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoX2V2ZW50X2d1aWQgPSAtMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgUmVmcmVzaCgpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU2ODA3XHU5ODk4XHU0RTBFXHU4ODY4XHU2ODNDXHJcbiAgICAgICAgdGhpcy5zdG9ja190aWxlX2VsLnNldFRleHQoXCJcdTY3MkFcdTc3RTVcdTY4MDdcdTc2ODRcIik7XHJcbiAgICAgICAgdGhpcy5zdG9ja190YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMucGFyYW1fdGl0bGVfZWwuc2V0VGV4dChcIlx1N0Y1MVx1NjgzQ1x1NTNDMlx1NjU3MFwiKTtcclxuICAgICAgICB0aGlzLnBhcmFtX3RhYmxlX2VsLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RpdGxlX2VsLnNldFRleHQoXCJcdTRFQTRcdTY2MTNcdTdGNTFcdTY4M0NcIik7XHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlX2VsLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX3RpdGxlX2VsLnNldFRleHQoXCJcdTYzMDFcdTRFRDNcdTUyMDZcdTY3OTBcIik7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX3RhYmxlX2VsLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfdGl0bGVfZWwuc2V0VGV4dChcIlx1NjUzNlx1NzZDQVx1NTIwNlx1Njc5MFwiKTtcclxuICAgICAgICB0aGlzLmluY29tZV90YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuYW5hbHlzaXNfdGl0bGVfZWwuc2V0VGV4dChcIlx1NTZERVx1NjRBNFx1NTIwNlx1Njc5MFwiKTtcclxuICAgICAgICB0aGlzLmFuYWx5c2lzX3RhYmxlX2VsLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5yZWNvcmRfdGl0bGVfZWwuc2V0VGV4dChcIlx1NEVBNFx1NjYxM1x1OEJCMFx1NUY1NVwiKTtcclxuICAgICAgICB0aGlzLnJlY29yZF90YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuYWRqdXN0X3RpdGxlX2VsLnNldFRleHQoXCJcdThDMDNcdTY1NzRcdThCQjBcdTVGNTVcIik7XHJcbiAgICAgICAgdGhpcy5hZGp1c3RfdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICAvLyB0aGlzLmRlYnVnX2xvZ190aXRsZV9lbC5zZXRUZXh0KFwiXHU4QzAzXHU4QkQ1XHU2NUU1XHU1RkQ3XCIpO1xyXG4gICAgICAgIC8vIHRoaXMuZGVidWdfbG9nX3RhYmxlX2VsLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmZpbGUgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGVfc3RyID0gdGhpcy5kYXRhLnNwbGl0KFwiXFxuXCIpWzBdLnNwbGl0KFwiLFwiKVswXTtcclxuICAgICAgICAgICAgY29uc3QgZ3JpZF90cmFkaW5nID0gdGhpcy5wbHVnaW5fZW52LkdldEFuZEdlbkdyaWRUcmFkaW5nKHRoaXMuZmlsZS5uYW1lLCBtb2RlX3N0cik7XHJcbiAgICAgICAgICAgIGdyaWRfdHJhZGluZy5Jbml0R3JpZFRyYWRpbmcodGhpcy5kYXRhKTtcclxuICAgICAgICAgICAgLy8gXHU2ODA3XHU3Njg0XHU0RkUxXHU2MDZGXHJcbiAgICAgICAgICAgIHRoaXMuc3RvY2tfdGlsZV9lbC5zZXRUZXh0KGdyaWRfdHJhZGluZy5zdG9ja19uYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUoZ3JpZF90cmFkaW5nLCB0aGlzLnN0b2NrX3RhYmxlX2VsLCBncmlkX3RyYWRpbmcuc3RvY2tfdGFibGUsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gXHU3RjUxXHU2ODNDXHU1M0MyXHU2NTcwXHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5wYXJhbV90YWJsZV9lbCwgZ3JpZF90cmFkaW5nLnBhcmFtX3RhYmxlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vIFx1NEVBNFx1NjYxM1x1N0Y1MVx1NjgzQ1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZShncmlkX3RyYWRpbmcsIHRoaXMudHJhZGluZ190YWJsZV9lbCwgZ3JpZF90cmFkaW5nLnRyYWRpbmdfdGFibGUsIHRydWUpO1xyXG4gICAgICAgICAgICAvLyBcdTYzMDFcdTRFRDNcdTUyMDZcdTY3OTBcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUoZ3JpZF90cmFkaW5nLCB0aGlzLmhvbGRpbmdfdGFibGVfZWwsIGdyaWRfdHJhZGluZy5ob2xkaW5nX2FuYWx5c2lzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vIFx1NjUzNlx1NzZDQVx1NTIwNlx1Njc5MFxyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZShncmlkX3RyYWRpbmcsIHRoaXMuaW5jb21lX3RhYmxlX2VsLCBncmlkX3RyYWRpbmcudHJhZGluZ19pbmNvbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gXHU1NkRFXHU2NEE0XHU1MjA2XHU2NzkwXHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5hbmFseXNpc190YWJsZV9lbCwgZ3JpZF90cmFkaW5nLnRyYWRpbmdfYW5hbHlzaXMsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gXHU0RUE0XHU2NjEzXHU4QkIwXHU1RjU1XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5yZWNvcmRfdGFibGVfZWwsIGdyaWRfdHJhZGluZy50cmFkaW5nX3JlY29yZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAvLyBcdThDMDNcdTY1NzRcdThCQjBcdTVGNTVcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUoZ3JpZF90cmFkaW5nLCB0aGlzLmFkanVzdF90YWJsZV9lbCwgZ3JpZF90cmFkaW5nLmFkanVzdF9yZWNvcmQsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gXHU4QzAzXHU4QkQ1XHU0RkUxXHU2MDZGXHJcbiAgICAgICAgICAgIC8vIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5kZWJ1Z19sb2dfdGFibGVfZWwsIGdyaWRfdHJhZGluZy5kZWJ1Z19sb2csIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZzogR3JpZFRyYWRpbmcsIHRhYmxlX2VsOiBIVE1MRWxlbWVudCwgdGFibGU6IHN0cmluZ1tdW10sIGlzX2NvbG9yOiBib29sZWFuKVxyXG4gICAge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhYmxlX2JvZHkgPSB0YWJsZV9lbC5jcmVhdGVFbChcInRib2R5XCIpO1xyXG4gICAgICAgICAgICB0YWJsZS5mb3JFYWNoKChyb3csIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlX3JvdyA9IHRhYmxlX2JvZHkuY3JlYXRlRWwoXCJ0clwiKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCBqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGVfY2VsbCA9IHRhYmxlX3Jvdy5jcmVhdGVFbChcInRkXCIsIHsgdGV4dDogY2VsbCwgYXR0cjoge1wiYWxpZ25cIjogXCJyaWdodFwifX0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19jb2xvciAmJiBpID4gMClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgKGogPT0gMCAmJiBncmlkX3RyYWRpbmcuZGlzYWJsZV9yb3dzLmluY2x1ZGVzKGkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgdGFibGVfY2VsbC5zZXRBdHRyKFwiYmdDb2xvclwiLCBHUklEX0NPTE9SX0RJU0FCTEUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPD01KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZF90cmFkaW5nLmJ1eV90cmlnZ2VyZWRfcm93cy5pbmNsdWRlcyhpKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZV9jZWxsLnNldEF0dHIoXCJiZ0NvbG9yXCIsIEdSSURfQ09MT1JfQlVZX1RSSUdHRVJFRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZF90cmFkaW5nLmJ1eV9tb25pdG9yX3Jvd3MuaW5jbHVkZXMoaSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfY2VsbC5zZXRBdHRyKFwiYmdDb2xvclwiLCBHUklEX0NPTE9SX0JVWV9NT05JVE9SKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkX3RyYWRpbmcuc2VsbF90cmlnZ2VyZWRfcm93cy5pbmNsdWRlcyhpKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZV9jZWxsLnNldEF0dHIoXCJiZ0NvbG9yXCIsIEdSSURfQ09MT1JfU0VMTF9UUklHR0VSRUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZy5zZWxsX21vbml0b3Jfcm93cy5pbmNsdWRlcyhpKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZV9jZWxsLnNldEF0dHIoXCJiZ0NvbG9yXCIsIEdSSURfQ09MT1JfU0VMTF9NT05JVE9SKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBEZWJ1Z0xvZyhcIkRpc3BsYXlUYWJsZSBlcnJvcjogXCIsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCAiLypcclxuICAgIG15bWF0aDogXHU3RjUxXHU2ODNDXHU1QjlBXHU1MjM2XHU2NTcwXHU1QjY2XHU1RTkzLCBcdTVCRjlcdTUzOUZcdTc1MUZcdTc2ODRNYXRoXHU1RTkzXHU4RkRCXHU4ODRDXHU1QzAxXHU4OEM1XHVGRjBDXHU0RjdGXHU1Rjk3XHU4QkExXHU3Qjk3XHU5MDNCXHU4RjkxXHU2NkY0XHU1MkEwXHU3QjI2XHU1NDA4XHU3RjUxXHU2ODNDXHU0RUE0XHU2NjEzXHU4OUM0XHU1MjE5XHJcbiovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gRml4ZWRQcmljZShwcmljZTogbnVtYmVyLCBwY3Q6IG51bWJlciwgcHJlY2lzaW9uOiBudW1iZXIpXHJcbntcclxuICAgIGNvbnN0IHNjYWxlID0gMTAgKiogcHJlY2lzaW9uO1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5mbG9vcihwcmljZSAqIHNjYWxlKSAqIE1hdGguZmxvb3IocGN0ICogMTAwKSAvIDEwMCkgLyBzY2FsZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEFsaWduUHJpY2UocHJpY2U6IG51bWJlciwgcHJlY2lzaW9uOiBudW1iZXIpXHJcbntcclxuICAgIGNvbnN0IHNjYWxlID0gMTAgKiogcHJlY2lzaW9uO1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IocHJpY2UgKiBzY2FsZSkgLyBzY2FsZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE15Rmxvb3IobnVtOiBudW1iZXIsIHNpbmdsZTogbnVtYmVyKVxyXG57XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihudW0gLyBzaW5nbGUpICogc2luZ2xlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTXlDZWlsKG51bTogbnVtYmVyLCBzaW5nbGU6IG51bWJlcilcclxue1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbChudW0gLyBzaW5nbGUpICogc2luZ2xlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVG9QZXJjZW50KG51bTogbnVtYmVyLCBjb3VudCA9IDApOiBzdHJpbmdcclxue1xyXG4gICAgcmV0dXJuIChudW0gKiAxMDApLnRvRml4ZWQoY291bnQpICsgXCIlXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBUb1BlcmNlbnRTdHIobnVtOiBudW1iZXIsIGNvdW50ID0gMCk6IHN0cmluZ1xyXG57XHJcbiAgICByZXR1cm4gbnVtLnRvRml4ZWQoY291bnQpICsgXCIlXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBUb051bWJlcihwZXJjZW50OiBzdHJpbmcpOiBudW1iZXJcclxue1xyXG4gICAgcmV0dXJuIE51bWJlcihwZXJjZW50LnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMC4wO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVG9UcmFkaW5nR2FwKGN1cnJlbnRfcHJpY2U6IG51bWJlcnx1bmRlZmluZWQsIHRhcmdldF9wcmljZTogbnVtYmVyfHVuZGVmaW5lZCwgY291bnQ9MCk6IHN0cmluZ1xyXG57XHJcbiAgICBpZiAodGFyZ2V0X3ByaWNlID09IHVuZGVmaW5lZCB8fCBjdXJyZW50X3ByaWNlID09IHVuZGVmaW5lZCB8fCBjdXJyZW50X3ByaWNlID09IDApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFwiLVwiO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZ2FwID0gTWF0aC5hYnModGFyZ2V0X3ByaWNlIC0gY3VycmVudF9wcmljZSk7XHJcbiAgICBpZiAodGFyZ2V0X3ByaWNlID4gY3VycmVudF9wcmljZSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gXCIrXCIgKyBUb1BlcmNlbnQoZ2FwIC8gY3VycmVudF9wcmljZSwgY291bnQpO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBcIi1cIiArIFRvUGVyY2VudChnYXAgLyBjdXJyZW50X3ByaWNlLCBjb3VudCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBJc051bWVyaWMoc3RyOiBzdHJpbmcpOiBib29sZWFuXHJcbntcclxuICAgIHJldHVybiAhaXNOYU4oTnVtYmVyKHN0cikpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVGltZUR1YXJpb24oZGF0ZVN0cjE6IHN0cmluZywgZGF0ZVN0cjI6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAvLyBcdTUyMUJcdTVFRkFEYXRlXHU1QkY5XHU4QzYxXHVGRjA4XHU4MUVBXHU1MkE4XHU4RjZDXHU2MzYyXHU0RTNBVVRDXHU2NUY2XHU5NUY0XHVGRjA5XHJcbiAgICBjb25zdCBkYXRlMSA9IG5ldyBEYXRlKGRhdGVTdHIxKTtcclxuICAgIGNvbnN0IGRhdGUyID0gbmV3IERhdGUoZGF0ZVN0cjIpO1xyXG5cclxuICAgIC8vIFx1OUE4Q1x1OEJDMVx1NjVFNVx1NjcxRlx1NjcwOVx1NjU0OFx1NjAyN1xyXG4gICAgaWYgKGlzTmFOKGRhdGUxLmdldFRpbWUoKSkgfHwgaXNOYU4oZGF0ZTIuZ2V0VGltZSgpKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlx1OEY5M1x1NTE2NVx1NzY4NFx1NjVFNVx1NjcxRlx1NjgzQ1x1NUYwRlx1NEUwRFx1NkI2M1x1Nzg2RVwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBcdThCQTFcdTdCOTdVVENcdTUzNDhcdTU5MUNcdTY1RjZcdTk1RjRcdTYyMzNcdTVERUVcdTUwM0NcdUZGMDhcdTkwN0ZcdTUxNERcdTU5MEZcdTRFRTRcdTY1RjZcdTVGNzFcdTU0Q0RcdUZGMDlcclxuICAgIGNvbnN0IHV0YzEgPSBEYXRlLlVUQyhcclxuICAgICAgICBkYXRlMS5nZXRVVENGdWxsWWVhcigpLFxyXG4gICAgICAgIGRhdGUxLmdldFVUQ01vbnRoKCksXHJcbiAgICAgICAgZGF0ZTEuZ2V0VVRDRGF0ZSgpXHJcbiAgICApO1xyXG4gICAgY29uc3QgdXRjMiA9IERhdGUuVVRDKFxyXG4gICAgICAgIGRhdGUyLmdldFVUQ0Z1bGxZZWFyKCksXHJcbiAgICAgICAgZGF0ZTIuZ2V0VVRDTW9udGgoKSxcclxuICAgICAgICBkYXRlMi5nZXRVVENEYXRlKClcclxuICAgICk7XHJcblxyXG4gICAgLy8gXHU4QkExXHU3Qjk3XHU1OTI5XHU2NTcwXHU1REVFXHU1RTc2XHU4RkQ0XHU1NkRFXHJcbiAgICByZXR1cm4gTWF0aC5hYnMoTWF0aC5mbG9vcigodXRjMSAtIHV0YzIpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBdmVyYWdlUHJpY2VTdHIoY29zdDogbnVtYmVyLCBjb3VudDogbnVtYmVyLCBzaW5nbGU6IG51bWJlcik6IHN0cmluZ1xyXG57XHJcbiAgICBpZiAoY291bnQgPT0gMClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gY291bnQudG9GaXhlZChzaW5nbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFN0cmluZygoY29zdCAvIGNvdW50KS50b0ZpeGVkKHNpbmdsZSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU3RyaW5nUGx1cyhudW0xOiBzdHJpbmcsIG51bTI6IHN0cmluZywgc2luZ2xlOiBudW1iZXIpOiBzdHJpbmdcclxue1xyXG4gICAgcmV0dXJuIFN0cmluZyhNeUZsb29yKE51bWJlcihudW0xKSArIE51bWJlcihudW0yKSwgc2luZ2xlKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBQcm9wb3J0aW9uUGN0U3RyKGNvdW50OiBudW1iZXIsIHRvdGFsOiBudW1iZXIsIHNpbmdsZTogbnVtYmVyKTogc3RyaW5nXHJcbntcclxuICAgIGlmICh0b3RhbCA9PSAwKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0b3RhbC50b0ZpeGVkKHNpbmdsZSkgKyBcIiVcIjtcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcoKGNvdW50IC8gdG90YWwgKiAxMDApLnRvRml4ZWQoc2luZ2xlKSkgKyBcIiVcIjtcclxufVxyXG4iLCAiLypcclxuICAgIFx1N0Y1MVx1NjgzQ1x1N0I1Nlx1NzU2NVx1NzY4NFx1OEJBMVx1N0I5N1x1OTAzQlx1OEY5MVxyXG4gICAgXHU1N0ZBXHU3QzdCXHVGRjBDXHU0RTBEXHU4RDFGXHU4RDIzXHU3RjUxXHU2ODNDXHU3Njg0XHU0RUE0XHU2NjEzXHU4QkExXHU3Qjk3XHVGRjBDXHU1QzAxXHU4OEM1XHU3RURGXHU0RTAwXHU3Njg0XHU2M0E1XHU1M0UzXHJcbiovXHJcbmltcG9ydCB7IE1kNSB9IGZyb20gXCJ0cy1tZDUvZGlzdC9tZDVcIjtcclxuaW1wb3J0IHsgR3JpZFRyYWRpbmdTZXR0aW5ncywgR1JJRF9DT0xPUl9TVE9DS19PVkVSVklFVywgR1JJRF9DT0xPUl9CVVlfT1ZFUlZJRVcsIEdSSURfQ09MT1JfU0VMTF9PVkVSVklFVyB9IGZyb20gXCIuL3NldHRpbmdzXCJcclxuaW1wb3J0IHsgUEVSRklUX1RZUEVfTkFNRV9TVFIgfSBmcm9tIFwiLi9sYW5nX3N0clwiO1xyXG5pbXBvcnQgeyBNeUZsb29yLCBNeUNlaWwsIFRvUGVyY2VudCwgVG9OdW1iZXIsIFRvVHJhZGluZ0dhcCwgVGltZUR1YXJpb24sIEF2ZXJhZ2VQcmljZVN0ciwgRml4ZWRQcmljZSwgVG9QZXJjZW50U3RyLCBQcm9wb3J0aW9uUGN0U3RyLCBJc051bWVyaWMgfSBmcm9tIFwiLi9teW1hdGhcIjtcclxuaW1wb3J0IHsgUGx1Z2luRW52IH0gZnJvbSBcIi4vcGx1Z2luX2VudlwiO1xyXG5pbXBvcnQgeyBEZWJ1Z0xvZyB9IGZyb20gXCIuL3JlbW90ZV91dGlsXCI7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gXCJjb25zb2xlXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRUcmFkaW5nIFxyXG57XHJcbiAgICBwbHVnaW5fZW52OiBQbHVnaW5FbnY7XHJcbiAgICBncmlkX3NldHRpbmdzOiBHcmlkVHJhZGluZ1NldHRpbmdzO1xyXG4gICAgaXNfZW1wdHk6IGJvb2xlYW47XHJcbiAgICBkYXRhX21kNTogc3RyaW5nO1xyXG4gICAgc3RvY2tfdGFibGU6IHN0cmluZyBbXVtdO1xyXG4gICAgcGFyYW1fdGFibGU6IHN0cmluZyBbXVtdO1xyXG4gICAgdHJhZGluZ190YWJsZTogc3RyaW5nIFtdW107XHJcbiAgICB0cmFkaW5nX2FuYWx5c2lzOiBzdHJpbmcgW11bXTtcclxuICAgIHRyYWRpbmdfcmVjb3JkOiBzdHJpbmcgW11bXTtcclxuICAgIHRyYWRpbmdfaW5jb21lOiBzdHJpbmcgW11bXTtcclxuICAgIGhvbGRpbmdfYW5hbHlzaXM6IHN0cmluZyBbXVtdO1xyXG4gICAgaG9sZGluZ19yZWNvcmQ6IHN0cmluZyBbXVtdO1xyXG4gICAgc3RvY2tfYW5hbHlzaXM6IHN0cmluZyBbXVtdO1xyXG4gICAgYWRqdXN0X3JlY29yZDogc3RyaW5nIFtdW107XHJcbiAgICBkZWJ1Z19sb2c6IHN0cmluZyBbXVtdO1xyXG4gICAgbW9kZV90eXBlOiBzdHJpbmc7XHJcbiAgICAvLyBcdTcyQjZcdTYwMDFcdTYzQTdcdTUyMzZcclxuICAgIGN0cmxfc3RhdHVzOiBzdHJpbmc7XHJcbiAgICBpc19kZWJ1ZzogYm9vbGVhbjsgICAgICAvLyBcdThDMDNcdThCRDVcdTY1NzBcdTYzNkVcdTUxNjhcdTkwRThcdTVGRkRcdTc1NjVcclxuICAgIGlzX3BhdXNlOiBib29sZWFuOyAgICAgIC8vIFx1NEVDNVx1NjY4Mlx1NTA1Q1x1NEU3MFx1NTE2NVx1NzZEMVx1NjNBNyxcdTdFRTdcdTdFRURcdTUzNTZcdTUxRkFcdTc2RDFcdTYzQTcsXHU4QkExXHU1MTY1XHU1NkRFXHU2NEE0XHU2NTcwXHU2MzZFXHJcbiAgICBpc19jbGVhcjogYm9vbGVhbjsgICAgICAvLyBcdTVERjJcdTdFQ0ZcdTZFMDVcdTc2RDhcdTRFODZcdTdFRDMsXHU3QjQ5XHU1Rjg1XHU5MUNEXHU2NUIwXHU1RjAwXHU1NDJGLFx1NEUwRFx1OEJBMVx1NTE2NVx1NTZERVx1NjRBNFx1NjU3MFx1NjM2RVxyXG4gICAgaXNfY2FuY2VsOiBib29sZWFuOyAgICAgLy8gXHU5ODg0XHU1OTA3XHU1M0Q2XHU2RDg4XHU2ODA3XHU3Njg0LFx1N0I0OVx1NUY4NVx1NkUwNVx1NzZEOFx1N0VEM1x1N0I5NyxcdTRFQzVcdTY2M0VcdTc5M0FcdTY4MDdcdTc2ODRcdTYwM0JcdTg5QzhcclxuXHJcbiAgICB0YXJnZXRfc3RvY2s6IG51bWJlcjtcclxuICAgIHN0b2NrX25hbWU6IHN0cmluZztcclxuICAgIG1hcmtldF9jb2RlOiBzdHJpbmc7XHJcbiAgICBjdXJyZW50X3ByaWNlOiBudW1iZXI7XHJcbiAgICByZW1vdGVfY3VycmVudF9wcmljZTogbnVtYmVyO1xyXG4gICAgdGFyZ2V0X3ByaWNlOiBudW1iZXI7XHJcbiAgICBlbXB0eV9wcmljZTogbnVtYmVyO1xyXG4gICAgY2xlYXJfcHJpY2U6IG51bWJlcjtcclxuICAgIGNsZWFyX2F2Z19wcmljZTogbnVtYmVyO1xyXG4gICAgcmF3X3RyYWRpbmdfcmVjb3JkOiBzdHJpbmcgW11bXTtcclxuICAgIHJhd19hZGp1c3RfcmVjb3JkOiBzdHJpbmcgW11bXTtcclxuICAgIGNsZWFyX3NlbGxfcmVjb3JkOiBNYXA8c3RyaW5nLCBudW1iZXI+O1xyXG4gICAgYnV5X2dyaWRfcmVjb3JkOiBzdHJpbmcgW107XHJcbiAgICBzZ3JpZF9zdGVwX3RhYmxlOiBzdHJpbmcgW11bXTtcclxuICAgIG1ncmlkX3N0ZXBfdGFibGU6IHN0cmluZyBbXVtdO1xyXG4gICAgbGdyaWRfc3RlcF90YWJsZTogc3RyaW5nIFtdW107XHJcbiAgICBmb3JjZV92aWV3X2dyaWRfbGlzdDogc3RyaW5nIFtdO1xyXG4gICAgaGlzdF9hbmFseXNpczogc3RyaW5nIFtdW107XHJcblxyXG4gICAgdG90YWxfcmV0YWluOiBudW1iZXI7XHJcbiAgICByZXRhaW5fY29zdDogbnVtYmVyO1xyXG4gICAgdG90YWxfaG9sZDogbnVtYmVyO1xyXG4gICAgdG90YWxfY29zdDogbnVtYmVyO1xyXG4gICAgYnV5X3RyaWdnZXJlZF9yb3dzOiBudW1iZXIgW107XHJcbiAgICBzZWxsX3RyaWdnZXJlZF9yb3dzOiBudW1iZXIgW107XHJcbiAgICBidXlfbW9uaXRvcl9yb3dzOiBudW1iZXIgW107XHJcbiAgICBzZWxsX21vbml0b3Jfcm93czogbnVtYmVyIFtdO1xyXG4gICAgZGlzYWJsZV9yb3dzOiBudW1iZXIgW107XHJcblxyXG4gICAgc3RvY2tfb3ZlcnZpZXc6IHN0cmluZyBbXTtcclxuICAgIHN0b2NrX2J1eV9vdmVydmlldzogc3RyaW5nIFtdW107XHJcbiAgICBzdG9ja19zZWxsX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcclxuICAgIHN0b2NrX3Bhc3NpdmVfZmlsbGVkX3JlY29yZDogc3RyaW5nIFtdW107XHJcbiAgICBzdG9ja19hY3RpdmVfZmlsbGVkX3JlY29yZDogc3RyaW5nIFtdW107XHJcblxyXG4gICAgY29uc3RydWN0b3IocGx1Z2luX2VudjogUGx1Z2luRW52KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucGx1Z2luX2VudiA9IHBsdWdpbl9lbnY7XHJcbiAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzID0gcGx1Z2luX2Vudi5ncmlkX3NldHRpbmdzLkNsb25lKCk7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2cgPSBbXVxyXG4gICAgICAgIHRoaXMuZGF0YV9tZDUgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuaXNfZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaXNfZGVidWcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdEdyaWRUcmFkaW5nKGRhdGE6IHN0cmluZylcclxuICAgIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlUmVtb3RlUHJpY2UocmVtb3RlX3ByaWNlOiBudW1iZXIpXHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIERlYnVnTG9nKGxldmVsOiBzdHJpbmcsIGxvZ19zdHI6IHN0cmluZywgZXh0cmFfaW5mbzogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGVidWdfbG9nLnB1c2goW2xldmVsLCBsb2dfc3RyLCBleHRyYV9pbmZvXSk7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0VHJhZGluZ1RpdGxlKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0b2NrX25hbWUgKyBcIihcIiArIFN0cmluZyh0aGlzLnRhcmdldF9zdG9jaykgKyBcIilcIjtcclxuICAgIH1cclxuXHJcbiAgICBJc1N0b2NrKCk6IGJvb2xlYW5cclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5pc19lbXB0eSA9PSBmYWxzZSAmJiAodGhpcy5tYXJrZXRfY29kZSA9PSBcInN6XCIgfHwgdGhpcy5tYXJrZXRfY29kZSA9PSBcInNoXCIpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgSXNNb25pdG9yKCk6IGJvb2xlYW5cclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5pc19lbXB0eSB8fCB0aGlzLmlzX2RlYnVnIHx8IHRoaXMuaXNfY2xlYXIgfHwgdGhpcy5pc19jYW5jZWwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBQYXJzZVJhd0RhdGEoZGF0YTogc3RyaW5nKTogYm9vbGVhblxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IG5ld19tZDUgPSBNZDUuaGFzaFN0cihkYXRhKTtcclxuICAgICAgICBpZiAobmV3X21kNSA9PT0gdGhpcy5kYXRhX21kNSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kYXRhX21kNSA9IG5ld19tZDU7XHJcbiAgICAgICAgLy8gMTU5ODY5LFx1NkUzOFx1NjIwRkVURixzeiwxLDAuOTVcclxuICAgICAgICBjb25zdCBsaW5lcyA9IGRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgY29uc3Qgc3RycyA9IGxpbmVzWzBdLnNwbGl0KFwiLFwiKTtcclxuICAgICAgICB0aGlzLnRhcmdldF9zdG9jayA9IE51bWJlcihzdHJzWzFdKTtcclxuICAgICAgICB0aGlzLnN0b2NrX25hbWUgPSBzdHJzWzJdO1xyXG4gICAgICAgIHRoaXMubWFya2V0X2NvZGUgPSBzdHJzWzNdO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0X3ByaWNlID0gTnVtYmVyKHN0cnNbNF0pO1xyXG4gICAgICAgIHRoaXMuY3VycmVudF9wcmljZSA9IE51bWJlcihzdHJzWzVdKTtcclxuICAgICAgICB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID0gdGhpcy5wbHVnaW5fZW52LkdldFN0b2NrUmVtb3RlUHJpY2Uoc3Ryc1sxXSk7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2UgPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3ByaWNlID0gdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQkFTRSwxMDAwMCwwLjY3LDAuMDA1LDAuMDAxLDEwMCwwLjFcclxuICAgICAgICAvLyBTVEVQLDAuMDUsMC4wNSw0LDAuMjIsMC4yLDIsMC41MiwwLjUsMVxyXG4gICAgICAgIC8vIEFESiwyMDI1LTAzLTI0LFx1OEMwM1x1NjU3NFx1OTk5Nlx1N0Y1MVx1NEVGN1x1NjgzQywwLjc1Ni0+MC44NTYsMC41NjcsMTAwMDBcclxuICAgICAgICAvLyBCVVksMjAyNC0wMS0yMyxcdTVDMEZcdTdGNTEwLDAuNzYwLDEyMDAwXHJcbiAgICAgICAgLy8gQ1RSTCxERUJVR1xyXG4gICAgICAgIHRoaXMuaXNfZGVidWcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzX3BhdXNlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc19jbGVhciA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNfY2FuY2VsID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzID0gdGhpcy5wbHVnaW5fZW52LmdyaWRfc2V0dGluZ3MuQ2xvbmUoKTtcclxuICAgICAgICB0aGlzLnJhd190cmFkaW5nX3JlY29yZCA9IFtdO1xyXG4gICAgICAgIHRoaXMucmF3X2FkanVzdF9yZWNvcmQgPSBbXTtcclxuICAgICAgICB0aGlzLmJ1eV9ncmlkX3JlY29yZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2dyaWRfc3RlcF90YWJsZSA9IFtdO1xyXG4gICAgICAgIHRoaXMubWdyaWRfc3RlcF90YWJsZSA9IFtdO1xyXG4gICAgICAgIHRoaXMubGdyaWRfc3RlcF90YWJsZSA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2xlYXJfc2VsbF9yZWNvcmQgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPjtcclxuICAgICAgICB0aGlzLmZvcmNlX3ZpZXdfZ3JpZF9saXN0ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeCA8IGxpbmVzLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBzdHJzID0gbGluZXNbaWR4XS5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiQlVZXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmF3X3RyYWRpbmdfcmVjb3JkLnB1c2goW3N0cnNbMF0sIHN0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X2dyaWRfcmVjb3JkLnB1c2goc3Ryc1syXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJTRUxMXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmF3X3RyYWRpbmdfcmVjb3JkLnB1c2goW3N0cnNbMF0sIHN0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X2dyaWRfcmVjb3JkLnJlbW92ZShzdHJzWzJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIlNIQVJFXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmF3X3RyYWRpbmdfcmVjb3JkLnB1c2goW3N0cnNbMF0sIHN0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIkJBU0VcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzLlVucGFja0Jhc2Uoc3Rycyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJTVEVQXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5VbnBhY2tTdGVwKHN0cnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiU0dSSURcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZ3JpZF9zdGVwX3RhYmxlLnB1c2goW3N0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIk1HUklEXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWdyaWRfc3RlcF90YWJsZS5wdXNoKFtzdHJzWzFdLCBzdHJzWzJdLCBzdHJzWzNdLCBzdHJzWzRdXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJMR1JJRFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxncmlkX3N0ZXBfdGFibGUucHVzaChbc3Ryc1sxXSwgc3Ryc1syXSwgc3Ryc1szXSwgc3Ryc1s0XV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiQURKXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmF3X2FkanVzdF9yZWNvcmQucHVzaChbc3Ryc1sxXSwgc3Ryc1syXSwgc3Ryc1szXSwgc3Ryc1s0XSwgc3Ryc1s1XV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJWSUVXXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGk9MTsgaSA8IHN0cnMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cnNbaV0udHJpbSgpLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yY2Vfdmlld19ncmlkX2xpc3QucHVzaChzdHJzW2ldLnRyaW0oKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIkNUUkxcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0xOyBpPHN0cnMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cnNbaV0udHJpbSgpID09IFwiREVCVUdcIilcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNfZGVidWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryc1tpXS50cmltKCkgPT0gXCJQQVVTRVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc19wYXVzZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJzW2ldLnRyaW0oKSA9PSBcIkNMRUFSXCIpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzX2NsZWFyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cnNbaV0udHJpbSgpID09IFwiQ0FOQ0VMXCIpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzX2NhbmNlbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiSElTVFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryc1sxXSA9PSBcIlJBTkdFXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdFRyYWRpbmdPdmVydmlldygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zdG9ja19vdmVydmlldyA9IFtHUklEX0NPTE9SX1NUT0NLX09WRVJWSUVXLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spLCB0aGlzLnN0b2NrX25hbWUsIHRoaXMudGFyZ2V0X3ByaWNlLnRvRml4ZWQoMyksIHRoaXMuY3VycmVudF9wcmljZS50b0ZpeGVkKDMpLFxyXG4gICAgICAgICAgICAgICAgVG9QZXJjZW50KHRoaXMuY3VycmVudF9wcmljZSAvIHRoaXMudGFyZ2V0X3ByaWNlLCAxKSwgU3RyaW5nKHRoaXMudG90YWxfaG9sZCksIFN0cmluZyh0aGlzLnRvdGFsX2Nvc3QpLFxyXG4gICAgICAgICAgICAgICAgVG9UcmFkaW5nR2FwKHRoaXMudG90YWxfY29zdCwgdGhpcy50b3RhbF9ob2xkICogdGhpcy5jdXJyZW50X3ByaWNlLCAyKSwgdGhpcy50cmFkaW5nX2luY29tZVs1XVsxMF1dO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfYnV5X292ZXJ2aWV3ID0gW107XHJcbiAgICAgICAgaWYgKHRoaXMuYnV5X21vbml0b3Jfcm93cy5sZW5ndGggPiAwICYmICEodGhpcy5pc19wYXVzZSB8fCB0aGlzLmlzX2NsZWFyIHx8IHRoaXMuaXNfY2FuY2VsKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5idXlfbW9uaXRvcl9yb3dzLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMuYnV5X21vbml0b3Jfcm93c1tpZHhdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhZGluZ19nYXAgPSBUb1RyYWRpbmdHYXAodGhpcy5jdXJyZW50X3ByaWNlLCBOdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bM10pLCAyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfYnV5X292ZXJ2aWV3LnB1c2goW0dSSURfQ09MT1JfQlVZX09WRVJWSUVXLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spLCB0aGlzLnN0b2NrX25hbWUsIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzBdLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bMl0sIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzNdLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs0XSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bNV0sIHRyYWRpbmdfZ2FwXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3RvY2tfc2VsbF9vdmVydmlldyA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLmxlbmd0aCA+IDAgJiYgISh0aGlzLmlzX2NsZWFyIHx8IHRoaXMuaXNfY2FuY2VsKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5zZWxsX21vbml0b3Jfcm93cy5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzW2lkeF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFkaW5nX2dhcCA9IFRvVHJhZGluZ0dhcCh0aGlzLmN1cnJlbnRfcHJpY2UsIE51bWJlcih0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs3XSksIDIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9ja19zZWxsX292ZXJ2aWV3LnB1c2goW0dSSURfQ09MT1JfU0VMTF9PVkVSVklFVywgU3RyaW5nKHRoaXMudGFyZ2V0X3N0b2NrKSwgdGhpcy5zdG9ja19uYW1lLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVswXSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzZdLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs3XSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bOF0sIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzldLCB0cmFkaW5nX2dhcF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnN0b2NrX2FjdGl2ZV9maWxsZWRfcmVjb3JkLmxlbmd0aCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBcIlx1NjgwN1x1NzY4NFx1NTQwRFx1NzlGMFwiLCBcIlx1N0Y1MVx1NjgzQ1x1NzlDRFx1N0M3QlwiLCBcIlx1NEVBNFx1NjYxM1x1NjVFNVx1NjcxRlwiLCBcIlx1NEU3MFx1NTE2NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGRFx1NjU3MFwiLCBcIlx1NEU3MFx1NTE2NVx1OTFEMVx1OTg5RFwiLCBcIlx1NUY1M1x1NTI0RFx1NEVGN1x1NjgzQ1wiLCBcIlx1NjMwMVx1NEVEM1x1NjUzNlx1NzZDQVwiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGRFx1NjU3MFwiLCBcIlx1N0QyRlx1NzlFRlx1N0I3OVx1NzgwMVwiXHJcbiAgICAgICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5zdG9ja19hY3RpdmVfZmlsbGVkX3JlY29yZC5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLnN0b2NrX2FjdGl2ZV9maWxsZWRfcmVjb3JkW2lkeF07XHJcbiAgICAgICAgICAgICAgICByb3dbOF0gPSBTdHJpbmcodGhpcy5jdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgIHJvd1s5XSA9IFRvVHJhZGluZ0dhcChOdW1iZXIocm93WzVdKSwgdGhpcy5jdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgIHJvd1sxMF0gPSBTdHJpbmcoTXlDZWlsKE51bWJlcihyb3dbN10pIC8gdGhpcy5jdXJyZW50X3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKSk7XHJcbiAgICAgICAgICAgICAgICByb3dbMTFdID0gU3RyaW5nKE51bWJlcihyb3dbNl0pIC0gTnVtYmVyKHJvd1sxMF0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RvY2tfcGFzc2l2ZV9maWxsZWRfcmVjb3JkLmxlbmd0aCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBcIlx1NjgwN1x1NzY4NFx1NTQwRFx1NzlGMFwiLCBcIlx1N0Y1MVx1NjgzQ1x1NzlDRFx1N0M3QlwiLCBcIlx1NEVGN1x1NjgzQ1x1Njg2M1x1NEY0RFwiLCBcIlx1NEU3MFx1NTE2NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGRFx1NjU3MFwiLCBcIlx1NEU3MFx1NTE2NVx1OTFEMVx1OTg5RFwiLCBcIlx1NUY1M1x1NTI0RFx1NEVGN1x1NjgzQ1wiLCBcIlx1NUY1M1x1NTI0RFx1OERDQ1x1NUU0NVwiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGN1x1NjgzQ1wiLCBcIlx1NTM1Nlx1NTFGQVx1NkRBOFx1NUU0NVwiXHJcbiAgICAgICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5zdG9ja19wYXNzaXZlX2ZpbGxlZF9yZWNvcmQubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5zdG9ja19wYXNzaXZlX2ZpbGxlZF9yZWNvcmRbaWR4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyaWRfcm93ID0gdGhpcy5GaW5kVHJhZGluZ0dyaWRSb3cocm93WzNdKTtcclxuICAgICAgICAgICAgICAgIGlmIChncmlkX3Jvdy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1szXSA9IGdyaWRfcm93WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1s0XSA9IGdyaWRfcm93WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1s1XSA9IGdyaWRfcm93WzNdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1s2XSA9IGdyaWRfcm93WzRdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1s3XSA9IGdyaWRfcm93WzVdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1s4XSA9IFN0cmluZyh0aGlzLmN1cnJlbnRfcHJpY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1s5XSA9IFRvVHJhZGluZ0dhcChOdW1iZXIocm93WzVdKSwgdGhpcy5jdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICByb3dbMTBdID0gZ3JpZF9yb3dbN107XHJcbiAgICAgICAgICAgICAgICAgICAgcm93WzExXSA9IFRvVHJhZGluZ0dhcCh0aGlzLmN1cnJlbnRfcHJpY2UsIE51bWJlcihyb3dbMTBdKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdFN0b2NrVGFibGUoKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFx1NjcwMFx1OUFEOFx1NTM1Nlx1NTFGQVx1NEVGN1x1NEUzQVx1NkUwNVx1N0Y1MVx1NEVGN1xyXG4gICAgICAgIHRoaXMuZW1wdHlfcHJpY2UgPSBGaXhlZFByaWNlKHRoaXMudGFyZ2V0X3ByaWNlLCAxLjAgKyB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1QsIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTik7XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeDx0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChOdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW2lkeF1bN10pID4gdGhpcy5lbXB0eV9wcmljZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbXB0eV9wcmljZSA9IE51bWJlcih0aGlzLnRyYWRpbmdfdGFibGVbaWR4XVs3XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gXHU2RTA1XHU0RUQzXHU1RTczXHU1NzQ3XHU0RUY3XHU0RTBFXHU2RTA1XHU0RUQzXHU2NzAwXHU5QUQ4XHU0RUY3XHJcbiAgICAgICAgY29uc3QgY2xlYXJfcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLkNMRUFSX1NURVBfUENUO1xyXG4gICAgICAgIHRoaXMuY2xlYXJfYXZnX3ByaWNlID0gTnVtYmVyKCgodGhpcy5DYWxjQ2xlYXJQcmljZShjbGVhcl9wY3QsIDEpICsgdGhpcy5DYWxjQ2xlYXJQcmljZShjbGVhcl9wY3QsIDIpICsgdGhpcy5DYWxjQ2xlYXJQcmljZShjbGVhcl9wY3QsIDMpKSAvIDMpLnRvRml4ZWQodGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OKSk7XHJcbiAgICAgICAgdGhpcy5jbGVhcl9wcmljZSA9IHRoaXMuQ2FsY0NsZWFyUHJpY2UoY2xlYXJfcGN0LCAzKTtcclxuICAgICAgICBjb25zdCBtaW5pX3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTklNVU1fQlVZX1BDVCwgdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OKTtcclxuICAgICAgICBjb25zdCBib3R0b21fcHJpY2UgPSBGaXhlZFByaWNlKHRoaXMudGFyZ2V0X3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuQk9UVE9NX0JVWV9QQ1QsIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTik7XHJcbiAgICAgICAgdGhpcy5zdG9ja190YWJsZSA9IFtcclxuICAgICAgICAgICAgW1wiXHU2ODA3XHU3Njg0XHU0RUUzXHU1M0Y3XCIsIFN0cmluZyh0aGlzLnRhcmdldF9zdG9jayldLFxyXG4gICAgICAgICAgICBbXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgdGhpcy5zdG9ja19uYW1lXSxcclxuICAgICAgICAgICAgW1wiXHU3RjUxXHU2ODNDXHU2QTIxXHU1RjBGXCIsIHRoaXMubW9kZV90eXBlXSxcclxuICAgICAgICAgICAgW1wiXHU5OTk2XHU3RjUxXHU0RUY3XHU2ODNDXCIsIFN0cmluZyh0aGlzLnRhcmdldF9wcmljZSldLFxyXG4gICAgICAgICAgICBbXCJcdTVGNTNcdTUyNERcdTRFRjdcdTY4M0NcIiwgU3RyaW5nKHRoaXMuY3VycmVudF9wcmljZSksIFwiXHU0RUY3XHU2ODNDXHU3NjdFXHU1MjA2XHU0RjREXCIsIFRvUGVyY2VudCh0aGlzLmN1cnJlbnRfcHJpY2UgLyB0aGlzLnRhcmdldF9wcmljZSwgMSldLFxyXG4gICAgICAgICAgICBbXCJcdTU2REVcdThDMDNcdTRFRjdcdTY4M0NcIiwgU3RyaW5nKGJvdHRvbV9wcmljZSksIFwiXHU0RUY3XHU2ODNDXHU3NjdFXHU1MjA2XHU0RjREXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuQk9UVE9NX0JVWV9QQ1QsIDEpXSxcclxuICAgICAgICAgICAgW1wiXHU2NzAwXHU0RjRFXHU0RUY3XHU2ODNDXCIsIFN0cmluZyhtaW5pX3ByaWNlKSwgXCJcdTRFRjdcdTY4M0NcdTc2N0VcdTUyMDZcdTRGNERcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5JTVVNX0JVWV9QQ1QsIDEpXSxcclxuICAgICAgICAgICAgW1wiXHU1MDVDXHU2ODNDXHU4RENDXHU1RTQ1XCIsIFRvVHJhZGluZ0dhcCh0aGlzLmN1cnJlbnRfcHJpY2UsIG1pbmlfcHJpY2UpLCBcIlx1NkUwNVx1NjgzQ1x1NkRBOFx1NUU0NVwiLCBUb1RyYWRpbmdHYXAodGhpcy5jdXJyZW50X3ByaWNlLCB0aGlzLmVtcHR5X3ByaWNlLCAxKV0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICAvLyBcdTU4OUVcdTUyQTBcdTVGM0FcdTUyMzZcdTc2RDFcdTYzQTdcdTdGNTFcdTY4M0NcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMuZm9yY2Vfdmlld19ncmlkX2xpc3QubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMuRmluZFRyYWRpbmdHcmlkUm93SW5kZXgodGhpcy5mb3JjZV92aWV3X2dyaWRfbGlzdFtpZHhdKTtcclxuICAgICAgICAgICAgaWYgKHJvdyA8IDAgfHwgdGhpcy5idXlfbW9uaXRvcl9yb3dzLmluY2x1ZGVzKHJvdykpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKHJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEluaXRHcmlkUGFyYW0oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucGFyYW1fdGFibGUgPSBbXHJcbiAgICAgICAgICAgIFtcIlx1OTk5Nlx1N0Y1MVx1NzZFRVx1NjgwN1x1OTFEMVx1OTg5RFwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLk9ORV9HUklEX0xJTUlUKSwgXCJcdTY3MDBcdTU5MjdcdTU2REVcdTY0QTRcdTUwM0NcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKSwgXCJcdTY3MDBcdTU5MjdcdTZEQThcdThEQ0NcdTVFNDVcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QpXSxcclxuICAgICAgICAgICAgW1wiXHU4OUU2XHU1M0QxXHU0RUY3XHU1MkEwXHU3MEI5XCIsIFN0cmluZyh0aGlzLmdyaWRfc2V0dGluZ3MuVFJJR0dFUl9BRERfUE9JTlQpLCBcIlx1NkJDRlx1NjI0Qlx1NEVGRFx1NjU3MFx1OTg5RFwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLk1JTl9CQVRDSF9DT1VOVCksIFwiXHU0RUE0XHU2NjEzXHU0RUY3XHU3Q0JFXHU1RUE2XCIsIFN0cmluZyh0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT04pXSxcclxuICAgICAgICAgICAgW1wiXHU1QzBGXHU3RjUxXHU2QjY1XHU4RkRCXHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1QpLCBcIlx1NEUyRFx1N0Y1MVx1NkI2NVx1OEZEQlx1NTAzQ1wiLCBUb1BlcmNlbnQodGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1NURVBfUENUKSwgXCJcdTU5MjdcdTdGNTFcdTZCNjVcdThGREJcdTUwM0NcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCldLFxyXG4gICAgICAgICAgICBbXCJcdTYyOTVcdTUxNjVcdThGRkRcdTUyQTBcdTUwM0NcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9BRERfUENUKSwgXCJcdTYyOTVcdTUxNjVcdThGRkRcdTUyQTBcdTUwM0NcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9BRERfUENUKSwgXCJcdTYyOTVcdTUxNjVcdThGRkRcdTUyQTBcdTUwM0NcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9BRERfUENUKV0sXHJcbiAgICAgICAgICAgIFtcIlx1NEZERFx1NzU1OVx1NTIyOVx1NkRBNlx1NjU3MFwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1JFVEFJTl9DT1VOVCksIFwiXHU0RkREXHU3NTU5XHU1MjI5XHU2REE2XHU2NTcwXCIsIFN0cmluZyh0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfUkVUQUlOX0NPVU5UKSwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIiwgU3RyaW5nKHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9SRVRBSU5fQ09VTlQpXSxcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIEluaXRUcmFkaW5nQW5hbHlzaXMoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHByaWNlID0gdGhpcy50YXJnZXRfcHJpY2U7XHJcbiAgICAgICAgY29uc3QgcmlzZV9wY3QgPSB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1Q7XHJcbiAgICAgICAgY29uc3QgdGFibGU6QXJyYXk8QXJyYXk8c3RyaW5nPj4gPSB0aGlzLnRyYWRpbmdfdGFibGU7XHJcbiAgICAgICAgZnVuY3Rpb24gQW5hbHlzaXMoc2x1bXBfcGN0OiBudW1iZXIpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHRvdGFsX2Nvc3QgPSAwO1xyXG4gICAgICAgICAgICBsZXQgdG90YWxfYW1vdW50ID0gMDtcclxuICAgICAgICAgICAgbGV0IHRvdGFsX3NlbGwgPSAwO1xyXG4gICAgICAgICAgICBsZXQgdG90YWxfZ2FpbiA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbl9wcmljZSA9IHByaWNlICogKDEgLSBzbHVtcF9wY3QpO1xyXG4gICAgICAgICAgICBjb25zdCBtYXhfcHJpY2UgPSBwcmljZSAqICgxICsgcmlzZV9wY3QpO1xyXG5cclxuICAgICAgICAgICAgdGFibGUuZm9yRWFjaCgocm93OkFycmF5PHN0cmluZz4sIGk6bnVtYmVyKSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDAgJiYgVG9OdW1iZXIocm93WzFdKSA+PSAxLjAgLSBzbHVtcF9wY3QpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfY29zdCA9IHRvdGFsX2Nvc3QgKyBOdW1iZXIocm93WzVdKTtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbF9hbW91bnQgPSB0b3RhbF9hbW91bnQgKyBOdW1iZXIocm93WzRdKTtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbF9nYWluID0gdG90YWxfZ2FpbiArIE51bWJlcihyb3dbOV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX3NlbGwgPSB0b3RhbF9zZWxsICsgTnVtYmVyKHJvd1s4XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBjb3N0X3ByaWNlID0gKHRvdGFsX2Nvc3QgLSB0b3RhbF9nYWluKSAvICh0b3RhbF9hbW91bnQgLSB0b3RhbF9zZWxsKTtcclxuICAgICAgICAgICAgY29uc3QgZ2Fpbl9tb25leSA9IE1hdGguZmxvb3IobWF4X3ByaWNlICogKHRvdGFsX2Ftb3VudCAtIHRvdGFsX3NlbGwpIC0gKHRvdGFsX2Nvc3QgLSB0b3RhbF9nYWluKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBbVG9QZXJjZW50KHNsdW1wX3BjdCkgKyBcIihcIiArIG1pbl9wcmljZS50b0ZpeGVkKDMpICsgXCIpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHRvdGFsX2Nvc3QpLCBTdHJpbmcodG90YWxfYW1vdW50KSwgU3RyaW5nKE1hdGguY2VpbCh0b3RhbF9hbW91bnQgKiBtaW5fcHJpY2UpKSxcclxuICAgICAgICAgICAgICAgICAgICAodG90YWxfY29zdC90b3RhbF9hbW91bnQpLnRvRml4ZWQoMyksIFN0cmluZyhNYXRoLmNlaWwodG90YWxfY29zdCAtIHRvdGFsX2Ftb3VudCAqIG1pbl9wcmljZSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICgodG90YWxfY29zdCAtIHRvdGFsX2Ftb3VudCAqIG1pbl9wcmljZSkgLyB0b3RhbF9jb3N0ICogMTAwKS50b0ZpeGVkKDIpICsgXCIlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgKCh0b3RhbF9jb3N0IC8gdG90YWxfYW1vdW50IC0gbWluX3ByaWNlKSAvIG1pbl9wcmljZSAqIDEwMCkudG9GaXhlZCgyKSArIFwiJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyh0b3RhbF9hbW91bnQgLSB0b3RhbF9zZWxsKSwgU3RyaW5nKE1hdGguZmxvb3IobWF4X3ByaWNlICogKHRvdGFsX2Ftb3VudCAtIHRvdGFsX3NlbGwpKSksIFN0cmluZyh0b3RhbF9jb3N0IC0gdG90YWxfZ2FpbiksXHJcbiAgICAgICAgICAgICAgICAgICAgY29zdF9wcmljZS50b0ZpeGVkKDMpLCAoKG1heF9wcmljZSAtIGNvc3RfcHJpY2UpIC8gY29zdF9wcmljZSAqIDEwMCkudG9GaXhlZCgyKSArIFwiJVwiLCBTdHJpbmcoZ2Fpbl9tb25leSksIChnYWluX21vbmV5IC8gdG90YWxfY29zdCAqIDEwMCkudG9GaXhlZCgyKSArIFwiJVwiXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHJhZGluZ19hbmFseXNpcyA9IFtcclxuICAgICAgICAgICAgW1wiXHU0RThGXHU2MzVGXHU1MjA2XHU2NzkwXCIsIFwiXHU1NkRFXHU2NEE0XHU2QkQ0XHU0RjhCXCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTYyOTVcdTUxNjVcdThENDRcdTkxRDFcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NjMwMVx1NEVEM1x1NEVGRFx1OTg5RFwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2MzAxXHU0RUQzXHU5MUQxXHU5ODlEXCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTYzMDFcdTRFRDNcdTYyMTBcdTY3MkNcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NEU4Rlx1NjM1Rlx1OTFEMVx1OTg5RFwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU0RThGXHU2MzVGXHU2QkQ0XHU0RjhCXCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTYyNDBcdTk3MDBcdTZEQThcdTVFNDVcIl0sXHJcbiAgICAgICAgICAgIFtcIlx1NTNDRFx1NUYzOVx1NzZDOFx1NTIyOVwiLCBcIlx1NjMwMVx1NEVEM1x1NEVGRFx1OTg5RFwiXSxcclxuICAgICAgICAgICAgWyhwcmljZSAqICgxICsgcmlzZV9wY3QpKS50b0ZpeGVkKDMpLCBcIlx1NjMwMVx1NEVEM1x1OTFEMVx1OTg5RFwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU1MzYwXHU3NTI4XHU2NzJDXHU5MUQxXCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTYzMDFcdTRFRDNcdTYyMTBcdTY3MkNcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NkQ2RVx1NzZDOFx1NkJENFx1NEY4QlwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU3RjUxXHU2ODNDXHU3NkM4XHU1MjI5XCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTYwM0JcdTZENkVcdTc2QzhcdTZCRDRcIl0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2x1bXBfcGN0czogbnVtYmVyIFtdID0gWzIwLCAzMCwgNDAsIDUwLCA2MCwgNzAsIDgwXTtcclxuICAgICAgICBmb3IgKGNvbnN0IHBjdCBvZiBzbHVtcF9wY3RzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gQW5hbHlzaXMocGN0IC8gMTAwLjApO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHJlc3VsdC5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfYW5hbHlzaXNbaWR4XS5wdXNoKHJlc3VsdFtpZHhdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBJbml0VHJhZGluZ1JlY29yZCgpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gXHU4QzAzXHU2NTc0XHU4QkIwXHU1RjU1XHJcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xyXG4gICAgICAgIGxldCBhZGp1c3RfcHJpY2UgPSAwO1xyXG4gICAgICAgIGxldCBhZGp1c3RfY291bnQgPSAwO1xyXG4gICAgICAgIGxldCBhZGp1c3RfY29zdCA9IDA7XHJcbiAgICAgICAgdGhpcy5hZGp1c3RfcmVjb3JkID0gW1tcIlx1OEMwM1x1NjU3NFx1NjVFNVx1NjcxRlwiLCBcIlx1OEMwM1x1NjU3NFx1N0M3Qlx1NTc4QlwiLCBcIlx1OEMwM1x1NjU3NFx1NTE4NVx1NUJCOVwiLFwiXHU0RUE0XHU2NjEzXHU0RUY3XHU2ODNDXCIsIFwiXHU0RUE0XHU2NjEzXHU4MEExXHU2NTcwXCIsIFwiXHU2RDg4XHU4MDE3XHU2NzJDXHU5MUQxXCJdXTtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMucmF3X2FkanVzdF9yZWNvcmQubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChJc051bWVyaWModGhpcy5yYXdfYWRqdXN0X3JlY29yZFtpZHhdWzNdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYWRqdXN0X3ByaWNlID0gTnVtYmVyKHRoaXMucmF3X2FkanVzdF9yZWNvcmRbaWR4XVszXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBhZGp1c3RfcHJpY2UgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChJc051bWVyaWModGhpcy5yYXdfYWRqdXN0X3JlY29yZFtpZHhdWzRdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYWRqdXN0X2NvdW50ID0gTnVtYmVyKHRoaXMucmF3X2FkanVzdF9yZWNvcmRbaWR4XVs0XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBhZGp1c3RfY291bnQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFkanVzdF9jb3N0ID0gTWF0aC5jZWlsKGFkanVzdF9wcmljZSAqIGFkanVzdF9jb3VudCk7XHJcbiAgICAgICAgICAgIGlmIChhZGp1c3RfY29zdCA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0X3JlY29yZC5wdXNoKFt0aGlzLnJhd19hZGp1c3RfcmVjb3JkW2lkeF1bMF0sIHRoaXMucmF3X2FkanVzdF9yZWNvcmRbaWR4XVsxXSwgdGhpcy5yYXdfYWRqdXN0X3JlY29yZFtpZHhdWzJdLCBhZGp1c3RfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLCBTdHJpbmcoYWRqdXN0X2NvdW50KSwgU3RyaW5nKGFkanVzdF9jb3N0KV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGp1c3RfcmVjb3JkLnB1c2goW3RoaXMucmF3X2FkanVzdF9yZWNvcmRbaWR4XVswXSwgdGhpcy5yYXdfYWRqdXN0X3JlY29yZFtpZHhdWzFdLCB0aGlzLnJhd19hZGp1c3RfcmVjb3JkW2lkeF1bMl0sIFwiLVwiLCBcIi1cIiwgXCItXCJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBcdTRFQTRcdTY2MTNcdThCQjBcdTVGNTVcclxuICAgICAgICB0aGlzLnRvdGFsX3JldGFpbiA9IDA7XHJcbiAgICAgICAgdGhpcy5yZXRhaW5fY29zdCA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbF9jb3N0ID0gMDtcclxuICAgICAgICB0aGlzLnRvdGFsX2hvbGQgPSAwO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQgPSBbW1wiXHU0RUE0XHU2NjEzXHU2NUI5XHU1NDExXCIsIFwiXHU0RUE0XHU2NjEzXHU2NUU1XHU2NzFGXCIsIFwiXHU3RjUxXHU2ODNDXHU3QzdCXHU1NzhCXCIsIFwiXHU0RUE0XHU2NjEzXHU0RUY3XHU2ODNDXCIsIFwiXHU0RUE0XHU2NjEzXHU4MEExXHU2NTcwXCIsIFwiXHU2RDg4XHU4MDE3XHU2NzJDXHU5MUQxXCIsIFwiXHU3RDJGXHU3OUVGXHU3Qjc5XHU3ODAxXCIsIFwiXHU2MzAxXHU0RUQzXHU2NUY2XHU5NTdGXCJdXTtcclxuICAgICAgICB0aGlzLnN0b2NrX3Bhc3NpdmVfZmlsbGVkX3JlY29yZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfYWN0aXZlX2ZpbGxlZF9yZWNvcmQgPSBbXTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfcmVjb3JkID0gW107XHJcbiAgICAgICAgbGV0IHJhd19yZWNvcmQgPSBbLi4uIHRoaXMucmF3X3RyYWRpbmdfcmVjb3JkXTtcclxuICAgICAgICBsZXQgY3Vyc29yID0gMDtcclxuICAgICAgICBsZXQgcmV0YWluX3NlbGwgPSAwO1xyXG4gICAgICAgIHdoaWxlIChjdXJzb3IgPCByYXdfcmVjb3JkLmxlbmd0aClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChyYXdfcmVjb3JkW2N1cnNvcl1bMF0gPT0gXCJCVVlcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNjdXJzb3IgPSAtMTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeD1jdXJzb3I7IGlkeDxyYXdfcmVjb3JkLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbaWR4XVswXSA9PSBcIlNFTExcIiAmJiByYXdfcmVjb3JkW2lkeF1bMl0gPT0gcmF3X3JlY29yZFtjdXJzb3JdWzJdKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2N1cnNvciA9IGlkeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHNjdXJzb3IgPj0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBcdThCQTFcdTdCOTdcdTRGRERcdTc1NTlcdTRFRkRcdTY1NzAvXHU1MzYwXHU3NTI4XHU2NzJDXHU5MUQxL1x1NjMwMVx1NEVEM1x1NjVGNlx1OTVGNFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldGFpbl9jb3VudCA9IE1hdGguZmxvb3IoTnVtYmVyKHJhd19yZWNvcmRbY3Vyc29yXVs0XSkgLSBOdW1iZXIocmF3X3JlY29yZFtzY3Vyc29yXVs0XSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvc3RfY291bnQgPSBNYXRoLmZsb29yKE51bWJlcihyYXdfcmVjb3JkW2N1cnNvcl1bM10pICogTnVtYmVyKHJhd19yZWNvcmRbY3Vyc29yXVs0XSkgLSBOdW1iZXIocmF3X3JlY29yZFtzY3Vyc29yXVszXSkgKiBOdW1iZXIocmF3X3JlY29yZFtzY3Vyc29yXVs0XSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVfZCA9IFRpbWVEdWFyaW9uKHJhd19yZWNvcmRbY3Vyc29yXVsxXSwgcmF3X3JlY29yZFtzY3Vyc29yXVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbF9yZXRhaW4gPSB0aGlzLnRvdGFsX3JldGFpbiArIHJldGFpbl9jb3VudDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJldGFpbl9jb3N0ID0gdGhpcy5yZXRhaW5fY29zdCArIGNvc3RfY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gXHU4QkIwXHU1RjU1XHU2MjEwXHU1QkY5XHU3Njg0XHU0RTcwXHU1MzU2XHU4QkIwXHU1RjU1XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtyYXdfcmVjb3JkW2N1cnNvcl1bMF0sIHJhd19yZWNvcmRbY3Vyc29yXVsxXSwgcmF3X3JlY29yZFtjdXJzb3JdWzJdLCByYXdfcmVjb3JkW2N1cnNvcl1bM10sIHJhd19yZWNvcmRbY3Vyc29yXVs0XSwgU3RyaW5nKGNvc3RfY291bnQpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtyYXdfcmVjb3JkW3NjdXJzb3JdWzBdLCByYXdfcmVjb3JkW3NjdXJzb3JdWzFdLCByYXdfcmVjb3JkW3NjdXJzb3JdWzJdLCByYXdfcmVjb3JkW3NjdXJzb3JdWzNdLCByYXdfcmVjb3JkW3NjdXJzb3JdWzRdLCBcIi0tXCIsIFN0cmluZyhyZXRhaW5fY291bnQpLCBTdHJpbmcodGltZV9kKStcIlx1NTkyOVwiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF3X3JlY29yZC5zcGxpY2UoY3Vyc29yLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICByYXdfcmVjb3JkLnNwbGljZShzY3Vyc29yIC0gMSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3IrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHJhd19yZWNvcmQubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChyYXdfcmVjb3JkW2lkeF1bMF0gPT0gXCJCVVlcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29zdF9jb3VudCA9IE1hdGguZmxvb3IoTnVtYmVyKHJhd19yZWNvcmRbaWR4XVszXSkgKiBOdW1iZXIocmF3X3JlY29yZFtpZHhdWzRdKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfcmVjb3JkLnB1c2goW3Jhd19yZWNvcmRbaWR4XVswXSwgcmF3X3JlY29yZFtpZHhdWzFdLCByYXdfcmVjb3JkW2lkeF1bMl0sIHJhd19yZWNvcmRbaWR4XVszXSwgcmF3X3JlY29yZFtpZHhdWzRdLCBTdHJpbmcoY29zdF9jb3VudCldKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG90YWxfY29zdCA9IHRoaXMudG90YWxfY29zdCArIGNvc3RfY291bnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKHJhd19yZWNvcmRbaWR4XVszXSkgPiAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxfaG9sZCA9IHRoaXMudG90YWxfaG9sZCArIE51bWJlcihyYXdfcmVjb3JkW2lkeF1bNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG9sZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtpZHhdWzBdLCByYXdfcmVjb3JkW2lkeF1bMV0sIHJhd19yZWNvcmRbaWR4XVsyXSwgcmF3X3JlY29yZFtpZHhdWzNdLCByYXdfcmVjb3JkW2lkeF1bNF1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIocmF3X3JlY29yZFtpZHhdWzNdKSA9PSAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfcGFzc2l2ZV9maWxsZWRfcmVjb3JkLnB1c2goW0dSSURfQ09MT1JfQlVZX09WRVJWSUVXLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spLCB0aGlzLnN0b2NrX25hbWUsIHJhd19yZWNvcmRbaWR4XVsyXSwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmF3X3JlY29yZFtpZHhdWzJdLnN0YXJ0c1dpdGgoXCJcdTg4NjVcdTRFRDNcIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19hY3RpdmVfZmlsbGVkX3JlY29yZC5wdXNoKFtHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcsIFN0cmluZyh0aGlzLnRhcmdldF9zdG9jayksIHRoaXMuc3RvY2tfbmFtZSwgcmF3X3JlY29yZFtpZHhdWzJdLCByYXdfcmVjb3JkW2lkeF1bMV0sIHJhd19yZWNvcmRbaWR4XVszXSwgcmF3X3JlY29yZFtpZHhdWzRdLCBTdHJpbmcoY29zdF9jb3VudCksIFwiXCIsIFwiXCIsIFwiXCJdKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbaWR4XVswXSA9PSBcIlNIQVJFXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbaWR4XVsyXSA9PSBcIlx1N0VBMlx1NTIyOVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2Fpbl9jb3VudCA9IE1hdGguZmxvb3IoTnVtYmVyKHJhd19yZWNvcmRbaWR4XVszXSkgKiBOdW1iZXIocmF3X3JlY29yZFtpZHhdWzRdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtpZHhdWzBdLCByYXdfcmVjb3JkW2lkeF1bMV0sIHJhd19yZWNvcmRbaWR4XVsyXSwgcmF3X3JlY29yZFtpZHhdWzNdLCByYXdfcmVjb3JkW2lkeF1bNF0sIFwiLVwiICsgU3RyaW5nKGdhaW5fY291bnQpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV0YWluX2Nvc3QgPSB0aGlzLnJldGFpbl9jb3N0IC0gZ2Fpbl9jb3VudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbaWR4XVsyXSA9PSBcIlx1NjJDNlx1ODBBMVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtyYXdfcmVjb3JkW2lkeF1bMF0sIHJhd19yZWNvcmRbaWR4XVsxXSwgcmF3X3JlY29yZFtpZHhdWzJdLCByYXdfcmVjb3JkW2lkeF1bM10sIHJhd19yZWNvcmRbaWR4XVs0XSwgXCItLVwiLCByYXdfcmVjb3JkW2lkeF1bNF1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbF9yZXRhaW4gPSB0aGlzLnRvdGFsX3JldGFpbiArIE51bWJlcihyYXdfcmVjb3JkW2lkeF1bNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmF3X3JlY29yZFtpZHhdWzBdID09IFwiU0VMTFwiICYmIHJhd19yZWNvcmRbaWR4XVsyXS5zdGFydHNXaXRoKFwiXHU1MjI5XHU2REE2XCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbF9yZXRhaW4gPSB0aGlzLnRvdGFsX3JldGFpbiAtIE51bWJlcihyYXdfcmVjb3JkW2lkeF1bNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldGFpbl9jb3N0ID0gdGhpcy5yZXRhaW5fY29zdCAtIE51bWJlcihyYXdfcmVjb3JkW2lkeF1bM10pICogTnVtYmVyKHJhd19yZWNvcmRbaWR4XVs0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldGFpbl9zZWxsID0gcmV0YWluX3NlbGwgKyBOdW1iZXIocmF3X3JlY29yZFtpZHhdWzRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGxfY291bnQgPSB0aGlzLmNsZWFyX3NlbGxfcmVjb3JkLmdldChyYXdfcmVjb3JkW2lkeF1bMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsbF9jb3VudCA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxfY291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJfc2VsbF9yZWNvcmQuc2V0KHJhd19yZWNvcmRbaWR4XVsyXSwgc2VsbF9jb3VudCArIE51bWJlcihyYXdfcmVjb3JkW2lkeF1bNF0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtyYXdfcmVjb3JkW2lkeF1bMF0sIHJhd19yZWNvcmRbaWR4XVsxXSwgcmF3X3JlY29yZFtpZHhdWzJdLCByYXdfcmVjb3JkW2lkeF1bM10sIHJhd19yZWNvcmRbaWR4XVs0XV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudG90YWxfaG9sZCA9IHRoaXMudG90YWxfaG9sZCArIHRoaXMudG90YWxfcmV0YWluO1xyXG4gICAgICAgIHRoaXMudG90YWxfY29zdCA9IHRoaXMudG90YWxfY29zdCArIHRoaXMucmV0YWluX2Nvc3Q7XHJcbiAgICAgICAgaWYgKHRoaXMudG90YWxfY29zdCAhPSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtcIkNvc3RcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgU3RyaW5nKHRoaXMudG90YWxfY29zdCksIFwiXCIsIFwiXCJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudG90YWxfcmV0YWluICA8PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudG90YWxfaG9sZCA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbXCJSZXRhaW5cIiwgXCJcIiwgXCJcIiwgXCJcIiwgU3RyaW5nKHRoaXMudG90YWxfaG9sZCksIFwiXCIsICBcIjBcIiwgXCJcIl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtcIlJldGFpblwiLCBcIlwiLCBcIlwiLCBcIlwiLCBTdHJpbmcodGhpcy50b3RhbF9ob2xkKSwgXCJcIiwgIFN0cmluZyh0aGlzLnRvdGFsX3JldGFpbiksIFwiXCJdKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50X3BjdCA9IE15Q2VpbCh0aGlzLmN1cnJlbnRfcHJpY2UgLyB0aGlzLnRhcmdldF9wcmljZSwgMC4wMDEpO1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4PTE7IGluZGV4PD0zOyBpbmRleCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5HZW5lcmF0ZUNsZWFyUm93KFBFUkZJVF9UWVBFX05BTUVfU1RSLCBpbmRleCwgdGhpcy5ncmlkX3NldHRpbmdzLkNMRUFSX1NURVBfUENULCBNeUZsb29yKCh0aGlzLnRvdGFsX3JldGFpbiArIHJldGFpbl9zZWxsKSAvIDMsIDEwMCkpO1xyXG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGUucHVzaChyb3cpO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudF9wY3QgKyB0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1JJU0VfUENUID49IFRvTnVtYmVyKHJvd1sxXSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaCh0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2godGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBJbml0VHJhZGluZ0luY29tZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy50cmFkaW5nX2luY29tZSA9IFtdO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ19pbmNvbWUucHVzaChbXCJcIiwgXCJcdTYzMDFcdTRFRDNcdTgwQTFcdTY1NzBcIiwgXCJcdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDFcIiwgXCJcdTYzMDFcdTRFRDNcdTkxRDFcdTk4OURcIiwgXCJcdTYzMDFcdTRFRDNcdTU3NDdcdTRFRjdcIiwgXCJcdTVCOUVcdTk2NDVcdTRFRjdcdTY4M0NcIiwgXCJcdTYzMDFcdTRFRDNcdTc2QzhcdTRFOEZcIiwgXCJcdTYyOTVcdTUxNjVcdThENDRcdTkxRDFcIiwgXCJcdThEMjZcdTk3NjJcdThENDRcdTkxRDFcIiwgXCJcdTYyOTVcdTUxNjVcdTc2QzhcdTRFOEZcIiwgXCJcdTYyOTVcdTUxNjVcdTRFRDNcdTRGNERcIl0pO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ19pbmNvbWUucHVzaCh0aGlzLkdlbmVyYXRlSW5jb21lUm93KFwiXHU3RDJGXHU4QkExXHU3Qjc5XHU3ODAxXCIsIHRoaXMudG90YWxfcmV0YWluLCB0aGlzLnJldGFpbl9jb3N0LCB0aGlzLmN1cnJlbnRfcHJpY2UsIHRoaXMucmV0YWluX2Nvc3QsIDAsIDApKTtcclxuXHJcbiAgICAgICAgbGV0IG5lZWRfc2x1bXAgPSAhdGhpcy5pc19jbGVhciAmJiAhdGhpcy5pc19jYW5jZWxcclxuICAgICAgICAvLyBcdTVGNTNcdTUyNERcdTYzMDFcdTRFRDNcclxuICAgICAgICB0aGlzLkNhbGNUcmFkaW5nSW5jb21lKFwiXHU1RjUzXHU1MjREXCIsIHRoaXMuY3VycmVudF9wcmljZSAvIHRoaXMudGFyZ2V0X3ByaWNlLCB0aGlzLmVtcHR5X3ByaWNlLCB0aGlzLmNsZWFyX2F2Z19wcmljZSwgdGhpcy5jbGVhcl9wcmljZSwgZmFsc2UpO1xyXG4gICAgICAgIC8vIFx1NzdFRFx1NjcxRlx1NTZERVx1OEMwM1xyXG4gICAgICAgIHRoaXMuQ2FsY1RyYWRpbmdJbmNvbWUoXCJcdTU2REVcdThDMDNcIiwgdGhpcy5ncmlkX3NldHRpbmdzLkJPVFRPTV9CVVlfUENULCB0aGlzLmVtcHR5X3ByaWNlLCB0aGlzLmNsZWFyX2F2Z19wcmljZSwgdGhpcy5jbGVhcl9wcmljZSwgbmVlZF9zbHVtcCk7XHJcbiAgICAgICAgLy8gXHU2NzAwXHU1OTI3XHU1NkRFXHU2NEE0XHJcbiAgICAgICAgdGhpcy5DYWxjVHJhZGluZ0luY29tZShcIlx1NjcwMFx1NTkyN1wiLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOSU1VTV9CVVlfUENULCB0aGlzLmVtcHR5X3ByaWNlLCB0aGlzLmNsZWFyX2F2Z19wcmljZSwgdGhpcy5jbGVhcl9wcmljZSwgbmVlZF9zbHVtcCk7XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdEhvbGRpbmdBbmFseXNpcygpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgdG90YWxfaG9sZCA9IHRoaXMudG90YWxfaG9sZDtcclxuICAgICAgICBjb25zdCB0b3RhbF9jb3N0ID0gdGhpcy50b3RhbF9jb3N0O1xyXG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTjtcclxuXHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX2FuYWx5c2lzID0gW107XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX2FuYWx5c2lzLnB1c2goW1wiXHU3Qjc5XHU3ODAxXHU3QzdCXHU1NzhCXCIsIFwiXHU2MzAxXHU0RUQzXHU4MEExXHU2NTcwXCIsIFwiXHU1MzYwXHU3NTI4XHU2NzJDXHU5MUQxXCIsIFwiXHU2MzAxXHU0RUQzXHU5MUQxXHU5ODlEXCIsIFwiXHU2MzAxXHU0RUQzXHU1NzQ3XHU0RUY3XCIsIFwiXHU1RjUzXHU1MjREXHU0RUY3XHU2ODNDXCIsIFwiXHU2MzAxXHU0RUQzXHU3NkM4XHU0RThGXCIsIFwiXHU2RTA1XHU2ODNDXHU3NkM4XHU1MjI5XCIsIFwiXHU2RTA1XHU0RUQzXHU3NkM4XHU1MjI5XCIsIFwiXHU2MzAxXHU0RUQzXHU1MzYwXHU2QkQ0XCIsIFwiXHU2NzJDXHU5MUQxXHU1MzYwXHU2QkQ0XCJdKTtcclxuICAgICAgICAvLyBcdTYwM0JcdTk4OURcclxuICAgICAgICB0aGlzLmhvbGRpbmdfYW5hbHlzaXMucHVzaChbXCJcdTYwM0JcdTk4OURcIixdKTtcclxuICAgICAgICAvLyBcdTVDMEZcdTdGNTFcclxuICAgICAgICB0aGlzLkNhbGNIb2xkaW5nUGVyY2VudChcIlx1NUMwRlx1N0Y1MVwiLCB0aGlzLmVtcHR5X3ByaWNlLCB0aGlzLmNsZWFyX2F2Z19wcmljZSk7XHJcbiAgICAgICAgLy8gXHU0RTJEXHU3RjUxXHJcbiAgICAgICAgdGhpcy5DYWxjSG9sZGluZ1BlcmNlbnQoXCJcdTRFMkRcdTdGNTFcIiwgdGhpcy5lbXB0eV9wcmljZSwgdGhpcy5jbGVhcl9hdmdfcHJpY2UpO1xyXG4gICAgICAgIC8vIFx1NTkyN1x1N0Y1MVxyXG4gICAgICAgIHRoaXMuQ2FsY0hvbGRpbmdQZXJjZW50KFwiXHU1OTI3XHU3RjUxXCIsIHRoaXMuZW1wdHlfcHJpY2UsIHRoaXMuY2xlYXJfYXZnX3ByaWNlKTtcclxuICAgICAgICAvLyBcdTdEMkZcdTc5RUZcclxuICAgICAgICBsZXQgZ3JpZF90b3RhbF9ob2xkID0gdGhpcy50b3RhbF9yZXRhaW47XHJcbiAgICAgICAgbGV0IGdyaWRfdG90YWxfY29zdCA9IHRoaXMucmV0YWluX2Nvc3Q7XHJcbiAgICAgICAgbGV0IGdyaWRfY3VycmVudF92YWx1ZSA9IE1hdGguZmxvb3IoZ3JpZF90b3RhbF9ob2xkICogdGhpcy5jdXJyZW50X3ByaWNlKTtcclxuICAgICAgICBsZXQgZ3JpZF9lbXB0eV9pbmNvbWUgPSBncmlkX3RvdGFsX2hvbGQgKiB0aGlzLmVtcHR5X3ByaWNlIC0gZ3JpZF90b3RhbF9jb3N0O1xyXG4gICAgICAgIGxldCBncmlkX2NsZWFyX2luY29tZSA9IGdyaWRfdG90YWxfaG9sZCAqIHRoaXMuY2xlYXJfYXZnX3ByaWNlIC0gZ3JpZF90b3RhbF9jb3N0O1xyXG4gICAgICAgIHRoaXMuaG9sZGluZ19hbmFseXNpcy5wdXNoKFtcIlx1N0QyRlx1NzlFRlwiLCBTdHJpbmcoZ3JpZF90b3RhbF9ob2xkKSwgU3RyaW5nKGdyaWRfdG90YWxfY29zdCksIFN0cmluZyhncmlkX2N1cnJlbnRfdmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgQXZlcmFnZVByaWNlU3RyKGdyaWRfdG90YWxfY29zdCwgZ3JpZF90b3RhbF9ob2xkLCBwcmVjaXNpb24pLCB0aGlzLmN1cnJlbnRfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nKGdyaWRfY3VycmVudF92YWx1ZSAtIGdyaWRfdG90YWxfY29zdCksIGdyaWRfZW1wdHlfaW5jb21lLnRvRml4ZWQoMCksIGdyaWRfY2xlYXJfaW5jb21lLnRvRml4ZWQoMCksIFxyXG4gICAgICAgICAgICAgICAgUHJvcG9ydGlvblBjdFN0cihncmlkX3RvdGFsX2hvbGQsIHRvdGFsX2hvbGQsIDIpLCBQcm9wb3J0aW9uUGN0U3RyKGdyaWRfdG90YWxfY29zdCwgdG90YWxfY29zdCwgMildKTtcclxuICAgICAgICAvLyBcdTg4NjVcdTRFRDNcclxuICAgICAgICBncmlkX3RvdGFsX2hvbGQgPSAwO1xyXG4gICAgICAgIGdyaWRfdG90YWxfY29zdCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLmhvbGRpbmdfcmVjb3JkLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ob2xkaW5nX3JlY29yZFtpZHhdWzJdLnN0YXJ0c1dpdGgoXCJcdTg4NjVcdTRFRDNcIikpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGdyaWRfdG90YWxfaG9sZCArPSBOdW1iZXIodGhpcy5ob2xkaW5nX3JlY29yZFtpZHhdWzRdKTtcclxuICAgICAgICAgICAgICAgIGdyaWRfdG90YWxfY29zdCArPSBOdW1iZXIodGhpcy5ob2xkaW5nX3JlY29yZFtpZHhdWzNdKSAqIE51bWJlcih0aGlzLmhvbGRpbmdfcmVjb3JkW2lkeF1bNF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdyaWRfdG90YWxfY29zdCA9IE1hdGguY2VpbChncmlkX3RvdGFsX2Nvc3QpO1xyXG4gICAgICAgIGdyaWRfY3VycmVudF92YWx1ZSA9IE1hdGguZmxvb3IoZ3JpZF90b3RhbF9ob2xkICogdGhpcy5jdXJyZW50X3ByaWNlKTtcclxuICAgICAgICBncmlkX2VtcHR5X2luY29tZSA9IGdyaWRfdG90YWxfaG9sZCAqIHRoaXMuZW1wdHlfcHJpY2UgLSBncmlkX3RvdGFsX2Nvc3Q7XHJcbiAgICAgICAgZ3JpZF9jbGVhcl9pbmNvbWUgPSBncmlkX3RvdGFsX2hvbGQgKiB0aGlzLmNsZWFyX2F2Z19wcmljZSAtIGdyaWRfdG90YWxfY29zdDtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfYW5hbHlzaXMucHVzaChbXCJcdTg4NjVcdTRFRDNcIiwgU3RyaW5nKGdyaWRfdG90YWxfaG9sZCksIFN0cmluZyhncmlkX3RvdGFsX2Nvc3QpLCBTdHJpbmcoZ3JpZF9jdXJyZW50X3ZhbHVlKSxcclxuICAgICAgICAgICAgICAgIEF2ZXJhZ2VQcmljZVN0cihncmlkX3RvdGFsX2Nvc3QsIGdyaWRfdG90YWxfaG9sZCwgcHJlY2lzaW9uKSwgdGhpcy5jdXJyZW50X3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZyhncmlkX2N1cnJlbnRfdmFsdWUgLSBncmlkX3RvdGFsX2Nvc3QpLCBncmlkX2VtcHR5X2luY29tZS50b0ZpeGVkKDApLCBncmlkX2NsZWFyX2luY29tZS50b0ZpeGVkKDApLCBcclxuICAgICAgICAgICAgICAgIFByb3BvcnRpb25QY3RTdHIoZ3JpZF90b3RhbF9ob2xkLCB0b3RhbF9ob2xkLCAyKSwgUHJvcG9ydGlvblBjdFN0cihncmlkX3RvdGFsX2Nvc3QsIHRvdGFsX2Nvc3QsIDIpXSk7XHJcbiAgICAgICAgLy8gXHU2MDNCXHU5ODlEXHJcbiAgICAgICAgZ3JpZF90b3RhbF9ob2xkID0gMDtcclxuICAgICAgICBncmlkX3RvdGFsX2Nvc3QgPSAwO1xyXG4gICAgICAgIGdyaWRfY3VycmVudF92YWx1ZSA9IDA7XHJcbiAgICAgICAgZ3JpZF9lbXB0eV9pbmNvbWUgPSAwO1xyXG4gICAgICAgIGdyaWRfY2xlYXJfaW5jb21lID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MjsgaWR4PHRoaXMuaG9sZGluZ19hbmFseXNpcy5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZ3JpZF90b3RhbF9ob2xkICs9IE51bWJlcih0aGlzLmhvbGRpbmdfYW5hbHlzaXNbaWR4XVsxXSk7XHJcbiAgICAgICAgICAgIGdyaWRfdG90YWxfY29zdCArPSBOdW1iZXIodGhpcy5ob2xkaW5nX2FuYWx5c2lzW2lkeF1bMl0pO1xyXG4gICAgICAgICAgICBncmlkX2N1cnJlbnRfdmFsdWUgKz0gTnVtYmVyKHRoaXMuaG9sZGluZ19hbmFseXNpc1tpZHhdWzNdKTtcclxuICAgICAgICAgICAgZ3JpZF9lbXB0eV9pbmNvbWUgKz0gTnVtYmVyKHRoaXMuaG9sZGluZ19hbmFseXNpc1tpZHhdWzddKTtcclxuICAgICAgICAgICAgZ3JpZF9jbGVhcl9pbmNvbWUgKz0gTnVtYmVyKHRoaXMuaG9sZGluZ19hbmFseXNpc1tpZHhdWzhdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX2FuYWx5c2lzWzFdID0gW1wiXHU2MDNCXHU5ODlEXCIsIFN0cmluZyhncmlkX3RvdGFsX2hvbGQpLCBTdHJpbmcoZ3JpZF90b3RhbF9jb3N0KSwgU3RyaW5nKGdyaWRfY3VycmVudF92YWx1ZSksXHJcbiAgICAgICAgICAgICAgICBBdmVyYWdlUHJpY2VTdHIoZ3JpZF90b3RhbF9jb3N0LCBncmlkX3RvdGFsX2hvbGQsIHByZWNpc2lvbiksIHRoaXMuY3VycmVudF9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcoZ3JpZF9jdXJyZW50X3ZhbHVlIC0gZ3JpZF90b3RhbF9jb3N0KSwgZ3JpZF9lbXB0eV9pbmNvbWUudG9GaXhlZCgwKSwgZ3JpZF9jbGVhcl9pbmNvbWUudG9GaXhlZCgwKSwgXHJcbiAgICAgICAgICAgICAgICBQcm9wb3J0aW9uUGN0U3RyKGdyaWRfdG90YWxfaG9sZCwgdG90YWxfaG9sZCwgMiksIFByb3BvcnRpb25QY3RTdHIoZ3JpZF90b3RhbF9jb3N0LCB0b3RhbF9jb3N0LCAyKV07XHJcbiAgICB9XHJcblxyXG4gICAgQ2FsY0hvbGRpbmdQZXJjZW50KGdyaWRfdHlwZTogc3RyaW5nLCBlbXB0eV9wcmljZTogbnVtYmVyLCBjbGVhcl9hdmdfcHJpY2U6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCB0b3RhbF9ob2xkID0gdGhpcy50b3RhbF9ob2xkO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsX2Nvc3QgPSB0aGlzLnRvdGFsX2Nvc3Q7XHJcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBncmlkX3RvdGFsX2hvbGQgPSAwOyAvLyBcdTYzMDFcdTRFRDNcdTgwQTFcdTY1NzBcclxuICAgICAgICBsZXQgZ3JpZF90b3RhbF9jb3N0ID0gMDsgLy8gXHU1MzYwXHU3NTI4XHU2NzJDXHU5MUQxXHJcbiAgICAgICAgbGV0IGdyaWRfZW1wdHlfaW5jb21lID0gMDsgLy8gXHU2RTA1XHU2ODNDXHU3NkM4XHU1MjI5XHJcbiAgICAgICAgbGV0IGdyaWRfY2xlYXJfaW5jb21lID0gMDsgLy8gXHU2RTA1XHU0RUQzXHU3NkM4XHU1MjI5XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLmhvbGRpbmdfcmVjb3JkLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ob2xkaW5nX3JlY29yZFtpZHhdWzJdLnN0YXJ0c1dpdGgoZ3JpZF90eXBlKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JpZF9ob2xkID0gTnVtYmVyKHRoaXMuaG9sZGluZ19yZWNvcmRbaWR4XVs0XSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmlkX2Nvc3QgPSBOdW1iZXIodGhpcy5ob2xkaW5nX3JlY29yZFtpZHhdWzNdKSAqIE51bWJlcih0aGlzLmhvbGRpbmdfcmVjb3JkW2lkeF1bNF0pO1xyXG4gICAgICAgICAgICAgICAgZ3JpZF90b3RhbF9ob2xkICs9IGdyaWRfaG9sZDtcclxuICAgICAgICAgICAgICAgIGdyaWRfdG90YWxfY29zdCArPSBncmlkX2Nvc3Q7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZF9yb3cgPSB0aGlzLkZpbmRUcmFkaW5nR3JpZFJvdyh0aGlzLmhvbGRpbmdfcmVjb3JkW2lkeF1bMl0pOyAvLyA3IDggOSBcIlx1NTM1Nlx1NTFGQVx1NEVGN1x1NjgzQ1wiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGRFx1NjU3MFwiLCBcIlx1NTM1Nlx1NTFGQVx1OTFEMVx1OTg5RFwiXHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbXB0eV9pbmNvbWUgPSBOdW1iZXIoZ3JpZF9yb3dbOV0pICsgKGdyaWRfaG9sZCAtIE51bWJlcihncmlkX3Jvd1s4XSkpICogZW1wdHlfcHJpY2UgLSBncmlkX2Nvc3Q7XHJcbiAgICAgICAgICAgICAgICBncmlkX2VtcHR5X2luY29tZSArPSBlbXB0eV9pbmNvbWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbGVhcl9pbmNvbWUgPSBOdW1iZXIoZ3JpZF9yb3dbOV0pICsgKGdyaWRfaG9sZCAtIE51bWJlcihncmlkX3Jvd1s4XSkpICogY2xlYXJfYXZnX3ByaWNlIC0gZ3JpZF9jb3N0O1xyXG4gICAgICAgICAgICAgICAgZ3JpZF9jbGVhcl9pbmNvbWUgKz0gY2xlYXJfaW5jb21lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdyaWRfdG90YWxfY29zdCA9IE1hdGguY2VpbChncmlkX3RvdGFsX2Nvc3QpO1xyXG4gICAgICAgIGxldCBncmlkX2N1cnJlbnRfdmFsdWUgPSBNYXRoLmZsb29yKGdyaWRfdG90YWxfaG9sZCAqIHRoaXMuY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX2FuYWx5c2lzLnB1c2goW2dyaWRfdHlwZSwgU3RyaW5nKGdyaWRfdG90YWxfaG9sZCksIFN0cmluZyhncmlkX3RvdGFsX2Nvc3QpLCBTdHJpbmcoZ3JpZF9jdXJyZW50X3ZhbHVlKSxcclxuICAgICAgICAgICAgICAgIEF2ZXJhZ2VQcmljZVN0cihncmlkX3RvdGFsX2Nvc3QsIGdyaWRfdG90YWxfaG9sZCwgcHJlY2lzaW9uKSwgdGhpcy5jdXJyZW50X3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZyhncmlkX2N1cnJlbnRfdmFsdWUgLSBncmlkX3RvdGFsX2Nvc3QpLCBncmlkX2VtcHR5X2luY29tZS50b0ZpeGVkKDApLCBncmlkX2NsZWFyX2luY29tZS50b0ZpeGVkKDApLCBcclxuICAgICAgICAgICAgICAgIFByb3BvcnRpb25QY3RTdHIoZ3JpZF90b3RhbF9ob2xkLCB0b3RhbF9ob2xkLCAyKSwgUHJvcG9ydGlvblBjdFN0cihncmlkX3RvdGFsX2Nvc3QsIHRvdGFsX2Nvc3QsIDIpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgQ2FsY1RyYWRpbmdJbmNvbWUodGl0bGVfdHh0OiBzdHJpbmcsIHNsdW1wX3BjdDogbnVtYmVyLCBlbXB0eV9wcmljZTogbnVtYmVyLCBjbGVhcl9hdmdfcHJpY2U6IG51bWJlciwgY2xlYXJfcHJpY2U6IG51bWJlciwgbmVlZF9zbHVtcDogYm9vbGVhbiA9IHRydWUpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHRvdGFsX2Nvc3QgPSB0aGlzLnRvdGFsX2Nvc3Q7XHJcbiAgICAgICAgbGV0IHRvdGFsX2NvdW50ID0gdGhpcy50b3RhbF9ob2xkO1xyXG4gICAgICAgIGxldCBlbXB0eV9jb3N0ID0gdGhpcy50b3RhbF9jb3N0O1xyXG4gICAgICAgIGxldCBlbXB0eV9jb3VudCA9IHRoaXMudG90YWxfaG9sZDtcclxuICAgICAgICBsZXQgY2xlYXJfaW5jb21lX21heCA9IDA7XHJcbiAgICAgICAgbGV0IHRvdGFsX3NlbGxfY29zdCA9IDA7XHJcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZS5mb3JFYWNoKChyb3c6QXJyYXk8c3RyaW5nPiwgaTpudW1iZXIpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50cmFkaW5nX3RhYmxlW2ldWzBdLnN0YXJ0c1dpdGgoXCJcdTUyMjlcdTZEQTZcIikpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyX2luY29tZV9tYXggPSBjbGVhcl9pbmNvbWVfbWF4ICsgTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtpXVs5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW2ldWzBdKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlbXB0eV9jb3N0ID0gZW1wdHlfY29zdCAtIE51bWJlcihyb3dbOV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5X2NvdW50ID0gZW1wdHlfY291bnQgLSBOdW1iZXIocm93WzhdKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhcl9pbmNvbWVfbWF4ID0gY2xlYXJfaW5jb21lX21heCArIChOdW1iZXIocm93WzRdKSAtIE51bWJlcihyb3dbOF0pKSAqIGNsZWFyX2F2Z19wcmljZTtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbF9zZWxsX2Nvc3QgPSB0b3RhbF9zZWxsX2Nvc3QgKyBOdW1iZXIocm93WzldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDAgJiYgVG9OdW1iZXIocm93WzFdKSA+PSBzbHVtcF9wY3QgJiYgbmVlZF9zbHVtcClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsX2Nvc3QgPSB0b3RhbF9jb3N0ICsgTnVtYmVyKHJvd1s1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsX2NvdW50ID0gdG90YWxfY291bnQgKyBOdW1iZXIocm93WzRdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5X2Nvc3QgPSBlbXB0eV9jb3N0ICsgTnVtYmVyKHJvd1s1XSkgLSBOdW1iZXIocm93WzldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHlfY291bnQgPSBlbXB0eV9jb3VudCArIE51bWJlcihyb3dbNF0pIC0gTnVtYmVyKHJvd1s4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2luY29tZV9tYXggPSBjbGVhcl9pbmNvbWVfbWF4ICsgKE51bWJlcihyb3dbNF0pIC0gTnVtYmVyKHJvd1s4XSkpICogY2xlYXJfYXZnX3ByaWNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9zZWxsX2Nvc3QgPSB0b3RhbF9zZWxsX2Nvc3QgKyBOdW1iZXIocm93WzldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjbGVhcl9pbmNvbWVfbWF4ID0gTWF0aC5mbG9vcihjbGVhcl9pbmNvbWVfbWF4IC0gZW1wdHlfY29zdCk7XHJcbiAgICAgICAgLy8gW1wiXCIsIFwiXHU2MzAxXHU0RUQzXHU4MEExXHU2NTcwXCIsIFwiXHU1MzYwXHU3NTI4XHU2NzJDXHU5MUQxXCIsIFwiXHU2MzAxXHU0RUQzXHU5MUQxXHU5ODlEXCIsIFwiXHU2MzAxXHU0RUQzXHU1NzQ3XHU0RUY3XCIsIFwiXHU1QjlFXHU5NjQ1XHU0RUY3XHU2ODNDXCIsIFwiXHU2MzAxXHU0RUQzXHU3NkM4XHU0RThGXCIsIFwiXHU2Mjk1XHU1MTY1XHU4RDQ0XHU5MUQxXCIsIFwiXHU4RDI2XHU5NzYyXHU4RDQ0XHU5MUQxXCIsIFwiXHU2Mjk1XHU1MTY1XHU3NkM4XHU0RThGXCIsIFwiXHU2Mjk1XHU1MTY1XHU0RUQzXHU0RjREXCJdXHJcbiAgICAgICAgdGhpcy50cmFkaW5nX2luY29tZS5wdXNoKHRoaXMuR2VuZXJhdGVJbmNvbWVSb3codGl0bGVfdHh0ICsgXCJcdTYzMDFcdTRFRDNcIiwgdG90YWxfY291bnQsIHRvdGFsX2Nvc3QsIHRoaXMudGFyZ2V0X3ByaWNlICogc2x1bXBfcGN0LCB0b3RhbF9jb3N0LCB0aGlzLnRvdGFsX2Nvc3QsIDApKTtcclxuICAgICAgICB0aGlzLnRyYWRpbmdfaW5jb21lLnB1c2godGhpcy5HZW5lcmF0ZUluY29tZVJvdyh0aXRsZV90eHQgKyBcIlx1NkUwNVx1NjgzQ1wiLCBlbXB0eV9jb3VudCwgZW1wdHlfY29zdCwgZW1wdHlfcHJpY2UsIHRvdGFsX2Nvc3QsIDAsIHRvdGFsX3NlbGxfY29zdCkpO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ19pbmNvbWUucHVzaChbdGl0bGVfdHh0ICsgXCJcdTZFMDVcdTRFRDNcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCItXCIsIGNsZWFyX3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSwgU3RyaW5nKGNsZWFyX2luY29tZV9tYXgpLCBTdHJpbmcodG90YWxfY29zdCksIFxyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyh0b3RhbF9zZWxsX2Nvc3QgKyBlbXB0eV9jb3N0ICsgY2xlYXJfaW5jb21lX21heCksIFRvVHJhZGluZ0dhcCh0b3RhbF9jb3N0LCB0b3RhbF9zZWxsX2Nvc3QgKyBlbXB0eV9jb3N0ICsgY2xlYXJfaW5jb21lX21heCwgMiksIFwiLVwiXSk7XHJcbiAgICB9XHJcblxyXG4gICAgR2VuZXJhdGVDbGVhclJvdyhncmlkX25hbWU6IHN0cmluZywgaWR4OiBudW1iZXIsIGdyaWRfc3RlcF9wY3Q6IG51bWJlciwgc2VsbF9jb3VudDogbnVtYmVyKTogc3RyaW5nW11cclxuICAgIHtcclxuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT047XHJcbiAgICAgICAgY29uc3QgcHJpY2Vfc3RlcCA9IE1hdGguZmxvb3IoKDEwMCArIE1hdGguZmxvb3IoZ3JpZF9zdGVwX3BjdCAqIDEwMCkpICoqIGlkeCAvIDEwMCAqKiAoaWR4IC0xKSkgLyAxMDA7XHJcbiAgICAgICAgY29uc3Qgc2VsbF9wcmljZSA9IEZpeGVkUHJpY2UodGhpcy50YXJnZXRfcHJpY2UsIHByaWNlX3N0ZXAsIHByZWNpc2lvbik7XHJcbiAgICAgICAgbGV0IGNsZWFyX2NvdW50ID0gdGhpcy5jbGVhcl9zZWxsX3JlY29yZC5nZXQoZ3JpZF9uYW1lICsgU3RyaW5nKGlkeCkpO1xyXG4gICAgICAgIGlmIChjbGVhcl9jb3VudCA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjbGVhcl9jb3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbZ3JpZF9uYW1lICsgU3RyaW5nKGlkeCksIFRvUGVyY2VudChwcmljZV9zdGVwKSwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgKHNlbGxfcHJpY2UgLSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJJR0dFUl9BRERfUE9JTlQpLnRvRml4ZWQocHJlY2lzaW9uKSxcclxuICAgICAgICAgICAgICAgIHNlbGxfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLCBTdHJpbmcoc2VsbF9jb3VudCAtIGNsZWFyX2NvdW50KSwgU3RyaW5nKE1hdGguY2VpbChzZWxsX3ByaWNlICogKHNlbGxfY291bnQgLSBjbGVhcl9jb3VudCkpKSwgXCItXCIsIFwiK1wiICsgVG9QZXJjZW50KGdyaWRfc3RlcF9wY3QpXVxyXG4gICAgfVxyXG5cclxuICAgIEdlbmVyYXRlSW5jb21lUm93KGdyaWRfbmFtZTogc3RyaW5nLCB0b3RhbF9jb3VudDogbnVtYmVyLCB0b3RhbF9jb3N0OiBudW1iZXIsIGN1cnJlbnRfcHJpY2U6IG51bWJlciwgbWF4X2Nvc3Q6IG51bWJlciwgY3VycmVudF9jb3N0OiBudW1iZXIsIHNlbGxfdmFsdWU6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICAvLyBbXCJcIiwgXCJcdTYzMDFcdTRFRDNcdTgwQTFcdTY1NzBcIiwgXCJcdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDFcIiwgXCJcdTYzMDFcdTRFRDNcdTkxRDFcdTk4OURcIiwgXCJcdTYzMDFcdTRFRDNcdTU3NDdcdTRFRjdcIiwgXCJcdTVCOUVcdTk2NDVcdTRFRjdcdTY4M0NcIiwgXCJcdTYzMDFcdTRFRDNcdTc2QzhcdTRFOEZcIiwgXCJcdTYyOTVcdTUxNjVcdThENDRcdTkxRDFcIiwgXCJcdThEMjZcdTk3NjJcdThENDRcdTkxRDFcIiwgXCJcdTYyOTVcdTUxNjVcdTc2QzhcdTRFOEZcIiwgXCJcdTYyOTVcdTUxNjVcdTRFRDNcdTRGNERcIl1cclxuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT047XHJcbiAgICAgICAgY29uc3QgY3VycmVudF92YWx1ZSA9IE15Rmxvb3IodG90YWxfY291bnQgKiBjdXJyZW50X3ByaWNlLCAxKTtcclxuICAgICAgICBjb25zdCB0b3RhbF9pbmNvbWUgPSBjdXJyZW50X3ZhbHVlIC0gdG90YWxfY29zdDtcclxuICAgICAgICBsZXQgcG9zaXRpb24gPSBUb1BlcmNlbnQoY3VycmVudF9jb3N0IC8gbWF4X2Nvc3QpO1xyXG4gICAgICAgIGlmIChjdXJyZW50X2Nvc3QgPT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gXCItXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbZ3JpZF9uYW1lLCBTdHJpbmcodG90YWxfY291bnQpLCBTdHJpbmcodG90YWxfY29zdCksIFN0cmluZyhjdXJyZW50X3ZhbHVlKSwgKHRvdGFsX2Nvc3QgLyBNYXRoLm1heCh0b3RhbF9jb3VudCwgMSkpLnRvRml4ZWQocHJlY2lzaW9uKSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLCBTdHJpbmcodG90YWxfaW5jb21lKSwgU3RyaW5nKG1heF9jb3N0KSwgIFN0cmluZyhzZWxsX3ZhbHVlICsgY3VycmVudF92YWx1ZSksIFRvVHJhZGluZ0dhcChtYXhfY29zdCwgdG90YWxfaW5jb21lICsgbWF4X2Nvc3QsIDIpLCBwb3NpdGlvbl07XHJcbiAgICB9XHJcblxyXG4gICAgQ2FsY0NsZWFyUHJpY2Uoc3RlcF9wY3Q6IG51bWJlciwgc3RlcF9pZHg6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT047XHJcbiAgICAgICAgY29uc3QgcHJpY2Vfc3RlcCA9IE1hdGguZmxvb3IoKDEwMCArIE1hdGguZmxvb3Ioc3RlcF9wY3QgKiAxMDApKSAqKiBzdGVwX2lkeCAvIDEwMCAqKiAoc3RlcF9pZHggLTEpKSAvIDEwMDtcclxuICAgICAgICByZXR1cm4gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgcHJpY2Vfc3RlcCwgcHJlY2lzaW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBJc05lZWRNb25pdG9yKHRhYmxlX2luZGV4OiBudW1iZXIsIGlzX3NlbGw6IGJvb2xlYW4sIGN1cnJlbnRfcHJpY2U6IG51bWJlciwgbWF4X3Jpc2VfcGN0OiBudW1iZXIpOiBib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKGlzX3NlbGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTg5ODFcdTYzMDJcdTUzNTZcdTUxRkFcdTc2RDFcdTYzQTdcdTUzNTVcclxuICAgICAgICAgICAgY29uc3Qgc2VsbF9wcmljZSA9IE51bWJlcih0aGlzLnRyYWRpbmdfdGFibGVbdGFibGVfaW5kZXhdWzddKTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRfcHJpY2UgKiAoMS4wICsgbWF4X3Jpc2VfcGN0KSA+PSBzZWxsX3ByaWNlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTg5ODFcdTYzMDJcdTRFNzBcdTUxNjVcdTc2RDFcdTYzQTdcdTUzNTVcclxuICAgICAgICAgICAgY29uc3QgYnV5X3ByaWNlID0gTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVt0YWJsZV9pbmRleF1bM10pO1xyXG4gICAgICAgICAgICBpZiAoYnV5X3ByaWNlIDwgdGhpcy50YXJnZXRfcHJpY2UgKiB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOSU1VTV9CVVlfUENUKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRfcHJpY2UgKiAoMS4wIC0gbWF4X3Jpc2VfcGN0KSA8PSBidXlfcHJpY2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIElzRGlzYWJsZVJvdyh0YWJsZV9pbmRleDogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHByaWNlX3BjdCA9IFRvTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVt0YWJsZV9pbmRleF1bMV0pO1xyXG4gICAgICAgIGlmIChwcmljZV9wY3QgPCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOSU1VTV9CVVlfUENUKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgRmluZFRyYWRpbmdHcmlkUm93KGdyaWRfbmFtZTogc3RyaW5nKTogc3RyaW5nIFtdXHJcbiAgICB7XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWRpbmdfdGFibGVbaWR4XVswXSA9PSBncmlkX25hbWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYWRpbmdfdGFibGVbaWR4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgRmluZFRyYWRpbmdHcmlkUm93SW5kZXgoZ3JpZF9uYW1lOiBzdHJpbmcpOiBudW1iZXJcclxuICAgIHtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudHJhZGluZ190YWJsZVtpZHhdWzBdID09IGdyaWRfbmFtZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkeDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgU29ydFRyYWRpbmdUYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGggPD0gMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlLnB1c2goW1wiXHU1MDVDXHU2QjYyXHU3RUJGXCIsIFwiMCVcIixdKTtcclxuICAgICAgICBsZXQgbW92ZV9pZHggPSAwO1xyXG4gICAgICAgIGxldCBtb3ZlX3JvdyA9IG51bGw7XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeDx0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWRpbmdfdGFibGVbaWR4XVsxXSA9PSBcIjAlXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhpZHgpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtb3ZlX2lkeCA9IGlkeDtcclxuICAgICAgICAgICAgICAgIG1vdmVfcm93ID0gdGhpcy50cmFkaW5nX3RhYmxlW21vdmVfaWR4XTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeDI9bW92ZV9pZHg7IGlkeDI8dGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aCAtIDE7IGlkeDIrKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbaWR4Ml0gPSB0aGlzLnRyYWRpbmdfdGFibGVbaWR4MiArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9tb25pdG9yX3Jvd3MuaW5kZXhPZihpZHgyKzEpICE9IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzW3RoaXMuYnV5X21vbml0b3Jfcm93cy5pbmRleE9mKGlkeDIrMSldID0gaWR4MjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLmluZGV4T2YoaWR4MisxKSAhPSAtMSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzW3RoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLmluZGV4T2YoaWR4MisxKV0gPSBpZHgyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxsX21vbml0b3Jfcm93cy5pbmRleE9mKGlkeDIrMSkgIT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzW3RoaXMuc2VsbF9tb25pdG9yX3Jvd3MuaW5kZXhPZihpZHgyKzEpXSA9IGlkeDI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MuaW5kZXhPZihpZHgyKzEpICE9IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5pbmRleE9mKGlkeDIrMSldID0gaWR4MjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbdGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aC0xXSA9IG1vdmVfcm93O1xyXG4gICAgICAgICAgICAgICAgaWR4LS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCAiLypcclxuICAgIFx1N0Y1MVx1NjgzQ1x1N0I1Nlx1NzU2NVx1NzY4NFx1OEJBMVx1N0I5N1x1OTAzQlx1OEY5MVx1RkYwQ1x1NkEyMVx1NUYwRjFcdUZGMENcdTlFRDhcdThCQTRcdTZBMjFcdTVGMEZcclxuICAgIFx1NjMwOVx1NzE2N1x1NUMwRlx1NEUyRFx1NTkyN1x1NEUwRFx1NTQwQ1x1NzY4NFx1NjMwN1x1NUI5QVx1NkI2NVx1OEZEQlx1NTAzQ1xyXG4qL1xyXG5pbXBvcnQgeyBTR1JJRF9UWVBFX05BTUVfU1RSLCBNR1JJRF9UWVBFX05BTUVfU1RSLCBMR1JJRF9UWVBFX05BTUVfU1RSLCBQRVJGSVRfVFlQRV9OQU1FX1NUUiB9IGZyb20gXCIuL2xhbmdfc3RyXCI7XHJcbmltcG9ydCB7IE15Rmxvb3IsIE15Q2VpbCwgVG9QZXJjZW50LCBUb051bWJlciwgVG9UcmFkaW5nR2FwLCBGaXhlZFByaWNlLCBUb1BlcmNlbnRTdHIgfSBmcm9tIFwiLi9teW1hdGhcIjtcclxuaW1wb3J0IHsgUGx1Z2luRW52IH0gZnJvbSBcIi4vcGx1Z2luX2VudlwiO1xyXG5pbXBvcnQgeyBEZWJ1Z0xvZyB9IGZyb20gXCIuL3JlbW90ZV91dGlsXCI7XHJcbmltcG9ydCB7IEdyaWRUcmFkaW5nIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRUcmFkaW5nTW9kZU9uZSBleHRlbmRzIEdyaWRUcmFkaW5nIFxyXG57XHJcblxyXG4gICAgY29uc3RydWN0b3IocGx1Z2luX2VudjogUGx1Z2luRW52KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKHBsdWdpbl9lbnYpXHJcbiAgICAgICAgdGhpcy5tb2RlX3R5cGUgPSBcIk9uZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIEluaXRHcmlkVHJhZGluZyhkYXRhOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuUGFyc2VSYXdEYXRhKGRhdGEpIHx8IHRoaXMuaXNfZW1wdHkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEdyaWRQYXJhbSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0U3RvY2tUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEhvbGRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nSW5jb21lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLlNvcnRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlUmVtb3RlUHJpY2UocmVtb3RlX3ByaWNlOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA9IHJlbW90ZV9wcmljZTtcclxuICAgICAgICBpZiAodGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA+IDAgJiYgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSAhPSB0aGlzLmN1cnJlbnRfcHJpY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfcHJpY2UgPSB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlO1xyXG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEdyaWRQYXJhbSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0U3RvY2tUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEhvbGRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nSW5jb21lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLlNvcnRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdFRyYWRpbmdUYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzID0gW11cclxuICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzID0gW11cclxuICAgICAgICB0aGlzLmRpc2FibGVfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlID0gW11cclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbMF0gPSBbXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTRFNzBcdTUxNjVcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTUzNTZcdTUxRkFcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTkxRDFcdTk4OURcIiwgXCJcdTc2RjhcdTVCRjlcdThEQ0NcdTVFNDVcIiwgXCJcdTc2RjhcdTVCRjlcdTZEQThcdTVFNDVcIl07XHJcblxyXG4gICAgICAgIGNvbnN0IHNjb3VudCA9IE1hdGguZmxvb3IodGhpcy5ncmlkX3NldHRpbmdzLk1BWF9TTFVNUF9QQ1QgLyB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1QpO1xyXG4gICAgICAgIGNvbnN0IG1jb3VudCA9IE1hdGguZmxvb3IodGhpcy5ncmlkX3NldHRpbmdzLk1BWF9TTFVNUF9QQ1QgLyB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfU1RFUF9QQ1QpO1xyXG4gICAgICAgIGNvbnN0IGxjb3VudCA9IE1hdGguZmxvb3IodGhpcy5ncmlkX3NldHRpbmdzLk1BWF9TTFVNUF9QQ1QgLyB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QpO1xyXG4gICAgICAgIGNvbnN0IG1heF9yaXNlX3BjdCA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1Q7XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDw9c2NvdW50OyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtpZHggKyAxXSA9IHRoaXMuR2VuZXJhdGVPbmVSb3coU0dSSURfVFlQRV9OQU1FX1NUUiwgaWR4LCB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1QsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1JFVEFJTl9DT1VOVCwgdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX0FERF9QQ1QpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtpZHggKyAxXVswXSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goaWR4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucHVzaChpZHggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5Jc0Rpc2FibGVSb3coaWR4ICsgMSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzLnB1c2goaWR4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLmxlbmd0aCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTVDMEZcdTdGNTFcclxuICAgICAgICAgICAgY29uc3QgbGFzdF9idXkgPSB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93c1t0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGxhc3RfYnV5IDwgc2NvdW50ICsgMSkgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9idXkgKyAxKTtcclxuICAgICAgICAgICAgbGV0IGxhc3Rfc2VsbCA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKGxhc3Rfc2VsbCkgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbCk7XHJcbiAgICAgICAgICAgIC8vaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICBpZiAoZmFsc2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9zID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IobGFzdF9zZWxsX3MsIHRydWUsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTVDMEZcdTdGNTFcdTc2ODRcdTk5OTZcdTdGNTFcdTRFNzBcdTUxNjVcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RfYnV5ID0gMTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihmaXJzdF9idXksIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGZpcnN0X2J1eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeDw9bWNvdW50OyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtzY291bnQgKyAxICsgaWR4XSA9IHRoaXMuR2VuZXJhdGVPbmVSb3coTUdSSURfVFlQRV9OQU1FX1NUUiwgaWR4LCB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfU1RFUF9QQ1QsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1JFVEFJTl9DT1VOVCwgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX0FERF9QQ1QpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtzY291bnQgKyAxICsgaWR4XVswXSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goc2NvdW50ICsgMSArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucHVzaChzY291bnQgKyAxICsgaWR4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NEUyRFx1N0Y1MVx1NEU3MFx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihzY291bnQgKyAxICsgaWR4LCBmYWxzZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKHNjb3VudCArIDEgKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhzY291bnQgKyAxICsgaWR4KSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MucHVzaChzY291bnQgKyAxICsgaWR4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCA+IDAgJiYgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXSA+IHNjb3VudCArIDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgY29uc3QgbGFzdF9zZWxsX20gPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGxhc3Rfc2VsbF9tLCB0cnVlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5yZW1vdmUobGFzdF9zZWxsX20pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpZHg9MTsgaWR4PD1sY291bnQ7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW3Njb3VudCArIDEgKyBtY291bnQgKyBpZHhdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhMR1JJRF9UWVBFX05BTUVfU1RSLCBpZHgsIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfUkVUQUlOX0NPVU5ULCB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfQUREX1BDVCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW3Njb3VudCArIDEgKyBtY291bnQgKyBpZHhdWzBdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChzY291bnQgKyAxICsgbWNvdW50ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHNjb3VudCArIDEgKyBtY291bnQgKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1OTI3XHU3RjUxXHU0RTcwXHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKHNjb3VudCArIDEgKyBtY291bnQsIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goc2NvdW50ICsgMSArIG1jb3VudCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuSXNEaXNhYmxlUm93KHNjb3VudCArIDEgKyBtY291bnQgKyBpZHgpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVfcm93cy5wdXNoKHNjb3VudCArIDEgKyBtY291bnQgKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdID4gc2NvdW50ICsgMSArIG1jb3VudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NTM1Nlx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfbCA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IobGFzdF9zZWxsX2wsIHRydWUsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnJlbW92ZShsYXN0X3NlbGxfbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX2wpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdlbmVyYXRlT25lUm93KGdyaWRfbmFtZTogc3RyaW5nLCBpZHg6IG51bWJlciwgZ3JpZF9zdGVwX3BjdDogbnVtYmVyLCBncmlkX3JldGFpbl9jb3VudDogbnVtYmVyLCBncmlkX2FkZF9wY3Q6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT047XHJcbiAgICAgICAgY29uc3QgYnV5X3ByaWNlX3N0ZXAgPSAxMDAgLSBpZHggKiBNYXRoLmZsb29yKGdyaWRfc3RlcF9wY3QgKiAxMDApO1xyXG4gICAgICAgIGNvbnN0IGJ1eV9wcmljZSA9IEZpeGVkUHJpY2UodGhpcy50YXJnZXRfcHJpY2UsIGJ1eV9wcmljZV9zdGVwIC8gMTAwLCBwcmVjaXNpb24pO1xyXG4gICAgICAgIGNvbnN0IGJ1eV9jb3VudCA9IE15Rmxvb3IodGhpcy5ncmlkX3NldHRpbmdzLk9ORV9HUklEX0xJTUlUICogKDEgKyBpZHggKiBncmlkX2FkZF9wY3QpIC8gYnV5X3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKVxyXG5cclxuICAgICAgICBjb25zdCBzZWxsX3ByaWNlX3N0ZXAgPSBidXlfcHJpY2Vfc3RlcCArIE1hdGguZmxvb3IoZ3JpZF9zdGVwX3BjdCAqIDEwMCk7XHJcbiAgICAgICAgY29uc3Qgc2VsbF9wcmljZSA9IEZpeGVkUHJpY2UodGhpcy50YXJnZXRfcHJpY2UsIHNlbGxfcHJpY2Vfc3RlcCAvIDEwMCwgcHJlY2lzaW9uKTtcclxuICAgICAgICBjb25zdCByZXRhaW5fY291bnQgPSAoc2VsbF9wcmljZSAtIGJ1eV9wcmljZSkgKiBidXlfY291bnQgKiBncmlkX3JldGFpbl9jb3VudDtcclxuICAgICAgICBjb25zdCBzZWxsX2NvdW50ID0gTXlGbG9vcigoc2VsbF9wcmljZSAqIGJ1eV9jb3VudCAtIHJldGFpbl9jb3VudCkgLyBzZWxsX3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtncmlkX25hbWUgKyBTdHJpbmcoaWR4KSwgVG9QZXJjZW50U3RyKGJ1eV9wcmljZV9zdGVwKSwgKGJ1eV9wcmljZSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUklHR0VSX0FERF9QT0lOVCkudG9GaXhlZChwcmVjaXNpb24pLCBcclxuICAgICAgICAgICAgICAgIGJ1eV9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksIFN0cmluZyhidXlfY291bnQpLCBTdHJpbmcoTWF0aC5jZWlsKGJ1eV9wcmljZSAqIGJ1eV9jb3VudCkpLFxyXG4gICAgICAgICAgICAgICAgKHNlbGxfcHJpY2UgLSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJJR0dFUl9BRERfUE9JTlQpLnRvRml4ZWQocHJlY2lzaW9uKSwgc2VsbF9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcoc2VsbF9jb3VudCksIFN0cmluZyhNYXRoLmNlaWwoc2VsbF9wcmljZSAqIHNlbGxfY291bnQpKSwgVG9UcmFkaW5nR2FwKHNlbGxfcHJpY2UsIGJ1eV9wcmljZSwgMSksXHJcbiAgICAgICAgICAgICAgICBUb1RyYWRpbmdHYXAoYnV5X3ByaWNlLCBzZWxsX3ByaWNlLCAxKV07XHJcbiAgICB9XHJcbn0iLCAiLypcclxuICAgIFx1N0Y1MVx1NjgzQ1x1N0I1Nlx1NzU2NVx1NzY4NFx1OEJBMVx1N0I5N1x1OTAzQlx1OEY5MVx1RkYwQ1x1NkEyMVx1NUYwRjJcclxuICAgIFx1NkEyMVx1NUYwRjFcdTc2ODRcdTU3RkFcdTc4NDBcdTRFMEFcdTkwMUFcdThGQzdcdTUyMDZcdTZCQjVcdTdCNTZcdTc1NjVcdTRGN0ZcdTVGOTdcdTVDMEZcdTdGNTFcdTc2ODRcdTZCNjVcdThGREJcdTUwM0NcdTY2RjRcdTUyQTBcdTU3NDdcdTg4NjFcclxuKi9cclxuaW1wb3J0IHsgU0dSSURfVFlQRV9OQU1FX1NUUiwgTUdSSURfVFlQRV9OQU1FX1NUUiwgTEdSSURfVFlQRV9OQU1FX1NUUiB9IGZyb20gXCIuL2xhbmdfc3RyXCI7XHJcbmltcG9ydCB7IE15Rmxvb3IsIE15Q2VpbCwgVG9QZXJjZW50LCBUb051bWJlciwgVG9UcmFkaW5nR2FwLCBGaXhlZFByaWNlIH0gZnJvbSBcIi4vbXltYXRoXCI7XHJcbmltcG9ydCB7IFBsdWdpbkVudiB9IGZyb20gXCIuL3BsdWdpbl9lbnZcIjtcclxuaW1wb3J0IHsgRGVidWdMb2cgfSBmcm9tIFwiLi9yZW1vdGVfdXRpbFwiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZyB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkVHJhZGluZ01vZGVUd28gZXh0ZW5kcyBHcmlkVHJhZGluZyBcclxue1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbl9lbnY6IFBsdWdpbkVudilcclxuICAgIHtcclxuICAgICAgICBzdXBlcihwbHVnaW5fZW52KVxyXG4gICAgICAgIHRoaXMubW9kZV90eXBlID0gXCJUd29cIjtcclxuICAgIH1cclxuXHJcbiAgICBJbml0R3JpZFRyYWRpbmcoZGF0YTogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLlBhcnNlUmF3RGF0YShkYXRhKSB8fCB0aGlzLmlzX2VtcHR5KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5pc19lbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRHcmlkUGFyYW0oKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1RhYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFN0b2NrVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1JlY29yZCgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRIb2xkaW5nQW5hbHlzaXMoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0luY29tZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nQW5hbHlzaXMoKTtcclxuICAgICAgICAgICAgdGhpcy5Tb3J0VHJhZGluZ1RhYmxlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFVwZGF0ZVJlbW90ZVByaWNlKHJlbW90ZV9wcmljZTogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2UgPSByZW1vdGVfcHJpY2U7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2UgPiAwICYmIHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2UgIT0gdGhpcy5jdXJyZW50X3ByaWNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3ByaWNlID0gdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZTtcclxuICAgICAgICAgICAgdGhpcy5pc19lbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRHcmlkUGFyYW0oKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1RhYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFN0b2NrVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1JlY29yZCgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRIb2xkaW5nQW5hbHlzaXMoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0luY29tZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nQW5hbHlzaXMoKTtcclxuICAgICAgICAgICAgdGhpcy5Tb3J0VHJhZGluZ1RhYmxlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEluaXRUcmFkaW5nVGFibGUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzID0gW11cclxuICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZSA9IFtdXHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlWzBdID0gW1wiXHU3RjUxXHU2ODNDXHU3OUNEXHU3QzdCXCIsIFwiXHU0RUY3XHU2ODNDXHU2ODYzXHU0RjREXCIsIFwiXHU0RTcwXHU1MTY1XHU4OUU2XHU1M0QxXHU0RUY3XCIsIFwiXHU0RTcwXHU1MTY1XHU0RUY3XHU2ODNDXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUZEXHU2NTcwXCIsIFwiXHU0RTcwXHU1MTY1XHU5MUQxXHU5ODlEXCIsIFwiXHU1MzU2XHU1MUZBXHU4OUU2XHU1M0QxXHU0RUY3XCIsIFwiXHU1MzU2XHU1MUZBXHU0RUY3XHU2ODNDXCIsIFwiXHU1MzU2XHU1MUZBXHU0RUZEXHU2NTcwXCIsIFwiXHU1MzU2XHU1MUZBXHU5MUQxXHU5ODlEXCIsIFwiXHU3NkY4XHU1QkY5XHU4RENDXHU1RTQ1XCIsIFwiXHU3NkY4XHU1QkY5XHU2REE4XHU1RTQ1XCJdO1xyXG5cclxuICAgICAgICBjb25zdCBjb3VudCA9IE1hdGguZmxvb3IoTWF0aC5sb2coMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKSAvIE1hdGgubG9nKDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QpKSArIDE7XHJcbiAgICAgICAgY29uc3QgbWF4X3Jpc2VfcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9SSVNFX1BDVDtcclxuICAgICAgICAvLyBcdTVDMEZcdTdGNTFcclxuICAgICAgICBsZXQgaWR4ID0gMDtcclxuICAgICAgICBsZXQgbWF4X3NsdW1wX3BjdCA9IE1hdGgucm91bmQoKDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCkgKiAxMDApO1xyXG4gICAgICAgIGxldCBzZWxsX3ByaWNlX3N0ZXAgPSAxICsgdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENUO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxjb3VudDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHRpID0gMTtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3Rfc3RlcCA9IE1hdGgucm91bmQoMTAwICogTWF0aC5wb3coMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCwgaSkpO1xyXG4gICAgICAgICAgICBjb25zdCBzbHVtcF9wY3QgPSBNYXRoLnJvdW5kKDEwMCAqIE1hdGgucG93KDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QsIGkgKyAxKSk7XHJcbiAgICAgICAgICAgIGxldCBzdGVwX3BjdCA9IGZpcnN0X3N0ZXA7XHJcbiAgICAgICAgICAgIHdoaWxlIChzdGVwX3BjdCA+IHNsdW1wX3BjdCAmJiBzdGVwX3BjdCA+IG1heF9zbHVtcF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtpZHggKyAxXSA9IHRoaXMuR2VuZXJhdGVPbmVSb3coU0dSSURfVFlQRV9OQU1FX1NUUiwgaWR4LCBzdGVwX3BjdCAvIDEwMCwgc2VsbF9wcmljZV9zdGVwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfUkVUQUlOX0NPVU5ULCB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfQUREX1BDVCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdWzBdKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5wdXNoKGlkeCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKGlkeCArIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuSXNEaXNhYmxlUm93KGlkeCArIDEpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzLnB1c2goaWR4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWxsX3ByaWNlX3N0ZXAgPSBzdGVwX3BjdCAvIDEwMDtcclxuICAgICAgICAgICAgICAgIHN0ZXBfcGN0ID0gTWF0aC5yb3VuZChmaXJzdF9zdGVwICogKDEgLSB0aSAqIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9TVEVQX1BDVCkpO1xyXG4gICAgICAgICAgICAgICAgdGkrKztcclxuICAgICAgICAgICAgICAgIGlkeCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1QzBGXHU3RjUxXHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RfYnV5ID0gdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmIChsYXN0X2J1eSA8IHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGgpIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGxhc3RfYnV5ICsgMSk7XHJcbiAgICAgICAgICAgIGxldCBsYXN0X3NlbGwgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0X3NlbGwpIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGwpO1xyXG4gICAgICAgICAgICAvL2lmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgaWYgKGZhbHNlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfcyA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGxhc3Rfc2VsbF9zLCB0cnVlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGxfcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1QzBGXHU3RjUxXHU3Njg0XHU5OTk2XHU3RjUxXHU0RTcwXHU1MTY1XHJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0X2J1eSA9IDE7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IoZmlyc3RfYnV5LCBmYWxzZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChmaXJzdF9idXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFx1NEUyRFx1N0Y1MVxyXG4gICAgICAgIGxldCBzdGFydF9pbmRleCA9IHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGg7XHJcbiAgICAgICAgaWR4ID0gMDtcclxuICAgICAgICBzZWxsX3ByaWNlX3N0ZXAgPSAxO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxjb3VudDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHRpID0gMjtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3Rfc3RlcCA9IE1hdGgucm91bmQoMTAwICogTWF0aC5wb3coMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCwgaSkpO1xyXG4gICAgICAgICAgICBjb25zdCBzbHVtcF9wY3QgPSBNYXRoLnJvdW5kKDEwMCAqIE1hdGgucG93KDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QsIGkgKyAxKSk7XHJcbiAgICAgICAgICAgIGxldCBzdGVwX3BjdCA9IE1hdGgucm91bmQoZmlyc3Rfc3RlcCAqICgxIC0gdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1NURVBfUENUKSk7XHJcbiAgICAgICAgICAgIHdoaWxlIChzdGVwX3BjdCA+IHNsdW1wX3BjdCAmJiBzdGVwX3BjdCA+IG1heF9zbHVtcF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF0gPSB0aGlzLkdlbmVyYXRlT25lUm93KE1HUklEX1RZUEVfTkFNRV9TVFIsIGlkeCArIDEsIHN0ZXBfcGN0IC8gMTAwLCBzZWxsX3ByaWNlX3N0ZXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9SRVRBSU5fQ09VTlQsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9BRERfUENUKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhzdGFydF9pbmRleCArIGlkeCkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW3N0YXJ0X2luZGV4ICsgaWR4XVswXSkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NEUyRFx1N0Y1MVx1NEU3MFx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3Ioc3RhcnRfaW5kZXggKyBpZHgsIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VsbF9wcmljZV9zdGVwID0gc3RlcF9wY3QgLyAxMDA7XHJcbiAgICAgICAgICAgICAgICBzdGVwX3BjdCA9IE1hdGgucm91bmQoZmlyc3Rfc3RlcCAqICgxIC0gdGkgKiB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfU1RFUF9QQ1QpKTtcclxuICAgICAgICAgICAgICAgIHRpKys7XHJcbiAgICAgICAgICAgICAgICBpZHgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCA+IDAgJiYgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXSA+PSBzdGFydF9pbmRleClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NTM1Nlx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfbSA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IobGFzdF9zZWxsX20sIHRydWUsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnJlbW92ZShsYXN0X3NlbGxfbSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX20pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFx1NTkyN1x1N0Y1MVxyXG4gICAgICAgIHN0YXJ0X2luZGV4ID0gdGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aDtcclxuICAgICAgICBpZHggPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxjb3VudDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc2VsbF9wcmljZV9zdGVwID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnBvdygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULCBpKSkgLyAxMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0ZXBfcGN0ID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnBvdygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULCBpICsgMSkpO1xyXG4gICAgICAgICAgICBpZiAoc3RlcF9wY3QgPiBtYXhfc2x1bXBfcGN0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbc3RhcnRfaW5kZXggKyBpZHhdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhMR1JJRF9UWVBFX05BTUVfU1RSLCBpZHggKyAxLCBzdGVwX3BjdCAvIDEwMCwgc2VsbF9wcmljZV9zdGVwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfUkVUQUlOX0NPVU5ULCB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfQUREX1BDVCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc0Rpc2FibGVSb3coc3RhcnRfaW5kZXggKyBpZHgpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF1bMF0pKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTU5MjdcdTdGNTFcdTRFNzBcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKHN0YXJ0X2luZGV4ICsgaWR4LCBmYWxzZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlkeCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdID49IHN0YXJ0X2luZGV4KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1MzU2XHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9sID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihsYXN0X3NlbGxfbCwgdHJ1ZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucmVtb3ZlKGxhc3Rfc2VsbF9sKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGxfbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgR2VuZXJhdGVPbmVSb3coZ3JpZF9uYW1lOiBzdHJpbmcsIGlkeDogbnVtYmVyLCBidXlfcHJpY2Vfc3RlcDogbnVtYmVyLCBzZWxsX3ByaWNlX3N0ZXA6IG51bWJlciwgZ3JpZF9yZXRhaW5fY291bnQ6IG51bWJlciwgZ3JpZF9hZGRfcGN0OiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xyXG4gICAgICAgIGNvbnN0IGJ1eV9wcmljZSA9IEZpeGVkUHJpY2UodGhpcy50YXJnZXRfcHJpY2UsIGJ1eV9wcmljZV9zdGVwLCBwcmVjaXNpb24pO1xyXG4gICAgICAgIGNvbnN0IGJ1eV9jb3VudCA9IE15Rmxvb3IodGhpcy5ncmlkX3NldHRpbmdzLk9ORV9HUklEX0xJTUlUICogKDEgKyBpZHggKiBncmlkX2FkZF9wY3QpIC8gYnV5X3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKVxyXG5cclxuICAgICAgICBjb25zdCBzZWxsX3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgc2VsbF9wcmljZV9zdGVwLCBwcmVjaXNpb24pO1xyXG4gICAgICAgIGNvbnN0IHJldGFpbl9jb3VudCA9IChzZWxsX3ByaWNlIC0gYnV5X3ByaWNlKSAqIGJ1eV9jb3VudCAqIGdyaWRfcmV0YWluX2NvdW50O1xyXG4gICAgICAgIGNvbnN0IHNlbGxfY291bnQgPSBNeUZsb29yKChzZWxsX3ByaWNlICogYnV5X2NvdW50IC0gcmV0YWluX2NvdW50KSAvIHNlbGxfcHJpY2UsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5fQkFUQ0hfQ09VTlQpO1xyXG5cclxuICAgICAgICByZXR1cm4gW2dyaWRfbmFtZSArIFN0cmluZyhpZHgpLCBUb1BlcmNlbnQoYnV5X3ByaWNlX3N0ZXApLCAoYnV5X3ByaWNlICsgdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKHByZWNpc2lvbiksIFxyXG4gICAgICAgICAgICAgICAgYnV5X3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSwgU3RyaW5nKGJ1eV9jb3VudCksIFN0cmluZyhNYXRoLmNlaWwoYnV5X3ByaWNlICogYnV5X2NvdW50KSksXHJcbiAgICAgICAgICAgICAgICAoc2VsbF9wcmljZSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUklHR0VSX0FERF9QT0lOVCkudG9GaXhlZChwcmVjaXNpb24pLCBzZWxsX3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZyhzZWxsX2NvdW50KSwgU3RyaW5nKE1hdGguY2VpbChzZWxsX3ByaWNlICogc2VsbF9jb3VudCkpLCBUb1RyYWRpbmdHYXAoc2VsbF9wcmljZSwgYnV5X3ByaWNlLCAxKSxcclxuICAgICAgICAgICAgICAgIFRvVHJhZGluZ0dhcChidXlfcHJpY2UsIHNlbGxfcHJpY2UsIDEpXTtcclxuICAgIH1cclxuXHJcbn0iLCAiLypcclxuICAgIFx1N0Y1MVx1NjgzQ1x1N0I1Nlx1NzU2NVx1NzY4NFx1OEJBMVx1N0I5N1x1OTAzQlx1OEY5MVx1RkYwQ1x1NkEyMVx1NUYwRjNcclxuICAgIFx1NzI3OVx1NkI4QVx1NTM4Nlx1NTNGMlx1NTM5Rlx1NTZFMFx1NUUyNlx1Njc2NVx1NzY4NFx1NEUwMFx1NEU5Qlx1N0Y1MVx1NjgzQ1x1N0I1Nlx1NzU2NVx1RkYwQ1x1OTcwMFx1ODk4MVx1NjI0Qlx1NTJBOFx1OEJCRVx1N0Y2RVx1N0Y1MVx1NjgzQ1x1NkJDRlx1NEUyQVx1NjgzQ1x1NUI1MFx1NzY4NFx1NkI2NVx1OEZEQlx1NTAzQ1xyXG4qL1xyXG5cclxuaW1wb3J0IHsgTXlGbG9vciwgTXlDZWlsLCBUb1BlcmNlbnQsIFRvTnVtYmVyLCBUb1RyYWRpbmdHYXAsIEZpeGVkUHJpY2UgfSBmcm9tIFwiLi9teW1hdGhcIjtcclxuaW1wb3J0IHsgUGx1Z2luRW52IH0gZnJvbSBcIi4vcGx1Z2luX2VudlwiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZyB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkVHJhZGluZ01vZGVUaHJlZSBleHRlbmRzIEdyaWRUcmFkaW5nIFxyXG57XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbl9lbnY6IFBsdWdpbkVudilcclxuICAgIHtcclxuICAgICAgICBzdXBlcihwbHVnaW5fZW52KVxyXG4gICAgICAgIHRoaXMubW9kZV90eXBlID0gXCJUaHJlZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIEluaXRHcmlkVHJhZGluZyhkYXRhOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuUGFyc2VSYXdEYXRhKGRhdGEpIHx8IHRoaXMuaXNfZW1wdHkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEdyaWRQYXJhbSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0U3RvY2tUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEhvbGRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nSW5jb21lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLlNvcnRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlUmVtb3RlUHJpY2UocmVtb3RlX3ByaWNlOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA9IHJlbW90ZV9wcmljZTtcclxuICAgICAgICBpZiAodGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA+IDAgJiYgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSAhPSB0aGlzLmN1cnJlbnRfcHJpY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfcHJpY2UgPSB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlO1xyXG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEdyaWRQYXJhbSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0U3RvY2tUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEhvbGRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nSW5jb21lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLlNvcnRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdFRyYWRpbmdUYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzID0gW11cclxuICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzID0gW11cclxuICAgICAgICB0aGlzLmRpc2FibGVfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlID0gW11cclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbMF0gPSBbXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTRFNzBcdTUxNjVcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTUzNTZcdTUxRkFcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTkxRDFcdTk4OURcIiwgXCJcdTc2RjhcdTVCRjlcdThEQ0NcdTVFNDVcIiwgXCJcdTc2RjhcdTVCRjlcdTZEQThcdTVFNDVcIl07XHJcblxyXG4gICAgICAgIGNvbnN0IG1heF9yaXNlX3BjdCA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1Q7XHJcbiAgICAgICAgbGV0IGdyaWRfc2VsbF9wY3QgPSAxLjAgKyB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1RcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMuc2dyaWRfc3RlcF90YWJsZS5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRfYnV5X3BjdCA9IFRvTnVtYmVyKHRoaXMuc2dyaWRfc3RlcF90YWJsZVtpZHhdWzFdKVxyXG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbaWR4ICsgMV0gPSB0aGlzLkdlbmVyYXRlT25lUm93KHRoaXMuc2dyaWRfc3RlcF90YWJsZVtpZHhdWzBdLCBncmlkX2J1eV9wY3QsIGdyaWRfc2VsbF9wY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyKHRoaXMuc2dyaWRfc3RlcF90YWJsZVtpZHhdWzJdKSwgTnVtYmVyKHRoaXMuc2dyaWRfc3RlcF90YWJsZVtpZHhdWzNdKSk7XHJcbiAgICAgICAgICAgIGdyaWRfc2VsbF9wY3QgPSBncmlkX2J1eV9wY3Q7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodGhpcy5Jc0Rpc2FibGVSb3coaWR4ICsgMSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzLnB1c2goaWR4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtpZHggKyAxXVswXSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goaWR4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucHVzaChpZHggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NUMwRlx1N0Y1MVxyXG4gICAgICAgICAgICBjb25zdCBsYXN0X2J1eSA9IHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzW3RoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAobGFzdF9idXkgPCB0aGlzLnNncmlkX3N0ZXBfdGFibGUubGVuZ3RoKSB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChsYXN0X2J1eSArIDEpO1xyXG4gICAgICAgICAgICBsZXQgbGFzdF9zZWxsID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnBvcCgpO1xyXG4gICAgICAgICAgICBpZiAobGFzdF9zZWxsKSB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsKTtcclxuICAgICAgICAgICAgLy9pZiAodGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgIGlmIChmYWxzZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdF9zZWxsX3MgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihsYXN0X3NlbGxfcywgdHJ1ZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NUMwRlx1N0Y1MVx1NzY4NFx1OTk5Nlx1N0Y1MVx1NEU3MFx1NTE2NVxyXG4gICAgICAgICAgICBjb25zdCBmaXJzdF9idXkgPSAxO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGZpcnN0X2J1eSwgZmFsc2UsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goZmlyc3RfYnV5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3RhcnRfaW5kZXggPSB0aGlzLnNncmlkX3N0ZXBfdGFibGUubGVuZ3RoICsgMTtcclxuICAgICAgICBncmlkX3NlbGxfcGN0ID0gMS4wICsgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1NURVBfUENUO1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5tZ3JpZF9zdGVwX3RhYmxlLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZF9idXlfcGN0ID0gVG9OdW1iZXIodGhpcy5tZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMV0pXHJcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF0gPSB0aGlzLkdlbmVyYXRlT25lUm93KHRoaXMubWdyaWRfc3RlcF90YWJsZVtpZHhdWzBdLCBncmlkX2J1eV9wY3QsIGdyaWRfc2VsbF9wY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyKHRoaXMubWdyaWRfc3RlcF90YWJsZVtpZHhdWzJdKSwgTnVtYmVyKHRoaXMubWdyaWRfc3RlcF90YWJsZVtpZHhdWzNdKSk7XHJcbiAgICAgICAgICAgIGdyaWRfc2VsbF9wY3QgPSBncmlkX2J1eV9wY3Q7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhzdGFydF9pbmRleCArIGlkeCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbc3RhcnRfaW5kZXggKyBpZHhdWzBdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTRFMkRcdTdGNTFcdTRFNzBcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3Ioc3RhcnRfaW5kZXggKyBpZHgsIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdID49IHN0YXJ0X2luZGV4KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1MzU2XHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9tID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihsYXN0X3NlbGxfbSwgdHJ1ZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucmVtb3ZlKGxhc3Rfc2VsbF9tKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGxfbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3RhcnRfaW5kZXggPSB0aGlzLnNncmlkX3N0ZXBfdGFibGUubGVuZ3RoICsgdGhpcy5tZ3JpZF9zdGVwX3RhYmxlLmxlbmd0aCArIDE7XHJcbiAgICAgICAgZ3JpZF9zZWxsX3BjdCA9IDEuMCArIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVDtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMubGdyaWRfc3RlcF90YWJsZS5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRfYnV5X3BjdCA9IFRvTnVtYmVyKHRoaXMubGdyaWRfc3RlcF90YWJsZVtpZHhdWzFdKVxyXG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbc3RhcnRfaW5kZXggKyBpZHhdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyh0aGlzLmxncmlkX3N0ZXBfdGFibGVbaWR4XVswXSwgZ3JpZF9idXlfcGN0LCBncmlkX3NlbGxfcGN0LFxyXG4gICAgICAgICAgICAgICAgICAgIE51bWJlcih0aGlzLmxncmlkX3N0ZXBfdGFibGVbaWR4XVsyXSksIE51bWJlcih0aGlzLmxncmlkX3N0ZXBfdGFibGVbaWR4XVszXSkpO1xyXG4gICAgICAgICAgICBncmlkX3NlbGxfcGN0ID0gZ3JpZF9idXlfcGN0O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5Jc0Rpc2FibGVSb3coc3RhcnRfaW5kZXggKyBpZHgpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW3N0YXJ0X2luZGV4ICsgaWR4XVswXSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1OTI3XHU3RjUxXHU0RTcwXHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKHN0YXJ0X2luZGV4ICsgaWR4LCBmYWxzZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwICYmIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV0gPj0gc3RhcnRfaW5kZXgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgY29uc3QgbGFzdF9zZWxsX2wgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGxhc3Rfc2VsbF9sLCB0cnVlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5yZW1vdmUobGFzdF9zZWxsX2wpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9sKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZW5lcmF0ZU9uZVJvdyhncmlkX25hbWU6IHN0cmluZywgZ3JpZF9idXlfcGN0OiBudW1iZXIsIGdyaWRfc2VsbF9wY3Q6IG51bWJlciwgZ3JpZF9hZGRfcGN0OiBudW1iZXIsIGdyaWRfcmV0YWluX2NvdW50OiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xyXG4gICAgICAgIGNvbnN0IGJ1eV9wcmljZSA9IEZpeGVkUHJpY2UodGhpcy50YXJnZXRfcHJpY2UsIGdyaWRfYnV5X3BjdCwgcHJlY2lzaW9uKTtcclxuICAgICAgICBjb25zdCBidXlfY291bnQgPSBNeUZsb29yKHRoaXMuZ3JpZF9zZXR0aW5ncy5PTkVfR1JJRF9MSU1JVCAqICgxICsgZ3JpZF9hZGRfcGN0KSAvIGJ1eV9wcmljZSwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTl9CQVRDSF9DT1VOVClcclxuXHJcbiAgICAgICAgY29uc3Qgc2VsbF9wcmljZSA9IEZpeGVkUHJpY2UodGhpcy50YXJnZXRfcHJpY2UsIGdyaWRfc2VsbF9wY3QsIHByZWNpc2lvbik7XHJcbiAgICAgICAgY29uc3QgcmV0YWluX2NvdW50ID0gKHNlbGxfcHJpY2UgLSBidXlfcHJpY2UpICogYnV5X2NvdW50ICogZ3JpZF9yZXRhaW5fY291bnQ7XHJcbiAgICAgICAgY29uc3Qgc2VsbF9jb3VudCA9IE15Rmxvb3IoKHNlbGxfcHJpY2UgKiBidXlfY291bnQgLSByZXRhaW5fY291bnQpIC8gc2VsbF9wcmljZSwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTl9CQVRDSF9DT1VOVCk7XHJcblxyXG4gICAgICAgIHJldHVybiBbZ3JpZF9uYW1lLCBUb1BlcmNlbnQoZ3JpZF9idXlfcGN0KSwgKGJ1eV9wcmljZSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUklHR0VSX0FERF9QT0lOVCkudG9GaXhlZChwcmVjaXNpb24pLCBcclxuICAgICAgICAgICAgICAgIGJ1eV9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksIFN0cmluZyhidXlfY291bnQpLCBTdHJpbmcoTWF0aC5jZWlsKGJ1eV9wcmljZSAqIGJ1eV9jb3VudCkpLFxyXG4gICAgICAgICAgICAgICAgKHNlbGxfcHJpY2UgLSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJJR0dFUl9BRERfUE9JTlQpLnRvRml4ZWQocHJlY2lzaW9uKSwgc2VsbF9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcoc2VsbF9jb3VudCksIFN0cmluZyhNYXRoLmNlaWwoc2VsbF9wcmljZSAqIHNlbGxfY291bnQpKSwgVG9UcmFkaW5nR2FwKHNlbGxfcHJpY2UsIGJ1eV9wcmljZSwgMSksXHJcbiAgICAgICAgICAgICAgICBUb1RyYWRpbmdHYXAoYnV5X3ByaWNlLCBzZWxsX3ByaWNlLCAxKV07XHJcbiAgICB9XHJcblxyXG59IiwgIi8qXHJcbiAgICBQbHVnaW4gcnVudGltZSBkYXRhXHJcbiovXHJcblxyXG5pbXBvcnQgeyBQbHVnaW5CYXNlU2V0dGluZ3MsIEdyaWRUcmFkaW5nU2V0dGluZ3MsIFBhY2tTZXR0aW5ncywgVW5wYWNrU2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZyB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ1wiO1xyXG5pbXBvcnQgeyBEZWJ1Z0xvZyB9IGZyb20gXCIuL3JlbW90ZV91dGlsXCI7XHJcbmltcG9ydCB7IEdyaWRUcmFkaW5nTW9kZU9uZSB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ19tMVwiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZ01vZGVUd28gfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdfbTJcIjtcclxuaW1wb3J0IHsgR3JpZFRyYWRpbmdNb2RlVGhyZWUgfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdfbTNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBVUERBVEVfU1RPQ0tfU0VUVElORyA9IFwidXBkYXRlX3N0b2NrX3NldHRpbmdcIjtcclxuZXhwb3J0IGNvbnN0IEZFVENIX0NVUlJFTlRfUFJJQ0UgPSBcImZldGNoX2N1cnJlbnRfcHJpY2VcIjtcclxuXHJcbnR5cGUgQ2FsbGJhY2sgPSAoKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsdWdpbkVudlxyXG57XHJcbiAgICBpc19zZXR0aW5nc19jaGFuZ2VkOiBib29sZWFuO1xyXG4gICAgYmFzZV9zZXR0aW5nczogUGx1Z2luQmFzZVNldHRpbmdzO1xyXG4gICAgZ3JpZF9zZXR0aW5nczogR3JpZFRyYWRpbmdTZXR0aW5ncztcclxuXHJcbiAgICBncmlkX3RyYWRpbmdfZGljdDogTWFwPHN0cmluZywgR3JpZFRyYWRpbmc+O1xyXG4gICAgc3RvY2tfcmVtb3RlX3ByaWNlX2RpY3Q6IE1hcDxzdHJpbmcsIG51bWJlcj47XHJcbiAgICBldmVudF9jYWxsYmFja19kaWN0OiBNYXA8c3RyaW5nLCBNYXA8bnVtYmVyLCBDYWxsYmFjaz4+XHJcbiAgICBfZXZlbnRfZ3VpZDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmlzX3NldHRpbmdzX2NoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJhc2Vfc2V0dGluZ3MgPSBuZXcgUGx1Z2luQmFzZVNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzID0gbmV3IEdyaWRUcmFkaW5nU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmdyaWRfdHJhZGluZ19kaWN0ID0gbmV3IE1hcDxzdHJpbmcsIEdyaWRUcmFkaW5nPjtcclxuICAgICAgICB0aGlzLnN0b2NrX3JlbW90ZV9wcmljZV9kaWN0ID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj47XHJcbiAgICAgICAgdGhpcy5ldmVudF9jYWxsYmFja19kaWN0ID0gbmV3IE1hcDxzdHJpbmcsIE1hcDxudW1iZXIsIENhbGxiYWNrPj47XHJcbiAgICAgICAgdGhpcy5fZXZlbnRfZ3VpZCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0QVBJTGlzZW5jZSgpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlX3NldHRpbmdzLkRBVEFfQVBJX0xJQ0VOQ0U7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0U3RvY2tSZW1vdGVQcmljZShzdG9ja19ubzogc3RyaW5nKTogbnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcHJpY2UgPSB0aGlzLnN0b2NrX3JlbW90ZV9wcmljZV9kaWN0LmdldChzdG9ja19ubyk7XHJcbiAgICAgICAgaWYgKHByaWNlICE9IHVuZGVmaW5lZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcmljZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZXRHcmlkVHJhZGluZ1R5cGVCeVN0cmluZyhtb2RlOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKG1vZGUgPT0gXCJtb2RlX3R3b1wiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIkdldEdyaWRUcmFkaW5nVHlwZUJ5U3RyaW5nIHJldHVybiBUd28gXCIsIG1vZGUpXHJcbiAgICAgICAgICAgIHJldHVybiBHcmlkVHJhZGluZ01vZGVUd287XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtb2RlID09IFwibW9kZV90aHJlZVwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIkdldEdyaWRUcmFkaW5nVHlwZUJ5U3RyaW5nIHJldHVybiBUaHJlZSBcIiwgbW9kZSlcclxuICAgICAgICAgICAgcmV0dXJuIEdyaWRUcmFkaW5nTW9kZVRocmVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBcdTlFRDhcdThCQTRcdTRGN0ZcdTc1MjhcdTZBMjFcdTVGMEYxXHJcbiAgICAgICAgLy9EZWJ1Z0xvZyhcIkdldEdyaWRUcmFkaW5nVHlwZUJ5U3RyaW5nIHJldHVybiBPbmUgXCIsIG1vZGUpXHJcbiAgICAgICAgcmV0dXJuIEdyaWRUcmFkaW5nTW9kZU9uZTtcclxuICAgIH1cclxuXHJcbiAgICBHZXRBbmRHZW5HcmlkVHJhZGluZyhncmlkX25hbWU6IHN0cmluZywgbW9kZTogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBncmlkX3RyYWRpbmcgPSB0aGlzLmdyaWRfdHJhZGluZ19kaWN0LmdldChncmlkX25hbWUpXHJcbiAgICAgICAgY29uc3QgdHJhZGluZ19tb2RlID0gdGhpcy5HZXRHcmlkVHJhZGluZ1R5cGVCeVN0cmluZyhtb2RlKVxyXG4gICAgICAgIGlmIChncmlkX3RyYWRpbmcgaW5zdGFuY2VvZiB0cmFkaW5nX21vZGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZ3JpZF90cmFkaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBncmlkX3RyYWRpbmcgPSBuZXcgdHJhZGluZ19tb2RlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZ3JpZF90cmFkaW5nX2RpY3Quc2V0KGdyaWRfbmFtZSwgZ3JpZF90cmFkaW5nKTtcclxuICAgICAgICByZXR1cm4gZ3JpZF90cmFkaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIFVuc2VyaWFsaXplZFNldHRpbmdzKGRhdGE6IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICBjb25zdCBsaW5lcyA9IGRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA8PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFVucGFja1NldHRpbmdzKHRoaXMuYmFzZV9zZXR0aW5ncywgbGluZXMpO1xyXG4gICAgICAgIFVucGFja1NldHRpbmdzKHRoaXMuZ3JpZF9zZXR0aW5ncywgbGluZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIFNlcmlhbGl6ZWRTZXR0aW5ncygpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gUGFja1NldHRpbmdzKHRoaXMuYmFzZV9zZXR0aW5ncykgKyBQYWNrU2V0dGluZ3ModGhpcy5ncmlkX3NldHRpbmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBQdWJsaXNoRXZlbnQoZXZlbnRfbmFtZTogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIC8vRGVidWdMb2coXCJQdWJsaXNoRXZlbnQ6IFwiLCBldmVudF9uYW1lKTtcclxuICAgICAgICBjb25zdCBjYl9kaWN0ID0gdGhpcy5ldmVudF9jYWxsYmFja19kaWN0LmdldChldmVudF9uYW1lKVxyXG4gICAgICAgIGlmIChjYl9kaWN0ID09IHVuZGVmaW5lZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgW2d1aWQsIGV2ZW50X2NiXSBvZiBjYl9kaWN0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHJ5XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vRGVidWdMb2coXCJUcmlnZ2VyRXZlbnRDYiBndWlkOiBcIiwgZ3VpZCwgXCIgY2I6IFwiLCBldmVudF9jYi5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50X2NiKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2goZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFN1YnNjcmliZUV2ZW50KGV2ZW50X25hbWU6IHN0cmluZywgZXZlbnRfY2I6IENhbGxiYWNrKTogbnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgZ3VpZCA9IHRoaXMuR2VuR1VJRCgpO1xyXG4gICAgICAgIGxldCBjYl9kaWN0ID0gdGhpcy5ldmVudF9jYWxsYmFja19kaWN0LmdldChldmVudF9uYW1lKTtcclxuICAgICAgICBpZiAoY2JfZGljdCA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYl9kaWN0ID0gbmV3IE1hcDxudW1iZXIsIENhbGxiYWNrPjtcclxuICAgICAgICAgICAgdGhpcy5ldmVudF9jYWxsYmFja19kaWN0LnNldChldmVudF9uYW1lLCBjYl9kaWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2JfZGljdC5zZXQoZ3VpZCwgZXZlbnRfY2IpO1xyXG4gICAgICAgIC8vRGVidWdMb2coXCJTdWJzY3JpYmVFdmVudDogXCIsIGV2ZW50X25hbWUsIFwiIGd1aWQ6IFwiLCBndWlkLCBcIiBjYjogXCIsIGV2ZW50X2NiLm5hbWUpO1xyXG4gICAgICAgIHJldHVybiBndWlkO1xyXG4gICAgfVxyXG5cclxuICAgIFVuc3Vic2NyaWJlRXZlbnQoZXZlbnRfbmFtZTogc3RyaW5nLCBldmVudF9ndWlkOiBudW1iZXIpOiBib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgY2JfZGljdCA9IHRoaXMuZXZlbnRfY2FsbGJhY2tfZGljdC5nZXQoZXZlbnRfbmFtZSlcclxuICAgICAgICBpZiAoY2JfZGljdCA9PSB1bmRlZmluZWQgfHwgIWNiX2RpY3QuaGFzKGV2ZW50X2d1aWQpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL0RlYnVnTG9nKFwiVW5zdWJzY3JpYmVFdmVudDogXCIsIGV2ZW50X25hbWUsIFwiIGd1aWQ6IFwiLCBldmVudF9ndWlkKTtcclxuICAgICAgICByZXR1cm4gY2JfZGljdC5kZWxldGUoZXZlbnRfZ3VpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgR2VuR1VJRCgpOiBudW1iZXJcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9ldmVudF9ndWlkKys7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50X2d1aWQ7XHJcbiAgICB9XHJcbn1cclxuIiwgIi8qXHJcbiAgICBcdTU5MDRcdTc0MDZcdTY0Q0RcdTRGNUNcdTYzMDdcdTRFRTRcdUZGMENcdThEMUZcdThEMjNcdTg5RTNcdTY3OTBcdTUxODVcdTVCQjlcdTVFNzZcdTc1MUZcdTYyMTBcdTY4M0NcdTVGMEZcdTUzMTZcdTdFRDNcdTY3OUNcclxuKi9cclxuXHJcbmltcG9ydCB7IHN1YnNjcmliZSB9IGZyb20gXCJkaWFnbm9zdGljc19jaGFubmVsXCI7XHJcbmltcG9ydCB7IElzTnVtZXJpYyB9IGZyb20gXCIuL215bWF0aFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRDb21tYW5kXHJcbntcclxuICAgIGNvbW1hbmQ6IHN0cmluZztcclxuICAgIGNvbW1hbmRfdHlwZTogc3RyaW5nO1xyXG4gICAgY29tbWFuZF9wYXJhbTE6IHN0cmluZztcclxuICAgIGNvbW1hbmRfcGFyYW0yOiBhbnk7IFxyXG4gICAgZGF0YV9yZXN1bHRfc3RyOiBzdHJpbmc7XHJcbiAgICBkYXRhX3Jlc3VsdF9udW06IG51bWJlcjtcclxuICAgIGVycm9yX2NvZGU6IG51bWJlcjtcclxuICAgIGVycm9yX21zZzogc3RyaW5nO1xyXG4gICAgcmF3X2NvbW1hbmRfdGV4dDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmNvbW1hbmQgPSBcIm5vbmVcIjtcclxuICAgICAgICB0aGlzLmNvbW1hbmRfdHlwZSA9IFwiZ3JpZFwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gRXhjdXRlR3JpZENvbW1hbmQoY21kX3N0cjogc3RyaW5nKTogR3JpZENvbW1hbmRcclxue1xyXG4gICAgY29uc3Qgc3RycyA9IGNtZF9zdHIuc3BsaXQoXCIgXCIpO1xyXG4gICAgY29uc3QgY29tbWFuZCA9IG5ldyBHcmlkQ29tbWFuZCgpO1xyXG4gICAgY29tbWFuZC5jb21tYW5kID0gc3Ryc1swXTtcclxuICAgIGNvbW1hbmQucmF3X2NvbW1hbmRfdGV4dCA9IGNtZF9zdHI7XHJcbiAgICBpZiAoY29tbWFuZC5jb21tYW5kID09IFwiYWRkX3JlY29yZFwiKVxyXG4gICAge1xyXG4gICAgICAgIGNvbW1hbmQuY29tbWFuZF9wYXJhbTEgPSBzdHJzWzFdO1xyXG4gICAgICAgIEFkZEdyaWRSZWNvcmQoY29tbWFuZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoY29tbWFuZC5jb21tYW5kID09IFwiZGVsX3JlY29yZFwiKVxyXG4gICAge1xyXG4gICAgICAgIGNvbW1hbmQuY29tbWFuZF9wYXJhbTEgPSBzdHJzWzFdO1xyXG4gICAgICAgIERlbEdyaWRSZWNvcmQoY29tbWFuZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29tbWFuZDtcclxufVxyXG5cclxuZnVuY3Rpb24gQWRkR3JpZFJlY29yZChjb21tYW5kOiBHcmlkQ29tbWFuZClcclxue1xyXG4gICAgY29uc3Qgc3ViX3N0cnMgPSBjb21tYW5kLmNvbW1hbmRfcGFyYW0xLnNwbGl0KFwiLFwiKTtcclxuICAgIGlmIChzdWJfc3Rycy5sZW5ndGggIT0gNSlcclxuICAgIHtcclxuICAgICAgICBjb21tYW5kLmVycm9yX2NvZGUgPSAtMTtcclxuICAgICAgICBjb21tYW5kLmVycm9yX21zZyA9IFwiaW52YWxpZCBwYXJhbVwiXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHN1Yl9zdHJzWzBdICE9IFwiQlVZXCIgJiYgc3ViX3N0cnNbMF0gIT0gXCJTRUxMXCIgJiYgc3ViX3N0cnNbMF0gIT0gXCJTSEFSRVwiKVxyXG4gICAge1xyXG4gICAgICAgIGNvbW1hbmQuZXJyb3JfY29kZSA9IC0xO1xyXG4gICAgICAgIGNvbW1hbmQuZXJyb3JfbXNnID0gXCJpbnZhbGlkIHBhcmFtXCJcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoIXN1Yl9zdHJzWzJdLnN0YXJ0c1dpdGgoXCJcdTVDMEZcdTdGNTFcIikgJiYgIXN1Yl9zdHJzWzJdLnN0YXJ0c1dpdGgoXCJcdTRFMkRcdTdGNTFcIikgJiYgIXN1Yl9zdHJzWzJdLnN0YXJ0c1dpdGgoXCJcdTU5MjdcdTdGNTFcIikgJiYgIXN1Yl9zdHJzWzJdLnN0YXJ0c1dpdGgoXCJcdTdFQTJcdTUyMjlcIikgJiYgIXN1Yl9zdHJzWzJdLnN0YXJ0c1dpdGgoXCJcdTUyMjlcdTZEQTZcIikpXHJcbiAgICB7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9jb2RlID0gLTE7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9tc2cgPSBcImludmFsaWQgcGFyYW1cIlxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbW1hbmQuZXJyb3JfY29kZSA9IDA7XHJcbiAgICBjb21tYW5kLmRhdGFfcmVzdWx0X3N0ciA9IFwiXFxuXCIgKyBjb21tYW5kLmNvbW1hbmRfcGFyYW0xO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERlbEdyaWRSZWNvcmQoY29tbWFuZDogR3JpZENvbW1hbmQpXHJcbntcclxuICAgIGlmIChJc051bWVyaWMoY29tbWFuZC5jb21tYW5kX3BhcmFtMSkpXHJcbiAgICB7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9jb2RlID0gMDtcclxuICAgICAgICBjb21tYW5kLmRhdGFfcmVzdWx0X251bSA9IE51bWJlcihjb21tYW5kLmNvbW1hbmRfcGFyYW0xKVxyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICAgIGNvbW1hbmQuZXJyb3JfY29kZSA9IC0xO1xyXG4gICAgICAgIGNvbW1hbmQuZXJyb3JfbXNnID0gXCJpbnZhbGlkIHBhcmFtXCI7XHJcbiAgICB9XHJcbn0iLCAiLypcclxuICAgIFx1N0Y1MVx1NjgzQ1x1N0I1Nlx1NzU2NVx1NzY4NFx1NjAzQlx1ODlDOFx1ODlDNlx1NTZGRVxyXG4qL1xyXG5pbXBvcnQgeyBUZXh0RmlsZVZpZXcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBURm9sZGVyLCBWYXVsdCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBHUklEX0NPTE9SX1NUT0NLX09WRVJWSUVXLCBHUklEX0NPTE9SX1RBQkxFX1RJVExFLCBHUklEX0NPTE9SX0JVWV9PVkVSVklFVywgR1JJRF9DT0xPUl9TRUxMX09WRVJWSUVXIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgR3JpZFRyYWRpbmcgfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdcIjtcclxuaW1wb3J0IHsgUGx1Z2luRW52LCBGRVRDSF9DVVJSRU5UX1BSSUNFIH0gZnJvbSBcIi4vcGx1Z2luX2VudlwiO1xyXG5pbXBvcnQgeyBTdHJpbmdQbHVzLCBUb1BlcmNlbnQsIFRvVHJhZGluZ0dhcCwgUHJvcG9ydGlvblBjdFN0ciB9IGZyb20gXCIuL215bWF0aFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9HVE8gPSBcImd0by12aWV3XCJcclxuXHJcbmV4cG9ydCBjbGFzcyBHVE9WaWV3IGV4dGVuZHMgVGV4dEZpbGVWaWV3XHJcbntcclxuICAgIGRhdGE6IHN0cmluZztcclxuICAgIHZhdWx0OiBWYXVsdDtcclxuICAgIHBsdWdpbl9lbnY6IFBsdWdpbkVudjtcclxuICAgIHJlZnJlc2hfZXZlbnRfZ3VpZDogbnVtYmVyO1xyXG5cclxuICAgIGRlYnVnX2xvZzogc3RyaW5nIFtdW107XHJcbiAgICBzdG9ja19vdmVydmlldzogc3RyaW5nIFtdW107XHJcbiAgICBjdXN0b21fc3RvY2tfb3ZlcnZpZXc6IHN0cmluZyBbXVtdO1xyXG4gICAgc3RvY2tfZmlsbGVkX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcclxuICAgIGluY29tZV9vdmVydmlldzogc3RyaW5nIFtdW107XHJcbiAgICBob2xkaW5nX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcclxuICAgIG1ncmlkX2J1eV90b3RhbF9jb3N0OiBudW1iZXI7XHJcbiAgICBsZ3JpZF9idXlfdG90YWxfY29zdDogbnVtYmVyO1xyXG4gICAgYWN0aXZlX3N0b2NrX2NvdW50OiBudW1iZXI7XHJcbiAgICBjbGVhcl9zdG9ja19jb3VudDogbnVtYmVyO1xyXG5cclxuICAgIG92ZXJ2aWV3X3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIG92ZXJ2aWV3X3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGN1c3RvbV90aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBjdXN0b21fdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgZmlsbGVkX3RpbGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgZmlsbGVkX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGluY29tZV90aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBpbmNvbWVfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgaG9sZGluZ190aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBob2xkaW5nX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGRlYnVnX2xvZ190aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBkZWJ1Z19sb2dfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHZhdWx0OiBWYXVsdCwgcGx1Z2luX2VudjogUGx1Z2luRW52KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKGxlYWYpO1xyXG4gICAgICAgIHRoaXMudmF1bHQgPSB2YXVsdDtcclxuICAgICAgICB0aGlzLnBsdWdpbl9lbnYgPSBwbHVnaW5fZW52O1xyXG4gICAgICAgIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID0gLTE7XHJcblxyXG4gICAgICAgIHRoaXMuZGVidWdfbG9nID0gW107XHJcbiAgICAgICAgdGhpcy5zdG9ja19vdmVydmlldyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY3VzdG9tX3N0b2NrX292ZXJ2aWV3ID0gW107XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXcgPSBbXTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXcgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBSZWFkQ3VzdG9tU3RvY2soKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaG9sZGluZ19vdmVydmlldyA9IFtbXCJcdTdCNzlcdTc4MDFcdTdDN0JcdTU3OEJcIiwgXCJcdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDFcIiwgXCJcdTYzMDFcdTRFRDNcdTkxRDFcdTk4OURcIiwgXCJcdTYzMDFcdTRFRDNcdTc2QzhcdTRFOEZcIiwgXCJcdTZFMDVcdTY4M0NcdTc2QzhcdTUyMjlcIiwgXCJcdTZFMDVcdTRFRDNcdTc2QzhcdTUyMjlcIiwgXCJcdTYzMDFcdTRFRDNcdTUzNjBcdTZCRDRcIiwgXCJcdTY3MkNcdTkxRDFcdTUzNjBcdTZCRDRcIl1dXHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3LnB1c2goW1wiXHU2MDNCXHU5ODlEXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3LnB1c2goW1wiXHU1QzBGXHU3RjUxXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3LnB1c2goW1wiXHU0RTJEXHU3RjUxXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3LnB1c2goW1wiXHU1OTI3XHU3RjUxXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3LnB1c2goW1wiXHU3RDJGXHU3OUVGXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3LnB1c2goW1wiXHU4ODY1XHU0RUQzXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXcgPSBbW1wiXCIsIFwiXHU1MzYwXHU3NTI4XHU2NzJDXHU5MUQxXCIsIFwiXHU2MzAxXHU0RUQzXHU5MUQxXHU5ODlEXCIsIFwiXHU2MzAxXHU0RUQzXHU3NkM4XHU0RThGXCIsIFwiXHU2Mjk1XHU1MTY1XHU4RDQ0XHU5MUQxXCIsIFwiXHU4RDI2XHU5NzYyXHU4RDQ0XHU5MUQxXCIsIFwiXHU2Mjk1XHU1MTY1XHU3NkM4XHU0RThGXCIsIFwiXHU2Mjk1XHU1MTY1XHU0RUQzXHU0RjREXCJdXTtcclxuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldy5wdXNoKFtcIlx1N0QyRlx1NzlFRlx1N0I3OVx1NzgwMVwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIi1cIl0pO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3LnB1c2goW1wiXHU1RjUzXHU1MjREXHU2MzAxXHU0RUQzXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXcucHVzaChbXCJcdTVGNTNcdTUyNERcdTZFMDVcdTY4M0NcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCItXCJdKTtcclxuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldy5wdXNoKFtcIlx1NUY1M1x1NTI0RFx1NkUwNVx1NEVEM1wiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIi1cIl0pO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3LnB1c2goW1wiXHU1NkRFXHU4QzAzXHU2MzAxXHU0RUQzXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXcucHVzaChbXCJcdTU2REVcdThDMDNcdTZFMDVcdTY4M0NcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCItXCJdKTtcclxuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldy5wdXNoKFtcIlx1NTZERVx1OEMwM1x1NkUwNVx1NzZEOFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIi1cIl0pO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3LnB1c2goW1wiXHU2NzAwXHU1OTI3XHU2MzAxXHU0RUQzXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSk7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXcucHVzaChbXCJcdTY3MDBcdTU5MjdcdTZFMDVcdTY4M0NcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCItXCJdKTtcclxuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldy5wdXNoKFtcIlx1NjcwMFx1NTkyN1x1NkUwNVx1NzZEOFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIi1cIl0pO1xyXG4gICAgICAgIGxldCBzdG9ja190YWJsZTogc3RyaW5nIFtdW10gPSBbW0dSSURfQ09MT1JfVEFCTEVfVElUTEUsIFwiXHU2ODA3XHU3Njg0XHU0RUUzXHU1M0Y3XCIsIFwiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIFwiXHU5OTk2XHU3RjUxXHU3NkVFXHU2ODA3XHU0RUY3XCIsIFwiXHU1RjUzXHU1MjREXHU0RUY3XHU2ODNDXCIsIFwiXHU0RUY3XHU2ODNDXHU3NjdFXHU1MjA2XHU0RjREXCIsIFwiXHU2MzAxXHU0RUQzXHU4MEExXHU2NTcwXCIsIFwiXHU2RDg4XHU4MDE3XHU2NzJDXHU5MUQxXCIsIFwiXHU3NkM4XHU0RThGXHU2QkQ0XHU3Mzg3XCIsIFwiXHU1NkRFXHU4QzAzXHU0RUQzXHU0RjREXCJdXTtcclxuICAgICAgICBsZXQgYnV5X3RhYmxlOiBzdHJpbmcgW11bXSA9IFtbR1JJRF9DT0xPUl9UQUJMRV9USVRMRSwgXCJcdTY4MDdcdTc2ODRcdTRFRTNcdTUzRjdcIiwgXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTRFNzBcdTUxNjVcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdThERERcdTYyMTBcdTRFQTRcdTRFRjdcIl1dO1xyXG4gICAgICAgIGxldCBzZWxsX3RhYmxlOiBzdHJpbmcgW11bXSA9IFtbR1JJRF9DT0xPUl9UQUJMRV9USVRMRSwgXCJcdTY4MDdcdTc2ODRcdTRFRTNcdTUzRjdcIiwgXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTUzNTZcdTUxRkFcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTkxRDFcdTk4OURcIiwgXCJcdThERERcdTYyMTBcdTRFQTRcdTRFRjdcIl1dO1xyXG4gICAgICAgIGxldCBwYXNzaXZlX3RhYmxlOiBzdHJpbmcgW11bXSA9IFtbR1JJRF9DT0xPUl9UQUJMRV9USVRMRSwgXCJcdTY4MDdcdTc2ODRcdTRFRTNcdTUzRjdcIiwgXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTVGNTNcdTUyNERcdTRFRjdcdTY4M0NcIiwgXCJcdTVGNTNcdTUyNERcdThEQ0NcdTVFNDVcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTZEQThcdTVFNDVcIl1dO1xyXG4gICAgICAgIGxldCBhY3RpdmVfdGFibGU6IHN0cmluZyBbXVtdID0gW1tHUklEX0NPTE9SX1RBQkxFX1RJVExFLCBcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBcIlx1NjgwN1x1NzY4NFx1NTQwRFx1NzlGMFwiLCBcIlx1N0Y1MVx1NjgzQ1x1NzlDRFx1N0M3QlwiLCBcIlx1NEVBNFx1NjYxM1x1NjVFNVx1NjcxRlwiLCBcIlx1NEU3MFx1NTE2NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGRFx1NjU3MFwiLCBcIlx1NEU3MFx1NTE2NVx1OTFEMVx1OTg5RFwiLCBcIlx1NUY1M1x1NTI0RFx1NEVGN1x1NjgzQ1wiLCBcIlx1NjMwMVx1NEVEM1x1NjUzNlx1NzZDQVwiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGRFx1NjU3MFwiLCBcIlx1N0QyRlx1NzlFRlx1N0I3OVx1NzgwMVwiXV07XHJcbiAgICAgICAgY29uc3QgZ3JpZF9mb2xkZXIgPSB0aGlzLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCgnR3JpZFRyYWRpbmcnKTtcclxuICAgICAgICBsZXQgZ3JpZF9maWxlX25hbWVzOiBzdHJpbmcgW10gPSBbXTtcclxuICAgICAgICBpZiAoZ3JpZF9mb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXg9MDsgaW5kZXggPCBncmlkX2ZvbGRlci5jaGlsZHJlbi5sZW5ndGg7IGluZGV4KyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyaWRfZmlsZSA9IGdyaWRfZm9sZGVyLmNoaWxkcmVuW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIGlmIChncmlkX2ZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBncmlkX2ZpbGUubmFtZS5lbmRzV2l0aChcIi5ndHZcIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZF9maWxlX25hbWVzLnB1c2goZ3JpZF9maWxlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdyaWRfZmlsZV9uYW1lcy5zb3J0KCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVfc3RvY2tfY291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuY2xlYXJfc3RvY2tfY291bnQgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8Z3JpZF9maWxlX25hbWVzLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBncmlkX3RyYWRpbmcgPSB0aGlzLnBsdWdpbl9lbnYuZ3JpZF90cmFkaW5nX2RpY3QuZ2V0KGdyaWRfZmlsZV9uYW1lc1tpZHhdKTtcclxuICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZyBpbnN0YW5jZW9mIEdyaWRUcmFkaW5nICYmIGdyaWRfdHJhZGluZy5Jc1N0b2NrKCkgJiYgIWdyaWRfdHJhZGluZy5pc19kZWJ1ZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZ3JpZF90cmFkaW5nLkluaXRUcmFkaW5nT3ZlcnZpZXcoKVxyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZy5Jc01vbml0b3IoKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZV9zdG9ja19jb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZy5pc19jbGVhcilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyX3N0b2NrX2NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdG9ja190YWJsZS5wdXNoKGdyaWRfdHJhZGluZy5zdG9ja19vdmVydmlldyk7XHJcbiAgICAgICAgICAgICAgICBidXlfdGFibGUgPSBidXlfdGFibGUuY29uY2F0KGdyaWRfdHJhZGluZy5zdG9ja19idXlfb3ZlcnZpZXcpO1xyXG4gICAgICAgICAgICAgICAgc2VsbF90YWJsZSA9IHNlbGxfdGFibGUuY29uY2F0KGdyaWRfdHJhZGluZy5zdG9ja19zZWxsX292ZXJ2aWV3KTtcclxuICAgICAgICAgICAgICAgIHBhc3NpdmVfdGFibGUgPSBwYXNzaXZlX3RhYmxlLmNvbmNhdChncmlkX3RyYWRpbmcuc3RvY2tfcGFzc2l2ZV9maWxsZWRfcmVjb3JkKTtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZV90YWJsZSA9IGFjdGl2ZV90YWJsZS5jb25jYXQoZ3JpZF90cmFkaW5nLnN0b2NrX2FjdGl2ZV9maWxsZWRfcmVjb3JkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWRpbmdfaW5jb21lID0gZ3JpZF90cmFkaW5nLnRyYWRpbmdfaW5jb21lO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeDw9MTA7IGlkeCsrKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bMV0gPSBTdHJpbmdQbHVzKHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bMV0sIHRyYWRpbmdfaW5jb21lW2lkeF1bMl0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bMl0gPSBTdHJpbmdQbHVzKHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bMl0sIHRyYWRpbmdfaW5jb21lW2lkeF1bM10sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bM10gPSBTdHJpbmdQbHVzKHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bM10sIHRyYWRpbmdfaW5jb21lW2lkeF1bNl0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bNF0gPSBTdHJpbmdQbHVzKHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bNF0sIHRyYWRpbmdfaW5jb21lW2lkeF1bN10sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bNV0gPSBTdHJpbmdQbHVzKHRoaXMuaW5jb21lX292ZXJ2aWV3W2lkeF1bNV0sIHRyYWRpbmdfaW5jb21lW2lkeF1bOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhZGluZ19ob2xkaW5nID0gZ3JpZF90cmFkaW5nLmhvbGRpbmdfYW5hbHlzaXM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpZHg9MTsgaWR4PD02OyBpZHgrKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXdbaWR4XVsxXSA9IFN0cmluZ1BsdXModGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bMV0sIHRyYWRpbmdfaG9sZGluZ1tpZHhdWzJdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXdbaWR4XVsyXSA9IFN0cmluZ1BsdXModGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bMl0sIHRyYWRpbmdfaG9sZGluZ1tpZHhdWzNdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXdbaWR4XVszXSA9IFN0cmluZ1BsdXModGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bM10sIHRyYWRpbmdfaG9sZGluZ1tpZHhdWzZdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXdbaWR4XVs0XSA9IFN0cmluZ1BsdXModGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bNF0sIHRyYWRpbmdfaG9sZGluZ1tpZHhdWzddLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXdbaWR4XVs1XSA9IFN0cmluZ1BsdXModGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bNV0sIHRyYWRpbmdfaG9sZGluZ1tpZHhdWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY3VycmVudF9jb3N0ID0gTnVtYmVyKHRoaXMuaW5jb21lX292ZXJ2aWV3WzJdWzFdKTtcclxuICAgICAgICBsZXQgY3VycmVudF9ob2xkID0gTnVtYmVyKHRoaXMuaW5jb21lX292ZXJ2aWV3WzJdWzJdKTtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MTsgaWR4PD0xMDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzZdID0gVG9QZXJjZW50KE51bWJlcih0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzNdKSAvIE51bWJlcih0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzRdKSwgMik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzddICE9IFwiLVwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzddID0gVG9QZXJjZW50KGN1cnJlbnRfY29zdCAvIE51bWJlcih0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzRdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeDw9NjsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXdbaWR4XVs2XSA9IFByb3BvcnRpb25QY3RTdHIoTnVtYmVyKHRoaXMuaG9sZGluZ19vdmVydmlld1tpZHhdWzJdKSwgY3VycmVudF9ob2xkLCAyKTtcclxuICAgICAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bN10gPSBQcm9wb3J0aW9uUGN0U3RyKE51bWJlcih0aGlzLmhvbGRpbmdfb3ZlcnZpZXdbaWR4XVsxXSksIGN1cnJlbnRfY29zdCwgMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VzdG9tX3N0b2NrX292ZXJ2aWV3ID0gWy4uLnN0b2NrX3RhYmxlLCAuLi5idXlfdGFibGUsIC4uLnNlbGxfdGFibGVdO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfZmlsbGVkX292ZXJ2aWV3ID0gWy4uLnBhc3NpdmVfdGFibGUsIC4uLmFjdGl2ZV90YWJsZV07XHJcbiAgICB9XHJcblxyXG4gICAgU3VtdXBBbGxTdG9jaygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zdG9ja19vdmVydmlldyA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJcdTY4MDdcdTc2ODRcdTYwM0JcdTY1NzBcIiwgXCJcIiwgXCJcdTYzMDFcdTRFRDNcdTY4MDdcdTc2ODRcIiwgU3RyaW5nKHRoaXMuYWN0aXZlX3N0b2NrX2NvdW50KSwgXCJcdTVGODVcdTVGMDBcdTY4M0NcdTY1NzBcIiwgU3RyaW5nKHRoaXMuY2xlYXJfc3RvY2tfY291bnQpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJcdTRFNzBcdTUxNjVcdTc2RDFcdTYzQTdcIiwgXCJcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiXHU1MzU2XHU1MUZBXHU3NkQxXHU2M0E3XCIsIFwiXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIlwiLCBcIlx1NEU3MFx1NTE2NVx1NjAzQlx1OTg5RFwiLCBcIi01JVx1NEU3MFx1NTE2NVx1NjAzQlx1OTg5RFwiLCBcIi0zJVx1NEU3MFx1NTE2NVx1NjAzQlx1OTg5RFwiLCBcIiszJVx1NTM1Nlx1NTFGQVx1NjAzQlx1OTg5RFwiLCBcIis1JVx1NTM1Nlx1NTFGQVx1NjAzQlx1OTg5RFwiLCBcIlx1NTM1Nlx1NTFGQVx1NjAzQlx1OTg5RFwiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJcdTUxNjhcdTkwRThcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiXHU1QzBGXHU3RjUxXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIlx1NEUyRFx1N0Y1MVwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJcdTU5MjdcdTdGNTFcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgIGxldCBzdG9ja19jb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgYnV5X21vbml0b3JfY291bnQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IHNlbGxfbW9uaXRvcl9jb3VudDogbnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpZHg9MDsgaWR4PHRoaXMuY3VzdG9tX3N0b2NrX292ZXJ2aWV3Lmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBzdG9jayA9IHRoaXMuY3VzdG9tX3N0b2NrX292ZXJ2aWV3W2lkeF07XHJcbiAgICAgICAgICAgIGlmIChzdG9ja1swXSA9PSBHUklEX0NPTE9SX1NUT0NLX09WRVJWSUVXKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdG9ja19jb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdG9ja1swXSA9PSBHUklEX0NPTE9SX0JVWV9PVkVSVklFVylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYnV5X21vbml0b3JfY291bnQrKztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzRdWzFdID0gU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzRdWzFdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NUMwRlx1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzVdWzFdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s1XVsxXSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTRFMkRcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s2XVsxXSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbNl1bMV0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU1OTI3XHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbN11bMV0gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzddWzFdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFkaW5nX2dhcCA9IE51bWJlcihzdG9ja1s5XS5yZXBsYWNlKFwiJVwiLCBcIlwiKS5yZXBsYWNlKFwiK1wiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHRyYWRpbmdfZ2FwID4gLTMpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s0XVszXSA9IFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s0XVszXSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU1QzBGXHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s1XVszXSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbNV1bM10sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTRFMkRcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzZdWzNdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s2XVszXSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NTkyN1x1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbN11bM10gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzddWzNdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRyYWRpbmdfZ2FwID4gLTUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s0XVsyXSA9IFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s0XVsyXSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU1QzBGXHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s1XVsyXSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbNV1bMl0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTRFMkRcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzZdWzJdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s2XVsyXSwgc3RvY2tbOF0sIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTU5MjdcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzddWzJdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s3XVsyXSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RvY2tbMF0gPT0gR1JJRF9DT0xPUl9TRUxMX09WRVJWSUVXKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzZWxsX21vbml0b3JfY291bnQrKztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzRdWzZdID0gU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzRdWzZdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NUMwRlx1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzVdWzZdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s1XVs2XSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTRFMkRcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s2XVs2XSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbNl1bNl0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU1OTI3XHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbN11bNl0gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzddWzZdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFkaW5nX2dhcCA9IE51bWJlcihzdG9ja1s5XS5yZXBsYWNlKFwiJVwiLCBcIlwiKS5yZXBsYWNlKFwiK1wiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHJhZGluZ19nYXAgPCAzKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbNF1bNF0gPSBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbNF1bNF0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NUMwRlx1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbNV1bNF0gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzVdWzRdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU0RTJEXHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s2XVs0XSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbNl1bNF0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTU5MjdcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzddWzRdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s3XVs0XSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0cmFkaW5nX2dhcCA8IDUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s0XVs1XSA9IFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s0XVs1XSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU1QzBGXHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s1XVs1XSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbNV1bNV0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTRFMkRcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzZdWzVdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s2XVs1XSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NTkyN1x1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbN11bNV0gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzddWzVdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbMF1bMV0gPSBTdHJpbmcoc3RvY2tfY291bnQpO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbMV1bMV0gPSBTdHJpbmcoYnV5X21vbml0b3JfY291bnQpO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbMl1bMV0gPSBTdHJpbmcoc2VsbF9tb25pdG9yX2NvdW50KTtcclxuICAgIH1cclxuXHJcbiAgICBEZWJ1Z0xvZyhsZXZlbDogc3RyaW5nLCBsb2dfc3RyOiBzdHJpbmcsIGV4dHJhX2luZm86IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRlYnVnX2xvZy5wdXNoKFtsZXZlbCwgbG9nX3N0ciwgZXh0cmFfaW5mb10pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZpZXdEYXRhKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Vmlld0RhdGEoZGF0YTogc3RyaW5nLCBjbGVhcjogYm9vbGVhbik6IHZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuUmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZpZXdUeXBlKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBWSUVXX1RZUEVfR1RPO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBvbk9wZW4oKTogUHJvbWlzZTx2b2lkPiBcclxuICAgIHtcclxuICAgICAgICBsZXQgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5vdmVydmlld190aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMub3ZlcnZpZXdfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5jdXN0b21fdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLmN1c3RvbV90YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmZpbGxlZF90aWxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5maWxsZWRfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIilcclxuICAgICAgICB0aGlzLmRlYnVnX2xvZ190aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMuZGVidWdfbG9nX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID0gdGhpcy5wbHVnaW5fZW52LlN1YnNjcmliZUV2ZW50KEZFVENIX0NVUlJFTlRfUFJJQ0UsICgpPT50aGlzLlJlZnJlc2goKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFzeW5jIG9uQ2xvc2UoKTogUHJvbWlzZTx2b2lkPlxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY29udGVudEVsLmVtcHR5KCk7ICBcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5yZWZyZXNoX2V2ZW50X2d1aWQgPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW5fZW52LlVuc3Vic2NyaWJlRXZlbnQoRkVUQ0hfQ1VSUkVOVF9QUklDRSwgdGhpcy5yZWZyZXNoX2V2ZW50X2d1aWQpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBSZWZyZXNoKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLlJlYWRDdXN0b21TdG9jaygpO1xyXG4gICAgICAgIHRoaXMuU3VtdXBBbGxTdG9jaygpO1xyXG4gICAgICAgIC8vIFx1NjgwN1x1NzY4NFx1NjAzQlx1ODlDOFxyXG4gICAgICAgIHRoaXMub3ZlcnZpZXdfdGl0bGVfZWwuc2V0VGV4dChcIlx1N0Y1MVx1NjgzQ1x1NjAzQlx1ODlDOFwiKTtcclxuICAgICAgICB0aGlzLm92ZXJ2aWV3X3RhYmxlX2VsLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUodGhpcy5vdmVydmlld190YWJsZV9lbCwgdGhpcy5zdG9ja19vdmVydmlldywgZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBcdTYzMDFcdTRFRDNcdTUyMDZcdTY3OTBcclxuICAgICAgICB0aGlzLmhvbGRpbmdfdGl0bGVfZWwuc2V0VGV4dChcIlx1NjMwMVx1NEVEM1x1NTIwNlx1Njc5MFwiKTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZSh0aGlzLmhvbGRpbmdfdGFibGVfZWwsIHRoaXMuaG9sZGluZ19vdmVydmlldywgZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBcdTc2QzhcdTRFOEZcdTYwM0JcdTg5QzhcclxuICAgICAgICB0aGlzLmluY29tZV90aXRsZV9lbC5zZXRUZXh0KFwiXHU3NkM4XHU0RThGXHU2MDNCXHU4OUM4XCIpO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX3RhYmxlX2VsLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUodGhpcy5pbmNvbWVfdGFibGVfZWwsIHRoaXMuaW5jb21lX292ZXJ2aWV3LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIFx1NjgwN1x1NzY4NFx1NEZFMVx1NjA2RlxyXG4gICAgICAgIHRoaXMuY3VzdG9tX3RpdGxlX2VsLnNldFRleHQoXCJcdTYyMTFcdTc2ODRcdTdGNTFcdTY4M0NcIik7XHJcbiAgICAgICAgdGhpcy5jdXN0b21fdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZSh0aGlzLmN1c3RvbV90YWJsZV9lbCwgdGhpcy5jdXN0b21fc3RvY2tfb3ZlcnZpZXcsIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBcdTg4NjVcdTRFRDMvXHU1MkEwXHU0RUQzXHU0RkUxXHU2MDZGXHJcbiAgICAgICAgdGhpcy5maWxsZWRfdGlsZV9lbC5zZXRUZXh0KFwiXHU4ODY1XHU0RUQzXHU0RkUxXHU2MDZGXCIpO1xyXG4gICAgICAgIHRoaXMuZmlsbGVkX3RhYmxlX2VsLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUodGhpcy5maWxsZWRfdGFibGVfZWwsIHRoaXMuc3RvY2tfZmlsbGVkX292ZXJ2aWV3LCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gXHU4QzAzXHU4QkQ1XHU0RkUxXHU2MDZGXHJcbiAgICAgICAgLy8gdGhpcy5kZWJ1Z19sb2dfdGl0bGVfZWwuc2V0VGV4dChcIlx1OEMwM1x1OEJENVx1NjVFNVx1NUZEN1wiKTtcclxuICAgICAgICAvLyB0aGlzLmRlYnVnX2xvZ190YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIC8vIHRoaXMuRGlzcGxheVRhYmxlKHRoaXMuZGVidWdfbG9nX3RhYmxlX2VsLCB0aGlzLmRlYnVnX2xvZywgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIERpc3BsYXlUYWJsZSh0YWJsZV9lbDogSFRNTEVsZW1lbnQsIHRhYmxlOiBzdHJpbmdbXVtdLCBpc19jb2xvcjogYm9vbGVhbilcclxuICAgIHtcclxuICAgICAgICBjb25zdCB0YWJsZV9ib2R5ID0gdGFibGVfZWwuY3JlYXRlRWwoXCJ0Ym9keVwiKTtcclxuICAgICAgICB0YWJsZS5mb3JFYWNoKChyb3csIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFibGVfcm93ID0gdGFibGVfYm9keS5jcmVhdGVFbChcInRyXCIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCBqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNfY29sb3IpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPiAwKSBcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlX3Jvdy5jcmVhdGVFbChcInRkXCIsIHsgdGV4dDogY2VsbCwgYXR0cjoge1wiYmdDb2xvclwiOiB0YWJsZVtpXVswXSwgXCJhbGlnblwiOiBcInJpZ2h0XCJ9fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlX3Jvdy5jcmVhdGVFbChcInRkXCIsIHsgdGV4dDogY2VsbCwgYXR0cjoge1wiYWxpZ25cIjogXCJyaWdodFwifX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsICIvKlxyXG4gICAgQ29ycmVsYXRpb246IFx1NzZGOFx1NTE3M1x1NjAyN1x1N0NGQlx1NjU3MFx1ODlDNlx1NTZGRVxyXG4gICAgXHU1QzU1XHU3OTNBXHU1OTFBXHU0RTJBXHU2ODA3XHU3Njg0XHU0RTI0XHU0RTI0XHU5NUY0XHU3Njg0XHU2REE4XHU4RENDXHU4RDcwXHU1MkJGXHU3NkY4XHU1MTczXHU2MDI3XHJcbiovXHJcblxyXG5pbXBvcnQgeyBUZXh0RmlsZVZpZXcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBURm9sZGVyLCBWYXVsdCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9DT1IgPSBcImNvci12aWV3XCJcclxuXHJcbmV4cG9ydCBjbGFzcyBDb3JWaWV3IGV4dGVuZHMgVGV4dEZpbGVWaWV3XHJcbntcclxuICAgIGRhdGFfZWw6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIobGVhZik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9DT1I7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Vmlld0RhdGEoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRWaWV3RGF0YShkYXRhOiBzdHJpbmcsIGNsZWFyOiBib29sZWFuKTogdm9pZCBcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuUmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBcIlwiOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4gXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuZGF0YV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBvbkNsb3NlKCk6IFByb21pc2U8dm9pZD5cclxuICAgIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIFJlZnJlc2goKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGF0YV9lbC5zZXRUZXh0KHRoaXMuZGF0YSk7XHJcbiAgICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBcURBLFdBQU8sZUFBZSxTQUFTLGNBQWMs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QixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksV0FBVztBQUMxQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksUUFBUTtBQUN4QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksV0FBVztBQUMzQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUUvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksWUFBWTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksV0FBVztBQUMzQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksWUFBWTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUss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LGdCQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUNwRSxTQUFLLGlCQUFpQixLQUFLLENBQUMsZ0JBQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssR0FBRyxDQUFDO0FBQ3BFLFNBQUssaUJBQWlCLEtBQUssQ0FBQyxnQkFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHLENBQUM7QUFDcEUsU0FBSyxpQkFBaUIsS0FBSyxDQUFDLGdCQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUNwRSxTQUFLLGtCQUFrQixDQUFDLENBQUMsSUFBSSw0QkFBUSw0QkFBUSw0QkFBUSw0QkFBUSw0QkFBUSw0QkFBUSwwQkFBTSxDQUFDO0FBQ3BGLFNBQUssZ0JBQWdCLEtBQUssQ0FBQyw0QkFBUSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHLENBQUM7QUFDckUsU0FBSyxnQkFBZ0IsS0FBSyxDQUFDLDRCQUFRLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUNyRSxTQUFLLGdCQUFnQixLQUFLLENBQUMsNEJBQVEsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssR0FBRyxDQUFDO0FBQ3JFLFNBQUssZ0JBQWdCLEtBQUssQ0FBQyw0QkFBUSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHLENBQUM7QUFDckUsU0FBSyxnQkFBZ0IsS0FBSyxDQUFDLDRCQUFRLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUNyRSxTQUFLLGdCQUFnQixLQUFLLENBQUMsNEJBQVEsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssR0FBRyxDQUFDO0FBQ3JFLFNBQUssZ0JBQWdCLEtBQUssQ0FBQyw0QkFBUSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHLENBQUM7QUFDckUsU0FBSyxnQkFBZ0IsS0FBSyxDQUFDLDRCQUFR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QUFNLFdBQVcsS0FBSyxZQUFZLFNBQVMsS0FBSztBQUNoRCxhQUFTLFNBQVMsSUFBSSxFQUFFLFFBQVEsMEJBQU07QUFDdEMsUUFBSTtBQUNKLFNBQUssT0FBTyxLQUFLLFdBQVcsZUFDNUI7QUFDSSxZQUFNLFdBQVcsYUFBYSxJQUFJLEdBQUc7QUFDckMsVUFBSSxZQUFZLFFBQ2hCO0FBQ0ksY0FBTSxVQUFVLElBQUkseUJBQVEsUUFBUSxFQUFFLFFBQVEsUUFBUTtBQUN0RCxnQkFBUSxRQUFRLENBQUMsV0FBVyxjQUFZLFFBQVE7QUFDNUMsbUJBQVMscUJBQXFCLFdBQVc7QUFDekMsb0JBQVUsU0FBUyxPQUFPLGdCQUFnQixLQUFLLFdBQVcsZUFBZSxXQUFXLENBQUMsQ0FBQztBQUN0RixvQkFBVSxTQUFTLENBQUMsVUFBa0I7QUFDOUIsNEJBQWdCLEtBQUssV0FBVyxlQUFlLGFBQWEsT0FBTyxLQUFLLENBQUM7QUFDekUscUJBQVMscUJBQXFCLGFBQWEsZ0JBQWdCLEtBQUssV0FBVyxlQUFlLFdBQVcsQ0FBQztBQUN0RyxpQkFBSyxXQUFXLHNCQUFzQjtBQUFBLFVBQzlDLENBQUM7QUFBQSxRQUNMLENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDSjsiLAogICJuYW1lcyI6IFsiTWQ1IiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAic3RycyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaWR4IiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
