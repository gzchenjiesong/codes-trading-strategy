/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/ts-md5/dist/md5.js
var require_md5 = __commonJS({
  "node_modules/ts-md5/dist/md5.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Md5 = void 0;
    var Md52 = (
      /** @class */
      function() {
        function Md53() {
          this._dataLength = 0;
          this._bufferLength = 0;
          this._state = new Int32Array(4);
          this._buffer = new ArrayBuffer(68);
          this._buffer8 = new Uint8Array(this._buffer, 0, 68);
          this._buffer32 = new Uint32Array(this._buffer, 0, 17);
          this.start();
        }
        Md53.hashStr = function(str, raw) {
          if (raw === void 0) {
            raw = false;
          }
          return this.onePassHasher.start().appendStr(str).end(raw);
        };
        Md53.hashAsciiStr = function(str, raw) {
          if (raw === void 0) {
            raw = false;
          }
          return this.onePassHasher.start().appendAsciiStr(str).end(raw);
        };
        Md53._hex = function(x) {
          var hc = Md53.hexChars;
          var ho = Md53.hexOut;
          var n;
          var offset;
          var j;
          var i;
          for (i = 0; i < 4; i += 1) {
            offset = i * 8;
            n = x[i];
            for (j = 0; j < 8; j += 2) {
              ho[offset + 1 + j] = hc.charAt(n & 15);
              n >>>= 4;
              ho[offset + 0 + j] = hc.charAt(n & 15);
              n >>>= 4;
            }
          }
          return ho.join("");
        };
        Md53._md5cycle = function(x, k) {
          var a = x[0];
          var b = x[1];
          var c = x[2];
          var d = x[3];
          a += (b & c | ~b & d) + k[0] - 680876936 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[1] - 389564586 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[2] + 606105819 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[3] - 1044525330 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[4] - 176418897 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[5] + 1200080426 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[6] - 1473231341 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[7] - 45705983 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[8] + 1770035416 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[9] - 1958414417 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[10] - 42063 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[11] - 1990404162 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[12] + 1804603682 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[13] - 40341101 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[14] - 1502002290 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[15] + 1236535329 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & d | c & ~d) + k[1] - 165796510 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[6] - 1069501632 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[11] + 643717713 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[0] - 373897302 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[5] - 701558691 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[10] + 38016083 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[15] - 660478335 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[4] - 405537848 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[9] + 568446438 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[14] - 1019803690 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[3] - 187363961 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[8] + 1163531501 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[13] - 1444681467 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[2] - 51403784 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[7] + 1735328473 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[12] - 1926607734 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b ^ c ^ d) + k[5] - 378558 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[8] - 2022574463 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[11] + 1839030562 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[14] - 35309556 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[1] - 1530992060 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[4] + 1272893353 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[7] - 155497632 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[10] - 1094730640 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[13] + 681279174 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[0] - 358537222 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[3] - 722521979 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[6] + 76029189 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[9] - 640364487 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[12] - 421815835 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[15] + 530742520 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[2] - 995338651 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          x[0] = a + x[0] | 0;
          x[1] = b + x[1] | 0;
          x[2] = c + x[2] | 0;
          x[3] = d + x[3] | 0;
        };
        Md53.prototype.start = function() {
          this._dataLength = 0;
          this._bufferLength = 0;
          this._state.set(Md53.stateIdentity);
          return this;
        };
        Md53.prototype.appendStr = function(str) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var code;
          var i;
          for (i = 0; i < str.length; i += 1) {
            code = str.charCodeAt(i);
            if (code < 128) {
              buf8[bufLen++] = code;
            } else if (code < 2048) {
              buf8[bufLen++] = (code >>> 6) + 192;
              buf8[bufLen++] = code & 63 | 128;
            } else if (code < 55296 || code > 56319) {
              buf8[bufLen++] = (code >>> 12) + 224;
              buf8[bufLen++] = code >>> 6 & 63 | 128;
              buf8[bufLen++] = code & 63 | 128;
            } else {
              code = (code - 55296) * 1024 + (str.charCodeAt(++i) - 56320) + 65536;
              if (code > 1114111) {
                throw new Error("Unicode standard supports code points up to U+10FFFF");
              }
              buf8[bufLen++] = (code >>> 18) + 240;
              buf8[bufLen++] = code >>> 12 & 63 | 128;
              buf8[bufLen++] = code >>> 6 & 63 | 128;
              buf8[bufLen++] = code & 63 | 128;
            }
            if (bufLen >= 64) {
              this._dataLength += 64;
              Md53._md5cycle(this._state, buf32);
              bufLen -= 64;
              buf32[0] = buf32[16];
            }
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.appendAsciiStr = function(str) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var i;
          var j = 0;
          for (; ; ) {
            i = Math.min(str.length - j, 64 - bufLen);
            while (i--) {
              buf8[bufLen++] = str.charCodeAt(j++);
            }
            if (bufLen < 64) {
              break;
            }
            this._dataLength += 64;
            Md53._md5cycle(this._state, buf32);
            bufLen = 0;
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.appendByteArray = function(input) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var i;
          var j = 0;
          for (; ; ) {
            i = Math.min(input.length - j, 64 - bufLen);
            while (i--) {
              buf8[bufLen++] = input[j++];
            }
            if (bufLen < 64) {
              break;
            }
            this._dataLength += 64;
            Md53._md5cycle(this._state, buf32);
            bufLen = 0;
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.getState = function() {
          var s = this._state;
          return {
            buffer: String.fromCharCode.apply(null, Array.from(this._buffer8)),
            buflen: this._bufferLength,
            length: this._dataLength,
            state: [s[0], s[1], s[2], s[3]]
          };
        };
        Md53.prototype.setState = function(state) {
          var buf = state.buffer;
          var x = state.state;
          var s = this._state;
          var i;
          this._dataLength = state.length;
          this._bufferLength = state.buflen;
          s[0] = x[0];
          s[1] = x[1];
          s[2] = x[2];
          s[3] = x[3];
          for (i = 0; i < buf.length; i += 1) {
            this._buffer8[i] = buf.charCodeAt(i);
          }
        };
        Md53.prototype.end = function(raw) {
          if (raw === void 0) {
            raw = false;
          }
          var bufLen = this._bufferLength;
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var i = (bufLen >> 2) + 1;
          this._dataLength += bufLen;
          var dataBitsLen = this._dataLength * 8;
          buf8[bufLen] = 128;
          buf8[bufLen + 1] = buf8[bufLen + 2] = buf8[bufLen + 3] = 0;
          buf32.set(Md53.buffer32Identity.subarray(i), i);
          if (bufLen > 55) {
            Md53._md5cycle(this._state, buf32);
            buf32.set(Md53.buffer32Identity);
          }
          if (dataBitsLen <= 4294967295) {
            buf32[14] = dataBitsLen;
          } else {
            var matches = dataBitsLen.toString(16).match(/(.*?)(.{0,8})$/);
            if (matches === null) {
              return;
            }
            var lo = parseInt(matches[2], 16);
            var hi = parseInt(matches[1], 16) || 0;
            buf32[14] = lo;
            buf32[15] = hi;
          }
          Md53._md5cycle(this._state, buf32);
          return raw ? this._state : Md53._hex(this._state);
        };
        Md53.stateIdentity = new Int32Array([1732584193, -271733879, -1732584194, 271733878]);
        Md53.buffer32Identity = new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        Md53.hexChars = "0123456789abcdef";
        Md53.hexOut = [];
        Md53.onePassHasher = new Md53();
        return Md53;
      }()
    );
    exports.Md5 = Md52;
    if (Md52.hashStr("hello") !== "5d41402abc4b2a76b9719d911017c592") {
      throw new Error("Md5 self test failed.");
    }
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => TradingStrategy
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/lang_str.ts
var SETTING_NAME = /* @__PURE__ */ new Map([
  ["ONE_GRID_LIMIT", "\u9996\u7F51\u4E0A\u9650\u503C"],
  ["MAX_SLUMP_PCT", "\u6700\u5927\u56DE\u64A4\u503C"],
  ["TRIGGER_ADD_POINT", "\u89E6\u53D1\u4EF7\u52A0\u70B9"],
  ["TRADING_PRICE_PRECISION", "\u4EA4\u6613\u4EF7\u7CBE\u5EA6"],
  ["MIN_BATCH_COUNT", "\u5355\u624B\u4EFD\u6570\u989D"],
  ["MAX_RISE_PCT", "\u5355\u65E5\u6700\u5927\u6DA8\u5E45"],
  ["SGRID_STEP_PCT", "\u5C0F\u7F51\u6B65\u8FDB\u503C"],
  ["SGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["SGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["MGRID_STEP_PCT", "\u4E2D\u7F51\u6B65\u8FDB\u503C"],
  ["MGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["MGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["LGRID_STEP_PCT", "\u5927\u7F51\u6B65\u8FDB\u503C"],
  ["LGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["LGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["DATA_API_LICENCE", "\u6570\u636E\u63A5\u53E3\u8BC1\u4E66"]
]);
var SGRID_TYPE_NAME_STR = "\u5C0F\u7F51";
var MGRID_TYPE_NAME_STR = "\u4E2D\u7F51";
var LGRID_TYPE_NAME_STR = "\u5927\u7F51";
var PERFIT_TYPE_NAME_STR = "\u5229\u6DA6";

// src/settings.ts
var GRID_COLOR_BUY_MONITOR = "#FFFF00";
var GRID_COLOR_SELL_MONITOR = "#FFFF00";
var GRID_COLOR_BUY_TRIGGERED = "#D3D3D3";
var GRID_COLOR_SELL_TRIGGERED = "#FFFFE0";
var GRID_COLOR_STOCK_OVERVIEW = "#FFFFFF";
var GRID_COLOR_TABLE_TITLE = "#D3D3D3";
var GRID_COLOR_BUY_OVERVIEW = "#FFFF01";
var GRID_COLOR_SELL_OVERVIEW = "#FFFF00";
function PackSettings(settings) {
  let pack_str = "";
  let key;
  for (key in settings) {
    if (SETTING_NAME.has(String(key))) {
      pack_str = pack_str + String(key) + ":" + String(settings[key]) + "\n";
    }
  }
  return pack_str;
}
function UnpackSettings(settings, lines) {
  lines.forEach((line, idx) => {
    const strs = line.split(":");
    if (SETTING_NAME.has(strs[0])) {
      SetSettingValue(settings, strs[0], strs[1]);
    }
  });
}
function GetSettingValue(settings, key) {
  return settings[key];
}
function SetSettingValue(settings, key, value) {
  if (key in settings) {
    settings[key] = value;
  }
}
var PluginBaseSettings = class {
  constructor() {
    this.DATA_API_LICENCE = "112e84656174f0a5";
    this.DATA_API_LICENCE = "b192f53a6d6928033";
  }
};
var GridTradingSettings = class {
  constructor() {
    this.ONE_GRID_LIMIT = 1e4;
    this.MAX_SLUMP_PCT = 0.67;
    this.TRIGGER_ADD_POINT = 5e-3;
    this.TRADING_PRICE_PRECISION = 3;
    this.MIN_BATCH_COUNT = 100;
    this.MAX_RISE_PCT = 0.1;
    this.CLEAR_STEP_PCT = 0.25;
    this.MINIMUM_BUY_PCT = 0.1;
    this.BOTTOM_BUY_PCT = 0.2;
    this.SGRID_STEP_PCT = 0.05;
    this.SGRID_ADD_PCT = 0.05;
    this.SGRID_RETAIN_COUNT = 4;
    this.MGRID_STEP_PCT = 0.22;
    this.MGRID_ADD_PCT = 0.2;
    this.MGRID_RETAIN_COUNT = 2;
    this.LGRID_STEP_PCT = 0.52;
    this.LGRID_ADD_PCT = 0.5;
    this.LGRID_RETAIN_COUNT = 1;
  }
  Clone() {
    const clone = new GridTradingSettings();
    clone.ONE_GRID_LIMIT = this.ONE_GRID_LIMIT;
    clone.MAX_SLUMP_PCT = this.MAX_SLUMP_PCT;
    clone.TRIGGER_ADD_POINT = this.TRIGGER_ADD_POINT;
    clone.TRADING_PRICE_PRECISION = this.TRADING_PRICE_PRECISION;
    clone.MIN_BATCH_COUNT = this.MIN_BATCH_COUNT;
    clone.MAX_RISE_PCT = this.MAX_RISE_PCT;
    clone.CLEAR_STEP_PCT = this.CLEAR_STEP_PCT;
    clone.MINIMUM_BUY_PCT = this.MINIMUM_BUY_PCT;
    clone.BOTTOM_BUY_PCT = this.BOTTOM_BUY_PCT;
    clone.SGRID_STEP_PCT = this.SGRID_STEP_PCT;
    clone.SGRID_ADD_PCT = this.SGRID_ADD_PCT;
    clone.SGRID_RETAIN_COUNT = this.SGRID_RETAIN_COUNT;
    clone.MGRID_STEP_PCT = this.MGRID_STEP_PCT;
    clone.MGRID_ADD_PCT = this.MGRID_ADD_PCT;
    clone.MGRID_RETAIN_COUNT = this.MGRID_RETAIN_COUNT;
    clone.LGRID_STEP_PCT = this.LGRID_STEP_PCT;
    clone.LGRID_ADD_PCT = this.LGRID_ADD_PCT;
    clone.LGRID_RETAIN_COUNT = this.LGRID_RETAIN_COUNT;
    return clone;
  }
  PackBase() {
    const setting = [
      "BASE",
      String(this.ONE_GRID_LIMIT),
      String(this.MAX_SLUMP_PCT),
      String(this.TRIGGER_ADD_POINT),
      String(this.TRADING_PRICE_PRECISION),
      String(this.MIN_BATCH_COUNT),
      String(this.MAX_RISE_PCT),
      String(this.CLEAR_STEP_PCT),
      String(this.MINIMUM_BUY_PCT),
      String(this.BOTTOM_BUY_PCT)
    ];
    return setting.join(",");
  }
  UnpackBase(strs) {
    if (strs.length < 10) {
      return;
    }
    this.ONE_GRID_LIMIT = Number(strs[1]);
    this.MAX_SLUMP_PCT = Number(strs[2]);
    this.TRIGGER_ADD_POINT = Number(strs[3]);
    this.TRADING_PRICE_PRECISION = Number(strs[4]);
    this.MIN_BATCH_COUNT = Number(strs[5]);
    this.MAX_RISE_PCT = Number(strs[6]);
    this.CLEAR_STEP_PCT = Number(strs[7]);
    this.MINIMUM_BUY_PCT = Number(strs[8]);
    this.BOTTOM_BUY_PCT = Number(strs[9]);
  }
  PackStep() {
    const setting = [
      "STEP",
      String(this.SGRID_STEP_PCT),
      String(this.SGRID_ADD_PCT),
      String(this.SGRID_RETAIN_COUNT),
      String(this.MGRID_STEP_PCT),
      String(this.MGRID_ADD_PCT),
      String(this.MGRID_RETAIN_COUNT),
      String(this.LGRID_STEP_PCT),
      String(this.LGRID_ADD_PCT),
      String(this.LGRID_RETAIN_COUNT)
    ];
    return setting.join(",");
  }
  UnpackStep(strs) {
    if (strs.length != 10) {
      return;
    }
    this.SGRID_STEP_PCT = Number(strs[1]);
    this.SGRID_ADD_PCT = Number(strs[2]);
    this.SGRID_RETAIN_COUNT = Number(strs[3]);
    this.MGRID_STEP_PCT = Number(strs[4]);
    this.MGRID_ADD_PCT = Number(strs[5]);
    this.MGRID_RETAIN_COUNT = Number(strs[6]);
    this.LGRID_STEP_PCT = Number(strs[7]);
    this.LGRID_ADD_PCT = Number(strs[8]);
    this.LGRID_RETAIN_COUNT = Number(strs[9]);
  }
  PackQuant() {
    const setting = ["QUANT"];
    return setting.join(",");
  }
  UnpackQuant(strs) {
  }
};

// src/remote_util.ts
var import_obsidian = require("obsidian");
var data_url_prefix = "http://api.biyingapi.com";
async function GetETFCurrentPrice(etf_code, api_licence, retry_count = 3) {
  if (!(etf_code.startsWith("sz") || etf_code.startsWith("sh"))) {
    return -1;
  }
  const data_api = data_url_prefix + "/jj/etfhq/" + etf_code + "/" + api_licence;
  while (retry_count >= 0) {
    try {
      const response = await (0, import_obsidian.requestUrl)(data_api);
      DebugLog("request ", etf_code, "  result ", response.json["zxj"]);
      return response.json["zxj"];
    } catch (e) {
      DebugLog("request ", data_api, "  error ", e.message);
      await sleep(30 * 1e3);
    }
    retry_count = retry_count - 1;
  }
  return -1;
}
async function GetLOFCurrentPrice(lof_code, api_licence, retry_count = 3) {
  if (!(lof_code.startsWith("sz") || lof_code.startsWith("sh"))) {
    return -1;
  }
  const data_api = data_url_prefix + "/jj/lofhq/" + lof_code + "/" + api_licence;
  while (retry_count >= 0) {
    try {
      const response = await (0, import_obsidian.requestUrl)(data_api);
      DebugLog("request ", lof_code, "  result ", response.json["zxj"]);
      return response.json["zxj"];
    } catch (e) {
      DebugLog("request ", data_api, "  error ", e.message);
      await sleep(30 * 1e3);
    }
  }
  return -1;
}
function DebugLog(...args) {
  let log_str = "";
  args.forEach((cell, i) => {
    log_str = log_str + String(cell);
  });
  new import_obsidian.Notice(log_str);
}

// src/grid_view.ts
var import_obsidian2 = require("obsidian");

// src/mymath.ts
function FixedPrice(price, pct, precision) {
  const scale = 10 ** precision;
  return Math.floor(Math.floor(price * scale) * Math.floor(pct * 100) / 100) / scale;
}
function MyFloor(num, single) {
  return Math.floor(num / single) * single;
}
function MyCeil(num, single) {
  return Math.ceil(num / single) * single;
}
function ToPercent(num, count = 0) {
  return (num * 100).toFixed(count) + "%";
}
function ToPercentStr(num, count = 0) {
  return num.toFixed(count) + "%";
}
function ToNumber(percent) {
  return Number(percent.replace("%", "")) / 100;
}
function ToTradingGap(current_price, target_price, count = 0) {
  if (target_price == void 0 || current_price == void 0 || current_price == 0) {
    return "-";
  }
  const gap = Math.abs(target_price - current_price);
  if (target_price > current_price) {
    return "+" + ToPercent(gap / current_price, count);
  } else {
    return "-" + ToPercent(gap / current_price, count);
  }
}
function IsNumeric(str) {
  return !isNaN(Number(str));
}
function TimeDuarion(dateStr1, dateStr2) {
  const date1 = new Date(dateStr1);
  const date2 = new Date(dateStr2);
  if (isNaN(date1.getTime()) || isNaN(date2.getTime())) {
    throw new Error("\u8F93\u5165\u7684\u65E5\u671F\u683C\u5F0F\u4E0D\u6B63\u786E");
  }
  const utc1 = Date.UTC(
    date1.getUTCFullYear(),
    date1.getUTCMonth(),
    date1.getUTCDate()
  );
  const utc2 = Date.UTC(
    date2.getUTCFullYear(),
    date2.getUTCMonth(),
    date2.getUTCDate()
  );
  return Math.abs(Math.floor((utc1 - utc2) / (1e3 * 60 * 60 * 24)));
}
function AveragePriceStr(cost, count, single) {
  if (count == 0) {
    return count.toFixed(single);
  }
  return String((cost / count).toFixed(single));
}
function StringPlus(num1, num2, single) {
  return String(MyFloor(Number(num1) + Number(num2), single));
}
function ProportionPctStr(count, total, single) {
  if (total == 0) {
    return total.toFixed(single) + "%";
  }
  return String((count / total * 100).toFixed(single)) + "%";
}

// src/grid_trading.ts
var import_md5 = __toESM(require_md5());
var GridTrading = class {
  constructor(plugin_env) {
    this.plugin_env = plugin_env;
    this.grid_settings = plugin_env.grid_settings.Clone();
    this.debug_log = [];
    this.data_md5 = "";
    this.is_empty = true;
    this.is_debug = false;
    this.remote_current_price = -1;
  }
  InitGridTrading(data) {
  }
  UpdateRemotePrice(remote_price) {
  }
  DebugLog(level, log_str, extra_info) {
    this.debug_log.push([level, log_str, extra_info]);
  }
  GetTradingTitle() {
    return this.stock_name + "(" + String(this.target_stock) + ")";
  }
  IsStock() {
    if (this.is_empty == false && (this.market_code == "sz" || this.market_code == "sh")) {
      return true;
    } else {
      return false;
    }
  }
  ParseRawData(data) {
    const new_md5 = import_md5.Md5.hashStr(data);
    if (new_md5 === this.data_md5) {
      return false;
    }
    this.data_md5 = new_md5;
    const lines = data.split("\n");
    const strs = lines[0].split(",");
    this.target_stock = Number(strs[1]);
    this.stock_name = strs[2];
    if (this.stock_name == "DEBUGTEST") {
      this.is_debug = true;
    }
    this.market_code = strs[3];
    this.target_price = Number(strs[4]);
    this.current_price = Number(strs[5]);
    this.remote_current_price = this.plugin_env.GetStockRemotePrice(strs[1]);
    if (this.remote_current_price > 0) {
      this.current_price = this.remote_current_price;
    }
    this.grid_settings = this.plugin_env.grid_settings.Clone();
    this.raw_trading_record = [];
    this.raw_adjust_record = [];
    this.buy_grid_record = [];
    this.sgrid_step_table = [];
    this.mgrid_step_table = [];
    this.lgrid_step_table = [];
    this.clear_sell_record = /* @__PURE__ */ new Map();
    this.force_view_grid_list = [];
    for (let idx = 1; idx < lines.length; idx++) {
      const strs2 = lines[idx].split(",");
      if (strs2[0] == "BUY") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
        this.buy_grid_record.push(strs2[2]);
      }
      if (strs2[0] == "SELL") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
        this.buy_grid_record.remove(strs2[2]);
      }
      if (strs2[0] == "SHARE") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "BASE") {
        this.grid_settings.UnpackBase(strs2);
      }
      if (strs2[0] == "STEP") {
        this.grid_settings.UnpackStep(strs2);
      }
      if (strs2[0] == "SGRID") {
        this.sgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "MGRID") {
        this.mgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "LGRID") {
        this.lgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "ADJ") {
        this.raw_adjust_record.push([strs2[1], strs2[2], strs2[3], strs2[4], strs2[5]]);
      }
      if (strs2[0] == "VIEW") {
        for (let i = 1; i < strs2.length; i++)
          this.force_view_grid_list.push(strs2[i]);
      }
    }
    return true;
  }
  InitTradingOverview() {
    this.stock_overview = [
      GRID_COLOR_STOCK_OVERVIEW,
      String(this.target_stock),
      this.stock_name,
      this.target_price.toFixed(3),
      this.current_price.toFixed(3),
      ToPercent(this.current_price / this.target_price, 1),
      String(this.total_hold),
      String(this.total_cost),
      ToTradingGap(this.total_cost, this.total_hold * this.current_price, 2),
      this.trading_income[5][10]
    ];
    this.stock_buy_overview = [];
    if (this.buy_monitor_rows.length > 0) {
      for (let idx = 0; idx < this.buy_monitor_rows.length; idx++) {
        const row = this.buy_monitor_rows[idx];
        const trading_gap = ToTradingGap(this.current_price, Number(this.trading_table[row][3]), 2);
        this.stock_buy_overview.push([
          GRID_COLOR_BUY_OVERVIEW,
          String(this.target_stock),
          this.stock_name,
          this.trading_table[row][0],
          this.trading_table[row][1],
          this.trading_table[row][2],
          this.trading_table[row][3],
          this.trading_table[row][4],
          this.trading_table[row][5],
          trading_gap
        ]);
      }
    }
    this.stock_sell_overview = [];
    if (this.sell_monitor_rows.length > 0) {
      for (let idx = 0; idx < this.sell_monitor_rows.length; idx++) {
        const row = this.sell_monitor_rows[idx];
        const trading_gap = ToTradingGap(this.current_price, Number(this.trading_table[row][7]), 2);
        this.stock_sell_overview.push([
          GRID_COLOR_SELL_OVERVIEW,
          String(this.target_stock),
          this.stock_name,
          this.trading_table[row][0],
          this.trading_table[row][1],
          this.trading_table[row][6],
          this.trading_table[row][7],
          this.trading_table[row][8],
          this.trading_table[row][9],
          trading_gap
        ]);
      }
    }
    if (this.stock_active_filled_record.length > 0) {
      for (let idx = 0; idx < this.stock_active_filled_record.length; idx++) {
        const row = this.stock_active_filled_record[idx];
        row[8] = String(this.current_price);
        row[9] = ToTradingGap(Number(row[5]), this.current_price);
        row[10] = String(MyCeil(Number(row[7]) / this.current_price, this.grid_settings.MIN_BATCH_COUNT));
        row[11] = String(Number(row[6]) - Number(row[10]));
      }
    }
    if (this.stock_passive_filled_record.length > 0) {
      for (let idx = 0; idx < this.stock_passive_filled_record.length; idx++) {
        const row = this.stock_passive_filled_record[idx];
        const grid_row = this.FindTradingGridRow(row[3]);
        if (grid_row.length > 0) {
          row[3] = grid_row[0];
          row[4] = grid_row[1];
          row[5] = grid_row[3];
          row[6] = grid_row[4];
          row[7] = grid_row[5];
          row[8] = String(this.current_price);
          row[9] = ToTradingGap(Number(row[5]), this.current_price);
          row[10] = grid_row[7];
          row[11] = ToTradingGap(this.current_price, Number(row[10]));
        }
      }
    }
  }
  InitStockTable() {
    this.empty_price = FixedPrice(this.target_price, 1 + this.grid_settings.SGRID_STEP_PCT, this.grid_settings.TRADING_PRICE_PRECISION);
    for (let idx = 1; idx < this.trading_table.length; idx++) {
      if (Number(this.trading_table[idx][7]) > this.empty_price) {
        this.empty_price = Number(this.trading_table[idx][7]);
      }
    }
    const clear_pct = this.grid_settings.CLEAR_STEP_PCT;
    this.clear_avg_price = Number(((this.CalcClearPrice(clear_pct, 1) + this.CalcClearPrice(clear_pct, 2) + this.CalcClearPrice(clear_pct, 3)) / 3).toFixed(this.grid_settings.TRADING_PRICE_PRECISION));
    this.clear_price = this.CalcClearPrice(clear_pct, 3);
    const mini_price = FixedPrice(this.target_price, this.grid_settings.MINIMUM_BUY_PCT, this.grid_settings.TRADING_PRICE_PRECISION);
    const bottom_price = FixedPrice(this.target_price, this.grid_settings.BOTTOM_BUY_PCT, this.grid_settings.TRADING_PRICE_PRECISION);
    this.stock_table = [
      ["\u6807\u7684\u4EE3\u53F7", String(this.target_stock)],
      ["\u6807\u7684\u540D\u79F0", this.stock_name],
      ["\u7F51\u683C\u6A21\u5F0F", this.mode_type],
      ["\u9996\u7F51\u4EF7\u683C", String(this.target_price)],
      ["\u5F53\u524D\u4EF7\u683C", String(this.current_price), "\u4EF7\u683C\u767E\u5206\u4F4D", ToPercent(this.current_price / this.target_price, 1)],
      ["\u56DE\u8C03\u4EF7\u683C", String(bottom_price), "\u4EF7\u683C\u767E\u5206\u4F4D", ToPercent(this.grid_settings.BOTTOM_BUY_PCT, 1)],
      ["\u6700\u4F4E\u4EF7\u683C", String(mini_price), "\u4EF7\u683C\u767E\u5206\u4F4D", ToPercent(this.grid_settings.MINIMUM_BUY_PCT, 1)],
      ["\u505C\u683C\u8DCC\u5E45", ToTradingGap(this.current_price, mini_price), "\u6E05\u683C\u6DA8\u5E45", ToTradingGap(this.current_price, this.empty_price, 1)]
    ];
    for (let idx = 0; idx < this.force_view_grid_list.length; idx++) {
      const row = this.FindTradingGridRowIndex(this.force_view_grid_list[idx]);
      if (row < 0 || this.buy_monitor_rows.includes(row)) {
        continue;
      }
      this.buy_monitor_rows.push(row);
    }
  }
  InitGridParam() {
    this.param_table = [
      ["\u9996\u7F51\u76EE\u6807\u91D1\u989D", String(this.grid_settings.ONE_GRID_LIMIT), "\u6700\u5927\u56DE\u64A4\u503C", ToPercent(this.grid_settings.MAX_SLUMP_PCT), "\u6700\u5927\u6DA8\u8DCC\u5E45", ToPercent(this.grid_settings.MAX_RISE_PCT)],
      ["\u89E6\u53D1\u4EF7\u52A0\u70B9", String(this.grid_settings.TRIGGER_ADD_POINT), "\u6BCF\u624B\u4EFD\u6570\u989D", String(this.grid_settings.MIN_BATCH_COUNT), "\u4EA4\u6613\u4EF7\u7CBE\u5EA6", String(this.grid_settings.TRADING_PRICE_PRECISION)],
      ["\u5C0F\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.SGRID_STEP_PCT), "\u4E2D\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.MGRID_STEP_PCT), "\u5927\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.LGRID_STEP_PCT)],
      ["\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.SGRID_ADD_PCT), "\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.MGRID_ADD_PCT), "\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.LGRID_ADD_PCT)],
      ["\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.SGRID_RETAIN_COUNT), "\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.MGRID_RETAIN_COUNT), "\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.LGRID_RETAIN_COUNT)]
    ];
  }
  InitTradingAnalysis() {
    const price = this.target_price;
    const rise_pct = this.grid_settings.SGRID_STEP_PCT;
    const table = this.trading_table;
    function Analysis(slump_pct) {
      let total_cost = 0;
      let total_amount = 0;
      let total_sell = 0;
      let total_gain = 0;
      const min_price = price * (1 - slump_pct);
      const max_price = price * (1 + rise_pct);
      table.forEach((row, i) => {
        if (i > 0 && ToNumber(row[1]) >= 1 - slump_pct) {
          total_cost = total_cost + Number(row[5]);
          total_amount = total_amount + Number(row[4]);
          total_gain = total_gain + Number(row[9]);
          total_sell = total_sell + Number(row[8]);
        }
      });
      const cost_price = (total_cost - total_gain) / (total_amount - total_sell);
      const gain_money = Math.floor(max_price * (total_amount - total_sell) - (total_cost - total_gain));
      return [
        ToPercent(slump_pct) + "(" + min_price.toFixed(3) + ")",
        String(total_cost),
        String(total_amount),
        String(Math.ceil(total_amount * min_price)),
        (total_cost / total_amount).toFixed(3),
        String(Math.ceil(total_cost - total_amount * min_price)),
        ((total_cost - total_amount * min_price) / total_cost * 100).toFixed(2) + "%",
        ((total_cost / total_amount - min_price) / min_price * 100).toFixed(2) + "%",
        String(total_amount - total_sell),
        String(Math.floor(max_price * (total_amount - total_sell))),
        String(total_cost - total_gain),
        cost_price.toFixed(3),
        ((max_price - cost_price) / cost_price * 100).toFixed(2) + "%",
        String(gain_money),
        (gain_money / total_cost * 100).toFixed(2) + "%"
      ];
    }
    this.trading_analysis = [
      ["\u4E8F\u635F\u5206\u6790", "\u56DE\u64A4\u6BD4\u4F8B"],
      ["", "\u6295\u5165\u8D44\u91D1"],
      ["", "\u6301\u4ED3\u4EFD\u989D"],
      ["", "\u6301\u4ED3\u91D1\u989D"],
      ["", "\u6301\u4ED3\u6210\u672C"],
      ["", "\u4E8F\u635F\u91D1\u989D"],
      ["", "\u4E8F\u635F\u6BD4\u4F8B"],
      ["", "\u6240\u9700\u6DA8\u5E45"],
      ["\u53CD\u5F39\u76C8\u5229", "\u6301\u4ED3\u4EFD\u989D"],
      [(price * (1 + rise_pct)).toFixed(3), "\u6301\u4ED3\u91D1\u989D"],
      ["", "\u5360\u7528\u672C\u91D1"],
      ["", "\u6301\u4ED3\u6210\u672C"],
      ["", "\u6D6E\u76C8\u6BD4\u4F8B"],
      ["", "\u7F51\u683C\u76C8\u5229"],
      ["", "\u603B\u6D6E\u76C8\u6BD4"]
    ];
    const slump_pcts = [20, 30, 40, 50, 60, 70, 80];
    for (const pct of slump_pcts) {
      const result = Analysis(pct / 100);
      for (let idx = 0; idx < result.length; idx++) {
        this.trading_analysis[idx].push(result[idx]);
      }
    }
  }
  InitTradingRecord() {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    let adjust_price = 0;
    let adjust_count = 0;
    let adjust_cost = 0;
    this.adjust_record = [["\u8C03\u6574\u65E5\u671F", "\u8C03\u6574\u7C7B\u578B", "\u8C03\u6574\u5185\u5BB9", "\u4EA4\u6613\u4EF7\u683C", "\u4EA4\u6613\u80A1\u6570", "\u6D88\u8017\u672C\u91D1"]];
    for (let idx = 0; idx < this.raw_adjust_record.length; idx++) {
      if (IsNumeric(this.raw_adjust_record[idx][3])) {
        adjust_price = Number(this.raw_adjust_record[idx][3]);
      } else {
        adjust_price = 0;
      }
      if (IsNumeric(this.raw_adjust_record[idx][4])) {
        adjust_count = Number(this.raw_adjust_record[idx][4]);
      } else {
        adjust_count = 0;
      }
      adjust_cost = Math.ceil(adjust_price * adjust_count);
      if (adjust_cost > 0) {
        this.adjust_record.push([this.raw_adjust_record[idx][0], this.raw_adjust_record[idx][1], this.raw_adjust_record[idx][2], adjust_price.toFixed(precision), String(adjust_count), String(adjust_cost)]);
      } else {
        this.adjust_record.push([this.raw_adjust_record[idx][0], this.raw_adjust_record[idx][1], this.raw_adjust_record[idx][2], "-", "-", "-"]);
      }
    }
    this.total_retain = 0;
    this.retain_cost = 0;
    this.total_cost = 0;
    this.total_hold = 0;
    this.trading_record = [["\u4EA4\u6613\u65B9\u5411", "\u4EA4\u6613\u65E5\u671F", "\u7F51\u683C\u7C7B\u578B", "\u4EA4\u6613\u4EF7\u683C", "\u4EA4\u6613\u80A1\u6570", "\u6D88\u8017\u672C\u91D1", "\u7D2F\u79EF\u7B79\u7801", "\u6301\u4ED3\u65F6\u957F"]];
    this.stock_passive_filled_record = [];
    this.stock_active_filled_record = [];
    this.holding_record = [];
    let raw_record = [...this.raw_trading_record];
    let cursor = 0;
    let retain_sell = 0;
    while (cursor < raw_record.length) {
      if (raw_record[cursor][0] == "BUY") {
        let scursor = -1;
        for (let idx = cursor; idx < raw_record.length; idx++) {
          if (raw_record[idx][0] == "SELL" && raw_record[idx][2] == raw_record[cursor][2]) {
            scursor = idx;
            break;
          }
        }
        if (scursor >= 0) {
          const retain_count = Math.floor(Number(raw_record[cursor][4]) - Number(raw_record[scursor][4]));
          const cost_count = Math.floor(Number(raw_record[cursor][3]) * Number(raw_record[cursor][4]) - Number(raw_record[scursor][3]) * Number(raw_record[scursor][4]));
          const time_d = TimeDuarion(raw_record[cursor][1], raw_record[scursor][1]);
          this.total_retain = this.total_retain + retain_count;
          this.retain_cost = this.retain_cost + cost_count;
          this.trading_record.push([raw_record[cursor][0], raw_record[cursor][1], raw_record[cursor][2], raw_record[cursor][3], raw_record[cursor][4], String(cost_count)]);
          this.trading_record.push([raw_record[scursor][0], raw_record[scursor][1], raw_record[scursor][2], raw_record[scursor][3], raw_record[scursor][4], "--", String(retain_count), String(time_d) + "\u5929"]);
          raw_record.splice(cursor, 1);
          raw_record.splice(scursor - 1, 1);
        } else {
          cursor++;
        }
      } else {
        cursor++;
      }
    }
    for (let idx = 0; idx < raw_record.length; idx++) {
      if (raw_record[idx][0] == "BUY") {
        const cost_count = Math.floor(Number(raw_record[idx][3]) * Number(raw_record[idx][4]));
        this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], String(cost_count)]);
        this.total_cost = this.total_cost + cost_count;
        if (Number(raw_record[idx][3]) > 0) {
          this.total_hold = this.total_hold + Number(raw_record[idx][4]);
          this.holding_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4]]);
        }
        if (Number(raw_record[idx][3]) == 0) {
          this.stock_passive_filled_record.push([GRID_COLOR_BUY_OVERVIEW, String(this.target_stock), this.stock_name, raw_record[idx][2], "", "", "", "", "", "", "", ""]);
        }
        if (raw_record[idx][2].startsWith("\u8865\u4ED3")) {
          this.stock_active_filled_record.push([GRID_COLOR_SELL_OVERVIEW, String(this.target_stock), this.stock_name, raw_record[idx][2], raw_record[idx][1], raw_record[idx][3], raw_record[idx][4], String(cost_count), "", "", ""]);
        }
      } else {
        if (raw_record[idx][0] == "SHARE") {
          if (raw_record[idx][2] == "\u7EA2\u5229") {
            const gain_count = Math.floor(Number(raw_record[idx][3]) * Number(raw_record[idx][4]));
            this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], "-" + String(gain_count)]);
            this.retain_cost = this.retain_cost - gain_count;
          }
          if (raw_record[idx][2] == "\u62C6\u80A1") {
            this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], "--", raw_record[idx][4]]);
            this.total_retain = this.total_retain + Number(raw_record[idx][4]);
          }
        } else {
          if (raw_record[idx][0] == "SELL" && raw_record[idx][2].startsWith("\u5229\u6DA6")) {
            this.total_retain = this.total_retain - Number(raw_record[idx][4]);
            this.retain_cost = this.retain_cost - Number(raw_record[idx][3]) * Number(raw_record[idx][4]);
            retain_sell = retain_sell + Number(raw_record[idx][4]);
            let sell_count = this.clear_sell_record.get(raw_record[idx][2]);
            if (sell_count == void 0) {
              sell_count = 0;
            }
            this.clear_sell_record.set(raw_record[idx][2], sell_count + Number(raw_record[idx][4]));
          }
          this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4]]);
        }
      }
    }
    this.total_hold = this.total_hold + this.total_retain;
    this.total_cost = this.total_cost + this.retain_cost;
    if (this.total_cost != 0) {
      this.trading_record.push(["Cost", "", "", "", "", String(this.total_cost), "", ""]);
    }
    if (this.total_retain <= 0) {
      if (this.total_hold > 0) {
        this.trading_record.push(["Retain", "", "", "", String(this.total_hold), "", "0", ""]);
      }
      return;
    }
    this.trading_record.push(["Retain", "", "", "", String(this.total_hold), "", String(this.total_retain), ""]);
    const current_pct = MyCeil(this.current_price / this.target_price, 1e-3);
    for (let index = 1; index <= 3; index++) {
      const row = this.GenerateClearRow(PERFIT_TYPE_NAME_STR, index, this.grid_settings.CLEAR_STEP_PCT, MyFloor((this.total_retain + retain_sell) / 3, 100));
      this.trading_table.push(row);
      if (current_pct + this.grid_settings.MAX_RISE_PCT >= ToNumber(row[1])) {
        this.sell_monitor_rows.push(this.trading_table.length - 1);
      }
      this.sell_triggered_rows.push(this.trading_table.length - 1);
    }
  }
  InitTradingIncome() {
    this.trading_income = [];
    this.trading_income.push(["", "\u6301\u4ED3\u80A1\u6570", "\u5360\u7528\u672C\u91D1", "\u6301\u4ED3\u91D1\u989D", "\u6301\u4ED3\u5747\u4EF7", "\u5B9E\u9645\u4EF7\u683C", "\u6301\u4ED3\u76C8\u4E8F", "\u6295\u5165\u8D44\u91D1", "\u8D26\u9762\u8D44\u91D1", "\u6295\u5165\u76C8\u4E8F", "\u6295\u5165\u4ED3\u4F4D"]);
    this.trading_income.push(this.GenerateIncomeRow("\u7D2F\u8BA1\u7B79\u7801", this.total_retain, this.retain_cost, this.current_price, this.retain_cost, 0, 0));
    this.CalcTradingIncome("\u5F53\u524D", this.current_price / this.target_price, this.empty_price, this.clear_avg_price, this.clear_price, false);
    this.CalcTradingIncome("\u56DE\u8C03", this.grid_settings.BOTTOM_BUY_PCT, this.empty_price, this.clear_avg_price, this.clear_price);
    this.CalcTradingIncome("\u6700\u5927", this.grid_settings.MINIMUM_BUY_PCT, this.empty_price, this.clear_avg_price, this.clear_price);
  }
  InitHoldingAnalysis() {
    const total_hold = this.total_hold;
    const total_cost = this.total_cost;
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    this.holding_analysis = [];
    this.holding_analysis.push(["\u7B79\u7801\u7C7B\u578B", "\u6301\u4ED3\u80A1\u6570", "\u5360\u7528\u672C\u91D1", "\u6301\u4ED3\u91D1\u989D", "\u6301\u4ED3\u5747\u4EF7", "\u5F53\u524D\u4EF7\u683C", "\u6301\u4ED3\u76C8\u4E8F", "\u6E05\u683C\u76C8\u5229", "\u6E05\u4ED3\u76C8\u5229", "\u6301\u4ED3\u5360\u6BD4", "\u672C\u91D1\u5360\u6BD4"]);
    this.holding_analysis.push(["\u603B\u989D"]);
    this.CalcHoldingPercent("\u5C0F\u7F51", this.empty_price, this.clear_avg_price);
    this.CalcHoldingPercent("\u4E2D\u7F51", this.empty_price, this.clear_avg_price);
    this.CalcHoldingPercent("\u5927\u7F51", this.empty_price, this.clear_avg_price);
    let grid_total_hold = this.total_retain;
    let grid_total_cost = this.retain_cost;
    let grid_current_value = Math.floor(grid_total_hold * this.current_price);
    let grid_empty_income = grid_total_hold * this.empty_price - grid_total_cost;
    let grid_clear_income = grid_total_hold * this.clear_avg_price - grid_total_cost;
    this.holding_analysis.push([
      "\u7D2F\u79EF",
      String(grid_total_hold),
      String(grid_total_cost),
      String(grid_current_value),
      AveragePriceStr(grid_total_cost, grid_total_hold, precision),
      this.current_price.toFixed(precision),
      String(grid_current_value - grid_total_cost),
      grid_empty_income.toFixed(0),
      grid_clear_income.toFixed(0),
      ProportionPctStr(grid_total_hold, total_hold, 2),
      ProportionPctStr(grid_total_cost, total_cost, 2)
    ]);
    grid_total_hold = 0;
    grid_total_cost = 0;
    for (let idx = 0; idx < this.holding_record.length; idx++) {
      if (this.holding_record[idx][2].startsWith("\u8865\u4ED3")) {
        grid_total_hold += Number(this.holding_record[idx][4]);
        grid_total_cost += Number(this.holding_record[idx][3]) * Number(this.holding_record[idx][4]);
      }
    }
    grid_total_cost = Math.ceil(grid_total_cost);
    grid_current_value = Math.floor(grid_total_hold * this.current_price);
    grid_empty_income = grid_total_hold * this.empty_price - grid_total_cost;
    grid_clear_income = grid_total_hold * this.clear_avg_price - grid_total_cost;
    this.holding_analysis.push([
      "\u8865\u4ED3",
      String(grid_total_hold),
      String(grid_total_cost),
      String(grid_current_value),
      AveragePriceStr(grid_total_cost, grid_total_hold, precision),
      this.current_price.toFixed(precision),
      String(grid_current_value - grid_total_cost),
      grid_empty_income.toFixed(0),
      grid_clear_income.toFixed(0),
      ProportionPctStr(grid_total_hold, total_hold, 2),
      ProportionPctStr(grid_total_cost, total_cost, 2)
    ]);
    grid_total_hold = 0;
    grid_total_cost = 0;
    grid_current_value = 0;
    grid_empty_income = 0;
    grid_clear_income = 0;
    for (let idx = 2; idx < this.holding_analysis.length; idx++) {
      grid_total_hold += Number(this.holding_analysis[idx][1]);
      grid_total_cost += Number(this.holding_analysis[idx][2]);
      grid_current_value += Number(this.holding_analysis[idx][3]);
      grid_empty_income += Number(this.holding_analysis[idx][7]);
      grid_clear_income += Number(this.holding_analysis[idx][8]);
    }
    this.holding_analysis[1] = [
      "\u603B\u989D",
      String(grid_total_hold),
      String(grid_total_cost),
      String(grid_current_value),
      AveragePriceStr(grid_total_cost, grid_total_hold, precision),
      this.current_price.toFixed(precision),
      String(grid_current_value - grid_total_cost),
      grid_empty_income.toFixed(0),
      grid_clear_income.toFixed(0),
      ProportionPctStr(grid_total_hold, total_hold, 2),
      ProportionPctStr(grid_total_cost, total_cost, 2)
    ];
  }
  CalcHoldingPercent(grid_type, empty_price, clear_avg_price) {
    const total_hold = this.total_hold;
    const total_cost = this.total_cost;
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    let grid_total_hold = 0;
    let grid_total_cost = 0;
    let grid_empty_income = 0;
    let grid_clear_income = 0;
    for (let idx = 0; idx < this.holding_record.length; idx++) {
      if (this.holding_record[idx][2].startsWith(grid_type)) {
        const grid_hold = Number(this.holding_record[idx][4]);
        const grid_cost = Number(this.holding_record[idx][3]) * Number(this.holding_record[idx][4]);
        grid_total_hold += grid_hold;
        grid_total_cost += grid_cost;
        let grid_row = this.FindTradingGridRow(this.holding_record[idx][2]);
        const empty_income = Number(grid_row[9]) + (grid_hold - Number(grid_row[8])) * empty_price - grid_cost;
        grid_empty_income += empty_income;
        const clear_income = Number(grid_row[9]) + (grid_hold - Number(grid_row[8])) * clear_avg_price - grid_cost;
        grid_clear_income += clear_income;
      }
    }
    grid_total_cost = Math.ceil(grid_total_cost);
    let grid_current_value = Math.floor(grid_total_hold * this.current_price);
    this.holding_analysis.push([
      grid_type,
      String(grid_total_hold),
      String(grid_total_cost),
      String(grid_current_value),
      AveragePriceStr(grid_total_cost, grid_total_hold, precision),
      this.current_price.toFixed(precision),
      String(grid_current_value - grid_total_cost),
      grid_empty_income.toFixed(0),
      grid_clear_income.toFixed(0),
      ProportionPctStr(grid_total_hold, total_hold, 2),
      ProportionPctStr(grid_total_cost, total_cost, 2)
    ]);
  }
  CalcTradingIncome(title_txt, slump_pct, empty_price, clear_avg_price, clear_price, need_slump = true) {
    let total_cost = this.total_cost;
    let total_count = this.total_hold;
    let empty_cost = this.total_cost;
    let empty_count = this.total_hold;
    let clear_income_max = 0;
    let total_sell_cost = 0;
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    this.trading_table.forEach((row, i) => {
      if (this.trading_table[i][0].startsWith("\u5229\u6DA6")) {
        clear_income_max = clear_income_max + Number(this.trading_table[i][9]);
      } else {
        if (this.buy_grid_record.includes(this.trading_table[i][0])) {
          empty_cost = empty_cost - Number(row[9]);
          empty_count = empty_count - Number(row[8]);
          clear_income_max = clear_income_max + (Number(row[4]) - Number(row[8])) * clear_avg_price;
          total_sell_cost = total_sell_cost + Number(row[9]);
        } else {
          if (i > 0 && ToNumber(row[1]) >= slump_pct && need_slump) {
            total_cost = total_cost + Number(row[5]);
            total_count = total_count + Number(row[4]);
            empty_cost = empty_cost + Number(row[5]) - Number(row[9]);
            empty_count = empty_count + Number(row[4]) - Number(row[8]);
            clear_income_max = clear_income_max + (Number(row[4]) - Number(row[8])) * clear_avg_price;
            total_sell_cost = total_sell_cost + Number(row[9]);
          }
        }
      }
    });
    clear_income_max = Math.floor(clear_income_max - empty_cost);
    this.trading_income.push(this.GenerateIncomeRow(title_txt + "\u6301\u4ED3", total_count, total_cost, this.target_price * slump_pct, total_cost, this.total_cost, 0));
    this.trading_income.push(this.GenerateIncomeRow(title_txt + "\u6E05\u683C", empty_count, empty_cost, empty_price, total_cost, 0, total_sell_cost));
    this.trading_income.push([
      title_txt + "\u6E05\u4ED3",
      "0",
      "0",
      "0",
      "-",
      clear_price.toFixed(precision),
      String(clear_income_max),
      String(total_cost),
      String(total_sell_cost + empty_cost + clear_income_max),
      ToTradingGap(total_cost, total_sell_cost + empty_cost + clear_income_max, 2),
      "-"
    ]);
  }
  GenerateClearRow(grid_name, idx, grid_step_pct, sell_count) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const price_step = Math.floor((100 + Math.floor(grid_step_pct * 100)) ** idx / 100 ** (idx - 1)) / 100;
    const sell_price = FixedPrice(this.target_price, price_step, precision);
    let clear_count = this.clear_sell_record.get(grid_name + String(idx));
    if (clear_count == void 0) {
      clear_count = 0;
    }
    return [
      grid_name + String(idx),
      ToPercent(price_step),
      "",
      "",
      "",
      "",
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count - clear_count),
      String(Math.ceil(sell_price * (sell_count - clear_count))),
      "-",
      "+" + ToPercent(grid_step_pct)
    ];
  }
  GenerateIncomeRow(grid_name, total_count, total_cost, current_price, max_cost, current_cost, sell_value) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const current_value = MyFloor(total_count * current_price, 1);
    const total_income = current_value - total_cost;
    let position = ToPercent(current_cost / max_cost);
    if (current_cost == 0) {
      position = "-";
    }
    return [
      grid_name,
      String(total_count),
      String(total_cost),
      String(current_value),
      (total_cost / Math.max(total_count, 1)).toFixed(precision),
      current_price.toFixed(precision),
      String(total_income),
      String(max_cost),
      String(sell_value + current_value),
      ToTradingGap(max_cost, total_income + max_cost, 2),
      position
    ];
  }
  CalcClearPrice(step_pct, step_idx) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const price_step = Math.floor((100 + Math.floor(step_pct * 100)) ** step_idx / 100 ** (step_idx - 1)) / 100;
    return FixedPrice(this.target_price, price_step, precision);
  }
  IsNeedMonitor(table_index, is_sell, current_price, max_rise_pct) {
    if (is_sell) {
      const sell_price = Number(this.trading_table[table_index][7]);
      if (current_price * (1 + max_rise_pct) >= sell_price) {
        return true;
      } else {
        return false;
      }
    } else {
      const buy_price = Number(this.trading_table[table_index][3]);
      if (buy_price < this.target_price * this.grid_settings.MINIMUM_BUY_PCT) {
        return false;
      }
      if (current_price * (1 - max_rise_pct) <= buy_price) {
        return true;
      } else {
        return false;
      }
    }
  }
  IsDisableRow(table_index) {
    const price_pct = ToNumber(this.trading_table[table_index][1]);
    if (price_pct < this.grid_settings.MINIMUM_BUY_PCT) {
      return true;
    } else {
      return false;
    }
  }
  FindTradingGridRow(grid_name) {
    for (let idx = 0; idx < this.trading_table.length; idx++) {
      if (this.trading_table[idx][0] == grid_name) {
        return this.trading_table[idx];
      }
    }
    return [];
  }
  FindTradingGridRowIndex(grid_name) {
    for (let idx = 0; idx < this.trading_table.length; idx++) {
      if (this.trading_table[idx][0] == grid_name) {
        return idx;
      }
    }
    return -1;
  }
  SortTradingTable() {
    if (this.trading_table.length <= 1) {
      return;
    }
    this.trading_table.push(["\u505C\u6B62\u7EBF", "0%"]);
    let move_idx = 0;
    let move_row = null;
    for (let idx = 1; idx < this.trading_table.length; idx++) {
      if (this.trading_table[idx][1] == "0%") {
        break;
      }
      if (this.IsDisableRow(idx)) {
        move_idx = idx;
        move_row = this.trading_table[move_idx];
        for (let idx2 = move_idx; idx2 < this.trading_table.length - 1; idx2++) {
          this.trading_table[idx2] = this.trading_table[idx2 + 1];
          if (this.buy_monitor_rows.indexOf(idx2 + 1) != -1) {
            this.buy_monitor_rows[this.buy_monitor_rows.indexOf(idx2 + 1)] = idx2;
          }
          if (this.buy_triggered_rows.indexOf(idx2 + 1) != -1) {
            this.buy_triggered_rows[this.buy_triggered_rows.indexOf(idx2 + 1)] = idx2;
          }
          if (this.sell_monitor_rows.indexOf(idx2 + 1) != -1) {
            this.sell_monitor_rows[this.sell_monitor_rows.indexOf(idx2 + 1)] = idx2;
          }
          if (this.sell_triggered_rows.indexOf(idx2 + 1) != -1) {
            this.sell_triggered_rows[this.sell_triggered_rows.indexOf(idx2 + 1)] = idx2;
          }
        }
        this.trading_table[this.trading_table.length - 1] = move_row;
        idx--;
      }
    }
  }
};

// src/grid_trading_m1.ts
var GridTradingModeOne = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "One";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.disable_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const scount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.SGRID_STEP_PCT);
    const mcount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.MGRID_STEP_PCT);
    const lcount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.LGRID_STEP_PCT);
    const max_rise_pct = this.grid_settings.MAX_RISE_PCT;
    for (let idx = 0; idx <= scount; idx++) {
      this.trading_table[idx + 1] = this.GenerateOneRow(
        SGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.SGRID_STEP_PCT,
        this.grid_settings.SGRID_RETAIN_COUNT,
        this.grid_settings.SGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
        this.buy_triggered_rows.push(idx + 1);
        this.sell_triggered_rows.push(idx + 1);
      }
      if (this.IsDisableRow(idx + 1)) {
        this.disable_rows.push(idx + 1);
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < scount + 1)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      if (false) {
        const last_sell_s = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
        if (this.IsNeedMonitor(last_sell_s, true, this.current_price, max_rise_pct)) {
          this.sell_triggered_rows.pop();
          this.sell_monitor_rows.push(last_sell_s);
        }
      }
    } else {
      const first_buy = 1;
      if (this.IsNeedMonitor(first_buy, false, this.current_price, max_rise_pct)) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    for (let idx = 1; idx <= mcount; idx++) {
      this.trading_table[scount + 1 + idx] = this.GenerateOneRow(
        MGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.MGRID_STEP_PCT,
        this.grid_settings.MGRID_RETAIN_COUNT,
        this.grid_settings.MGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[scount + 1 + idx][0])) {
        this.buy_triggered_rows.push(scount + 1 + idx);
        this.sell_triggered_rows.push(scount + 1 + idx);
      } else {
        if (this.IsNeedMonitor(scount + 1 + idx, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(scount + 1 + idx);
        }
      }
      if (this.IsDisableRow(scount + 1 + idx)) {
        this.disable_rows.push(scount + 1 + idx);
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] > scount + 1) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_m, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    for (let idx = 1; idx <= lcount; idx++) {
      this.trading_table[scount + 1 + mcount + idx] = this.GenerateOneRow(
        LGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.LGRID_STEP_PCT,
        this.grid_settings.LGRID_RETAIN_COUNT,
        this.grid_settings.LGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[scount + 1 + mcount + idx][0])) {
        this.buy_triggered_rows.push(scount + 1 + mcount + idx);
        this.sell_triggered_rows.push(scount + 1 + mcount + idx);
      } else {
        if (this.IsNeedMonitor(scount + 1 + mcount, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(scount + 1 + mcount + idx);
        }
      }
      if (this.IsDisableRow(scount + 1 + mcount + idx)) {
        this.disable_rows.push(scount + 1 + mcount + idx);
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] > scount + 1 + mcount) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_l, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, idx, grid_step_pct, grid_retain_count, grid_add_pct) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const buy_price_step = 100 - idx * Math.floor(grid_step_pct * 100);
    const buy_price = FixedPrice(this.target_price, buy_price_step / 100, precision);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + idx * grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price_step = buy_price_step + Math.floor(grid_step_pct * 100);
    const sell_price = FixedPrice(this.target_price, sell_price_step / 100, precision);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name + String(idx),
      ToPercentStr(buy_price_step),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      buy_price.toFixed(precision),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/grid_trading_m2.ts
var GridTradingModeTwo = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "Two";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.disable_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const count = Math.floor(Math.log(1 - this.grid_settings.MAX_SLUMP_PCT) / Math.log(1 - this.grid_settings.LGRID_STEP_PCT)) + 1;
    const max_rise_pct = this.grid_settings.MAX_RISE_PCT;
    let idx = 0;
    let max_slump_pct = Math.round((1 - this.grid_settings.MAX_SLUMP_PCT) * 100);
    let sell_price_step = 1 + this.grid_settings.SGRID_STEP_PCT;
    for (let i = 0; i < count; i++) {
      let ti = 1;
      const first_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i));
      const slump_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      let step_pct = first_step;
      while (step_pct > slump_pct && step_pct > max_slump_pct) {
        this.trading_table[idx + 1] = this.GenerateOneRow(
          SGRID_TYPE_NAME_STR,
          idx,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.SGRID_RETAIN_COUNT,
          this.grid_settings.SGRID_ADD_PCT
        );
        if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
          this.buy_triggered_rows.push(idx + 1);
          this.sell_triggered_rows.push(idx + 1);
        }
        if (this.IsDisableRow(idx + 1)) {
          this.disable_rows.push(idx + 1);
        }
        sell_price_step = step_pct / 100;
        step_pct = Math.round(first_step * (1 - ti * this.grid_settings.SGRID_STEP_PCT));
        ti++;
        idx++;
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < this.trading_table.length)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      if (false) {
        const last_sell_s = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
        if (this.IsNeedMonitor(last_sell_s, true, this.current_price, max_rise_pct)) {
          this.sell_triggered_rows.pop();
          this.sell_monitor_rows.push(last_sell_s);
        }
      }
    } else {
      const first_buy = 1;
      if (this.IsNeedMonitor(first_buy, false, this.current_price, max_rise_pct)) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    let start_index = this.trading_table.length;
    idx = 0;
    sell_price_step = 1;
    for (let i = 0; i < count; i++) {
      let ti = 2;
      const first_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i));
      const slump_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      let step_pct = Math.round(first_step * (1 - this.grid_settings.MGRID_STEP_PCT));
      while (step_pct > slump_pct && step_pct > max_slump_pct) {
        this.trading_table[start_index + idx] = this.GenerateOneRow(
          MGRID_TYPE_NAME_STR,
          idx + 1,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.MGRID_RETAIN_COUNT,
          this.grid_settings.MGRID_ADD_PCT
        );
        if (this.IsDisableRow(start_index + idx)) {
          this.disable_rows.push(start_index + idx);
        }
        if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
          this.buy_triggered_rows.push(start_index + idx);
          this.sell_triggered_rows.push(start_index + idx);
        } else {
          if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
            this.buy_monitor_rows.push(start_index + idx);
          }
        }
        sell_price_step = step_pct / 100;
        step_pct = Math.round(first_step * (1 - ti * this.grid_settings.MGRID_STEP_PCT));
        ti++;
        idx++;
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_m, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    start_index = this.trading_table.length;
    idx = 0;
    for (let i = 0; i < count; i++) {
      sell_price_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i)) / 100;
      const step_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      if (step_pct > max_slump_pct) {
        this.trading_table[start_index + idx] = this.GenerateOneRow(
          LGRID_TYPE_NAME_STR,
          idx + 1,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.LGRID_RETAIN_COUNT,
          this.grid_settings.LGRID_ADD_PCT
        );
        if (this.IsDisableRow(start_index + idx)) {
          this.disable_rows.push(start_index + idx);
        }
        if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
          this.buy_triggered_rows.push(start_index + idx);
          this.sell_triggered_rows.push(start_index + idx);
        } else {
          if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
            this.buy_monitor_rows.push(start_index + idx);
          }
        }
        idx++;
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_l, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, idx, buy_price_step, sell_price_step, grid_retain_count, grid_add_pct) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const buy_price = FixedPrice(this.target_price, buy_price_step, precision);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + idx * grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price = FixedPrice(this.target_price, sell_price_step, precision);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name + String(idx),
      ToPercent(buy_price_step),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      buy_price.toFixed(precision),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/grid_trading_m3.ts
var GridTradingModeThree = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "Three";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitGridParam();
      this.InitTradingTable();
      this.InitStockTable();
      this.InitTradingRecord();
      this.InitHoldingAnalysis();
      this.InitTradingIncome();
      this.InitTradingAnalysis();
      this.SortTradingTable();
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.disable_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const max_rise_pct = this.grid_settings.MAX_RISE_PCT;
    let grid_sell_pct = 1 + this.grid_settings.SGRID_STEP_PCT;
    for (let idx = 0; idx < this.sgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.sgrid_step_table[idx][1]);
      this.trading_table[idx + 1] = this.GenerateOneRow(
        this.sgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.sgrid_step_table[idx][2]),
        Number(this.sgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.IsDisableRow(idx + 1)) {
        this.disable_rows.push(idx + 1);
      }
      if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
        this.buy_triggered_rows.push(idx + 1);
        this.sell_triggered_rows.push(idx + 1);
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < this.sgrid_step_table.length)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      if (false) {
        const last_sell_s = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
        if (this.IsNeedMonitor(last_sell_s, true, this.current_price, max_rise_pct)) {
          this.sell_triggered_rows.pop();
          this.sell_monitor_rows.push(last_sell_s);
        }
      }
    } else {
      const first_buy = 1;
      if (this.IsNeedMonitor(first_buy, false, this.current_price, max_rise_pct)) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    let start_index = this.sgrid_step_table.length + 1;
    grid_sell_pct = 1 + this.grid_settings.MGRID_STEP_PCT;
    for (let idx = 0; idx < this.mgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.mgrid_step_table[idx][1]);
      this.trading_table[start_index + idx] = this.GenerateOneRow(
        this.mgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.mgrid_step_table[idx][2]),
        Number(this.mgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.IsDisableRow(start_index + idx)) {
        this.disable_rows.push(start_index + idx);
      }
      if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
        this.buy_triggered_rows.push(start_index + idx);
        this.sell_triggered_rows.push(start_index + idx);
      } else {
        if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(start_index + idx);
        }
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_m, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    start_index = this.sgrid_step_table.length + this.mgrid_step_table.length + 1;
    grid_sell_pct = 1 + this.grid_settings.LGRID_STEP_PCT;
    for (let idx = 0; idx < this.lgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.lgrid_step_table[idx][1]);
      this.trading_table[start_index + idx] = this.GenerateOneRow(
        this.lgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.lgrid_step_table[idx][2]),
        Number(this.lgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.IsDisableRow(start_index + idx)) {
        this.disable_rows.push(start_index + idx);
      }
      if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
        this.buy_triggered_rows.push(start_index + idx);
        this.sell_triggered_rows.push(start_index + idx);
      } else {
        if (this.IsNeedMonitor(start_index + idx, false, this.current_price, max_rise_pct)) {
          this.buy_monitor_rows.push(start_index + idx);
        }
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (this.IsNeedMonitor(last_sell_l, true, this.current_price, max_rise_pct)) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, grid_buy_pct, grid_sell_pct, grid_add_pct, grid_retain_count) {
    const precision = this.grid_settings.TRADING_PRICE_PRECISION;
    const buy_price = FixedPrice(this.target_price, grid_buy_pct, precision);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price = FixedPrice(this.target_price, grid_sell_pct, precision);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name,
      ToPercent(grid_buy_pct),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      buy_price.toFixed(precision),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(precision),
      sell_price.toFixed(precision),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/plugin_env.ts
var FETCH_CURRENT_PRICE = "fetch_current_price";
var PluginEnv = class {
  constructor() {
    this.is_settings_changed = false;
    this.base_settings = new PluginBaseSettings();
    this.grid_settings = new GridTradingSettings();
    this.grid_trading_dict = /* @__PURE__ */ new Map();
    this.stock_remote_price_dict = /* @__PURE__ */ new Map();
    this.event_callback_dict = /* @__PURE__ */ new Map();
    this._event_guid = 0;
  }
  GetAPILisence() {
    return this.base_settings.DATA_API_LICENCE;
  }
  GetStockRemotePrice(stock_no) {
    const price = this.stock_remote_price_dict.get(stock_no);
    if (price != void 0) {
      return price;
    } else {
      return -1;
    }
  }
  GetGridTradingTypeByString(mode) {
    if (mode == "mode_two") {
      return GridTradingModeTwo;
    }
    if (mode == "mode_three") {
      return GridTradingModeThree;
    }
    return GridTradingModeOne;
  }
  GetAndGenGridTrading(grid_name, mode) {
    let grid_trading = this.grid_trading_dict.get(grid_name);
    const trading_mode = this.GetGridTradingTypeByString(mode);
    if (grid_trading instanceof trading_mode) {
      return grid_trading;
    }
    grid_trading = new trading_mode(this);
    this.grid_trading_dict.set(grid_name, grid_trading);
    return grid_trading;
  }
  UnserializedSettings(data) {
    const lines = data.split("\n");
    if (lines.length <= 0) {
      return;
    }
    UnpackSettings(this.base_settings, lines);
    UnpackSettings(this.grid_settings, lines);
  }
  SerializedSettings() {
    return PackSettings(this.base_settings) + PackSettings(this.grid_settings);
  }
  PublishEvent(event_name) {
    const cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0) {
      return;
    }
    for (let [guid, event_cb] of cb_dict) {
      try {
        event_cb();
      } catch (e) {
        ;
      }
    }
  }
  SubscribeEvent(event_name, event_cb) {
    const guid = this.GenGUID();
    let cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0) {
      cb_dict = /* @__PURE__ */ new Map();
      this.event_callback_dict.set(event_name, cb_dict);
    }
    cb_dict.set(guid, event_cb);
    return guid;
  }
  UnsubscribeEvent(event_name, event_guid) {
    const cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0 || !cb_dict.has(event_guid)) {
      return false;
    }
    return cb_dict.delete(event_guid);
  }
  GenGUID() {
    this._event_guid++;
    return this._event_guid;
  }
};

// src/command_util.ts
var GridCommand = class {
  constructor() {
    this.command = "none";
    this.command_type = "grid";
  }
};
function ExcuteGridCommand(cmd_str) {
  const strs = cmd_str.split(" ");
  const command = new GridCommand();
  command.command = strs[0];
  command.raw_command_text = cmd_str;
  if (command.command == "add_record") {
    command.command_param1 = strs[1];
    AddGridRecord(command);
  }
  if (command.command == "del_record") {
    command.command_param1 = strs[1];
    DelGridRecord(command);
  }
  return command;
}
function AddGridRecord(command) {
  const sub_strs = command.command_param1.split(",");
  if (sub_strs.length != 5) {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  if (sub_strs[0] != "BUY" && sub_strs[0] != "SELL" && sub_strs[0] != "SHARE") {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  if (!sub_strs[2].startsWith("\u5C0F\u7F51") && !sub_strs[2].startsWith("\u4E2D\u7F51") && !sub_strs[2].startsWith("\u5927\u7F51") && !sub_strs[2].startsWith("\u7EA2\u5229") && !sub_strs[2].startsWith("\u5229\u6DA6")) {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  command.error_code = 0;
  command.data_result_str = "\n" + command.command_param1;
  return true;
}
function DelGridRecord(command) {
  if (IsNumeric(command.command_param1)) {
    command.error_code = 0;
    command.data_result_num = Number(command.command_param1);
  } else {
    command.error_code = -1;
    command.error_msg = "invalid param";
  }
}

// src/grid_view.ts
var VIEW_TYPE_GTV = "gtv-view";
var GTVView = class extends import_obsidian2.TextFileView {
  constructor(leaf, plugin_env) {
    super(leaf);
    this.plugin_env = plugin_env;
    this.refresh_event_guid = -1;
    this.view_guid = plugin_env.GenGUID();
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  getViewType() {
    return VIEW_TYPE_GTV;
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.command_btn_el = div.createEl("button");
    this.command_btn_el.setText("Excute");
    this.command_btn_el.onClickEvent((ev) => {
      this.OnClickAddRecordBtn(ev, this.command_input_el);
    });
    this.command_input_el = div.createEl("input");
    this.command_input_el.empty();
    this.command_input_el.size = 70;
    this.command_input_el.placeholder = "Input your command";
    div = this.contentEl.createEl("div");
    this.stock_tile_el = div.createEl("h1");
    this.stock_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.param_title_el = div.createEl("h1");
    this.param_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.trading_title_el = div.createEl("h1");
    this.trading_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.holding_title_el = div.createEl("h1");
    this.holding_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.income_title_el = div.createEl("h1");
    this.income_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.analysis_title_el = div.createEl("h1");
    this.analysis_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.record_title_el = div.createEl("h1");
    this.record_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.adjust_title_el = div.createEl("h1");
    this.adjust_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.debug_log_title_el = div.createEl("h1");
    this.debug_log_table_el = div.createEl("table");
    this.refresh_event_guid = this.plugin_env.SubscribeEvent(FETCH_CURRENT_PRICE, () => this.Refresh());
  }
  OnClickAddRecordBtn(ev, input_el) {
    try {
      const text = input_el.value;
      const grid_cmd = ExcuteGridCommand(text);
      if (grid_cmd.error_code == 0) {
        if (grid_cmd.command == "add_record") {
          this.data = this.data + grid_cmd.data_result_str;
          this.setViewData(this.data, false);
        }
        if (grid_cmd.command == "del_record") {
          const lines = this.data.split("\n");
          let count = 0;
          let index = 0;
          for (index = 0; index < lines.length; index++) {
            if (lines[index].startsWith("BUY,") || lines[index].startsWith("SELL,")) {
              count++;
            }
            if (count == grid_cmd.data_result_num) {
              break;
            }
          }
          if (index < lines.length) {
            lines.splice(index, 1);
          }
          this.data = lines.join("\n");
          this.setViewData(this.data, false);
        }
      }
    } catch (e) {
      DebugLog("Command has error ", e);
    }
  }
  async onClose() {
    this.contentEl.empty();
    if (this.refresh_event_guid > 0) {
      this.plugin_env.UnsubscribeEvent(FETCH_CURRENT_PRICE, this.refresh_event_guid);
      this.refresh_event_guid = -1;
    }
  }
  Refresh() {
    this.stock_tile_el.setText("\u672A\u77E5\u6807\u7684");
    this.stock_table_el.empty();
    this.param_title_el.setText("\u7F51\u683C\u53C2\u6570");
    this.param_table_el.empty();
    this.trading_title_el.setText("\u4EA4\u6613\u7F51\u683C");
    this.trading_table_el.empty();
    this.holding_title_el.setText("\u6301\u4ED3\u5206\u6790");
    this.holding_table_el.empty();
    this.income_title_el.setText("\u6536\u76CA\u5206\u6790");
    this.income_table_el.empty();
    this.analysis_title_el.setText("\u56DE\u64A4\u5206\u6790");
    this.analysis_table_el.empty();
    this.record_title_el.setText("\u4EA4\u6613\u8BB0\u5F55");
    this.record_table_el.empty();
    this.adjust_title_el.setText("\u8C03\u6574\u8BB0\u5F55");
    this.adjust_table_el.empty();
    if (this.file != null) {
      const mode_str = this.data.split("\n")[0].split(",")[0];
      const grid_trading = this.plugin_env.GetAndGenGridTrading(this.file.name, mode_str);
      grid_trading.InitGridTrading(this.data);
      this.stock_tile_el.setText(grid_trading.stock_name);
      this.DisplayTable(grid_trading, this.stock_table_el, grid_trading.stock_table, false);
      this.DisplayTable(grid_trading, this.param_table_el, grid_trading.param_table, false);
      this.DisplayTable(grid_trading, this.trading_table_el, grid_trading.trading_table, true);
      this.DisplayTable(grid_trading, this.holding_table_el, grid_trading.holding_analysis, false);
      this.DisplayTable(grid_trading, this.income_table_el, grid_trading.trading_income, false);
      this.DisplayTable(grid_trading, this.analysis_table_el, grid_trading.trading_analysis, false);
      this.DisplayTable(grid_trading, this.record_table_el, grid_trading.trading_record, false);
      this.DisplayTable(grid_trading, this.adjust_table_el, grid_trading.adjust_record, false);
    }
  }
  DisplayTable(grid_trading, table_el, table, is_color) {
    try {
      const table_body = table_el.createEl("tbody");
      table.forEach((row, i) => {
        const table_row = table_body.createEl("tr");
        row.forEach((cell, j) => {
          const table_cell = table_row.createEl("td", { text: cell, attr: { "align": "right" } });
          if (is_color && i > 0) {
            if (j <= 5) {
              if (grid_trading.buy_triggered_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_BUY_TRIGGERED);
              }
              if (grid_trading.buy_monitor_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_BUY_MONITOR);
              }
            } else {
              if (grid_trading.sell_triggered_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_SELL_TRIGGERED);
              }
              if (grid_trading.sell_monitor_rows.includes(i)) {
                table_cell.setAttr("bgColor", GRID_COLOR_SELL_MONITOR);
              }
            }
          }
        });
      });
    } catch (error) {
      DebugLog("DisplayTable error: ", error);
    }
  }
};

// src/grid_overview.ts
var import_obsidian3 = require("obsidian");
var VIEW_TYPE_GTO = "gto-view";
var GTOView = class extends import_obsidian3.TextFileView {
  constructor(leaf, vault, plugin_env) {
    super(leaf);
    this.vault = vault;
    this.plugin_env = plugin_env;
    this.refresh_event_guid = -1;
    this.debug_log = [];
    this.stock_overview = [];
    this.custom_stock_overview = [];
    this.income_overview = [];
    this.holding_overview = [];
  }
  ReadCustomStock() {
    this.holding_overview = [["\u7B79\u7801\u7C7B\u578B", "\u5360\u7528\u672C\u91D1", "\u6301\u4ED3\u91D1\u989D", "\u6301\u4ED3\u76C8\u4E8F", "\u6E05\u683C\u76C8\u5229", "\u6E05\u4ED3\u76C8\u5229", "\u6301\u4ED3\u5360\u6BD4", "\u672C\u91D1\u5360\u6BD4"]];
    this.holding_overview.push(["\u603B\u989D", "0", "0", "0", "0", "0", "0", "0"]);
    this.holding_overview.push(["\u5C0F\u7F51", "0", "0", "0", "0", "0", "0", "0"]);
    this.holding_overview.push(["\u4E2D\u7F51", "0", "0", "0", "0", "0", "0", "0"]);
    this.holding_overview.push(["\u5927\u7F51", "0", "0", "0", "0", "0", "0", "0"]);
    this.holding_overview.push(["\u7D2F\u79EF", "0", "0", "0", "0", "0", "0", "0"]);
    this.holding_overview.push(["\u8865\u4ED3", "0", "0", "0", "0", "0", "0", "0"]);
    this.income_overview = [["", "\u5360\u7528\u672C\u91D1", "\u6301\u4ED3\u91D1\u989D", "\u6301\u4ED3\u76C8\u4E8F", "\u6295\u5165\u8D44\u91D1", "\u8D26\u9762\u8D44\u91D1", "\u6295\u5165\u76C8\u4E8F", "\u6295\u5165\u4ED3\u4F4D"]];
    this.income_overview.push(["\u7D2F\u79EF\u7B79\u7801", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u5F53\u524D\u6301\u4ED3", "0", "0", "0", "0", "0", "0", "0"]);
    this.income_overview.push(["\u5F53\u524D\u6E05\u683C", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u5F53\u524D\u6E05\u4ED3", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u56DE\u8C03\u6301\u4ED3", "0", "0", "0", "0", "0", "0", "0"]);
    this.income_overview.push(["\u56DE\u8C03\u6E05\u683C", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u56DE\u8C03\u6E05\u76D8", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u6700\u5927\u6301\u4ED3", "0", "0", "0", "0", "0", "0", "0"]);
    this.income_overview.push(["\u6700\u5927\u6E05\u683C", "0", "0", "0", "0", "0", "0", "-"]);
    this.income_overview.push(["\u6700\u5927\u6E05\u76D8", "0", "0", "0", "0", "0", "0", "-"]);
    const stock_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u9996\u7F51\u76EE\u6807\u4EF7", "\u5F53\u524D\u4EF7\u683C", "\u4EF7\u683C\u767E\u5206\u4F4D", "\u6301\u4ED3\u80A1\u6570", "\u6D88\u8017\u672C\u91D1", "\u76C8\u4E8F\u6BD4\u7387", "\u56DE\u8C03\u4ED3\u4F4D"]];
    let buy_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u8DDD\u6210\u4EA4\u4EF7"]];
    let sell_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u8DDD\u6210\u4EA4\u4EF7"]];
    let passive_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5F53\u524D\u4EF7\u683C", "\u5F53\u524D\u8DCC\u5E45", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u6DA8\u5E45"]];
    let active_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EA4\u6613\u65E5\u671F", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5F53\u524D\u4EF7\u683C", "\u6301\u4ED3\u6536\u76CA", "\u5356\u51FA\u4EFD\u6570", "\u7D2F\u79EF\u7B79\u7801"]];
    const grid_folder = this.vault.getAbstractFileByPath("GridTrading");
    let grid_file_names = [];
    if (grid_folder instanceof import_obsidian3.TFolder) {
      for (let index = 0; index < grid_folder.children.length; index++) {
        const grid_file = grid_folder.children[index];
        if (grid_file instanceof import_obsidian3.TFile && grid_file.name.endsWith(".gtv")) {
          grid_file_names.push(grid_file.name);
        }
      }
    }
    grid_file_names.sort();
    for (let idx = 0; idx < grid_file_names.length; idx++) {
      const grid_trading = this.plugin_env.grid_trading_dict.get(grid_file_names[idx]);
      if (grid_trading instanceof GridTrading && grid_trading.IsStock() && !grid_trading.is_debug) {
        grid_trading.InitTradingOverview();
        stock_table.push(grid_trading.stock_overview);
        buy_table = buy_table.concat(grid_trading.stock_buy_overview);
        sell_table = sell_table.concat(grid_trading.stock_sell_overview);
        passive_table = passive_table.concat(grid_trading.stock_passive_filled_record);
        active_table = active_table.concat(grid_trading.stock_active_filled_record);
        const trading_income = grid_trading.trading_income;
        for (let idx2 = 1; idx2 <= 10; idx2++) {
          this.income_overview[idx2][1] = StringPlus(this.income_overview[idx2][1], trading_income[idx2][2], 1);
          this.income_overview[idx2][2] = StringPlus(this.income_overview[idx2][2], trading_income[idx2][3], 1);
          this.income_overview[idx2][3] = StringPlus(this.income_overview[idx2][3], trading_income[idx2][6], 1);
          this.income_overview[idx2][4] = StringPlus(this.income_overview[idx2][4], trading_income[idx2][7], 1);
          this.income_overview[idx2][5] = StringPlus(this.income_overview[idx2][5], trading_income[idx2][8], 1);
        }
        const trading_holding = grid_trading.holding_analysis;
        for (let idx2 = 1; idx2 <= 6; idx2++) {
          this.holding_overview[idx2][1] = StringPlus(this.holding_overview[idx2][1], trading_holding[idx2][2], 1);
          this.holding_overview[idx2][2] = StringPlus(this.holding_overview[idx2][2], trading_holding[idx2][3], 1);
          this.holding_overview[idx2][3] = StringPlus(this.holding_overview[idx2][3], trading_holding[idx2][6], 1);
          this.holding_overview[idx2][4] = StringPlus(this.holding_overview[idx2][4], trading_holding[idx2][7], 1);
          this.holding_overview[idx2][5] = StringPlus(this.holding_overview[idx2][5], trading_holding[idx2][8], 1);
        }
      }
    }
    let current_cost = Number(this.income_overview[2][1]);
    let current_hold = Number(this.income_overview[2][2]);
    for (let idx = 1; idx <= 10; idx++) {
      this.income_overview[idx][6] = ToPercent(Number(this.income_overview[idx][3]) / Number(this.income_overview[idx][4]), 2);
      if (this.income_overview[idx][7] != "-") {
        this.income_overview[idx][7] = ToPercent(current_cost / Number(this.income_overview[idx][4]));
      }
    }
    for (let idx = 1; idx <= 6; idx++) {
      this.holding_overview[idx][6] = ProportionPctStr(Number(this.holding_overview[idx][2]), current_hold, 2);
      this.holding_overview[idx][7] = ProportionPctStr(Number(this.holding_overview[idx][1]), current_cost, 2);
    }
    this.custom_stock_overview = [...stock_table, ...buy_table, ...sell_table];
    this.stock_filled_overview = [...passive_table, ...active_table];
  }
  SumupAllStock() {
    this.stock_overview = [
      ["\u6807\u7684\u603B\u6570", ""],
      ["\u4E70\u5165\u76D1\u63A7", ""],
      ["\u5356\u51FA\u76D1\u63A7", ""],
      ["", "\u4E70\u5165\u603B\u989D", "-5%\u4E70\u5165\u603B\u989D", "-3%\u4E70\u5165\u603B\u989D", "+3%\u5356\u51FA\u603B\u989D", "+5%\u5356\u51FA\u603B\u989D", "\u5356\u51FA\u603B\u989D"],
      ["\u5168\u90E8", "0", "0", "0", "0", "0", "0"],
      ["\u5C0F\u7F51", "0", "0", "0", "0", "0", "0"],
      ["\u4E2D\u7F51", "0", "0", "0", "0", "0", "0"],
      ["\u5927\u7F51", "0", "0", "0", "0", "0", "0"]
    ];
    let stock_count = 0;
    let buy_monitor_count = 0;
    let sell_monitor_count = 0;
    for (let idx = 0; idx < this.custom_stock_overview.length; idx++) {
      const stock = this.custom_stock_overview[idx];
      if (stock[0] == GRID_COLOR_STOCK_OVERVIEW) {
        stock_count++;
      }
      if (stock[0] == GRID_COLOR_BUY_OVERVIEW) {
        buy_monitor_count++;
        this.stock_overview[4][1] = StringPlus(this.stock_overview[4][1], stock[8], 1);
        if (stock[3].startsWith("\u5C0F\u7F51")) {
          this.stock_overview[5][1] = StringPlus(this.stock_overview[5][1], stock[8], 1);
        }
        if (stock[3].startsWith("\u4E2D\u7F51")) {
          this.stock_overview[6][1] = StringPlus(this.stock_overview[6][1], stock[8], 1);
        }
        if (stock[3].startsWith("\u5927\u7F51")) {
          this.stock_overview[7][1] = StringPlus(this.stock_overview[7][1], stock[8], 1);
        }
        const trading_gap = Number(stock[9].replace("%", "").replace("+", ""));
        if (trading_gap > -3) {
          this.stock_overview[4][3] = StringPlus(this.stock_overview[4][3], stock[8], 1);
          if (stock[3].startsWith("\u5C0F\u7F51")) {
            this.stock_overview[5][3] = StringPlus(this.stock_overview[5][3], stock[8], 1);
          }
          if (stock[3].startsWith("\u4E2D\u7F51")) {
            this.stock_overview[6][3] = StringPlus(this.stock_overview[6][3], stock[8], 1);
          }
          if (stock[3].startsWith("\u5927\u7F51")) {
            this.stock_overview[7][3] = StringPlus(this.stock_overview[7][3], stock[8], 1);
          }
        }
        if (trading_gap > -5) {
          this.stock_overview[4][2] = StringPlus(this.stock_overview[4][2], stock[8], 1);
          if (stock[3].startsWith("\u5C0F\u7F51")) {
            this.stock_overview[5][2] = StringPlus(this.stock_overview[5][2], stock[8], 1);
          }
          if (stock[3].startsWith("\u4E2D\u7F51")) {
            this.stock_overview[6][2] = StringPlus(this.stock_overview[6][2], stock[8], 10);
          }
          if (stock[3].startsWith("\u5927\u7F51")) {
            this.stock_overview[7][2] = StringPlus(this.stock_overview[7][2], stock[8], 1);
          }
        }
      }
      if (stock[0] == GRID_COLOR_SELL_OVERVIEW) {
        sell_monitor_count++;
        this.stock_overview[4][6] = StringPlus(this.stock_overview[4][6], stock[8], 1);
        if (stock[3].startsWith("\u5C0F\u7F51")) {
          this.stock_overview[5][6] = StringPlus(this.stock_overview[5][6], stock[8], 1);
        }
        if (stock[3].startsWith("\u4E2D\u7F51")) {
          this.stock_overview[6][6] = StringPlus(this.stock_overview[6][6], stock[8], 1);
        }
        if (stock[3].startsWith("\u5927\u7F51")) {
          this.stock_overview[7][6] = StringPlus(this.stock_overview[7][6], stock[8], 1);
        }
        const trading_gap = Number(stock[9].replace("%", "").replace("+", ""));
        if (trading_gap < 3) {
          this.stock_overview[4][4] = StringPlus(this.stock_overview[4][4], stock[8], 1);
          if (stock[3].startsWith("\u5C0F\u7F51")) {
            this.stock_overview[5][4] = StringPlus(this.stock_overview[5][4], stock[8], 1);
          }
          if (stock[3].startsWith("\u4E2D\u7F51")) {
            this.stock_overview[6][4] = StringPlus(this.stock_overview[6][4], stock[8], 1);
          }
          if (stock[3].startsWith("\u5927\u7F51")) {
            this.stock_overview[7][4] = StringPlus(this.stock_overview[7][4], stock[8], 1);
          }
        }
        if (trading_gap < 5) {
          this.stock_overview[4][5] = StringPlus(this.stock_overview[4][5], stock[8], 1);
          if (stock[3].startsWith("\u5C0F\u7F51")) {
            this.stock_overview[5][5] = StringPlus(this.stock_overview[5][5], stock[8], 1);
          }
          if (stock[3].startsWith("\u4E2D\u7F51")) {
            this.stock_overview[6][5] = StringPlus(this.stock_overview[6][5], stock[8], 1);
          }
          if (stock[3].startsWith("\u5927\u7F51")) {
            this.stock_overview[7][5] = StringPlus(this.stock_overview[7][5], stock[8], 1);
          }
        }
      }
    }
    this.stock_overview[0][1] = String(stock_count);
    this.stock_overview[1][1] = String(buy_monitor_count);
    this.stock_overview[2][1] = String(sell_monitor_count);
  }
  DebugLog(level, log_str, extra_info) {
    this.debug_log.push([level, log_str, extra_info]);
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  getViewType() {
    return VIEW_TYPE_GTO;
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.overview_title_el = div.createEl("h1");
    this.overview_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.holding_title_el = div.createEl("h1");
    this.holding_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.income_title_el = div.createEl("h1");
    this.income_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.custom_title_el = div.createEl("h1");
    this.custom_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.filled_tile_el = div.createEl("h1");
    this.filled_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.debug_log_title_el = div.createEl("h1");
    this.debug_log_table_el = div.createEl("table");
    this.refresh_event_guid = this.plugin_env.SubscribeEvent(FETCH_CURRENT_PRICE, () => this.Refresh());
  }
  async onClose() {
    this.contentEl.empty();
    if (this.refresh_event_guid > 0) {
      this.plugin_env.UnsubscribeEvent(FETCH_CURRENT_PRICE, this.refresh_event_guid);
      this.refresh_event_guid = -1;
    }
  }
  Refresh() {
    this.ReadCustomStock();
    this.SumupAllStock();
    this.overview_title_el.setText("\u7F51\u683C\u603B\u89C8");
    this.overview_table_el.empty();
    this.DisplayTable(this.overview_table_el, this.stock_overview, false);
    this.holding_title_el.setText("\u6301\u4ED3\u5206\u6790");
    this.holding_table_el.empty();
    this.DisplayTable(this.holding_table_el, this.holding_overview, false);
    this.income_title_el.setText("\u76C8\u4E8F\u603B\u89C8");
    this.income_table_el.empty();
    this.DisplayTable(this.income_table_el, this.income_overview, false);
    this.custom_title_el.setText("\u6211\u7684\u7F51\u683C");
    this.custom_table_el.empty();
    this.DisplayTable(this.custom_table_el, this.custom_stock_overview, true);
    this.filled_tile_el.setText("\u8865\u4ED3\u4FE1\u606F");
    this.filled_table_el.empty();
    this.DisplayTable(this.filled_table_el, this.stock_filled_overview, true);
  }
  DisplayTable(table_el, table, is_color) {
    const table_body = table_el.createEl("tbody");
    table.forEach((row, i) => {
      const table_row = table_body.createEl("tr");
      row.forEach((cell, j) => {
        if (is_color) {
          if (j > 0) {
            table_row.createEl("td", { text: cell, attr: { "bgColor": table[i][0], "align": "right" } });
          }
        } else {
          table_row.createEl("td", { text: cell, attr: { "align": "right" } });
        }
      });
    });
  }
};

// src/cor_view.ts
var import_obsidian4 = require("obsidian");
var VIEW_TYPE_COR = "cor-view";
var CorView = class extends import_obsidian4.TextFileView {
  constructor(leaf) {
    super(leaf);
  }
  getViewType() {
    return VIEW_TYPE_COR;
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.data_el = div.createEl("h1");
  }
  async onClose() {
    this.contentEl.empty();
  }
  Refresh() {
    this.data_el.setText(this.data);
  }
};

// src/main.ts
var TradingStrategy = class extends import_obsidian5.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.plugin_env = new PluginEnv();
    this.interval_callback_id = -1;
  }
  async onload() {
    await this.LoadSettingsFromDisk();
    const ribbonIconEl = this.addRibbonIcon("dice", "GridTrading", (evt) => {
      this.FetchAllStockCurrentPrice();
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    this.addSettingTab(new TradingStrategySettingTab(this.app, this, this.plugin_env));
    this.interval_callback_id = window.setInterval(() => this.FetchAllStockCurrentPrice(), 1 * 1e3);
    this.registerInterval(this.interval_callback_id);
    this.registerView(VIEW_TYPE_GTV, (leaf) => {
      const gtv_view = new GTVView(leaf, this.plugin_env);
      return gtv_view;
    });
    this.registerView(VIEW_TYPE_GTO, (leaf) => {
      const gto_view = new GTOView(leaf, this.app.vault, this.plugin_env);
      return gto_view;
    });
    this.registerView(VIEW_TYPE_COR, (leaf) => {
      const cor_view = new CorView(leaf);
      return cor_view;
    });
    this.registerExtensions(["gtv"], VIEW_TYPE_GTV);
    this.registerExtensions(["gto"], VIEW_TYPE_GTO);
    this.registerExtensions(["cor"], VIEW_TYPE_COR);
  }
  onunload() {
  }
  async LoadSettingsFromDisk() {
    const setting_data = await this.loadData();
    if (setting_data != null) {
      this.plugin_env.UnserializedSettings(setting_data);
    }
  }
  SaveSettingsToDisk() {
    DebugLog("MAX_SLUMP_PCT1 ", this.plugin_env.grid_settings.MAX_SLUMP_PCT);
    const setting_data = this.plugin_env.SerializedSettings();
    DebugLog("MAX_SLUMP_PCT2 ", this.plugin_env.grid_settings.MAX_SLUMP_PCT);
    DebugLog(setting_data);
    this.saveData(setting_data);
  }
  async FetchAllStockCurrentPrice() {
    const api_licence = this.plugin_env.GetAPILisence();
    const grid_folder = this.app.vault.getAbstractFileByPath("GridTrading");
    if (grid_folder instanceof import_obsidian5.TFolder) {
      if (this.interval_callback_id > 0) {
        window.clearInterval(this.interval_callback_id);
        this.interval_callback_id = -1;
      }
      for (let index = 0; index < grid_folder.children.length; index++) {
        const grid_file = grid_folder.children[index];
        if (grid_file instanceof import_obsidian5.TFile && grid_file.name.endsWith(".gtv")) {
          const content = await this.app.vault.cachedRead(grid_file);
          const mode_str = content.split("\n")[0].split(",")[0];
          let grid_trading = this.plugin_env.GetAndGenGridTrading(grid_file.name, mode_str);
          grid_trading.InitGridTrading(content);
          if (grid_trading.is_debug) {
            continue;
          }
          let current_price = -1;
          if (grid_file.name.includes("LOF")) {
            current_price = await GetLOFCurrentPrice(grid_trading.market_code + String(grid_trading.target_stock), api_licence);
            current_price = Number(current_price);
          } else {
            current_price = await GetETFCurrentPrice(grid_trading.market_code + String(grid_trading.target_stock), api_licence);
            current_price = Number(current_price);
            await sleep(10);
          }
          this.plugin_env.stock_remote_price_dict.set(String(grid_trading.target_stock), current_price);
          grid_trading.UpdateRemotePrice(current_price);
        }
        if (grid_file instanceof import_obsidian5.TFile && grid_file.name.endsWith(".gto")) {
          const content = await this.app.vault.cachedRead(grid_file);
          const lines = content.split("\n");
          for (let index2 = 0; index2 < lines.length; index2++) {
            const strs = lines[index2].split(",");
            if (strs[0] != "BUY" && strs[0] != "SELL") {
              let current_price = await GetETFCurrentPrice(strs[2] + strs[0], api_licence);
              current_price = Number(current_price);
              this.plugin_env.stock_remote_price_dict.set(strs[0], current_price);
              await sleep(1e3);
            }
          }
        }
      }
      this.plugin_env.PublishEvent(FETCH_CURRENT_PRICE);
    }
  }
};
var TradingStrategySettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app, plugin, plugin_env) {
    super(app, plugin);
    this.plugin = plugin;
    this.plugin_env = plugin_env;
  }
  hide() {
    if (this.plugin_env.is_settings_changed) {
      this.plugin.SaveSettingsToDisk();
      this.plugin_env.is_settings_changed = false;
    }
    super.hide();
  }
  display() {
    this.containerEl.empty();
    this.containerEl.createEl("h1").setText("TradingStrategy");
    const base_div = this.containerEl.createEl("div");
    base_div.createEl("h2").setText("\u57FA\u7840\u914D\u7F6E");
    let bkey;
    for (bkey in this.plugin_env.base_settings) {
      const key_name = SETTING_NAME.get(bkey);
      if (key_name != void 0) {
        const setting = new import_obsidian5.Setting(base_div).setName(key_name);
        setting.addText((text_comp, setting_key = bkey) => {
          text_comp.setValue(String(GetSettingValue(this.plugin_env.base_settings, setting_key)));
          text_comp.onChange((value) => {
            SetSettingValue(this.plugin_env.base_settings, setting_key, value);
            this.plugin_env.is_settings_changed = true;
          });
        });
      }
    }
    const grid_div = this.containerEl.createEl("div");
    grid_div.createEl("h2").setText("\u7F51\u683C\u914D\u7F6E");
    let key;
    for (key in this.plugin_env.grid_settings) {
      const key_name = SETTING_NAME.get(key);
      if (key_name != void 0) {
        const setting = new import_obsidian5.Setting(grid_div).setName(key_name);
        setting.addText((text_comp, setting_key = key) => {
          DebugLog("add Setting Key: ", setting_key);
          text_comp.setValue(String(GetSettingValue(this.plugin_env.grid_settings, setting_key)));
          text_comp.onChange((value) => {
            SetSettingValue(this.plugin_env.grid_settings, setting_key, Number(value));
            DebugLog("SetValue succeed ", setting_key, GetSettingValue(this.plugin_env.grid_settings, setting_key));
            this.plugin_env.is_settings_changed = true;
          });
        });
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3RzLW1kNS9kaXN0L21kNS5qcyIsICJzcmMvbWFpbi50cyIsICJzcmMvbGFuZ19zdHIudHMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy9yZW1vdGVfdXRpbC50cyIsICJzcmMvZ3JpZF92aWV3LnRzIiwgInNyYy9teW1hdGgudHMiLCAic3JjL2dyaWRfdHJhZGluZy50cyIsICJzcmMvZ3JpZF90cmFkaW5nX20xLnRzIiwgInNyYy9ncmlkX3RyYWRpbmdfbTIudHMiLCAic3JjL2dyaWRfdHJhZGluZ19tMy50cyIsICJzcmMvcGx1Z2luX2Vudi50cyIsICJzcmMvY29tbWFuZF91dGlsLnRzIiwgInNyYy9ncmlkX292ZXJ2aWV3LnRzIiwgInNyYy9jb3Jfdmlldy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuXG5UeXBlU2NyaXB0IE1kNVxuPT09PT09PT09PT09PT1cblxuQmFzZWQgb24gd29yayBieVxuKiBKb3NlcGggTXllcnM6IGh0dHA6Ly93d3cubXllcnNkYWlseS5vcmcvam9zZXBoL2phdmFzY3JpcHQvbWQ1LXRleHQuaHRtbFxuKiBBbmRyXHUwMEU5IENydXo6IGh0dHBzOi8vZ2l0aHViLmNvbS9zYXRhem9yL1NwYXJrTUQ1XG4qIFJheW1vbmQgSGlsbDogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwveWFtZDUuanNcblxuRWZmZWN0aXZlbHkgYSBUeXBlU2NyeXB0IHJlLXdyaXRlIG9mIFJheW1vbmQgSGlsbCBKUyBMaWJyYXJ5XG5cblRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG5Db3B5cmlnaHQgKEMpIDIwMTQgUmF5bW9uZCBIaWxsXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuXG5cbiAgICAgICAgICAgIERPIFdIQVQgWU9VIFdBTlQgVE8gUFVCTElDIExJQ0VOU0VcbiAgICAgICAgICAgICAgICAgICAgVmVyc2lvbiAyLCBEZWNlbWJlciAyMDA0XG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUgQW5kclx1MDBFOSBDcnV6IDxhbWRmY3J1ekBnbWFpbC5jb20+XG5cbiBFdmVyeW9uZSBpcyBwZXJtaXR0ZWQgdG8gY29weSBhbmQgZGlzdHJpYnV0ZSB2ZXJiYXRpbSBvciBtb2RpZmllZFxuIGNvcGllcyBvZiB0aGlzIGxpY2Vuc2UgZG9jdW1lbnQsIGFuZCBjaGFuZ2luZyBpdCBpcyBhbGxvd2VkIGFzIGxvbmdcbiBhcyB0aGUgbmFtZSBpcyBjaGFuZ2VkLlxuXG4gICAgICAgICAgICBETyBXSEFUIFlPVSBXQU5UIFRPIFBVQkxJQyBMSUNFTlNFXG4gICBURVJNUyBBTkQgQ09ORElUSU9OUyBGT1IgQ09QWUlORywgRElTVFJJQlVUSU9OIEFORCBNT0RJRklDQVRJT05cblxuICAwLiBZb3UganVzdCBETyBXSEFUIFlPVSBXQU5UIFRPLlxuXG5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1kNSA9IHZvaWQgMDtcbjtcbnZhciBNZDUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWQ1KCkge1xuICAgICAgICB0aGlzLl9kYXRhTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXcgSW50MzJBcnJheSg0KTtcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDY4KTtcbiAgICAgICAgdGhpcy5fYnVmZmVyOCA9IG5ldyBVaW50OEFycmF5KHRoaXMuX2J1ZmZlciwgMCwgNjgpO1xuICAgICAgICB0aGlzLl9idWZmZXIzMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLl9idWZmZXIsIDAsIDE3KTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgICBNZDUuaGFzaFN0ciA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICBpZiAocmF3ID09PSB2b2lkIDApIHsgcmF3ID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMub25lUGFzc0hhc2hlclxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5hcHBlbmRTdHIoc3RyKVxuICAgICAgICAgICAgLmVuZChyYXcpO1xuICAgIH07XG4gICAgTWQ1Lmhhc2hBc2NpaVN0ciA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICBpZiAocmF3ID09PSB2b2lkIDApIHsgcmF3ID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMub25lUGFzc0hhc2hlclxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5hcHBlbmRBc2NpaVN0cihzdHIpXG4gICAgICAgICAgICAuZW5kKHJhdyk7XG4gICAgfTtcbiAgICBNZDUuX2hleCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBoYyA9IE1kNS5oZXhDaGFycztcbiAgICAgICAgdmFyIGhvID0gTWQ1LmhleE91dDtcbiAgICAgICAgdmFyIG47XG4gICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgIHZhciBqO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gaSAqIDg7XG4gICAgICAgICAgICBuID0geFtpXTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCA4OyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICBob1tvZmZzZXQgKyAxICsgal0gPSBoYy5jaGFyQXQobiAmIDB4MEYpO1xuICAgICAgICAgICAgICAgIG4gPj4+PSA0O1xuICAgICAgICAgICAgICAgIGhvW29mZnNldCArIDAgKyBqXSA9IGhjLmNoYXJBdChuICYgMHgwRik7XG4gICAgICAgICAgICAgICAgbiA+Pj49IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhvLmpvaW4oJycpO1xuICAgIH07XG4gICAgTWQ1Ll9tZDVjeWNsZSA9IGZ1bmN0aW9uICh4LCBrKSB7XG4gICAgICAgIHZhciBhID0geFswXTtcbiAgICAgICAgdmFyIGIgPSB4WzFdO1xuICAgICAgICB2YXIgYyA9IHhbMl07XG4gICAgICAgIHZhciBkID0geFszXTtcbiAgICAgICAgLy8gZmYoKVxuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzBdIC0gNjgwODc2OTM2IHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxXSAtIDM4OTU2NDU4NiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzJdICsgNjA2MTA1ODE5IHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbM10gLSAxMDQ0NTI1MzMwIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbNF0gLSAxNzY0MTg4OTcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzVdICsgMTIwMDA4MDQyNiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzZdIC0gMTQ3MzIzMTM0MSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzddIC0gNDU3MDU5ODMgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1s4XSArIDE3NzAwMzU0MTYgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzldIC0gMTk1ODQxNDQxNyB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzEwXSAtIDQyMDYzIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbMTFdIC0gMTk5MDQwNDE2MiB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzEyXSArIDE4MDQ2MDM2ODIgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzEzXSAtIDQwMzQxMTAxIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMTRdIC0gMTUwMjAwMjI5MCB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzE1XSArIDEyMzY1MzUzMjkgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgLy8gZ2coKVxuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzFdIC0gMTY1Nzk2NTEwIHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1s2XSAtIDEwNjk1MDE2MzIgfCAwO1xuICAgICAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzExXSArIDY0MzcxNzcxMyB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzBdIC0gMzczODk3MzAyIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbNV0gLSA3MDE1NTg2OTEgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzEwXSArIDM4MDE2MDgzIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1sxNV0gLSA2NjA0NzgzMzUgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1s0XSAtIDQwNTUzNzg0OCB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzldICsgNTY4NDQ2NDM4IHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1sxNF0gLSAxMDE5ODAzNjkwIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1szXSAtIDE4NzM2Mzk2MSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzhdICsgMTE2MzUzMTUwMSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzEzXSAtIDE0NDQ2ODE0NjcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzJdIC0gNTE0MDM3ODQgfCAwO1xuICAgICAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzddICsgMTczNTMyODQ3MyB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzEyXSAtIDE5MjY2MDc3MzQgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgLy8gaGgoKVxuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s1XSAtIDM3ODU1OCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzhdIC0gMjAyMjU3NDQ2MyB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1sxMV0gKyAxODM5MDMwNTYyIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzE0XSAtIDM1MzA5NTU2IHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMV0gLSAxNTMwOTkyMDYwIHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbNF0gKyAxMjcyODkzMzUzIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzddIC0gMTU1NDk3NjMyIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzEwXSAtIDEwOTQ3MzA2NDAgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1sxM10gKyA2ODEyNzkxNzQgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1swXSAtIDM1ODUzNzIyMiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1szXSAtIDcyMjUyMTk3OSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1s2XSArIDc2MDI5MTg5IHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbOV0gLSA2NDAzNjQ0ODcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1sxMl0gLSA0MjE4MTU4MzUgfCAwO1xuICAgICAgICBkID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTVdICsgNTMwNzQyNTIwIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzJdIC0gOTk1MzM4NjUxIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgLy8gaWkoKVxuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1swXSAtIDE5ODYzMDg0NCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzddICsgMTEyNjg5MTQxNSB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxNF0gLSAxNDE2MzU0OTA1IHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzVdIC0gNTc0MzQwNTUgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjEgfCBiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMTJdICsgMTcwMDQ4NTU3MSB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzNdIC0gMTg5NDk4NjYwNiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxMF0gLSAxMDUxNTIzIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzFdIC0gMjA1NDkyMjc5OSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s4XSArIDE4NzMzMTMzNTkgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxNV0gLSAzMDYxMTc0NCB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1s2XSAtIDE1NjAxOTgzODAgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMTNdICsgMTMwOTE1MTY0OSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s0XSAtIDE0NTUyMzA3MCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzExXSAtIDExMjAyMTAzNzkgfCAwO1xuICAgICAgICBkID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMl0gKyA3MTg3ODcyNTkgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbOV0gLSAzNDM0ODU1NTEgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjEgfCBiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgeFswXSA9IGEgKyB4WzBdIHwgMDtcbiAgICAgICAgeFsxXSA9IGIgKyB4WzFdIHwgMDtcbiAgICAgICAgeFsyXSA9IGMgKyB4WzJdIHwgMDtcbiAgICAgICAgeFszXSA9IGQgKyB4WzNdIHwgMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpc2UgYnVmZmVyIHRvIGJlIGhhc2hlZFxuICAgICAqL1xuICAgIE1kNS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2RhdGFMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9idWZmZXJMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9zdGF0ZS5zZXQoTWQ1LnN0YXRlSWRlbnRpdHkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIENoYXIgdG8gY29kZSBwb2ludCB0byB0byBhcnJheSBjb252ZXJzaW9uOlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9jaGFyQ29kZUF0XG4gICAgLy8gI0V4YW1wbGUuM0FfRml4aW5nX2NoYXJDb2RlQXRfdG9faGFuZGxlX25vbi1CYXNpYy1NdWx0aWxpbmd1YWwtUGxhbmVfY2hhcmFjdGVyc19pZl90aGVpcl9wcmVzZW5jZV9lYXJsaWVyX2luX3RoZV9zdHJpbmdfaXNfdW5rbm93blxuICAgIC8qKlxuICAgICAqIEFwcGVuZCBhIFVURi04IHN0cmluZyB0byB0aGUgaGFzaCBidWZmZXJcbiAgICAgKiBAcGFyYW0gc3RyIFN0cmluZyB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZFN0ciA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdmFyIGJ1ZjggPSB0aGlzLl9idWZmZXI4O1xuICAgICAgICB2YXIgYnVmMzIgPSB0aGlzLl9idWZmZXIzMjtcbiAgICAgICAgdmFyIGJ1ZkxlbiA9IHRoaXMuX2J1ZmZlckxlbmd0aDtcbiAgICAgICAgdmFyIGNvZGU7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoY29kZSA8IDEyOCkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gY29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPCAweDgwMCkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDYpICsgMHhDMDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IGNvZGUgJiAweDNGIHwgMHg4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPCAweEQ4MDAgfHwgY29kZSA+IDB4REJGRikge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDEyKSArIDB4RTA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gNiAmIDB4M0YpIHwgMHg4MDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IChjb2RlICYgMHgzRikgfCAweDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29kZSA9ICgoY29kZSAtIDB4RDgwMCkgKiAweDQwMCkgKyAoc3RyLmNoYXJDb2RlQXQoKytpKSAtIDB4REMwMCkgKyAweDEwMDAwO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID4gMHgxMEZGRkYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmljb2RlIHN0YW5kYXJkIHN1cHBvcnRzIGNvZGUgcG9pbnRzIHVwIHRvIFUrMTBGRkZGJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDE4KSArIDB4RjA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gMTIgJiAweDNGKSB8IDB4ODA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gNiAmIDB4M0YpIHwgMHg4MDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IChjb2RlICYgMHgzRikgfCAweDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1ZkxlbiA+PSA2NCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFMZW5ndGggKz0gNjQ7XG4gICAgICAgICAgICAgICAgTWQ1Ll9tZDVjeWNsZSh0aGlzLl9zdGF0ZSwgYnVmMzIpO1xuICAgICAgICAgICAgICAgIGJ1ZkxlbiAtPSA2NDtcbiAgICAgICAgICAgICAgICBidWYzMlswXSA9IGJ1ZjMyWzE2XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJMZW5ndGggPSBidWZMZW47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kIGFuIEFTQ0lJIHN0cmluZyB0byB0aGUgaGFzaCBidWZmZXJcbiAgICAgKiBAcGFyYW0gc3RyIFN0cmluZyB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZEFzY2lpU3RyID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpID0gTWF0aC5taW4oc3RyLmxlbmd0aCAtIGosIDY0IC0gYnVmTGVuKTtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IHN0ci5jaGFyQ29kZUF0KGorKyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVmTGVuIDwgNjQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RhdGFMZW5ndGggKz0gNjQ7XG4gICAgICAgICAgICBNZDUuX21kNWN5Y2xlKHRoaXMuX3N0YXRlLCBidWYzMik7XG4gICAgICAgICAgICBidWZMZW4gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlckxlbmd0aCA9IGJ1ZkxlbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmQgYSBieXRlIGFycmF5IHRvIHRoZSBoYXNoIGJ1ZmZlclxuICAgICAqIEBwYXJhbSBpbnB1dCBhcnJheSB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZEJ5dGVBcnJheSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpID0gTWF0aC5taW4oaW5wdXQubGVuZ3RoIC0gaiwgNjQgLSBidWZMZW4pO1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gaW5wdXRbaisrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidWZMZW4gPCA2NCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGF0YUxlbmd0aCArPSA2NDtcbiAgICAgICAgICAgIE1kNS5fbWQ1Y3ljbGUodGhpcy5fc3RhdGUsIGJ1ZjMyKTtcbiAgICAgICAgICAgIGJ1ZkxlbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID0gYnVmTGVuO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3RhdGUgb2YgdGhlIGhhc2ggYnVmZmVyXG4gICAgICovXG4gICAgTWQ1LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHMgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1ZmZlcjogU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBBcnJheS5mcm9tKHRoaXMuX2J1ZmZlcjgpKSxcbiAgICAgICAgICAgIGJ1ZmxlbjogdGhpcy5fYnVmZmVyTGVuZ3RoLFxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLl9kYXRhTGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGU6IFtzWzBdLCBzWzFdLCBzWzJdLCBzWzNdXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGhhc2ggYnVmZmVyXG4gICAgICogQHBhcmFtIHN0YXRlIE5ldyBoYXNoIGJ1ZmZlciBzdGF0ZVxuICAgICAqL1xuICAgIE1kNS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHN0YXRlLmJ1ZmZlcjtcbiAgICAgICAgdmFyIHggPSBzdGF0ZS5zdGF0ZTtcbiAgICAgICAgdmFyIHMgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHRoaXMuX2RhdGFMZW5ndGggPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlckxlbmd0aCA9IHN0YXRlLmJ1ZmxlbjtcbiAgICAgICAgc1swXSA9IHhbMF07XG4gICAgICAgIHNbMV0gPSB4WzFdO1xuICAgICAgICBzWzJdID0geFsyXTtcbiAgICAgICAgc1szXSA9IHhbM107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBidWYubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcjhbaV0gPSBidWYuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFzaCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgaGFzaCBidWZmZXIgYW5kIHJldHVybiB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIHJhdyBXaGV0aGVyIHRvIHJldHVybiB0aGUgdmFsdWUgYXMgYW4gYEludDMyQXJyYXlgXG4gICAgICovXG4gICAgTWQ1LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIGlmIChyYXcgPT09IHZvaWQgMCkgeyByYXcgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgaSA9IChidWZMZW4gPj4gMikgKyAxO1xuICAgICAgICB0aGlzLl9kYXRhTGVuZ3RoICs9IGJ1ZkxlbjtcbiAgICAgICAgdmFyIGRhdGFCaXRzTGVuID0gdGhpcy5fZGF0YUxlbmd0aCAqIDg7XG4gICAgICAgIGJ1ZjhbYnVmTGVuXSA9IDB4ODA7XG4gICAgICAgIGJ1ZjhbYnVmTGVuICsgMV0gPSBidWY4W2J1ZkxlbiArIDJdID0gYnVmOFtidWZMZW4gKyAzXSA9IDA7XG4gICAgICAgIGJ1ZjMyLnNldChNZDUuYnVmZmVyMzJJZGVudGl0eS5zdWJhcnJheShpKSwgaSk7XG4gICAgICAgIGlmIChidWZMZW4gPiA1NSkge1xuICAgICAgICAgICAgTWQ1Ll9tZDVjeWNsZSh0aGlzLl9zdGF0ZSwgYnVmMzIpO1xuICAgICAgICAgICAgYnVmMzIuc2V0KE1kNS5idWZmZXIzMklkZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyB0aGUgZmluYWwgY29tcHV0YXRpb24gYmFzZWQgb24gdGhlIHRhaWwgYW5kIGxlbmd0aFxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1heSBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgaWYgKGRhdGFCaXRzTGVuIDw9IDB4RkZGRkZGRkYpIHtcbiAgICAgICAgICAgIGJ1ZjMyWzE0XSA9IGRhdGFCaXRzTGVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBkYXRhQml0c0xlbi50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsbyA9IHBhcnNlSW50KG1hdGNoZXNbMl0sIDE2KTtcbiAgICAgICAgICAgIHZhciBoaSA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDE2KSB8fCAwO1xuICAgICAgICAgICAgYnVmMzJbMTRdID0gbG87XG4gICAgICAgICAgICBidWYzMlsxNV0gPSBoaTtcbiAgICAgICAgfVxuICAgICAgICBNZDUuX21kNWN5Y2xlKHRoaXMuX3N0YXRlLCBidWYzMik7XG4gICAgICAgIHJldHVybiByYXcgPyB0aGlzLl9zdGF0ZSA6IE1kNS5faGV4KHRoaXMuX3N0YXRlKTtcbiAgICB9O1xuICAgIC8vIFByaXZhdGUgU3RhdGljIFZhcmlhYmxlc1xuICAgIE1kNS5zdGF0ZUlkZW50aXR5ID0gbmV3IEludDMyQXJyYXkoWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdKTtcbiAgICBNZDUuYnVmZmVyMzJJZGVudGl0eSA9IG5ldyBJbnQzMkFycmF5KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSk7XG4gICAgTWQ1LmhleENoYXJzID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuICAgIE1kNS5oZXhPdXQgPSBbXTtcbiAgICAvLyBQZXJtYW5lbnQgaW5zdGFuY2UgaXMgdG8gdXNlIGZvciBvbmUtY2FsbCBoYXNoaW5nXG4gICAgTWQ1Lm9uZVBhc3NIYXNoZXIgPSBuZXcgTWQ1KCk7XG4gICAgcmV0dXJuIE1kNTtcbn0oKSk7XG5leHBvcnRzLk1kNSA9IE1kNTtcbmlmIChNZDUuaGFzaFN0cignaGVsbG8nKSAhPT0gJzVkNDE0MDJhYmM0YjJhNzZiOTcxOWQ5MTEwMTdjNTkyJykge1xuICAgIHRocm93IG5ldyBFcnJvcignTWQ1IHNlbGYgdGVzdCBmYWlsZWQuJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZDUuanMubWFwIiwgIi8qXHJcbiAgICBNYWluOiBcdTYzRDJcdTRFRjZcdTVCOUFcdTRFNDlcdTUzQ0FcdTRFM0JcdTkwM0JcdThGOTFcclxuICAgIFx1OEJCRVx1N0Y2RVx1OTc2Mlx1Njc3Rlx1OTAwOVx1OTg3OVxyXG4qL1xyXG5pbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgUGx1Z2luTWFuaWZlc3QsIFNldHRpbmcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBURm9sZGVyIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZ1NldHRpbmdzLCBQbHVnaW5CYXNlU2V0dGluZ3MsIFNldFNldHRpbmdWYWx1ZSwgR2V0U2V0dGluZ1ZhbHVlIH0gZnJvbSBcIi4vc2V0dGluZ3NcIlxyXG5pbXBvcnQgeyBHZXRFVEZDdXJyZW50UHJpY2UsIEdldExPRkN1cnJlbnRQcmljZSwgRGVidWdMb2cgfSBmcm9tICcuL3JlbW90ZV91dGlsJztcclxuaW1wb3J0IHsgR1RWVmlldywgVklFV19UWVBFX0dUViB9IGZyb20gXCIuL2dyaWRfdmlld1wiXHJcbmltcG9ydCB7IEdUT1ZpZXcsIFZJRVdfVFlQRV9HVE8gfSBmcm9tICcuL2dyaWRfb3ZlcnZpZXcnO1xyXG5pbXBvcnQgeyBDb3JWaWV3LCBWSUVXX1RZUEVfQ09SIH0gZnJvbSAnLi9jb3Jfdmlldyc7XHJcbmltcG9ydCB7IFBsdWdpbkVudiwgRkVUQ0hfQ1VSUkVOVF9QUklDRSB9IGZyb20gJy4vcGx1Z2luX2Vudic7XHJcbmltcG9ydCB7IFNFVFRJTkdfTkFNRSB9IGZyb20gXCIuL2xhbmdfc3RyXCJcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFkaW5nU3RyYXRlZ3kgZXh0ZW5kcyBQbHVnaW5cclxue1xyXG4gICAgcGx1Z2luX2VudjogUGx1Z2luRW52O1xyXG4gICAgaW50ZXJ2YWxfY2FsbGJhY2tfaWQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgbWFuaWZlc3Q6IFBsdWdpbk1hbmlmZXN0KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKGFwcCwgbWFuaWZlc3QpO1xyXG4gICAgICAgIHRoaXMucGx1Z2luX2VudiA9IG5ldyBQbHVnaW5FbnYoKTtcclxuICAgICAgICB0aGlzLmludGVydmFsX2NhbGxiYWNrX2lkID0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25sb2FkKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuTG9hZFNldHRpbmdzRnJvbURpc2soKTtcclxuICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgYW4gaWNvbiBpbiB0aGUgbGVmdCByaWJib24uXHJcbiAgICAgICAgY29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKCdkaWNlJywgJ0dyaWRUcmFkaW5nJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGljb24uXHJcbiAgICAgICAgICAgIHRoaXMuRmV0Y2hBbGxTdG9ja0N1cnJlbnRQcmljZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFBlcmZvcm0gYWRkaXRpb25hbCB0aGluZ3Mgd2l0aCB0aGUgcmliYm9uXHJcbiAgICAgICAgcmliYm9uSWNvbkVsLmFkZENsYXNzKCdteS1wbHVnaW4tcmliYm9uLWNsYXNzJyk7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXHJcbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBUcmFkaW5nU3RyYXRlZ3lTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzLCB0aGlzLnBsdWdpbl9lbnYpKTtcclxuXHJcbiAgICAgICAgLy8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbF9jYWxsYmFja19pZCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB0aGlzLkZldGNoQWxsU3RvY2tDdXJyZW50UHJpY2UoKSwgMSAqIDEwMDApO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJJbnRlcnZhbCh0aGlzLmludGVydmFsX2NhbGxiYWNrX2lkKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoVklFV19UWVBFX0dUViwgKGxlYWY6IFdvcmtzcGFjZUxlYWYpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZ3R2X3ZpZXcgPSBuZXcgR1RWVmlldyhsZWFmLCB0aGlzLnBsdWdpbl9lbnYpO1xyXG4gICAgICAgICAgICByZXR1cm4gZ3R2X3ZpZXc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoVklFV19UWVBFX0dUTywgKGxlYWY6IFdvcmtzcGFjZUxlYWYpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZ3RvX3ZpZXcgPSBuZXcgR1RPVmlldyhsZWFmLCB0aGlzLmFwcC52YXVsdCwgdGhpcy5wbHVnaW5fZW52KTtcclxuICAgICAgICAgICAgcmV0dXJuIGd0b192aWV3O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJWaWV3KFZJRVdfVFlQRV9DT1IsIChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvcl92aWV3ID0gbmV3IENvclZpZXcobGVhZik7XHJcbiAgICAgICAgICAgIHJldHVybiBjb3JfdmlldztcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFeHRlbnNpb25zKFtcImd0dlwiXSwgVklFV19UWVBFX0dUVik7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV4dGVuc2lvbnMoW1wiZ3RvXCJdLCBWSUVXX1RZUEVfR1RPKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXh0ZW5zaW9ucyhbXCJjb3JcIl0sIFZJRVdfVFlQRV9DT1IpO1xyXG4gICAgfVxyXG5cclxuICAgIG9udW5sb2FkKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBMb2FkU2V0dGluZ3NGcm9tRGlzaygpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ19kYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xyXG4gICAgICAgIC8vRGVidWdMb2coXCJGaW5pc2ggbG9hZGluZyBzZXR0aW5nLCBzZXR0aW5nX2RhdGE6IFwiLCBzZXR0aW5nX2RhdGEpO1xyXG4gICAgICAgIGlmIChzZXR0aW5nX2RhdGEgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5VbnNlcmlhbGl6ZWRTZXR0aW5ncyhzZXR0aW5nX2RhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBTYXZlU2V0dGluZ3NUb0Rpc2soKVxyXG4gICAge1xyXG4gICAgICAgIERlYnVnTG9nKFwiTUFYX1NMVU1QX1BDVDEgXCIsIHRoaXMucGx1Z2luX2Vudi5ncmlkX3NldHRpbmdzLk1BWF9TTFVNUF9QQ1QpO1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdfZGF0YSA9IHRoaXMucGx1Z2luX2Vudi5TZXJpYWxpemVkU2V0dGluZ3MoKTtcclxuICAgICAgICBEZWJ1Z0xvZyhcIk1BWF9TTFVNUF9QQ1QyIFwiLCB0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKTtcclxuICAgICAgICBEZWJ1Z0xvZyhzZXR0aW5nX2RhdGEpO1xyXG4gICAgICAgIHRoaXMuc2F2ZURhdGEoc2V0dGluZ19kYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBGZXRjaEFsbFN0b2NrQ3VycmVudFByaWNlKClcclxuICAgIHtcclxuICAgICAgICAvL0RlYnVnTG9nKCdydW4gRmV0Y2hBbGxTdG9ja0N1cnJlbnRQcmljZSAnLCB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCkpO1xyXG4gICAgICAgIGNvbnN0IGFwaV9saWNlbmNlID0gdGhpcy5wbHVnaW5fZW52LkdldEFQSUxpc2VuY2UoKVxyXG4gICAgICAgIGNvbnN0IGdyaWRfZm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKCdHcmlkVHJhZGluZycpO1xyXG4gICAgICAgIC8vRGVidWdMb2coXCJnZXRBYnN0cmFjdEZpbGVCeVBhdGggXCIsIFN0cmluZyhncmlkX2ZvbGRlcikpO1xyXG4gICAgICAgIGlmIChncmlkX2ZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnRlcnZhbF9jYWxsYmFja19pZCA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcnZhbF9jYWxsYmFja19pZCA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vRGVidWdMb2coJ0ZvbGRlciBjaGlsZHJlbiBjb3VudCAnLCBTdHJpbmcoZ3JpZF9mb2xkZXIuY2hpbGRyZW4ubGVuZ3RoKSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4PTA7IGluZGV4IDwgZ3JpZF9mb2xkZXIuY2hpbGRyZW4ubGVuZ3RoOyBpbmRleCsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmlkX2ZpbGUgPSBncmlkX2ZvbGRlci5jaGlsZHJlbltpbmRleF07XHJcbiAgICAgICAgICAgICAgICAvL0RlYnVnTG9nKFwiRm9yIGZpbGUgbmFtZSBcIiwgZ3JpZF9maWxlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRfZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIGdyaWRfZmlsZS5uYW1lLmVuZHNXaXRoKFwiLmd0dlwiKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0RlYnVnTG9nKFwicmVhZCBmaWxlIFwiLCBncmlkX2ZpbGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoZ3JpZF9maWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlX3N0ciA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIilbMF0uc3BsaXQoXCIsXCIpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBncmlkX3RyYWRpbmcgPSB0aGlzLnBsdWdpbl9lbnYuR2V0QW5kR2VuR3JpZFRyYWRpbmcoZ3JpZF9maWxlLm5hbWUsIG1vZGVfc3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RlYnVnTG9nKFwiR2V0QW5kR2VuR3JpZFRyYWRpbmcsIG5hbWU6IFwiLCBncmlkX2ZpbGUubmFtZSwgXCIsIG1vZGU6IFwiLCBtb2RlX3N0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZF90cmFkaW5nLkluaXRHcmlkVHJhZGluZyhjb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZF90cmFkaW5nLmlzX2RlYnVnKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vRGVidWdMb2coXCJUcnkgdG8gZmV0Y2ggcmVtb3RlIHByaWNlLCBcIiwgZ3JpZF90cmFkaW5nLm1hcmtldF9jb2RlLCBncmlkX3RyYWRpbmcudGFyZ2V0X3N0b2NrKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudF9wcmljZSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkX2ZpbGUubmFtZS5pbmNsdWRlcyhcIkxPRlwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfcHJpY2UgPSBhd2FpdCBHZXRMT0ZDdXJyZW50UHJpY2UoZ3JpZF90cmFkaW5nLm1hcmtldF9jb2RlICsgU3RyaW5nKGdyaWRfdHJhZGluZy50YXJnZXRfc3RvY2spLCBhcGlfbGljZW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfcHJpY2UgPSBOdW1iZXIoY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfcHJpY2UgPSBhd2FpdCBHZXRFVEZDdXJyZW50UHJpY2UoZ3JpZF90cmFkaW5nLm1hcmtldF9jb2RlICsgU3RyaW5nKGdyaWRfdHJhZGluZy50YXJnZXRfc3RvY2spLCBhcGlfbGljZW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBTOiBcdTk3MDBcdTg5ODFcdTVGM0FcdThGNkNcdTRFMDBcdTRFMEJcdUZGMENcdTRFMERcdTVGM0FcdTUyMzZcdThGNkNcdTYzNjJcdTY1RTBcdTZDRDVcdTRGN0ZcdTc1MjggdG9GaXhlZCBcdTUxRkRcdTY1NzBcdUZGMENcdTUzRUZcdTgwRkRcdTY2MkZcdTdDN0JcdTU3OEJcdTk1RUVcdTk4OThcdUZGMENcdTZDQTFcdTZERjFcdTdBNzZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudF9wcmljZSA9IE51bWJlcihjdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuc3RvY2tfcmVtb3RlX3ByaWNlX2RpY3Quc2V0KFN0cmluZyhncmlkX3RyYWRpbmcudGFyZ2V0X3N0b2NrKSwgY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIlx1NjdFNVx1OEJFMiBcIiwgZ3JpZF90cmFkaW5nLnN0b2NrX25hbWUsIFwiIFx1NUY1M1x1NTI0RFx1NjcwMFx1NjVCMFx1NEVGN1x1NjgzQ1x1NEUzQTogXCIsIGN1cnJlbnRfcHJpY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWRfdHJhZGluZy5VcGRhdGVSZW1vdGVQcmljZShjdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZF9maWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZ3JpZF9maWxlLm5hbWUuZW5kc1dpdGgoXCIuZ3RvXCIpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKGdyaWRfZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy81MjE4ODAsXHU4QkMxXHU1MjM4RVRGLHNoLDEuMDMwLDAuODkwXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4PTA7IGluZGV4IDwgbGluZXMubGVuZ3RoOyBpbmRleCsrKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RycyA9IGxpbmVzW2luZGV4XS5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJzWzBdICE9IFwiQlVZXCIgJiYgc3Ryc1swXSAhPSBcIlNFTExcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRfcHJpY2UgPSBhd2FpdCBHZXRFVEZDdXJyZW50UHJpY2Uoc3Ryc1syXSArIHN0cnNbMF0sIGFwaV9saWNlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfcHJpY2UgPSBOdW1iZXIoY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuc3RvY2tfcmVtb3RlX3ByaWNlX2RpY3Quc2V0KHN0cnNbMF0sIGN1cnJlbnRfcHJpY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0RlYnVnTG9nKFwiXHU2N0U1XHU4QkUyIFwiLCBzdHJzWzFdLCBcIiBcdTVGNTNcdTUyNERcdTY3MDBcdTY1QjBcdTRFRjdcdTY4M0NcdTRFM0E6IFwiLCBjdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuUHVibGlzaEV2ZW50KEZFVENIX0NVUlJFTlRfUFJJQ0UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmNsYXNzIFRyYWRpbmdTdHJhdGVneVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHJcbiAgICBwbHVnaW46IFRyYWRpbmdTdHJhdGVneTtcclxuICAgIHBsdWdpbl9lbnY6IFBsdWdpbkVudjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBUcmFkaW5nU3RyYXRlZ3ksIHBsdWdpbl9lbnY6IFBsdWdpbkVudikge1xyXG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgICAgICB0aGlzLnBsdWdpbl9lbnYgPSBwbHVnaW5fZW52O1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luX2Vudi5pc19zZXR0aW5nc19jaGFuZ2VkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uU2F2ZVNldHRpbmdzVG9EaXNrKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5pc19zZXR0aW5nc19jaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgICAgIC8vRGVidWdMb2coXCJlbnRlciBkaXNwbGF5IHNldHRpbmdzXCIpXHJcbiAgICAgICAgLy8gXHU2RTA1XHU3QTdBXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xyXG4gICAgICAgIC8vIFx1OEJCRVx1N0Y2RVx1NjgwN1x1OTg5OFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMVwiKS5zZXRUZXh0KFwiVHJhZGluZ1N0cmF0ZWd5XCIpO1xyXG4gICAgICAgIC8vIFx1NTdGQVx1Nzg0MFx1OTE0RFx1N0Y2RVxyXG4gICAgICAgIGNvbnN0IGJhc2VfZGl2ID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICBiYXNlX2Rpdi5jcmVhdGVFbChcImgyXCIpLnNldFRleHQoXCJcdTU3RkFcdTc4NDBcdTkxNERcdTdGNkVcIik7XHJcbiAgICAgICAgbGV0IGJrZXk6IChrZXlvZiBQbHVnaW5CYXNlU2V0dGluZ3MpO1xyXG4gICAgICAgIGZvciAoYmtleSBpbiB0aGlzLnBsdWdpbl9lbnYuYmFzZV9zZXR0aW5ncylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleV9uYW1lID0gU0VUVElOR19OQU1FLmdldChia2V5KVxyXG4gICAgICAgICAgICBpZiAoa2V5X25hbWUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoYmFzZV9kaXYpLnNldE5hbWUoa2V5X25hbWUpO1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZy5hZGRUZXh0KCh0ZXh0X2NvbXAsIHNldHRpbmdfa2V5PWJrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0X2NvbXAuc2V0VmFsdWUoU3RyaW5nKEdldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuYmFzZV9zZXR0aW5ncywgc2V0dGluZ19rZXkpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dF9jb21wLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuYmFzZV9zZXR0aW5ncywgc2V0dGluZ19rZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5fZW52LmlzX3NldHRpbmdzX2NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gXHU3RjUxXHU2ODNDXHU0RUE0XHU2NjEzXHU1M0MyXHU2NTcwXHJcbiAgICAgICAgY29uc3QgZ3JpZF9kaXYgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIGdyaWRfZGl2LmNyZWF0ZUVsKFwiaDJcIikuc2V0VGV4dChcIlx1N0Y1MVx1NjgzQ1x1OTE0RFx1N0Y2RVwiKTsgICBcclxuICAgICAgICBsZXQga2V5OiAoa2V5b2YgR3JpZFRyYWRpbmdTZXR0aW5ncyk7XHJcbiAgICAgICAgZm9yIChrZXkgaW4gdGhpcy5wbHVnaW5fZW52LmdyaWRfc2V0dGluZ3MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBrZXlfbmFtZSA9IFNFVFRJTkdfTkFNRS5nZXQoa2V5KVxyXG4gICAgICAgICAgICBpZiAoa2V5X25hbWUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoZ3JpZF9kaXYpLnNldE5hbWUoa2V5X25hbWUpO1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZy5hZGRUZXh0KCh0ZXh0X2NvbXAsIHNldHRpbmdfa2V5PWtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnTG9nKFwiYWRkIFNldHRpbmcgS2V5OiBcIiwgc2V0dGluZ19rZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRfY29tcC5zZXRWYWx1ZShTdHJpbmcoR2V0U2V0dGluZ1ZhbHVlKHRoaXMucGx1Z2luX2Vudi5ncmlkX3NldHRpbmdzLCBzZXR0aW5nX2tleSkpKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0X2NvbXAub25DaGFuZ2UoKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncywgc2V0dGluZ19rZXksIE51bWJlcih2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWdMb2coXCJTZXRWYWx1ZSBzdWNjZWVkIFwiLCBzZXR0aW5nX2tleSwgR2V0U2V0dGluZ1ZhbHVlKHRoaXMucGx1Z2luX2Vudi5ncmlkX3NldHRpbmdzLCBzZXR0aW5nX2tleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5fZW52LmlzX3NldHRpbmdzX2NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsICJcclxuZXhwb3J0IGNvbnN0IFNFVFRJTkdfTkFNRSA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KFtcclxuICAgIFtcIk9ORV9HUklEX0xJTUlUXCIsIFwiXHU5OTk2XHU3RjUxXHU0RTBBXHU5NjUwXHU1MDNDXCJdLFxyXG4gICAgW1wiTUFYX1NMVU1QX1BDVFwiLCBcIlx1NjcwMFx1NTkyN1x1NTZERVx1NjRBNFx1NTAzQ1wiXSxcclxuICAgIFtcIlRSSUdHRVJfQUREX1BPSU5UXCIsIFwiXHU4OUU2XHU1M0QxXHU0RUY3XHU1MkEwXHU3MEI5XCJdLFxyXG4gICAgW1wiVFJBRElOR19QUklDRV9QUkVDSVNJT05cIiwgXCJcdTRFQTRcdTY2MTNcdTRFRjdcdTdDQkVcdTVFQTZcIl0sXHJcbiAgICBbXCJNSU5fQkFUQ0hfQ09VTlRcIiwgXCJcdTUzNTVcdTYyNEJcdTRFRkRcdTY1NzBcdTk4OURcIl0sXHJcbiAgICBbXCJNQVhfUklTRV9QQ1RcIiwgXCJcdTUzNTVcdTY1RTVcdTY3MDBcdTU5MjdcdTZEQThcdTVFNDVcIl0sXHJcbiAgICBbXCJTR1JJRF9TVEVQX1BDVFwiLCBcIlx1NUMwRlx1N0Y1MVx1NkI2NVx1OEZEQlx1NTAzQ1wiXSxcclxuICAgIFtcIlNHUklEX1JFVEFJTl9DT1VOVFwiLCBcIlx1NEZERFx1NzU1OVx1NTIyOVx1NkRBNlx1NjU3MFwiXSxcclxuICAgIFtcIlNHUklEX0FERF9QQ1RcIiwgXCJcdTZCQ0ZcdTdGNTFcdThGRkRcdTUyQTBcIl0sXHJcbiAgICBbXCJNR1JJRF9TVEVQX1BDVFwiLCBcIlx1NEUyRFx1N0Y1MVx1NkI2NVx1OEZEQlx1NTAzQ1wiXSxcclxuICAgIFtcIk1HUklEX1JFVEFJTl9DT1VOVFwiLCBcIlx1NEZERFx1NzU1OVx1NTIyOVx1NkRBNlx1NjU3MFwiXSxcclxuICAgIFtcIk1HUklEX0FERF9QQ1RcIiwgXCJcdTZCQ0ZcdTdGNTFcdThGRkRcdTUyQTBcIl0sXHJcbiAgICBbXCJMR1JJRF9TVEVQX1BDVFwiLCBcIlx1NTkyN1x1N0Y1MVx1NkI2NVx1OEZEQlx1NTAzQ1wiXSxcclxuICAgIFtcIkxHUklEX1JFVEFJTl9DT1VOVFwiLCBcIlx1NEZERFx1NzU1OVx1NTIyOVx1NkRBNlx1NjU3MFwiXSxcclxuICAgIFtcIkxHUklEX0FERF9QQ1RcIiwgXCJcdTZCQ0ZcdTdGNTFcdThGRkRcdTUyQTBcIl0sXHJcbiAgICBbXCJEQVRBX0FQSV9MSUNFTkNFXCIsIFwiXHU2NTcwXHU2MzZFXHU2M0E1XHU1M0UzXHU4QkMxXHU0RTY2XCJdXHJcbl0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNHUklEX1RZUEVfTkFNRV9TVFIgPSBcIlx1NUMwRlx1N0Y1MVwiO1xyXG5leHBvcnQgY29uc3QgTUdSSURfVFlQRV9OQU1FX1NUUiA9IFwiXHU0RTJEXHU3RjUxXCI7XHJcbmV4cG9ydCBjb25zdCBMR1JJRF9UWVBFX05BTUVfU1RSID0gXCJcdTU5MjdcdTdGNTFcIjtcclxuZXhwb3J0IGNvbnN0IFBFUkZJVF9UWVBFX05BTUVfU1RSID0gXCJcdTUyMjlcdTZEQTZcIjsiLCAiLypcclxuICAgIFNldHRpbmcgXHU1NDA0XHU3OUNEXHU5MTREXHU3RjZFXHU0RkUxXHU2MDZGXHU1M0NBXHU1RTM4XHU5MUNGXHU1QjlBXHU0RTQ5XHJcbiAgICBHcmlkVHJhZGluZ1NldHRpbmdzOiBcdTdGNTFcdTY4M0NcdTRFQTRcdTY2MTNcdTc2ODRcdTUzQzJcdTY1NzBcdTVCOUFcdTRFNDlcdUZGMENcdTg5ODZcdTc2RDZcdTUxNzNcdTdDRkJcdTRFM0EgXHU5RUQ4XHU4QkE0XHU1MTY4XHU1QzQwXHU1M0MyXHU2NTcwPC0tXHU4MUVBXHU1QjlBXHU0RTQ5XHU1MTY4XHU1QzQwXHU1M0MyXHU2NTcwPC0tXHU4MUVBXHU1QjlBXHU0RTQ5XHU2ODA3XHU3Njg0XHU1M0MyXHU2NTcwXHJcbiovXHJcblxyXG5pbXBvcnQgeyBTRVRUSU5HX05BTUUgfSBmcm9tIFwiLi9sYW5nX3N0clwiO1xyXG5cclxuLy8gXHU5ODlDXHU4MjcyXHU1QjlBXHU0RTQ5XHJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX0JVWV9NT05JVE9SICAgICAgICAgPSBcIiNGRkZGMDBcIjsgICAgLy8gXHU5RUM0XHU4MjcyXHJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX1NFTExfTU9OSVRPUiAgICAgICAgPSBcIiNGRkZGMDBcIjsgICAgLy8gXHU5RUM0XHU4MjcyXHJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX0JVWV9UUklHR0VSRUQgICAgICAgPSBcIiNEM0QzRDNcIjsgICAgLy8gXHU3MDcwXHU4MjcyXHJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX1NFTExfVFJJR0dFUkVEICAgICAgPSBcIiNGRkZGRTBcIjsgICAgLy8gXHU2RDQ1XHU5RUM0XHJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX0RJU0FCTEUgICAgICAgICAgICAgPSBcIiNGRkZGRTBcIjsgICAgLy8gXHU2REYxXHU3MDcwXHJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX1NUT0NLX09WRVJWSUVXICAgICAgPSBcIiNGRkZGRkZcIjsgICAgLy8gXHU1NDBDXHU2NUY2XHU4MEE5XHU4RDFGXHU2ODA3XHU4QkIwXHU2NTcwXHU2MzZFXHU3QzdCXHU1NzhCXHVGRjBDXHU2NTQ1XHU5ODlDXHU4MjcyXHU1MDNDXHU0RTBEXHU4MEZEXHU1QjhDXHU1MTY4XHU3NkY4XHU3QjQ5XHJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX1RBQkxFX1RJVExFICAgICAgICAgPSBcIiNEM0QzRDNcIjsgICAgLy8gXHU1NDBDXHU2NUY2XHU4MEE5XHU4RDFGXHU2ODA3XHU4QkIwXHU2NTcwXHU2MzZFXHU3QzdCXHU1NzhCXHVGRjBDXHU2NTQ1XHU5ODlDXHU4MjcyXHU1MDNDXHU0RTBEXHU4MEZEXHU1QjhDXHU1MTY4XHU3NkY4XHU3QjQ5XHJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX0JVWV9PVkVSVklFVyAgICAgICAgPSBcIiNGRkZGMDFcIjsgICAgLy8gXHU1NDBDXHU2NUY2XHU4MEE5XHU4RDFGXHU2ODA3XHU4QkIwXHU2NTcwXHU2MzZFXHU3QzdCXHU1NzhCXHVGRjBDXHU2NTQ1XHU5ODlDXHU4MjcyXHU1MDNDXHU0RTBEXHU4MEZEXHU1QjhDXHU1MTY4XHU3NkY4XHU3QjQ5XHJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcgICAgICAgPSBcIiNGRkZGMDBcIjsgICAgLy8gXHU1NDBDXHU2NUY2XHU4MEE5XHU4RDFGXHU2ODA3XHU4QkIwXHU2NTcwXHU2MzZFXHU3QzdCXHU1NzhCXHVGRjBDXHU2NTQ1XHU5ODlDXHU4MjcyXHU1MDNDXHU0RTBEXHU4MEZEXHU1QjhDXHU1MTY4XHU3NkY4XHU3QjQ5XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFBhY2tTZXR0aW5nczxUPihzZXR0aW5nczogVCk6IHN0cmluZ1xyXG57XHJcbiAgICBsZXQgcGFja19zdHIgPSBcIlwiO1xyXG4gICAgbGV0IGtleToga2V5b2YgVDtcclxuICAgIGZvciAoa2V5IGluIHNldHRpbmdzKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChTRVRUSU5HX05BTUUuaGFzKFN0cmluZyhrZXkpKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHBhY2tfc3RyID0gcGFja19zdHIgKyBTdHJpbmcoa2V5KSArIFwiOlwiICsgU3RyaW5nKHNldHRpbmdzW2tleV0pICsgXCJcXG5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFja19zdHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBVbnBhY2tTZXR0aW5nczxUPihzZXR0aW5nczogVCwgbGluZXM6IHN0cmluZ1tdKVxyXG57XHJcbiAgICBsaW5lcy5mb3JFYWNoKChsaW5lLCBpZHgpID0+IHtcclxuICAgICAgICBjb25zdCBzdHJzID0gbGluZS5zcGxpdChcIjpcIik7XHJcbiAgICAgICAgaWYgKFNFVFRJTkdfTkFNRS5oYXMoc3Ryc1swXSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTZXRTZXR0aW5nVmFsdWUoc2V0dGluZ3MsIHN0cnNbMF0gYXMga2V5b2YgVCwgc3Ryc1sxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZXRTZXR0aW5nVmFsdWU8VD4oc2V0dGluZ3M6IFQsIGtleToga2V5b2YgVClcclxue1xyXG4gICAgcmV0dXJuIHNldHRpbmdzW2tleV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBTZXRTZXR0aW5nVmFsdWU8VCwgVlQ+KHNldHRpbmdzOiBULCBrZXk6IGtleW9mIFQsIHZhbHVlOiBWVClcclxue1xyXG4gICAgaWYgKGtleSBpbiBzZXR0aW5ncylcclxuICAgIHtcclxuICAgICAgICBzZXR0aW5nc1trZXldID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFx1NjNEMlx1NEVGNlx1OTE0RFx1N0Y2RVxyXG5leHBvcnQgY2xhc3MgUGx1Z2luQmFzZVNldHRpbmdzXHJcbntcclxuICAgIERBVEFfQVBJX0xJQ0VOQ0U6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gXHU1MTREXHU4RDM5XHU5RUQ4XHU4QkE0TGljZW5zZVxyXG4gICAgICAgIHRoaXMuREFUQV9BUElfTElDRU5DRSA9IFwiMTEyZTg0NjU2MTc0ZjBhNVwiO1xyXG4gICAgICAgIC8vIFx1NEUyQVx1NEVCQVx1NEVEOFx1OEQzOUxpY2Vuc2VcclxuICAgICAgICB0aGlzLkRBVEFfQVBJX0xJQ0VOQ0UgPSBcImIxOTJmNTNhNmQ2OTI4MDMzXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyBcdTdGNTFcdTY4M0NcdTkxNERcdTdGNkVcclxuZXhwb3J0IGNsYXNzIEdyaWRUcmFkaW5nU2V0dGluZ3Mge1xyXG4gICAgT05FX0dSSURfTElNSVQ6IG51bWJlcjtcclxuICAgIE1BWF9TTFVNUF9QQ1Q6IG51bWJlcjtcclxuICAgIFRSSUdHRVJfQUREX1BPSU5UOiBudW1iZXI7XHJcbiAgICBUUkFESU5HX1BSSUNFX1BSRUNJU0lPTjogbnVtYmVyO1xyXG4gICAgTUlOX0JBVENIX0NPVU5UOiBudW1iZXI7XHJcbiAgICBNQVhfUklTRV9QQ1Q6IG51bWJlcjtcclxuICAgIE1JTklNVU1fQlVZX1BDVDogbnVtYmVyO1xyXG4gICAgQ0xFQVJfU1RFUF9QQ1Q6IG51bWJlcjtcclxuICAgIEJPVFRPTV9CVVlfUENUOiBudW1iZXI7XHJcblxyXG4gICAgU0dSSURfU1RFUF9QQ1Q6IG51bWJlcjtcclxuICAgIFNHUklEX0FERF9QQ1Q6IG51bWJlcjtcclxuICAgIFNHUklEX1JFVEFJTl9DT1VOVDogbnVtYmVyO1xyXG5cclxuICAgIE1HUklEX1NURVBfUENUOiBudW1iZXI7XHJcbiAgICBNR1JJRF9BRERfUENUOiBudW1iZXI7XHJcbiAgICBNR1JJRF9SRVRBSU5fQ09VTlQ6IG51bWJlcjtcclxuXHJcbiAgICBMR1JJRF9TVEVQX1BDVDogbnVtYmVyO1xyXG4gICAgTEdSSURfQUREX1BDVDogbnVtYmVyO1xyXG4gICAgTEdSSURfUkVUQUlOX0NPVU5UOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFx1NjMwOVx1NzE2N1x1OUVEOFx1OEJBNFx1NTNDMlx1NjU3MFx1NTAzQ1x1NTIxRFx1NTlDQlx1NTMxNlxyXG4gICAgICAgIHRoaXMuT05FX0dSSURfTElNSVQgPSAxMDAwMDtcclxuICAgICAgICB0aGlzLk1BWF9TTFVNUF9QQ1QgPSAwLjY3O1xyXG4gICAgICAgIHRoaXMuVFJJR0dFUl9BRERfUE9JTlQgPSAwLjAwNTtcclxuICAgICAgICB0aGlzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OID0gMztcclxuICAgICAgICB0aGlzLk1JTl9CQVRDSF9DT1VOVCA9IDEwMDtcclxuICAgICAgICB0aGlzLk1BWF9SSVNFX1BDVCA9IDAuMTtcclxuICAgICAgICB0aGlzLkNMRUFSX1NURVBfUENUID0gMC4yNTtcclxuICAgICAgICB0aGlzLk1JTklNVU1fQlVZX1BDVCA9IDAuMTtcclxuICAgICAgICB0aGlzLkJPVFRPTV9CVVlfUENUID0gMC4yXHJcbiAgICBcclxuICAgICAgICB0aGlzLlNHUklEX1NURVBfUENUID0gMC4wNTtcclxuICAgICAgICB0aGlzLlNHUklEX0FERF9QQ1QgPSAwLjA1O1xyXG4gICAgICAgIHRoaXMuU0dSSURfUkVUQUlOX0NPVU5UID0gNDtcclxuXHJcbiAgICAgICAgdGhpcy5NR1JJRF9TVEVQX1BDVCA9IDAuMjI7XHJcbiAgICAgICAgdGhpcy5NR1JJRF9BRERfUENUID0gMC4yO1xyXG4gICAgICAgIHRoaXMuTUdSSURfUkVUQUlOX0NPVU5UID0gMjtcclxuXHJcbiAgICAgICAgdGhpcy5MR1JJRF9TVEVQX1BDVCA9IDAuNTI7XHJcbiAgICAgICAgdGhpcy5MR1JJRF9BRERfUENUID0gMC41O1xyXG4gICAgICAgIHRoaXMuTEdSSURfUkVUQUlOX0NPVU5UID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBDbG9uZSgpOiBHcmlkVHJhZGluZ1NldHRpbmdzXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgY2xvbmUgPSBuZXcgR3JpZFRyYWRpbmdTZXR0aW5ncygpO1xyXG4gICAgICAgIGNsb25lLk9ORV9HUklEX0xJTUlUID0gdGhpcy5PTkVfR1JJRF9MSU1JVDtcclxuICAgICAgICBjbG9uZS5NQVhfU0xVTVBfUENUID0gdGhpcy5NQVhfU0xVTVBfUENUO1xyXG4gICAgICAgIGNsb25lLlRSSUdHRVJfQUREX1BPSU5UID0gdGhpcy5UUklHR0VSX0FERF9QT0lOVDtcclxuICAgICAgICBjbG9uZS5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTiA9IHRoaXMuVFJBRElOR19QUklDRV9QUkVDSVNJT047XHJcbiAgICAgICAgY2xvbmUuTUlOX0JBVENIX0NPVU5UID0gdGhpcy5NSU5fQkFUQ0hfQ09VTlQ7XHJcbiAgICAgICAgY2xvbmUuTUFYX1JJU0VfUENUID0gdGhpcy5NQVhfUklTRV9QQ1Q7XHJcbiAgICAgICAgY2xvbmUuQ0xFQVJfU1RFUF9QQ1QgPSB0aGlzLkNMRUFSX1NURVBfUENUO1xyXG4gICAgICAgIGNsb25lLk1JTklNVU1fQlVZX1BDVCA9IHRoaXMuTUlOSU1VTV9CVVlfUENUO1xyXG4gICAgICAgIGNsb25lLkJPVFRPTV9CVVlfUENUID0gdGhpcy5CT1RUT01fQlVZX1BDVDtcclxuICAgIFxyXG4gICAgICAgIGNsb25lLlNHUklEX1NURVBfUENUID0gdGhpcy5TR1JJRF9TVEVQX1BDVDtcclxuICAgICAgICBjbG9uZS5TR1JJRF9BRERfUENUID0gdGhpcy5TR1JJRF9BRERfUENUO1xyXG4gICAgICAgIGNsb25lLlNHUklEX1JFVEFJTl9DT1VOVCA9IHRoaXMuU0dSSURfUkVUQUlOX0NPVU5UO1xyXG4gICAgXHJcbiAgICAgICAgY2xvbmUuTUdSSURfU1RFUF9QQ1QgPSB0aGlzLk1HUklEX1NURVBfUENUO1xyXG4gICAgICAgIGNsb25lLk1HUklEX0FERF9QQ1QgPSB0aGlzLk1HUklEX0FERF9QQ1Q7XHJcbiAgICAgICAgY2xvbmUuTUdSSURfUkVUQUlOX0NPVU5UID0gdGhpcy5NR1JJRF9SRVRBSU5fQ09VTlQ7XHJcbiAgICBcclxuICAgICAgICBjbG9uZS5MR1JJRF9TVEVQX1BDVCA9IHRoaXMuTEdSSURfU1RFUF9QQ1Q7XHJcbiAgICAgICAgY2xvbmUuTEdSSURfQUREX1BDVCA9IHRoaXMuTEdSSURfQUREX1BDVDtcclxuICAgICAgICBjbG9uZS5MR1JJRF9SRVRBSU5fQ09VTlQgPSB0aGlzLkxHUklEX1JFVEFJTl9DT1VOVDtcclxuICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICB9XHJcblxyXG4gICAgUGFja0Jhc2UoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IFtcIkJBU0VcIiwgU3RyaW5nKHRoaXMuT05FX0dSSURfTElNSVQpLCBTdHJpbmcodGhpcy5NQVhfU0xVTVBfUENUKSwgU3RyaW5nKHRoaXMuVFJJR0dFUl9BRERfUE9JTlQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcodGhpcy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTiksIFN0cmluZyh0aGlzLk1JTl9CQVRDSF9DT1VOVCksIFN0cmluZyh0aGlzLk1BWF9SSVNFX1BDVCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyh0aGlzLkNMRUFSX1NURVBfUENUKSwgU3RyaW5nKHRoaXMuTUlOSU1VTV9CVVlfUENUKSwgU3RyaW5nKHRoaXMuQk9UVE9NX0JVWV9QQ1QpXVxyXG4gICAgICAgIHJldHVybiBzZXR0aW5nLmpvaW4oXCIsXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIFVucGFja0Jhc2Uoc3Ryczogc3RyaW5nW10pXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHN0cnMubGVuZ3RoIDwgMTApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuT05FX0dSSURfTElNSVQgPSBOdW1iZXIoc3Ryc1sxXSk7XHJcbiAgICAgICAgdGhpcy5NQVhfU0xVTVBfUENUID0gTnVtYmVyKHN0cnNbMl0pO1xyXG4gICAgICAgIHRoaXMuVFJJR0dFUl9BRERfUE9JTlQgPSBOdW1iZXIoc3Ryc1szXSk7XHJcbiAgICAgICAgdGhpcy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTiA9IE51bWJlcihzdHJzWzRdKTtcclxuICAgICAgICB0aGlzLk1JTl9CQVRDSF9DT1VOVCA9IE51bWJlcihzdHJzWzVdKTtcclxuICAgICAgICB0aGlzLk1BWF9SSVNFX1BDVCA9IE51bWJlcihzdHJzWzZdKTtcclxuICAgICAgICB0aGlzLkNMRUFSX1NURVBfUENUID0gTnVtYmVyKHN0cnNbN10pO1xyXG4gICAgICAgIHRoaXMuTUlOSU1VTV9CVVlfUENUID0gTnVtYmVyKHN0cnNbOF0pO1xyXG4gICAgICAgIHRoaXMuQk9UVE9NX0JVWV9QQ1QgPSBOdW1iZXIoc3Ryc1s5XSk7XHJcbiAgICB9XHJcblxyXG4gICAgUGFja1N0ZXAoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IFtcIlNURVBcIiwgU3RyaW5nKHRoaXMuU0dSSURfU1RFUF9QQ1QpLCBTdHJpbmcodGhpcy5TR1JJRF9BRERfUENUKSwgU3RyaW5nKHRoaXMuU0dSSURfUkVUQUlOX0NPVU5UKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHRoaXMuTUdSSURfU1RFUF9QQ1QpLCBTdHJpbmcodGhpcy5NR1JJRF9BRERfUENUKSwgU3RyaW5nKHRoaXMuTUdSSURfUkVUQUlOX0NPVU5UKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHRoaXMuTEdSSURfU1RFUF9QQ1QpLCBTdHJpbmcodGhpcy5MR1JJRF9BRERfUENUKSwgU3RyaW5nKHRoaXMuTEdSSURfUkVUQUlOX0NPVU5UKV1cclxuICAgICAgICByZXR1cm4gc2V0dGluZy5qb2luKFwiLFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBVbnBhY2tTdGVwKHN0cnM6IHN0cmluZ1tdKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChzdHJzLmxlbmd0aCAhPSAxMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5TR1JJRF9TVEVQX1BDVCA9IE51bWJlcihzdHJzWzFdKTtcclxuICAgICAgICB0aGlzLlNHUklEX0FERF9QQ1QgPSBOdW1iZXIoc3Ryc1syXSk7XHJcbiAgICAgICAgdGhpcy5TR1JJRF9SRVRBSU5fQ09VTlQgPSBOdW1iZXIoc3Ryc1szXSk7XHJcbiAgICAgICAgdGhpcy5NR1JJRF9TVEVQX1BDVCA9IE51bWJlcihzdHJzWzRdKTtcclxuICAgICAgICB0aGlzLk1HUklEX0FERF9QQ1QgPSBOdW1iZXIoc3Ryc1s1XSk7XHJcbiAgICAgICAgdGhpcy5NR1JJRF9SRVRBSU5fQ09VTlQgPSBOdW1iZXIoc3Ryc1s2XSk7XHJcbiAgICAgICAgdGhpcy5MR1JJRF9TVEVQX1BDVCA9IE51bWJlcihzdHJzWzddKTtcclxuICAgICAgICB0aGlzLkxHUklEX0FERF9QQ1QgPSBOdW1iZXIoc3Ryc1s4XSk7XHJcbiAgICAgICAgdGhpcy5MR1JJRF9SRVRBSU5fQ09VTlQgPSBOdW1iZXIoc3Ryc1s5XSk7XHJcbiAgICB9XHJcblxyXG4gICAgUGFja1F1YW50KCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSBbXCJRVUFOVFwiLCBdXHJcblxyXG4gICAgICAgIHJldHVybiBzZXR0aW5nLmpvaW4oXCIsXCIpXHJcbiAgICB9XHJcblxyXG4gICAgVW5wYWNrUXVhbnQoc3Ryczogc3RyaW5nIFtdKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxufVxyXG4iLCAiLypcclxuICAgIFx1NjU3MFx1NjM2RVx1Njc2NVx1NkU5MDogXHU1RkM1XHU3NkM4XHU2NTcwXHU2MzZFKGh0dHBzOi8vYWQuYml5aW5nYXBpLmNvbS9hcGlkb2MuaHRtbClcclxuICAgIFx1NjU3MFx1NjM2RVx1ODMwM1x1NTZGNDpcclxuICAgICAgICBcdTZDQUFcdTZERjFcdTU3RkFcdTc4NDBcdTY1NzBcdTYzNkU6IFx1ODBBMVx1Nzk2OFx1NTIxN1x1ODg2OFx1MzAwMVx1NTE2Q1x1NTNGOFx1OEJFNlx1NjBDNVx1MzAwMVx1NUI5RVx1NjVGNlx1NEVBNFx1NjYxM1x1MzAwMVx1NTM4Nlx1NTNGMlx1NjU3MFx1NjM2RVx1MzAwMVx1NkRBOFx1OERDQ1x1ODBBMVx1NkM2MFx1MzAwMVx1OEQ0NFx1OTFEMVx1NkQ0MVx1NTQxMVx1N0I0OTYwXHU0RjU5XHU0RTJBXHU0RTBEXHU1NDBDXHU3QzdCXHU1NzhCXHU3Njg0XHU2NTcwXHU2MzZFXHU2M0E1XHU1M0UzXHJcbiAgICAgICAgXHU2Q0FBXHU2REYxXHU2REYxXHU1RUE2XHU2NTcwXHU2MzZFOiBcdTYyOTVcdThENDRcdTUzQzJcdTgwMDNcdTMwMDFcdTlGOTlcdTg2NEVcdTY5OUNcdTMwMDFcdTVFMDJcdTU3M0FcdTg4NjhcdTczQjBcdTMwMDFcdThEMjJcdTUyQTFcdTUyMDZcdTY3OTBcdTMwMDFcdTY3M0FcdTY3ODRcdTYzMDFcdTgwQTFcdTMwMDFcdThENDRcdTkxRDFcdTZENDFcdTdCNDk4MFx1NEY1OVx1NEUyQVx1NTQxMVx1NEUyQVx1NEUwRFx1NTQwQ1x1N0M3Qlx1NTc4Qlx1NzY4NFx1NjU3MFx1NjM2RVx1NjNBNVx1NTNFM1xyXG4gICAgICAgIFx1NkNBQVx1NkRGMVx1NjMwN1x1NjU3MFx1NjU3MFx1NjM2RTogXHU2Q0FBXHU2REYxXHU2MzA3XHU2NTcwXHU1MjE3XHU4ODY4XHUzMDAxXHU1QjlFXHU2NUY2XHU0RUE0XHU2NjEzXHUzMDAxXHU1Mzg2XHU1M0YyXHU2NTcwXHU2MzZFXHUzMDAxXHU1MjA2XHU2NUY2S0RKXHUzMDAxXHU1MjA2XHU2NUY2TUFDRFx1MzAwMVx1NTIwNlx1NjVGNkJPTExcdTdCNDkxNlx1NEUyQVx1NEUwRFx1NTQwQ1x1N0M3Qlx1NTc4Qlx1NzY4NFx1NjU3MFx1NjM2RVx1NjNBNVx1NTNFM1xyXG4gICAgICAgIFx1NTdGQVx1OTFEMVx1ODg0Q1x1NjBDNVx1NjU3MFx1NjM2RTogXHU1N0ZBXHU5MUQxXHU1MjE3XHU4ODY4XHUzMDAxXHU0RjMwXHU1MDNDXHU4ODRDXHU2MEM1XHUzMDAxXHU2NzAwXHU2NUIwS1x1N0VCRlx1MzAwMVx1NTM4Nlx1NTNGMktcdTdFQkZcdTMwMDFcdThENDRcdTRFQTdcdThEMUZcdTUwM0FcdTg4NjhcdTMwMDFcdTY4NjNcdTY4NDhcdTRGRTFcdTYwNkZcdTdCNDk3MFx1NEY1OVx1NEUyQVx1NEUwRFx1NTQwQ1x1N0M3Qlx1NTc4Qlx1NzY4NFx1NjU3MFx1NjM2RVx1NjNBNVx1NTNFM1xyXG4gICAgXHU2NTcwXHU2MzZFXHU2M0E1XHU1M0UzOlxyXG4gICAgICAgIEVURlx1NTdGQVx1OTFEMVx1ODg0Q1x1NjBDNVxyXG4gICAgICAgICAgICBBUElcdTYzQTVcdTUzRTNcdUZGMUFodHRwczovL2FwaS5iaXlpbmdhcGkuY29tL2pqL2V0ZmhxL0VURlx1NTdGQVx1OTFEMVx1NEVFM1x1NzgwMS9cdTYwQThcdTc2ODRsaWNlbmNlXHJcbiAgICAgICAgICAgIFx1NTkwN1x1NzUyOFx1NjNBNVx1NTNFM1x1RkYxQWh0dHBzOi8vYXBpMS5iaXlpbmdhcGkuY29tL2pqL2V0ZmhxL0VURlx1NTdGQVx1OTFEMVx1NEVFM1x1NzgwMS9cdTYwQThcdTc2ODRsaWNlbmNlXHJcbiAgICAgICAgTE9GXHU1N0ZBXHU5MUQxXHU4ODRDXHU2MEM1XHJcbiAgICAgICAgICAgIEFQSVx1NjNBNVx1NTNFM1x1RkYxQWh0dHBzOi8vYXBpLmJpeWluZ2FwaS5jb20vamovbG9maHEvTE9GXHU1N0ZBXHU5MUQxXHU0RUUzXHU3ODAxL1x1NjBBOFx1NzY4NGxpY2VuY2VcclxuICAgICAgICAgICAgXHU1OTA3XHU3NTI4XHU2M0E1XHU1M0UzXHVGRjFBaHR0cHM6Ly9hcGkxLmJpeWluZ2FwaS5jb20vamovbG9maHEvTE9GXHU1N0ZBXHU5MUQxXHU0RUUzXHU3ODAxL1x1NjBBOFx1NzY4NGxpY2VuY2VcclxuKi9cclxuaW1wb3J0IHsgTm90aWNlLCByZXF1ZXN0VXJsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5jb25zdCBkYXRhX3VybF9wcmVmaXggPSBcImh0dHA6Ly9hcGkuYml5aW5nYXBpLmNvbVwiO1xyXG5cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEZldGNoRGF0YShkYXRhX2FwaTogc3RyaW5nLCBhcGlfbGljZW5jZTogc3RyaW5nLCBkZWJ1Z19sb2c6IHN0cmluZ1tdW10pXHJcbntcclxuICAgIGNvbnN0IHVybCA9IGRhdGFfdXJsX3ByZWZpeCArIGRhdGFfYXBpICsgXCIvXCIgKyBhcGlfbGljZW5jZTtcclxuICAgIGRlYnVnX2xvZy5wdXNoKFtcIkluZm9cIiwgXCJmdWxsIHVybFwiLCB1cmxdKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh1cmwpO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb247XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRFVEZDdXJyZW50UHJpY2UoZXRmX2NvZGU6IHN0cmluZywgYXBpX2xpY2VuY2U6IHN0cmluZywgcmV0cnlfY291bnQgPSAzKVxyXG57XHJcbiAgICBpZiAoIShldGZfY29kZS5zdGFydHNXaXRoKFwic3pcIikgfHwgZXRmX2NvZGUuc3RhcnRzV2l0aChcInNoXCIpKSlcclxuICAgIHtcclxuICAgICAgICAvLyBcdTk3NUVzei9zaFx1NUUwMlx1NTczQVx1NzY4NEVURlx1NEVGN1x1NjgzQ1x1NjVFMFx1NkNENVx1ODFFQVx1NTJBOFx1ODNCN1x1NTNENlxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuICAgIGNvbnN0IGRhdGFfYXBpID0gZGF0YV91cmxfcHJlZml4ICsgXCIvamovZXRmaHEvXCIgKyBldGZfY29kZSArIFwiL1wiICsgYXBpX2xpY2VuY2U7XHJcbiAgICAvL0RlYnVnTG9nKFwicmVxdWVzdCB1cmw6IFwiLCBkYXRhX2FwaSk7XHJcblxyXG4gICAgd2hpbGUgKHJldHJ5X2NvdW50ID49IDApXHJcbiAgICB7XHJcbiAgICAgICAgdHJ5XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoZGF0YV9hcGkpO1xyXG4gICAgICAgICAgICBEZWJ1Z0xvZyhcInJlcXVlc3QgXCIsIGV0Zl9jb2RlLCBcIiAgcmVzdWx0IFwiLCByZXNwb25zZS5qc29uW1wienhqXCJdKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb25bXCJ6eGpcIl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoKGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBEZWJ1Z0xvZyhcInJlcXVlc3QgXCIsIGRhdGFfYXBpLCBcIiAgZXJyb3IgXCIsIGUubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKDMwICogMTAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHJ5X2NvdW50ID0gcmV0cnlfY291bnQgLSAxO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0TE9GQ3VycmVudFByaWNlKGxvZl9jb2RlOiBzdHJpbmcsIGFwaV9saWNlbmNlOiBzdHJpbmcsIHJldHJ5X2NvdW50ID0gMylcclxue1xyXG4gICAgaWYgKCEobG9mX2NvZGUuc3RhcnRzV2l0aChcInN6XCIpIHx8IGxvZl9jb2RlLnN0YXJ0c1dpdGgoXCJzaFwiKSkpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gXHU5NzVFc3ovc2hcdTVFMDJcdTU3M0FcdTc2ODRMT0ZcdTRFRjdcdTY4M0NcdTY1RTBcdTZDRDVcdTgxRUFcdTUyQThcdTgzQjdcdTUzRDZcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBjb25zdCBkYXRhX2FwaSA9IGRhdGFfdXJsX3ByZWZpeCArIFwiL2pqL2xvZmhxL1wiICsgbG9mX2NvZGUgKyBcIi9cIiArIGFwaV9saWNlbmNlO1xyXG4gICAgLy9EZWJ1Z0xvZyhcInJlcXVlc3QgdXJsOiBcIiwgZGF0YV9hcGkpO1xyXG4gICAgd2hpbGUgKHJldHJ5X2NvdW50ID49IDApXHJcbiAgICB7XHJcbiAgICAgICAgdHJ5XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoZGF0YV9hcGkpO1xyXG4gICAgICAgICAgICBEZWJ1Z0xvZyhcInJlcXVlc3QgXCIsIGxvZl9jb2RlLCBcIiAgcmVzdWx0IFwiLCByZXNwb25zZS5qc29uW1wienhqXCJdKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb25bXCJ6eGpcIl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoKGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBEZWJ1Z0xvZyhcInJlcXVlc3QgXCIsIGRhdGFfYXBpLCBcIiAgZXJyb3IgXCIsIGUubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKDMwICogMTAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gRGVidWdMb2coLi4uYXJncylcclxue1xyXG4gICAgbGV0IGxvZ19zdHIgPSBcIlwiO1xyXG4gICAgYXJncy5mb3JFYWNoKChjZWxsLCBpKSA9PiB7XHJcbiAgICAgICAgbG9nX3N0ciA9IGxvZ19zdHIgKyBTdHJpbmcoY2VsbCk7XHJcbiAgICB9KTtcclxuICAgIG5ldyBOb3RpY2UobG9nX3N0cik7XHJcbn1cclxuIiwgIi8qXHJcbiAgICBHcmlkIFRyYWRpbmcgVmlld1xyXG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU1MTc3XHU0RjUzXHU2ODA3XHU3Njg0XHU1QzU1XHU3OTNBXHU4OUM2XHU1NkZFXHJcbiovXHJcblxyXG5pbXBvcnQgeyBUZXh0RmlsZVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgR3JpZFRyYWRpbmcgfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdcIjtcclxuaW1wb3J0IHsgUGx1Z2luRW52LCBGRVRDSF9DVVJSRU5UX1BSSUNFIH0gZnJvbSBcIi4vcGx1Z2luX2VudlwiO1xyXG5pbXBvcnQgeyBHUklEX0NPTE9SX0JVWV9NT05JVE9SLCBHUklEX0NPTE9SX0JVWV9UUklHR0VSRUQsIEdSSURfQ09MT1JfRElTQUJMRSwgR1JJRF9DT0xPUl9TRUxMX01PTklUT1IsIEdSSURfQ09MT1JfU0VMTF9UUklHR0VSRUQgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBEZWJ1Z0xvZyB9IGZyb20gXCIuL3JlbW90ZV91dGlsXCI7XHJcbmltcG9ydCB7IEV4Y3V0ZUdyaWRDb21tYW5kIH0gZnJvbSBcIi4vY29tbWFuZF91dGlsXCI7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9HVFYgPSBcImd0di12aWV3XCJcclxuXHJcbmV4cG9ydCBjbGFzcyBHVFZWaWV3IGV4dGVuZHMgVGV4dEZpbGVWaWV3XHJcbntcclxuICAgIGRhdGE6IHN0cmluZztcclxuICAgIHBsdWdpbl9lbnY6IFBsdWdpbkVudjtcclxuICAgIHJlZnJlc2hfZXZlbnRfZ3VpZDogbnVtYmVyO1xyXG4gICAgdmlld19ndWlkOiBudW1iZXI7XHJcblxyXG4gICAgc3RvY2tfdGlsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBzdG9ja190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwYXJhbV90aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwYXJhbV90YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICB0cmFkaW5nX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIHRyYWRpbmdfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgaG9sZGluZ190aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBob2xkaW5nX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGluY29tZV90aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBpbmNvbWVfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgYW5hbHlzaXNfdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgYW5hbHlzaXNfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgcmVjb3JkX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIHJlY29yZF90YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBhZGp1c3RfdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgYWRqdXN0X3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGRlYnVnX2xvZ190aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBkZWJ1Z19sb2dfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIGNvbW1hbmRfdGV4dF9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBjb21tYW5kX2lucHV0X2VsOiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgY29tbWFuZF9idG5fZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgY29tbWFuZF9saXN0X2VsOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW5fZW52OiBQbHVnaW5FbnYpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIobGVhZik7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5fZW52ID0gcGx1Z2luX2VudjtcclxuICAgICAgICB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA9IC0xO1xyXG4gICAgICAgIHRoaXMudmlld19ndWlkID0gcGx1Z2luX2Vudi5HZW5HVUlEKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Vmlld0RhdGEoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRWaWV3RGF0YShkYXRhOiBzdHJpbmcsIGNsZWFyOiBib29sZWFuKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5SZWZyZXNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9HVFY7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFzeW5jIG9uT3BlbigpOiBQcm9taXNlPHZvaWQ+IFxyXG4gICAge1xyXG4gICAgICAgIGxldCBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRfYnRuX2VsID0gZGl2LmNyZWF0ZUVsKFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZF9idG5fZWwuc2V0VGV4dChcIkV4Y3V0ZVwiKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRfYnRuX2VsLm9uQ2xpY2tFdmVudCgoZXY6IE1vdXNlRXZlbnQpID0+IHt0aGlzLk9uQ2xpY2tBZGRSZWNvcmRCdG4oZXYsIHRoaXMuY29tbWFuZF9pbnB1dF9lbCl9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tYW5kX2lucHV0X2VsID0gZGl2LmNyZWF0ZUVsKFwiaW5wdXRcIik7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kX2lucHV0X2VsLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kX2lucHV0X2VsLnNpemUgPSA3MDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRfaW5wdXRfZWwucGxhY2Vob2xkZXIgPSBcIklucHV0IHlvdXIgY29tbWFuZFwiXHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfdGlsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5wYXJhbV90aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMucGFyYW1fdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpXHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5hbmFseXNpc190aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMuYW5hbHlzaXNfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKVxyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnJlY29yZF90aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMucmVjb3JkX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcbiAgXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5hZGp1c3RfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLmFkanVzdF90YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKVxyXG4gICAgICAgIHRoaXMuZGVidWdfbG9nX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoX2V2ZW50X2d1aWQgPSB0aGlzLnBsdWdpbl9lbnYuU3Vic2NyaWJlRXZlbnQoRkVUQ0hfQ1VSUkVOVF9QUklDRSwgKCk9PnRoaXMuUmVmcmVzaCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBPbkNsaWNrQWRkUmVjb3JkQnRuKGV2OiBNb3VzZUV2ZW50LCBpbnB1dF9lbDogSFRNTEVsZW1lbnQpXHJcbiAgICB7XHJcbiAgICAgICAgdHJ5XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gaW5wdXRfZWwudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyaWRfY21kID0gRXhjdXRlR3JpZENvbW1hbmQodGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChncmlkX2NtZC5lcnJvcl9jb2RlID09IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChncmlkX2NtZC5jb21tYW5kID09IFwiYWRkX3JlY29yZFwiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YSArIGdyaWRfY21kLmRhdGFfcmVzdWx0X3N0cjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdEYXRhKHRoaXMuZGF0YSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRfY21kLmNvbW1hbmQgPT0gXCJkZWxfcmVjb3JkXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0aGlzLmRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXg9MDsgaW5kZXggPCBsaW5lcy5sZW5ndGg7IGluZGV4KyspXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZXNbaW5kZXhdLnN0YXJ0c1dpdGgoXCJCVVksXCIpIHx8IGxpbmVzW2luZGV4XS5zdGFydHNXaXRoKFwiU0VMTCxcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09IGdyaWRfY21kLmRhdGFfcmVzdWx0X251bSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgbGluZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gbGluZXMuam9pbihcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdEYXRhKHRoaXMuZGF0YSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRGVidWdMb2coXCJDb21tYW5kIGhhcyBlcnJvciBcIiwgZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBhc3luYyBvbkNsb3NlKCk6IFByb21pc2U8dm9pZD5cclxuICAgIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuVW5zdWJzY3JpYmVFdmVudChGRVRDSF9DVVJSRU5UX1BSSUNFLCB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFJlZnJlc2goKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NjgwN1x1OTg5OFx1NEUwRVx1ODg2OFx1NjgzQ1xyXG4gICAgICAgIHRoaXMuc3RvY2tfdGlsZV9lbC5zZXRUZXh0KFwiXHU2NzJBXHU3N0U1XHU2ODA3XHU3Njg0XCIpO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLnBhcmFtX3RpdGxlX2VsLnNldFRleHQoXCJcdTdGNTFcdTY4M0NcdTUzQzJcdTY1NzBcIik7XHJcbiAgICAgICAgdGhpcy5wYXJhbV90YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ190aXRsZV9lbC5zZXRUZXh0KFwiXHU0RUE0XHU2NjEzXHU3RjUxXHU2ODNDXCIpO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuaG9sZGluZ190aXRsZV9lbC5zZXRUZXh0KFwiXHU2MzAxXHU0RUQzXHU1MjA2XHU2NzkwXCIpO1xyXG4gICAgICAgIHRoaXMuaG9sZGluZ190YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX3RpdGxlX2VsLnNldFRleHQoXCJcdTY1MzZcdTc2Q0FcdTUyMDZcdTY3OTBcIik7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLmFuYWx5c2lzX3RpdGxlX2VsLnNldFRleHQoXCJcdTU2REVcdTY0QTRcdTUyMDZcdTY3OTBcIik7XHJcbiAgICAgICAgdGhpcy5hbmFseXNpc190YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMucmVjb3JkX3RpdGxlX2VsLnNldFRleHQoXCJcdTRFQTRcdTY2MTNcdThCQjBcdTVGNTVcIik7XHJcbiAgICAgICAgdGhpcy5yZWNvcmRfdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLmFkanVzdF90aXRsZV9lbC5zZXRUZXh0KFwiXHU4QzAzXHU2NTc0XHU4QkIwXHU1RjU1XCIpO1xyXG4gICAgICAgIHRoaXMuYWRqdXN0X3RhYmxlX2VsLmVtcHR5KCk7XHJcbiAgICAgICAgLy8gdGhpcy5kZWJ1Z19sb2dfdGl0bGVfZWwuc2V0VGV4dChcIlx1OEMwM1x1OEJENVx1NjVFNVx1NUZEN1wiKTtcclxuICAgICAgICAvLyB0aGlzLmRlYnVnX2xvZ190YWJsZV9lbC5lbXB0eSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5maWxlICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RlX3N0ciA9IHRoaXMuZGF0YS5zcGxpdChcIlxcblwiKVswXS5zcGxpdChcIixcIilbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IGdyaWRfdHJhZGluZyA9IHRoaXMucGx1Z2luX2Vudi5HZXRBbmRHZW5HcmlkVHJhZGluZyh0aGlzLmZpbGUubmFtZSwgbW9kZV9zdHIpO1xyXG4gICAgICAgICAgICBncmlkX3RyYWRpbmcuSW5pdEdyaWRUcmFkaW5nKHRoaXMuZGF0YSk7XHJcbiAgICAgICAgICAgIC8vIFx1NjgwN1x1NzY4NFx1NEZFMVx1NjA2RlxyXG4gICAgICAgICAgICB0aGlzLnN0b2NrX3RpbGVfZWwuc2V0VGV4dChncmlkX3RyYWRpbmcuc3RvY2tfbmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5zdG9ja190YWJsZV9lbCwgZ3JpZF90cmFkaW5nLnN0b2NrX3RhYmxlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vIFx1N0Y1MVx1NjgzQ1x1NTNDMlx1NjU3MFxyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZShncmlkX3RyYWRpbmcsIHRoaXMucGFyYW1fdGFibGVfZWwsIGdyaWRfdHJhZGluZy5wYXJhbV90YWJsZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAvLyBcdTRFQTRcdTY2MTNcdTdGNTFcdTY4M0NcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUoZ3JpZF90cmFkaW5nLCB0aGlzLnRyYWRpbmdfdGFibGVfZWwsIGdyaWRfdHJhZGluZy50cmFkaW5nX3RhYmxlLCB0cnVlKTtcclxuICAgICAgICAgICAgLy8gXHU2MzAxXHU0RUQzXHU1MjA2XHU2NzkwXHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5ob2xkaW5nX3RhYmxlX2VsLCBncmlkX3RyYWRpbmcuaG9sZGluZ19hbmFseXNpcywgZmFsc2UpO1xyXG4gICAgICAgICAgICAvLyBcdTY1MzZcdTc2Q0FcdTUyMDZcdTY3OTBcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUoZ3JpZF90cmFkaW5nLCB0aGlzLmluY29tZV90YWJsZV9lbCwgZ3JpZF90cmFkaW5nLnRyYWRpbmdfaW5jb21lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vIFx1NTZERVx1NjRBNFx1NTIwNlx1Njc5MFxyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZShncmlkX3RyYWRpbmcsIHRoaXMuYW5hbHlzaXNfdGFibGVfZWwsIGdyaWRfdHJhZGluZy50cmFkaW5nX2FuYWx5c2lzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vIFx1NEVBNFx1NjYxM1x1OEJCMFx1NUY1NVxyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZShncmlkX3RyYWRpbmcsIHRoaXMucmVjb3JkX3RhYmxlX2VsLCBncmlkX3RyYWRpbmcudHJhZGluZ19yZWNvcmQsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gXHU4QzAzXHU2NTc0XHU4QkIwXHU1RjU1XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5hZGp1c3RfdGFibGVfZWwsIGdyaWRfdHJhZGluZy5hZGp1c3RfcmVjb3JkLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vIFx1OEMwM1x1OEJENVx1NEZFMVx1NjA2RlxyXG4gICAgICAgICAgICAvLyB0aGlzLkRpc3BsYXlUYWJsZShncmlkX3RyYWRpbmcsIHRoaXMuZGVidWdfbG9nX3RhYmxlX2VsLCBncmlkX3RyYWRpbmcuZGVidWdfbG9nLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIERpc3BsYXlUYWJsZShncmlkX3RyYWRpbmc6IEdyaWRUcmFkaW5nLCB0YWJsZV9lbDogSFRNTEVsZW1lbnQsIHRhYmxlOiBzdHJpbmdbXVtdLCBpc19jb2xvcjogYm9vbGVhbilcclxuICAgIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB0YWJsZV9ib2R5ID0gdGFibGVfZWwuY3JlYXRlRWwoXCJ0Ym9keVwiKTtcclxuICAgICAgICAgICAgdGFibGUuZm9yRWFjaCgocm93LCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0YWJsZV9yb3cgPSB0YWJsZV9ib2R5LmNyZWF0ZUVsKFwidHJcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByb3cuZm9yRWFjaCgoY2VsbCwgaikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlX2NlbGwgPSB0YWJsZV9yb3cuY3JlYXRlRWwoXCJ0ZFwiLCB7IHRleHQ6IGNlbGwsIGF0dHI6IHtcImFsaWduXCI6IFwicmlnaHRcIn19KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNfY29sb3IgJiYgaSA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIChqID09IDAgJiYgZ3JpZF90cmFkaW5nLmRpc2FibGVfcm93cy5pbmNsdWRlcyhpKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy97XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHRhYmxlX2NlbGwuc2V0QXR0cihcImJnQ29sb3JcIiwgR1JJRF9DT0xPUl9ESVNBQkxFKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqIDw9NSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZy5idXlfdHJpZ2dlcmVkX3Jvd3MuaW5jbHVkZXMoaSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfY2VsbC5zZXRBdHRyKFwiYmdDb2xvclwiLCBHUklEX0NPTE9SX0JVWV9UUklHR0VSRUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZy5idXlfbW9uaXRvcl9yb3dzLmluY2x1ZGVzKGkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlX2NlbGwuc2V0QXR0cihcImJnQ29sb3JcIiwgR1JJRF9DT0xPUl9CVVlfTU9OSVRPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZF90cmFkaW5nLnNlbGxfdHJpZ2dlcmVkX3Jvd3MuaW5jbHVkZXMoaSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfY2VsbC5zZXRBdHRyKFwiYmdDb2xvclwiLCBHUklEX0NPTE9SX1NFTExfVFJJR0dFUkVEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkX3RyYWRpbmcuc2VsbF9tb25pdG9yX3Jvd3MuaW5jbHVkZXMoaSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfY2VsbC5zZXRBdHRyKFwiYmdDb2xvclwiLCBHUklEX0NPTE9SX1NFTExfTU9OSVRPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgRGVidWdMb2coXCJEaXNwbGF5VGFibGUgZXJyb3I6IFwiLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwgIi8qXHJcbiAgICBteW1hdGg6IFx1N0Y1MVx1NjgzQ1x1NUI5QVx1NTIzNlx1NjU3MFx1NUI2Nlx1NUU5MywgXHU1QkY5XHU1MzlGXHU3NTFGXHU3Njg0TWF0aFx1NUU5M1x1OEZEQlx1ODg0Q1x1NUMwMVx1ODhDNVx1RkYwQ1x1NEY3Rlx1NUY5N1x1OEJBMVx1N0I5N1x1OTAzQlx1OEY5MVx1NjZGNFx1NTJBMFx1N0IyNlx1NTQwOFx1N0Y1MVx1NjgzQ1x1NEVBNFx1NjYxM1x1ODlDNFx1NTIxOVxyXG4qL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEZpeGVkUHJpY2UocHJpY2U6IG51bWJlciwgcGN0OiBudW1iZXIsIHByZWNpc2lvbjogbnVtYmVyKVxyXG57XHJcbiAgICBjb25zdCBzY2FsZSA9IDEwICoqIHByZWNpc2lvbjtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguZmxvb3IocHJpY2UgKiBzY2FsZSkgKiBNYXRoLmZsb29yKHBjdCAqIDEwMCkgLyAxMDApIC8gc2NhbGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBbGlnblByaWNlKHByaWNlOiBudW1iZXIsIHByZWNpc2lvbjogbnVtYmVyKVxyXG57XHJcbiAgICBjb25zdCBzY2FsZSA9IDEwICoqIHByZWNpc2lvbjtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKHByaWNlICogc2NhbGUpIC8gc2NhbGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNeUZsb29yKG51bTogbnVtYmVyLCBzaW5nbGU6IG51bWJlcilcclxue1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IobnVtIC8gc2luZ2xlKSAqIHNpbmdsZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE15Q2VpbChudW06IG51bWJlciwgc2luZ2xlOiBudW1iZXIpXHJcbntcclxuICAgIHJldHVybiBNYXRoLmNlaWwobnVtIC8gc2luZ2xlKSAqIHNpbmdsZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFRvUGVyY2VudChudW06IG51bWJlciwgY291bnQgPSAwKTogc3RyaW5nXHJcbntcclxuICAgIHJldHVybiAobnVtICogMTAwKS50b0ZpeGVkKGNvdW50KSArIFwiJVwiO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVG9QZXJjZW50U3RyKG51bTogbnVtYmVyLCBjb3VudCA9IDApOiBzdHJpbmdcclxue1xyXG4gICAgcmV0dXJuIG51bS50b0ZpeGVkKGNvdW50KSArIFwiJVwiO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVG9OdW1iZXIocGVyY2VudDogc3RyaW5nKTogbnVtYmVyXHJcbntcclxuICAgIHJldHVybiBOdW1iZXIocGVyY2VudC5yZXBsYWNlKFwiJVwiLCBcIlwiKSkgLyAxMDAuMDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFRvVHJhZGluZ0dhcChjdXJyZW50X3ByaWNlOiBudW1iZXJ8dW5kZWZpbmVkLCB0YXJnZXRfcHJpY2U6IG51bWJlcnx1bmRlZmluZWQsIGNvdW50PTApOiBzdHJpbmdcclxue1xyXG4gICAgaWYgKHRhcmdldF9wcmljZSA9PSB1bmRlZmluZWQgfHwgY3VycmVudF9wcmljZSA9PSB1bmRlZmluZWQgfHwgY3VycmVudF9wcmljZSA9PSAwKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBcIi1cIjtcclxuICAgIH1cclxuICAgIGNvbnN0IGdhcCA9IE1hdGguYWJzKHRhcmdldF9wcmljZSAtIGN1cnJlbnRfcHJpY2UpO1xyXG4gICAgaWYgKHRhcmdldF9wcmljZSA+IGN1cnJlbnRfcHJpY2UpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFwiK1wiICsgVG9QZXJjZW50KGdhcCAvIGN1cnJlbnRfcHJpY2UsIGNvdW50KTtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gXCItXCIgKyBUb1BlcmNlbnQoZ2FwIC8gY3VycmVudF9wcmljZSwgY291bnQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gSXNOdW1lcmljKHN0cjogc3RyaW5nKTogYm9vbGVhblxyXG57XHJcbiAgICByZXR1cm4gIWlzTmFOKE51bWJlcihzdHIpKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFRpbWVEdWFyaW9uKGRhdGVTdHIxOiBzdHJpbmcsIGRhdGVTdHIyOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgLy8gXHU1MjFCXHU1RUZBRGF0ZVx1NUJGOVx1OEM2MVx1RkYwOFx1ODFFQVx1NTJBOFx1OEY2Q1x1NjM2Mlx1NEUzQVVUQ1x1NjVGNlx1OTVGNFx1RkYwOVxyXG4gICAgY29uc3QgZGF0ZTEgPSBuZXcgRGF0ZShkYXRlU3RyMSk7XHJcbiAgICBjb25zdCBkYXRlMiA9IG5ldyBEYXRlKGRhdGVTdHIyKTtcclxuXHJcbiAgICAvLyBcdTlBOENcdThCQzFcdTY1RTVcdTY3MUZcdTY3MDlcdTY1NDhcdTYwMjdcclxuICAgIGlmIChpc05hTihkYXRlMS5nZXRUaW1lKCkpIHx8IGlzTmFOKGRhdGUyLmdldFRpbWUoKSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcdThGOTNcdTUxNjVcdTc2ODRcdTY1RTVcdTY3MUZcdTY4M0NcdTVGMEZcdTRFMERcdTZCNjNcdTc4NkVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gXHU4QkExXHU3Qjk3VVRDXHU1MzQ4XHU1OTFDXHU2NUY2XHU5NUY0XHU2MjMzXHU1REVFXHU1MDNDXHVGRjA4XHU5MDdGXHU1MTREXHU1OTBGXHU0RUU0XHU2NUY2XHU1RjcxXHU1NENEXHVGRjA5XHJcbiAgICBjb25zdCB1dGMxID0gRGF0ZS5VVEMoXHJcbiAgICAgICAgZGF0ZTEuZ2V0VVRDRnVsbFllYXIoKSxcclxuICAgICAgICBkYXRlMS5nZXRVVENNb250aCgpLFxyXG4gICAgICAgIGRhdGUxLmdldFVUQ0RhdGUoKVxyXG4gICAgKTtcclxuICAgIGNvbnN0IHV0YzIgPSBEYXRlLlVUQyhcclxuICAgICAgICBkYXRlMi5nZXRVVENGdWxsWWVhcigpLFxyXG4gICAgICAgIGRhdGUyLmdldFVUQ01vbnRoKCksXHJcbiAgICAgICAgZGF0ZTIuZ2V0VVRDRGF0ZSgpXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFx1OEJBMVx1N0I5N1x1NTkyOVx1NjU3MFx1NURFRVx1NUU3Nlx1OEZENFx1NTZERVxyXG4gICAgcmV0dXJuIE1hdGguYWJzKE1hdGguZmxvb3IoKHV0YzEgLSB1dGMyKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQXZlcmFnZVByaWNlU3RyKGNvc3Q6IG51bWJlciwgY291bnQ6IG51bWJlciwgc2luZ2xlOiBudW1iZXIpOiBzdHJpbmdcclxue1xyXG4gICAgaWYgKGNvdW50ID09IDApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGNvdW50LnRvRml4ZWQoc2luZ2xlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcoKGNvc3QgLyBjb3VudCkudG9GaXhlZChzaW5nbGUpKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFN0cmluZ1BsdXMobnVtMTogc3RyaW5nLCBudW0yOiBzdHJpbmcsIHNpbmdsZTogbnVtYmVyKTogc3RyaW5nXHJcbntcclxuICAgIHJldHVybiBTdHJpbmcoTXlGbG9vcihOdW1iZXIobnVtMSkgKyBOdW1iZXIobnVtMiksIHNpbmdsZSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUHJvcG9ydGlvblBjdFN0cihjb3VudDogbnVtYmVyLCB0b3RhbDogbnVtYmVyLCBzaW5nbGU6IG51bWJlcik6IHN0cmluZ1xyXG57XHJcbiAgICBpZiAodG90YWwgPT0gMClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdG90YWwudG9GaXhlZChzaW5nbGUpICsgXCIlXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3RyaW5nKChjb3VudCAvIHRvdGFsICogMTAwKS50b0ZpeGVkKHNpbmdsZSkpICsgXCIlXCI7XHJcbn1cclxuIiwgIi8qXHJcbiAgICBcdTdGNTFcdTY4M0NcdTdCNTZcdTc1NjVcdTc2ODRcdThCQTFcdTdCOTdcdTkwM0JcdThGOTFcclxuICAgIFx1NTdGQVx1N0M3Qlx1RkYwQ1x1NEUwRFx1OEQxRlx1OEQyM1x1N0Y1MVx1NjgzQ1x1NzY4NFx1NEVBNFx1NjYxM1x1OEJBMVx1N0I5N1x1RkYwQ1x1NUMwMVx1ODhDNVx1N0VERlx1NEUwMFx1NzY4NFx1NjNBNVx1NTNFM1xyXG4qL1xyXG5pbXBvcnQgeyBNZDUgfSBmcm9tIFwidHMtbWQ1L2Rpc3QvbWQ1XCI7XHJcbmltcG9ydCB7IEdyaWRUcmFkaW5nU2V0dGluZ3MsIEdSSURfQ09MT1JfU1RPQ0tfT1ZFUlZJRVcsIEdSSURfQ09MT1JfQlVZX09WRVJWSUVXLCBHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcgfSBmcm9tIFwiLi9zZXR0aW5nc1wiXHJcbmltcG9ydCB7IFBFUkZJVF9UWVBFX05BTUVfU1RSIH0gZnJvbSBcIi4vbGFuZ19zdHJcIjtcclxuaW1wb3J0IHsgTXlGbG9vciwgTXlDZWlsLCBUb1BlcmNlbnQsIFRvTnVtYmVyLCBUb1RyYWRpbmdHYXAsIFRpbWVEdWFyaW9uLCBBdmVyYWdlUHJpY2VTdHIsIEZpeGVkUHJpY2UsIFRvUGVyY2VudFN0ciwgUHJvcG9ydGlvblBjdFN0ciwgSXNOdW1lcmljIH0gZnJvbSBcIi4vbXltYXRoXCI7XHJcbmltcG9ydCB7IFBsdWdpbkVudiB9IGZyb20gXCIuL3BsdWdpbl9lbnZcIjtcclxuaW1wb3J0IHsgRGVidWdMb2cgfSBmcm9tIFwiLi9yZW1vdGVfdXRpbFwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkVHJhZGluZyBcclxue1xyXG4gICAgcGx1Z2luX2VudjogUGx1Z2luRW52O1xyXG4gICAgZ3JpZF9zZXR0aW5nczogR3JpZFRyYWRpbmdTZXR0aW5ncztcclxuICAgIGlzX2VtcHR5OiBib29sZWFuO1xyXG4gICAgaXNfZGVidWc6IGJvb2xlYW47XHJcbiAgICBkYXRhX21kNTogc3RyaW5nO1xyXG4gICAgc3RvY2tfdGFibGU6IHN0cmluZyBbXVtdO1xyXG4gICAgcGFyYW1fdGFibGU6IHN0cmluZyBbXVtdO1xyXG4gICAgdHJhZGluZ190YWJsZTogc3RyaW5nIFtdW107XHJcbiAgICB0cmFkaW5nX2FuYWx5c2lzOiBzdHJpbmcgW11bXTtcclxuICAgIHRyYWRpbmdfcmVjb3JkOiBzdHJpbmcgW11bXTtcclxuICAgIHRyYWRpbmdfaW5jb21lOiBzdHJpbmcgW11bXTtcclxuICAgIGhvbGRpbmdfYW5hbHlzaXM6IHN0cmluZyBbXVtdO1xyXG4gICAgaG9sZGluZ19yZWNvcmQ6IHN0cmluZyBbXVtdO1xyXG4gICAgc3RvY2tfYW5hbHlzaXM6IHN0cmluZyBbXVtdO1xyXG4gICAgYWRqdXN0X3JlY29yZDogc3RyaW5nIFtdW107XHJcbiAgICBkZWJ1Z19sb2c6IHN0cmluZyBbXVtdO1xyXG4gICAgbW9kZV90eXBlOiBzdHJpbmc7XHJcblxyXG4gICAgdGFyZ2V0X3N0b2NrOiBudW1iZXI7XHJcbiAgICBzdG9ja19uYW1lOiBzdHJpbmc7XHJcbiAgICBtYXJrZXRfY29kZTogc3RyaW5nO1xyXG4gICAgY3VycmVudF9wcmljZTogbnVtYmVyO1xyXG4gICAgcmVtb3RlX2N1cnJlbnRfcHJpY2U6IG51bWJlcjtcclxuICAgIHRhcmdldF9wcmljZTogbnVtYmVyO1xyXG4gICAgZW1wdHlfcHJpY2U6IG51bWJlcjtcclxuICAgIGNsZWFyX3ByaWNlOiBudW1iZXI7XHJcbiAgICBjbGVhcl9hdmdfcHJpY2U6IG51bWJlcjtcclxuICAgIHJhd190cmFkaW5nX3JlY29yZDogc3RyaW5nIFtdW107XHJcbiAgICByYXdfYWRqdXN0X3JlY29yZDogc3RyaW5nIFtdW107XHJcbiAgICBjbGVhcl9zZWxsX3JlY29yZDogTWFwPHN0cmluZywgbnVtYmVyPjtcclxuICAgIGJ1eV9ncmlkX3JlY29yZDogc3RyaW5nIFtdO1xyXG4gICAgc2dyaWRfc3RlcF90YWJsZTogc3RyaW5nIFtdW107XHJcbiAgICBtZ3JpZF9zdGVwX3RhYmxlOiBzdHJpbmcgW11bXTtcclxuICAgIGxncmlkX3N0ZXBfdGFibGU6IHN0cmluZyBbXVtdO1xyXG4gICAgZm9yY2Vfdmlld19ncmlkX2xpc3Q6IHN0cmluZyBbXTtcclxuXHJcbiAgICB0b3RhbF9yZXRhaW46IG51bWJlcjtcclxuICAgIHJldGFpbl9jb3N0OiBudW1iZXI7XHJcbiAgICB0b3RhbF9ob2xkOiBudW1iZXI7XHJcbiAgICB0b3RhbF9jb3N0OiBudW1iZXI7XHJcbiAgICBidXlfdHJpZ2dlcmVkX3Jvd3M6IG51bWJlciBbXTtcclxuICAgIHNlbGxfdHJpZ2dlcmVkX3Jvd3M6IG51bWJlciBbXTtcclxuICAgIGJ1eV9tb25pdG9yX3Jvd3M6IG51bWJlciBbXTtcclxuICAgIHNlbGxfbW9uaXRvcl9yb3dzOiBudW1iZXIgW107XHJcbiAgICBkaXNhYmxlX3Jvd3M6IG51bWJlciBbXTtcclxuXHJcbiAgICBzdG9ja19vdmVydmlldzogc3RyaW5nIFtdO1xyXG4gICAgc3RvY2tfYnV5X292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcclxuICAgIHN0b2NrX3NlbGxfb3ZlcnZpZXc6IHN0cmluZyBbXVtdO1xyXG4gICAgc3RvY2tfcGFzc2l2ZV9maWxsZWRfcmVjb3JkOiBzdHJpbmcgW11bXTtcclxuICAgIHN0b2NrX2FjdGl2ZV9maWxsZWRfcmVjb3JkOiBzdHJpbmcgW11bXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW5fZW52OiBQbHVnaW5FbnYpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5fZW52ID0gcGx1Z2luX2VudjtcclxuICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MgPSBwbHVnaW5fZW52LmdyaWRfc2V0dGluZ3MuQ2xvbmUoKTtcclxuICAgICAgICB0aGlzLmRlYnVnX2xvZyA9IFtdXHJcbiAgICAgICAgdGhpcy5kYXRhX21kNSA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5pc19lbXB0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc19kZWJ1ZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2UgPSAtMTtcclxuICAgIH1cclxuXHJcbiAgICBJbml0R3JpZFRyYWRpbmcoZGF0YTogc3RyaW5nKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGVSZW1vdGVQcmljZShyZW1vdGVfcHJpY2U6IG51bWJlcilcclxuICAgIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgRGVidWdMb2cobGV2ZWw6IHN0cmluZywgbG9nX3N0cjogc3RyaW5nLCBleHRyYV9pbmZvOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2cucHVzaChbbGV2ZWwsIGxvZ19zdHIsIGV4dHJhX2luZm9dKTtcclxuICAgIH1cclxuXHJcbiAgICBHZXRUcmFkaW5nVGl0bGUoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvY2tfbmFtZSArIFwiKFwiICsgU3RyaW5nKHRoaXMudGFyZ2V0X3N0b2NrKSArIFwiKVwiO1xyXG4gICAgfVxyXG5cclxuICAgIElzU3RvY2soKTogYm9vbGVhblxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLmlzX2VtcHR5ID09IGZhbHNlICYmICh0aGlzLm1hcmtldF9jb2RlID09IFwic3pcIiB8fCB0aGlzLm1hcmtldF9jb2RlID09IFwic2hcIikpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBQYXJzZVJhd0RhdGEoZGF0YTogc3RyaW5nKTogYm9vbGVhblxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IG5ld19tZDUgPSBNZDUuaGFzaFN0cihkYXRhKTtcclxuICAgICAgICBpZiAobmV3X21kNSA9PT0gdGhpcy5kYXRhX21kNSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kYXRhX21kNSA9IG5ld19tZDU7XHJcbiAgICAgICAgLy8gMTU5ODY5LFx1NkUzOFx1NjIwRkVURixzeiwxLDAuOTVcclxuICAgICAgICBjb25zdCBsaW5lcyA9IGRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgY29uc3Qgc3RycyA9IGxpbmVzWzBdLnNwbGl0KFwiLFwiKTtcclxuICAgICAgICB0aGlzLnRhcmdldF9zdG9jayA9IE51bWJlcihzdHJzWzFdKTtcclxuICAgICAgICB0aGlzLnN0b2NrX25hbWUgPSBzdHJzWzJdO1xyXG4gICAgICAgIGlmICh0aGlzLnN0b2NrX25hbWUgPT0gXCJERUJVR1RFU1RcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNfZGVidWcgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1hcmtldF9jb2RlID0gc3Ryc1szXTtcclxuICAgICAgICB0aGlzLnRhcmdldF9wcmljZSA9IE51bWJlcihzdHJzWzRdKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRfcHJpY2UgPSBOdW1iZXIoc3Ryc1s1XSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA9IHRoaXMucGx1Z2luX2Vudi5HZXRTdG9ja1JlbW90ZVByaWNlKHN0cnNbMV0pO1xyXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9wcmljZSA9IHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEJBU0UsMTAwMDAsMC42NywwLjAwNSwwLjAwMSwxMDAsMC4xXHJcbiAgICAgICAgLy8gU1RFUCwwLjA1LDAuMDUsNCwwLjIyLDAuMiwyLDAuNTIsMC41LDFcclxuICAgICAgICAvLyBBREosMjAyNS0wMy0yNCxcdThDMDNcdTY1NzRcdTk5OTZcdTdGNTFcdTRFRjdcdTY4M0MsMC43NTYtPjAuODU2LDAuNTY3LDEwMDAwXHJcbiAgICAgICAgLy8gQlVZLDIwMjQtMDEtMjMsXHU1QzBGXHU3RjUxMCwwLjc2MCwxMjAwMFxyXG4gICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncyA9IHRoaXMucGx1Z2luX2Vudi5ncmlkX3NldHRpbmdzLkNsb25lKCk7XHJcbiAgICAgICAgdGhpcy5yYXdfdHJhZGluZ19yZWNvcmQgPSBbXTtcclxuICAgICAgICB0aGlzLnJhd19hZGp1c3RfcmVjb3JkID0gW107XHJcbiAgICAgICAgdGhpcy5idXlfZ3JpZF9yZWNvcmQgPSBbXTtcclxuICAgICAgICB0aGlzLnNncmlkX3N0ZXBfdGFibGUgPSBbXTtcclxuICAgICAgICB0aGlzLm1ncmlkX3N0ZXBfdGFibGUgPSBbXTtcclxuICAgICAgICB0aGlzLmxncmlkX3N0ZXBfdGFibGUgPSBbXTtcclxuICAgICAgICB0aGlzLmNsZWFyX3NlbGxfcmVjb3JkID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj47XHJcbiAgICAgICAgdGhpcy5mb3JjZV92aWV3X2dyaWRfbGlzdCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0xOyBpZHggPCBsaW5lcy5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RycyA9IGxpbmVzW2lkeF0uc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIkJVWVwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJhd190cmFkaW5nX3JlY29yZC5wdXNoKFtzdHJzWzBdLCBzdHJzWzFdLCBzdHJzWzJdLCBzdHJzWzNdLCBzdHJzWzRdXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1eV9ncmlkX3JlY29yZC5wdXNoKHN0cnNbMl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiU0VMTFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJhd190cmFkaW5nX3JlY29yZC5wdXNoKFtzdHJzWzBdLCBzdHJzWzFdLCBzdHJzWzJdLCBzdHJzWzNdLCBzdHJzWzRdXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1eV9ncmlkX3JlY29yZC5yZW1vdmUoc3Ryc1syXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJTSEFSRVwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJhd190cmFkaW5nX3JlY29yZC5wdXNoKFtzdHJzWzBdLCBzdHJzWzFdLCBzdHJzWzJdLCBzdHJzWzNdLCBzdHJzWzRdXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJCQVNFXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5VbnBhY2tCYXNlKHN0cnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiU1RFUFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuVW5wYWNrU3RlcChzdHJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIlNHUklEXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2dyaWRfc3RlcF90YWJsZS5wdXNoKFtzdHJzWzFdLCBzdHJzWzJdLCBzdHJzWzNdLCBzdHJzWzRdXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJNR1JJRFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1ncmlkX3N0ZXBfdGFibGUucHVzaChbc3Ryc1sxXSwgc3Ryc1syXSwgc3Ryc1szXSwgc3Ryc1s0XV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiTEdSSURcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZ3JpZF9zdGVwX3RhYmxlLnB1c2goW3N0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIkFESlwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJhd19hZGp1c3RfcmVjb3JkLnB1c2goW3N0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF0sIHN0cnNbNV1dKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiVklFV1wiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTE7IGkgPCBzdHJzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yY2Vfdmlld19ncmlkX2xpc3QucHVzaChzdHJzW2ldKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIEluaXRUcmFkaW5nT3ZlcnZpZXcoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXcgPSBbR1JJRF9DT0xPUl9TVE9DS19PVkVSVklFVywgU3RyaW5nKHRoaXMudGFyZ2V0X3N0b2NrKSwgdGhpcy5zdG9ja19uYW1lLCB0aGlzLnRhcmdldF9wcmljZS50b0ZpeGVkKDMpLCB0aGlzLmN1cnJlbnRfcHJpY2UudG9GaXhlZCgzKSxcclxuICAgICAgICAgICAgICAgIFRvUGVyY2VudCh0aGlzLmN1cnJlbnRfcHJpY2UgLyB0aGlzLnRhcmdldF9wcmljZSwgMSksIFN0cmluZyh0aGlzLnRvdGFsX2hvbGQpLCBTdHJpbmcodGhpcy50b3RhbF9jb3N0KSxcclxuICAgICAgICAgICAgICAgIFRvVHJhZGluZ0dhcCh0aGlzLnRvdGFsX2Nvc3QsIHRoaXMudG90YWxfaG9sZCAqIHRoaXMuY3VycmVudF9wcmljZSwgMiksIHRoaXMudHJhZGluZ19pbmNvbWVbNV1bMTBdXTtcclxuICAgICAgICB0aGlzLnN0b2NrX2J1eV9vdmVydmlldyA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLmJ1eV9tb25pdG9yX3Jvd3MubGVuZ3RoID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5idXlfbW9uaXRvcl9yb3dzLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMuYnV5X21vbml0b3Jfcm93c1tpZHhdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhZGluZ19nYXAgPSBUb1RyYWRpbmdHYXAodGhpcy5jdXJyZW50X3ByaWNlLCBOdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bM10pLCAyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfYnV5X292ZXJ2aWV3LnB1c2goW0dSSURfQ09MT1JfQlVZX09WRVJWSUVXLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spLCB0aGlzLnN0b2NrX25hbWUsIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzBdLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bMl0sIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzNdLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs0XSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bNV0sIHRyYWRpbmdfZ2FwXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3RvY2tfc2VsbF9vdmVydmlldyA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLmxlbmd0aCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5zZWxsX21vbml0b3Jfcm93c1tpZHhdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhZGluZ19nYXAgPSBUb1RyYWRpbmdHYXAodGhpcy5jdXJyZW50X3ByaWNlLCBOdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bN10pLCAyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfc2VsbF9vdmVydmlldy5wdXNoKFtHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcsIFN0cmluZyh0aGlzLnRhcmdldF9zdG9jayksIHRoaXMuc3RvY2tfbmFtZSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bMF0sIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs2XSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bN10sIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzhdLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs5XSwgdHJhZGluZ19nYXBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zdG9ja19hY3RpdmVfZmlsbGVkX3JlY29yZC5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXCJcdTY4MDdcdTc2ODRcdTRFRTNcdTUzRjdcIiwgXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFQTRcdTY2MTNcdTY1RTVcdTY3MUZcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTVGNTNcdTUyNERcdTRFRjdcdTY4M0NcIiwgXCJcdTYzMDFcdTRFRDNcdTY1MzZcdTc2Q0FcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTdEMkZcdTc5RUZcdTdCNzlcdTc4MDFcIlxyXG4gICAgICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMuc3RvY2tfYWN0aXZlX2ZpbGxlZF9yZWNvcmQubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5zdG9ja19hY3RpdmVfZmlsbGVkX3JlY29yZFtpZHhdO1xyXG4gICAgICAgICAgICAgICAgcm93WzhdID0gU3RyaW5nKHRoaXMuY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICByb3dbOV0gPSBUb1RyYWRpbmdHYXAoTnVtYmVyKHJvd1s1XSksIHRoaXMuY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICByb3dbMTBdID0gU3RyaW5nKE15Q2VpbChOdW1iZXIocm93WzddKSAvIHRoaXMuY3VycmVudF9wcmljZSwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTl9CQVRDSF9DT1VOVCkpO1xyXG4gICAgICAgICAgICAgICAgcm93WzExXSA9IFN0cmluZyhOdW1iZXIocm93WzZdKSAtIE51bWJlcihyb3dbMTBdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0b2NrX3Bhc3NpdmVfZmlsbGVkX3JlY29yZC5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXCJcdTY4MDdcdTc2ODRcdTRFRTNcdTUzRjdcIiwgXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTVGNTNcdTUyNERcdTRFRjdcdTY4M0NcIiwgXCJcdTVGNTNcdTUyNERcdThEQ0NcdTVFNDVcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTZEQThcdTVFNDVcIlxyXG4gICAgICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMuc3RvY2tfcGFzc2l2ZV9maWxsZWRfcmVjb3JkLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMuc3RvY2tfcGFzc2l2ZV9maWxsZWRfcmVjb3JkW2lkeF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmlkX3JvdyA9IHRoaXMuRmluZFRyYWRpbmdHcmlkUm93KHJvd1szXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZF9yb3cubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dbM10gPSBncmlkX3Jvd1swXTtcclxuICAgICAgICAgICAgICAgICAgICByb3dbNF0gPSBncmlkX3Jvd1sxXTtcclxuICAgICAgICAgICAgICAgICAgICByb3dbNV0gPSBncmlkX3Jvd1szXTtcclxuICAgICAgICAgICAgICAgICAgICByb3dbNl0gPSBncmlkX3Jvd1s0XTtcclxuICAgICAgICAgICAgICAgICAgICByb3dbN10gPSBncmlkX3Jvd1s1XTtcclxuICAgICAgICAgICAgICAgICAgICByb3dbOF0gPSBTdHJpbmcodGhpcy5jdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICByb3dbOV0gPSBUb1RyYWRpbmdHYXAoTnVtYmVyKHJvd1s1XSksIHRoaXMuY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93WzEwXSA9IGdyaWRfcm93WzddO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1sxMV0gPSBUb1RyYWRpbmdHYXAodGhpcy5jdXJyZW50X3ByaWNlLCBOdW1iZXIocm93WzEwXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEluaXRTdG9ja1RhYmxlKClcclxuICAgIHtcclxuICAgICAgICAvLyBcdTY3MDBcdTlBRDhcdTUzNTZcdTUxRkFcdTRFRjdcdTRFM0FcdTZFMDVcdTdGNTFcdTRFRjdcclxuICAgICAgICB0aGlzLmVtcHR5X3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgMS4wICsgdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENULCB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT04pO1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0xOyBpZHg8dGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtpZHhdWzddKSA+IHRoaXMuZW1wdHlfcHJpY2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1wdHlfcHJpY2UgPSBOdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW2lkeF1bN10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFx1NkUwNVx1NEVEM1x1NUU3M1x1NTc0N1x1NEVGN1x1NEUwRVx1NkUwNVx1NEVEM1x1NjcwMFx1OUFEOFx1NEVGN1xyXG4gICAgICAgIGNvbnN0IGNsZWFyX3BjdCA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5DTEVBUl9TVEVQX1BDVDtcclxuICAgICAgICB0aGlzLmNsZWFyX2F2Z19wcmljZSA9IE51bWJlcigoKHRoaXMuQ2FsY0NsZWFyUHJpY2UoY2xlYXJfcGN0LCAxKSArIHRoaXMuQ2FsY0NsZWFyUHJpY2UoY2xlYXJfcGN0LCAyKSArIHRoaXMuQ2FsY0NsZWFyUHJpY2UoY2xlYXJfcGN0LCAzKSkgLyAzKS50b0ZpeGVkKHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTikpO1xyXG4gICAgICAgIHRoaXMuY2xlYXJfcHJpY2UgPSB0aGlzLkNhbGNDbGVhclByaWNlKGNsZWFyX3BjdCwgMyk7XHJcbiAgICAgICAgY29uc3QgbWluaV9wcmljZSA9IEZpeGVkUHJpY2UodGhpcy50YXJnZXRfcHJpY2UsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5JTVVNX0JVWV9QQ1QsIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTik7XHJcbiAgICAgICAgY29uc3QgYm90dG9tX3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgdGhpcy5ncmlkX3NldHRpbmdzLkJPVFRPTV9CVVlfUENULCB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT04pO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfdGFibGUgPSBbXHJcbiAgICAgICAgICAgIFtcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spXSxcclxuICAgICAgICAgICAgW1wiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIHRoaXMuc3RvY2tfbmFtZV0sXHJcbiAgICAgICAgICAgIFtcIlx1N0Y1MVx1NjgzQ1x1NkEyMVx1NUYwRlwiLCB0aGlzLm1vZGVfdHlwZV0sXHJcbiAgICAgICAgICAgIFtcIlx1OTk5Nlx1N0Y1MVx1NEVGN1x1NjgzQ1wiLCBTdHJpbmcodGhpcy50YXJnZXRfcHJpY2UpXSxcclxuICAgICAgICAgICAgW1wiXHU1RjUzXHU1MjREXHU0RUY3XHU2ODNDXCIsIFN0cmluZyh0aGlzLmN1cnJlbnRfcHJpY2UpLCBcIlx1NEVGN1x1NjgzQ1x1NzY3RVx1NTIwNlx1NEY0RFwiLCBUb1BlcmNlbnQodGhpcy5jdXJyZW50X3ByaWNlIC8gdGhpcy50YXJnZXRfcHJpY2UsIDEpXSxcclxuICAgICAgICAgICAgW1wiXHU1NkRFXHU4QzAzXHU0RUY3XHU2ODNDXCIsIFN0cmluZyhib3R0b21fcHJpY2UpLCBcIlx1NEVGN1x1NjgzQ1x1NzY3RVx1NTIwNlx1NEY0RFwiLCBUb1BlcmNlbnQodGhpcy5ncmlkX3NldHRpbmdzLkJPVFRPTV9CVVlfUENULCAxKV0sXHJcbiAgICAgICAgICAgIFtcIlx1NjcwMFx1NEY0RVx1NEVGN1x1NjgzQ1wiLCBTdHJpbmcobWluaV9wcmljZSksIFwiXHU0RUY3XHU2ODNDXHU3NjdFXHU1MjA2XHU0RjREXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuTUlOSU1VTV9CVVlfUENULCAxKV0sXHJcbiAgICAgICAgICAgIFtcIlx1NTA1Q1x1NjgzQ1x1OERDQ1x1NUU0NVwiLCBUb1RyYWRpbmdHYXAodGhpcy5jdXJyZW50X3ByaWNlLCBtaW5pX3ByaWNlKSwgXCJcdTZFMDVcdTY4M0NcdTZEQThcdTVFNDVcIiwgVG9UcmFkaW5nR2FwKHRoaXMuY3VycmVudF9wcmljZSwgdGhpcy5lbXB0eV9wcmljZSwgMSldLFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgLy8gXHU1ODlFXHU1MkEwXHU1RjNBXHU1MjM2XHU3NkQxXHU2M0E3XHU3RjUxXHU2ODNDXHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLmZvcmNlX3ZpZXdfZ3JpZF9saXN0Lmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLkZpbmRUcmFkaW5nR3JpZFJvd0luZGV4KHRoaXMuZm9yY2Vfdmlld19ncmlkX2xpc3RbaWR4XSk7XHJcbiAgICAgICAgICAgIGlmIChyb3cgPCAwIHx8IHRoaXMuYnV5X21vbml0b3Jfcm93cy5pbmNsdWRlcyhyb3cpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChyb3cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBJbml0R3JpZFBhcmFtKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnBhcmFtX3RhYmxlID0gW1xyXG4gICAgICAgICAgICBbXCJcdTk5OTZcdTdGNTFcdTc2RUVcdTY4MDdcdTkxRDFcdTk4OURcIiwgU3RyaW5nKHRoaXMuZ3JpZF9zZXR0aW5ncy5PTkVfR1JJRF9MSU1JVCksIFwiXHU2NzAwXHU1OTI3XHU1NkRFXHU2NEE0XHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCksIFwiXHU2NzAwXHU1OTI3XHU2REE4XHU4RENDXHU1RTQ1XCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1JJU0VfUENUKV0sXHJcbiAgICAgICAgICAgIFtcIlx1ODlFNlx1NTNEMVx1NEVGN1x1NTJBMFx1NzBCOVwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKSwgXCJcdTZCQ0ZcdTYyNEJcdTRFRkRcdTY1NzBcdTk4OURcIiwgU3RyaW5nKHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5fQkFUQ0hfQ09VTlQpLCBcIlx1NEVBNFx1NjYxM1x1NEVGN1x1N0NCRVx1NUVBNlwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OKV0sXHJcbiAgICAgICAgICAgIFtcIlx1NUMwRlx1N0Y1MVx1NkI2NVx1OEZEQlx1NTAzQ1wiLCBUb1BlcmNlbnQodGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENUKSwgXCJcdTRFMkRcdTdGNTFcdTZCNjVcdThGREJcdTUwM0NcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCksIFwiXHU1OTI3XHU3RjUxXHU2QjY1XHU4RkRCXHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QpXSxcclxuICAgICAgICAgICAgW1wiXHU2Mjk1XHU1MTY1XHU4RkZEXHU1MkEwXHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfQUREX1BDVCksIFwiXHU2Mjk1XHU1MTY1XHU4RkZEXHU1MkEwXHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfQUREX1BDVCksIFwiXHU2Mjk1XHU1MTY1XHU4RkZEXHU1MkEwXHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfQUREX1BDVCldLFxyXG4gICAgICAgICAgICBbXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIiwgU3RyaW5nKHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9SRVRBSU5fQ09VTlQpLCBcIlx1NEZERFx1NzU1OVx1NTIyOVx1NkRBNlx1NjU3MFwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1JFVEFJTl9DT1VOVCksIFwiXHU0RkREXHU3NTU5XHU1MjI5XHU2REE2XHU2NTcwXCIsIFN0cmluZyh0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfUkVUQUlOX0NPVU5UKV0sXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBJbml0VHJhZGluZ0FuYWx5c2lzKClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBwcmljZSA9IHRoaXMudGFyZ2V0X3ByaWNlO1xyXG4gICAgICAgIGNvbnN0IHJpc2VfcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENUO1xyXG4gICAgICAgIGNvbnN0IHRhYmxlOkFycmF5PEFycmF5PHN0cmluZz4+ID0gdGhpcy50cmFkaW5nX3RhYmxlO1xyXG4gICAgICAgIGZ1bmN0aW9uIEFuYWx5c2lzKHNsdW1wX3BjdDogbnVtYmVyKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB0b3RhbF9jb3N0ID0gMDtcclxuICAgICAgICAgICAgbGV0IHRvdGFsX2Ftb3VudCA9IDA7XHJcbiAgICAgICAgICAgIGxldCB0b3RhbF9zZWxsID0gMDtcclxuICAgICAgICAgICAgbGV0IHRvdGFsX2dhaW4gPSAwO1xyXG4gICAgICAgICAgICBjb25zdCBtaW5fcHJpY2UgPSBwcmljZSAqICgxIC0gc2x1bXBfcGN0KTtcclxuICAgICAgICAgICAgY29uc3QgbWF4X3ByaWNlID0gcHJpY2UgKiAoMSArIHJpc2VfcGN0KTtcclxuXHJcbiAgICAgICAgICAgIHRhYmxlLmZvckVhY2goKHJvdzpBcnJheTxzdHJpbmc+LCBpOm51bWJlcikgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwICYmIFRvTnVtYmVyKHJvd1sxXSkgPj0gMS4wIC0gc2x1bXBfcGN0KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX2Nvc3QgPSB0b3RhbF9jb3N0ICsgTnVtYmVyKHJvd1s1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfYW1vdW50ID0gdG90YWxfYW1vdW50ICsgTnVtYmVyKHJvd1s0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfZ2FpbiA9IHRvdGFsX2dhaW4gKyBOdW1iZXIocm93WzldKTtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbF9zZWxsID0gdG90YWxfc2VsbCArIE51bWJlcihyb3dbOF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgY29zdF9wcmljZSA9ICh0b3RhbF9jb3N0IC0gdG90YWxfZ2FpbikgLyAodG90YWxfYW1vdW50IC0gdG90YWxfc2VsbCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGdhaW5fbW9uZXkgPSBNYXRoLmZsb29yKG1heF9wcmljZSAqICh0b3RhbF9hbW91bnQgLSB0b3RhbF9zZWxsKSAtICh0b3RhbF9jb3N0IC0gdG90YWxfZ2FpbikpO1xyXG4gICAgICAgICAgICByZXR1cm4gW1RvUGVyY2VudChzbHVtcF9wY3QpICsgXCIoXCIgKyBtaW5fcHJpY2UudG9GaXhlZCgzKSArIFwiKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyh0b3RhbF9jb3N0KSwgU3RyaW5nKHRvdGFsX2Ftb3VudCksIFN0cmluZyhNYXRoLmNlaWwodG90YWxfYW1vdW50ICogbWluX3ByaWNlKSksXHJcbiAgICAgICAgICAgICAgICAgICAgKHRvdGFsX2Nvc3QvdG90YWxfYW1vdW50KS50b0ZpeGVkKDMpLCBTdHJpbmcoTWF0aC5jZWlsKHRvdGFsX2Nvc3QgLSB0b3RhbF9hbW91bnQgKiBtaW5fcHJpY2UpKSxcclxuICAgICAgICAgICAgICAgICAgICAoKHRvdGFsX2Nvc3QgLSB0b3RhbF9hbW91bnQgKiBtaW5fcHJpY2UpIC8gdG90YWxfY29zdCAqIDEwMCkudG9GaXhlZCgyKSArIFwiJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICgodG90YWxfY29zdCAvIHRvdGFsX2Ftb3VudCAtIG1pbl9wcmljZSkgLyBtaW5fcHJpY2UgKiAxMDApLnRvRml4ZWQoMikgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcodG90YWxfYW1vdW50IC0gdG90YWxfc2VsbCksIFN0cmluZyhNYXRoLmZsb29yKG1heF9wcmljZSAqICh0b3RhbF9hbW91bnQgLSB0b3RhbF9zZWxsKSkpLCBTdHJpbmcodG90YWxfY29zdCAtIHRvdGFsX2dhaW4pLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvc3RfcHJpY2UudG9GaXhlZCgzKSwgKChtYXhfcHJpY2UgLSBjb3N0X3ByaWNlKSAvIGNvc3RfcHJpY2UgKiAxMDApLnRvRml4ZWQoMikgKyBcIiVcIiwgU3RyaW5nKGdhaW5fbW9uZXkpLCAoZ2Fpbl9tb25leSAvIHRvdGFsX2Nvc3QgKiAxMDApLnRvRml4ZWQoMikgKyBcIiVcIl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRyYWRpbmdfYW5hbHlzaXMgPSBbXHJcbiAgICAgICAgICAgIFtcIlx1NEU4Rlx1NjM1Rlx1NTIwNlx1Njc5MFwiLCBcIlx1NTZERVx1NjRBNFx1NkJENFx1NEY4QlwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2Mjk1XHU1MTY1XHU4RDQ0XHU5MUQxXCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTYzMDFcdTRFRDNcdTRFRkRcdTk4OURcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NjMwMVx1NEVEM1x1OTFEMVx1OTg5RFwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2MzAxXHU0RUQzXHU2MjEwXHU2NzJDXCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTRFOEZcdTYzNUZcdTkxRDFcdTk4OURcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NEU4Rlx1NjM1Rlx1NkJENFx1NEY4QlwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2MjQwXHU5NzAwXHU2REE4XHU1RTQ1XCJdLFxyXG4gICAgICAgICAgICBbXCJcdTUzQ0RcdTVGMzlcdTc2QzhcdTUyMjlcIiwgXCJcdTYzMDFcdTRFRDNcdTRFRkRcdTk4OURcIl0sXHJcbiAgICAgICAgICAgIFsocHJpY2UgKiAoMSArIHJpc2VfcGN0KSkudG9GaXhlZCgzKSwgXCJcdTYzMDFcdTRFRDNcdTkxRDFcdTk4OURcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NTM2MFx1NzUyOFx1NjcyQ1x1OTFEMVwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2MzAxXHU0RUQzXHU2MjEwXHU2NzJDXCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTZENkVcdTc2QzhcdTZCRDRcdTRGOEJcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1N0Y1MVx1NjgzQ1x1NzZDOFx1NTIyOVwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2MDNCXHU2RDZFXHU3NkM4XHU2QkQ0XCJdLFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbnN0IHNsdW1wX3BjdHM6IG51bWJlciBbXSA9IFsyMCwgMzAsIDQwLCA1MCwgNjAsIDcwLCA4MF07XHJcbiAgICAgICAgZm9yIChjb25zdCBwY3Qgb2Ygc2x1bXBfcGN0cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IEFuYWx5c2lzKHBjdCAvIDEwMC4wKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDxyZXN1bHQubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX2FuYWx5c2lzW2lkeF0ucHVzaChyZXN1bHRbaWR4XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdFRyYWRpbmdSZWNvcmQoKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFx1OEMwM1x1NjU3NFx1OEJCMFx1NUY1NVxyXG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTjtcclxuICAgICAgICBsZXQgYWRqdXN0X3ByaWNlID0gMDtcclxuICAgICAgICBsZXQgYWRqdXN0X2NvdW50ID0gMDtcclxuICAgICAgICBsZXQgYWRqdXN0X2Nvc3QgPSAwO1xyXG4gICAgICAgIHRoaXMuYWRqdXN0X3JlY29yZCA9IFtbXCJcdThDMDNcdTY1NzRcdTY1RTVcdTY3MUZcIiwgXCJcdThDMDNcdTY1NzRcdTdDN0JcdTU3OEJcIiwgXCJcdThDMDNcdTY1NzRcdTUxODVcdTVCQjlcIixcIlx1NEVBNFx1NjYxM1x1NEVGN1x1NjgzQ1wiLCBcIlx1NEVBNFx1NjYxM1x1ODBBMVx1NjU3MFwiLCBcIlx1NkQ4OFx1ODAxN1x1NjcyQ1x1OTFEMVwiXV07XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLnJhd19hZGp1c3RfcmVjb3JkLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoSXNOdW1lcmljKHRoaXMucmF3X2FkanVzdF9yZWNvcmRbaWR4XVszXSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFkanVzdF9wcmljZSA9IE51bWJlcih0aGlzLnJhd19hZGp1c3RfcmVjb3JkW2lkeF1bM10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYWRqdXN0X3ByaWNlID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoSXNOdW1lcmljKHRoaXMucmF3X2FkanVzdF9yZWNvcmRbaWR4XVs0XSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFkanVzdF9jb3VudCA9IE51bWJlcih0aGlzLnJhd19hZGp1c3RfcmVjb3JkW2lkeF1bNF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYWRqdXN0X2NvdW50ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhZGp1c3RfY29zdCA9IE1hdGguY2VpbChhZGp1c3RfcHJpY2UgKiBhZGp1c3RfY291bnQpO1xyXG4gICAgICAgICAgICBpZiAoYWRqdXN0X2Nvc3QgPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkanVzdF9yZWNvcmQucHVzaChbdGhpcy5yYXdfYWRqdXN0X3JlY29yZFtpZHhdWzBdLCB0aGlzLnJhd19hZGp1c3RfcmVjb3JkW2lkeF1bMV0sIHRoaXMucmF3X2FkanVzdF9yZWNvcmRbaWR4XVsyXSwgYWRqdXN0X3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSwgU3RyaW5nKGFkanVzdF9jb3VudCksIFN0cmluZyhhZGp1c3RfY29zdCldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0X3JlY29yZC5wdXNoKFt0aGlzLnJhd19hZGp1c3RfcmVjb3JkW2lkeF1bMF0sIHRoaXMucmF3X2FkanVzdF9yZWNvcmRbaWR4XVsxXSwgdGhpcy5yYXdfYWRqdXN0X3JlY29yZFtpZHhdWzJdLCBcIi1cIiwgXCItXCIsIFwiLVwiXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gXHU0RUE0XHU2NjEzXHU4QkIwXHU1RjU1XHJcbiAgICAgICAgdGhpcy50b3RhbF9yZXRhaW4gPSAwO1xyXG4gICAgICAgIHRoaXMucmV0YWluX2Nvc3QgPSAwO1xyXG4gICAgICAgIHRoaXMudG90YWxfY29zdCA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbF9ob2xkID0gMDtcclxuICAgICAgICB0aGlzLnRyYWRpbmdfcmVjb3JkID0gW1tcIlx1NEVBNFx1NjYxM1x1NjVCOVx1NTQxMVwiLCBcIlx1NEVBNFx1NjYxM1x1NjVFNVx1NjcxRlwiLCBcIlx1N0Y1MVx1NjgzQ1x1N0M3Qlx1NTc4QlwiLCBcIlx1NEVBNFx1NjYxM1x1NEVGN1x1NjgzQ1wiLCBcIlx1NEVBNFx1NjYxM1x1ODBBMVx1NjU3MFwiLCBcIlx1NkQ4OFx1ODAxN1x1NjcyQ1x1OTFEMVwiLCBcIlx1N0QyRlx1NzlFRlx1N0I3OVx1NzgwMVwiLCBcIlx1NjMwMVx1NEVEM1x1NjVGNlx1OTU3RlwiXV07XHJcbiAgICAgICAgdGhpcy5zdG9ja19wYXNzaXZlX2ZpbGxlZF9yZWNvcmQgPSBbXTtcclxuICAgICAgICB0aGlzLnN0b2NrX2FjdGl2ZV9maWxsZWRfcmVjb3JkID0gW107XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX3JlY29yZCA9IFtdO1xyXG4gICAgICAgIGxldCByYXdfcmVjb3JkID0gWy4uLiB0aGlzLnJhd190cmFkaW5nX3JlY29yZF07XHJcbiAgICAgICAgbGV0IGN1cnNvciA9IDA7XHJcbiAgICAgICAgbGV0IHJldGFpbl9zZWxsID0gMDtcclxuICAgICAgICB3aGlsZSAoY3Vyc29yIDwgcmF3X3JlY29yZC5sZW5ndGgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAocmF3X3JlY29yZFtjdXJzb3JdWzBdID09IFwiQlVZXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBzY3Vyc29yID0gLTE7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpZHg9Y3Vyc29yOyBpZHg8cmF3X3JlY29yZC5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdfcmVjb3JkW2lkeF1bMF0gPT0gXCJTRUxMXCIgJiYgcmF3X3JlY29yZFtpZHhdWzJdID09IHJhd19yZWNvcmRbY3Vyc29yXVsyXSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjdXJzb3IgPSBpZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzY3Vyc29yID49IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gXHU4QkExXHU3Qjk3XHU0RkREXHU3NTU5XHU0RUZEXHU2NTcwL1x1NTM2MFx1NzUyOFx1NjcyQ1x1OTFEMS9cdTYzMDFcdTRFRDNcdTY1RjZcdTk1RjRcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRhaW5fY291bnQgPSBNYXRoLmZsb29yKE51bWJlcihyYXdfcmVjb3JkW2N1cnNvcl1bNF0pIC0gTnVtYmVyKHJhd19yZWNvcmRbc2N1cnNvcl1bNF0pKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3N0X2NvdW50ID0gTWF0aC5mbG9vcihOdW1iZXIocmF3X3JlY29yZFtjdXJzb3JdWzNdKSAqIE51bWJlcihyYXdfcmVjb3JkW2N1cnNvcl1bNF0pIC0gTnVtYmVyKHJhd19yZWNvcmRbc2N1cnNvcl1bM10pICogTnVtYmVyKHJhd19yZWNvcmRbc2N1cnNvcl1bNF0pKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lX2QgPSBUaW1lRHVhcmlvbihyYXdfcmVjb3JkW2N1cnNvcl1bMV0sIHJhd19yZWNvcmRbc2N1cnNvcl1bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxfcmV0YWluID0gdGhpcy50b3RhbF9yZXRhaW4gKyByZXRhaW5fY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXRhaW5fY29zdCA9IHRoaXMucmV0YWluX2Nvc3QgKyBjb3N0X2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFx1OEJCMFx1NUY1NVx1NjIxMFx1NUJGOVx1NzY4NFx1NEU3MFx1NTM1Nlx1OEJCMFx1NUY1NVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtjdXJzb3JdWzBdLCByYXdfcmVjb3JkW2N1cnNvcl1bMV0sIHJhd19yZWNvcmRbY3Vyc29yXVsyXSwgcmF3X3JlY29yZFtjdXJzb3JdWzNdLCByYXdfcmVjb3JkW2N1cnNvcl1bNF0sIFN0cmluZyhjb3N0X2NvdW50KV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtzY3Vyc29yXVswXSwgcmF3X3JlY29yZFtzY3Vyc29yXVsxXSwgcmF3X3JlY29yZFtzY3Vyc29yXVsyXSwgcmF3X3JlY29yZFtzY3Vyc29yXVszXSwgcmF3X3JlY29yZFtzY3Vyc29yXVs0XSwgXCItLVwiLCBTdHJpbmcocmV0YWluX2NvdW50KSwgU3RyaW5nKHRpbWVfZCkrXCJcdTU5MjlcIl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJhd19yZWNvcmQuc3BsaWNlKGN1cnNvciwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF3X3JlY29yZC5zcGxpY2Uoc2N1cnNvciAtIDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcisrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDxyYXdfcmVjb3JkLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAocmF3X3JlY29yZFtpZHhdWzBdID09IFwiQlVZXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvc3RfY291bnQgPSBNYXRoLmZsb29yKE51bWJlcihyYXdfcmVjb3JkW2lkeF1bM10pICogTnVtYmVyKHJhd19yZWNvcmRbaWR4XVs0XSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtyYXdfcmVjb3JkW2lkeF1bMF0sIHJhd19yZWNvcmRbaWR4XVsxXSwgcmF3X3JlY29yZFtpZHhdWzJdLCByYXdfcmVjb3JkW2lkeF1bM10sIHJhd19yZWNvcmRbaWR4XVs0XSwgU3RyaW5nKGNvc3RfY291bnQpXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsX2Nvc3QgPSB0aGlzLnRvdGFsX2Nvc3QgKyBjb3N0X2NvdW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKE51bWJlcihyYXdfcmVjb3JkW2lkeF1bM10pID4gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsX2hvbGQgPSB0aGlzLnRvdGFsX2hvbGQgKyBOdW1iZXIocmF3X3JlY29yZFtpZHhdWzRdKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGRpbmdfcmVjb3JkLnB1c2goW3Jhd19yZWNvcmRbaWR4XVswXSwgcmF3X3JlY29yZFtpZHhdWzFdLCByYXdfcmVjb3JkW2lkeF1bMl0sIHJhd19yZWNvcmRbaWR4XVszXSwgcmF3X3JlY29yZFtpZHhdWzRdXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKHJhd19yZWNvcmRbaWR4XVszXSkgPT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX3Bhc3NpdmVfZmlsbGVkX3JlY29yZC5wdXNoKFtHUklEX0NPTE9SX0JVWV9PVkVSVklFVywgU3RyaW5nKHRoaXMudGFyZ2V0X3N0b2NrKSwgdGhpcy5zdG9ja19uYW1lLCByYXdfcmVjb3JkW2lkeF1bMl0sIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbaWR4XVsyXS5zdGFydHNXaXRoKFwiXHU4ODY1XHU0RUQzXCIpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfYWN0aXZlX2ZpbGxlZF9yZWNvcmQucHVzaChbR1JJRF9DT0xPUl9TRUxMX09WRVJWSUVXLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spLCB0aGlzLnN0b2NrX25hbWUsIHJhd19yZWNvcmRbaWR4XVsyXSwgcmF3X3JlY29yZFtpZHhdWzFdLCByYXdfcmVjb3JkW2lkeF1bM10sIHJhd19yZWNvcmRbaWR4XVs0XSwgU3RyaW5nKGNvc3RfY291bnQpLCBcIlwiLCBcIlwiLCBcIlwiXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChyYXdfcmVjb3JkW2lkeF1bMF0gPT0gXCJTSEFSRVwiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdfcmVjb3JkW2lkeF1bMl0gPT0gXCJcdTdFQTJcdTUyMjlcIilcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhaW5fY291bnQgPSBNYXRoLmZsb29yKE51bWJlcihyYXdfcmVjb3JkW2lkeF1bM10pICogTnVtYmVyKHJhd19yZWNvcmRbaWR4XVs0XSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfcmVjb3JkLnB1c2goW3Jhd19yZWNvcmRbaWR4XVswXSwgcmF3X3JlY29yZFtpZHhdWzFdLCByYXdfcmVjb3JkW2lkeF1bMl0sIHJhd19yZWNvcmRbaWR4XVszXSwgcmF3X3JlY29yZFtpZHhdWzRdLCBcIi1cIiArIFN0cmluZyhnYWluX2NvdW50KV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldGFpbl9jb3N0ID0gdGhpcy5yZXRhaW5fY29zdCAtIGdhaW5fY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdfcmVjb3JkW2lkeF1bMl0gPT0gXCJcdTYyQzZcdTgwQTFcIilcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtpZHhdWzBdLCByYXdfcmVjb3JkW2lkeF1bMV0sIHJhd19yZWNvcmRbaWR4XVsyXSwgcmF3X3JlY29yZFtpZHhdWzNdLCByYXdfcmVjb3JkW2lkeF1bNF0sIFwiLS1cIiwgcmF3X3JlY29yZFtpZHhdWzRdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxfcmV0YWluID0gdGhpcy50b3RhbF9yZXRhaW4gKyBOdW1iZXIocmF3X3JlY29yZFtpZHhdWzRdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbaWR4XVswXSA9PSBcIlNFTExcIiAmJiByYXdfcmVjb3JkW2lkeF1bMl0uc3RhcnRzV2l0aChcIlx1NTIyOVx1NkRBNlwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxfcmV0YWluID0gdGhpcy50b3RhbF9yZXRhaW4gLSBOdW1iZXIocmF3X3JlY29yZFtpZHhdWzRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXRhaW5fY29zdCA9IHRoaXMucmV0YWluX2Nvc3QgLSBOdW1iZXIocmF3X3JlY29yZFtpZHhdWzNdKSAqIE51bWJlcihyYXdfcmVjb3JkW2lkeF1bNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRhaW5fc2VsbCA9IHJldGFpbl9zZWxsICsgTnVtYmVyKHJhd19yZWNvcmRbaWR4XVs0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWxsX2NvdW50ID0gdGhpcy5jbGVhcl9zZWxsX3JlY29yZC5nZXQocmF3X3JlY29yZFtpZHhdWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGxfY291bnQgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxsX2NvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyX3NlbGxfcmVjb3JkLnNldChyYXdfcmVjb3JkW2lkeF1bMl0sIHNlbGxfY291bnQgKyBOdW1iZXIocmF3X3JlY29yZFtpZHhdWzRdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtpZHhdWzBdLCByYXdfcmVjb3JkW2lkeF1bMV0sIHJhd19yZWNvcmRbaWR4XVsyXSwgcmF3X3JlY29yZFtpZHhdWzNdLCByYXdfcmVjb3JkW2lkeF1bNF1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRvdGFsX2hvbGQgPSB0aGlzLnRvdGFsX2hvbGQgKyB0aGlzLnRvdGFsX3JldGFpbjtcclxuICAgICAgICB0aGlzLnRvdGFsX2Nvc3QgPSB0aGlzLnRvdGFsX2Nvc3QgKyB0aGlzLnJldGFpbl9jb3N0O1xyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsX2Nvc3QgIT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbXCJDb3N0XCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFN0cmluZyh0aGlzLnRvdGFsX2Nvc3QpLCBcIlwiLCBcIlwiXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsX3JldGFpbiAgPD0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvdGFsX2hvbGQgPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfcmVjb3JkLnB1c2goW1wiUmV0YWluXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFN0cmluZyh0aGlzLnRvdGFsX2hvbGQpLCBcIlwiLCAgXCIwXCIsIFwiXCJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbXCJSZXRhaW5cIiwgXCJcIiwgXCJcIiwgXCJcIiwgU3RyaW5nKHRoaXMudG90YWxfaG9sZCksIFwiXCIsICBTdHJpbmcodGhpcy50b3RhbF9yZXRhaW4pLCBcIlwiXSk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudF9wY3QgPSBNeUNlaWwodGhpcy5jdXJyZW50X3ByaWNlIC8gdGhpcy50YXJnZXRfcHJpY2UsIDAuMDAxKTtcclxuICAgICAgICBmb3IgKGxldCBpbmRleD0xOyBpbmRleDw9MzsgaW5kZXgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMuR2VuZXJhdGVDbGVhclJvdyhQRVJGSVRfVFlQRV9OQU1FX1NUUiwgaW5kZXgsIHRoaXMuZ3JpZF9zZXR0aW5ncy5DTEVBUl9TVEVQX1BDVCwgTXlGbG9vcigodGhpcy50b3RhbF9yZXRhaW4gKyByZXRhaW5fc2VsbCkgLyAzLCAxMDApKTtcclxuICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlLnB1c2gocm93KTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRfcGN0ICsgdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9SSVNFX1BDVCA+PSBUb051bWJlcihyb3dbMV0pKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2godGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGggLSAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdFRyYWRpbmdJbmNvbWUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudHJhZGluZ19pbmNvbWUgPSBbXTtcclxuICAgICAgICB0aGlzLnRyYWRpbmdfaW5jb21lLnB1c2goW1wiXCIsIFwiXHU2MzAxXHU0RUQzXHU4MEExXHU2NTcwXCIsIFwiXHU1MzYwXHU3NTI4XHU2NzJDXHU5MUQxXCIsIFwiXHU2MzAxXHU0RUQzXHU5MUQxXHU5ODlEXCIsIFwiXHU2MzAxXHU0RUQzXHU1NzQ3XHU0RUY3XCIsIFwiXHU1QjlFXHU5NjQ1XHU0RUY3XHU2ODNDXCIsIFwiXHU2MzAxXHU0RUQzXHU3NkM4XHU0RThGXCIsIFwiXHU2Mjk1XHU1MTY1XHU4RDQ0XHU5MUQxXCIsIFwiXHU4RDI2XHU5NzYyXHU4RDQ0XHU5MUQxXCIsIFwiXHU2Mjk1XHU1MTY1XHU3NkM4XHU0RThGXCIsIFwiXHU2Mjk1XHU1MTY1XHU0RUQzXHU0RjREXCJdKTtcclxuICAgICAgICB0aGlzLnRyYWRpbmdfaW5jb21lLnB1c2godGhpcy5HZW5lcmF0ZUluY29tZVJvdyhcIlx1N0QyRlx1OEJBMVx1N0I3OVx1NzgwMVwiLCB0aGlzLnRvdGFsX3JldGFpbiwgdGhpcy5yZXRhaW5fY29zdCwgdGhpcy5jdXJyZW50X3ByaWNlLCB0aGlzLnJldGFpbl9jb3N0LCAwLCAwKSk7XHJcblxyXG4gICAgICAgIC8vIFx1NUY1M1x1NTI0RFx1NjMwMVx1NEVEM1xyXG4gICAgICAgIHRoaXMuQ2FsY1RyYWRpbmdJbmNvbWUoXCJcdTVGNTNcdTUyNERcIiwgdGhpcy5jdXJyZW50X3ByaWNlIC8gdGhpcy50YXJnZXRfcHJpY2UsIHRoaXMuZW1wdHlfcHJpY2UsIHRoaXMuY2xlYXJfYXZnX3ByaWNlLCB0aGlzLmNsZWFyX3ByaWNlLCBmYWxzZSk7XHJcbiAgICAgICAgLy8gXHU3N0VEXHU2NzFGXHU1NkRFXHU4QzAzXHJcbiAgICAgICAgdGhpcy5DYWxjVHJhZGluZ0luY29tZShcIlx1NTZERVx1OEMwM1wiLCB0aGlzLmdyaWRfc2V0dGluZ3MuQk9UVE9NX0JVWV9QQ1QsIHRoaXMuZW1wdHlfcHJpY2UsIHRoaXMuY2xlYXJfYXZnX3ByaWNlLCB0aGlzLmNsZWFyX3ByaWNlKTtcclxuICAgICAgICAvLyBcdTY3MDBcdTU5MjdcdTU2REVcdTY0QTRcclxuICAgICAgICB0aGlzLkNhbGNUcmFkaW5nSW5jb21lKFwiXHU2NzAwXHU1OTI3XCIsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5JTVVNX0JVWV9QQ1QsIHRoaXMuZW1wdHlfcHJpY2UsIHRoaXMuY2xlYXJfYXZnX3ByaWNlLCB0aGlzLmNsZWFyX3ByaWNlKTtcclxuICAgIH1cclxuXHJcbiAgICBJbml0SG9sZGluZ0FuYWx5c2lzKClcclxuICAgIHtcclxuICAgICAgICBjb25zdCB0b3RhbF9ob2xkID0gdGhpcy50b3RhbF9ob2xkO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsX2Nvc3QgPSB0aGlzLnRvdGFsX2Nvc3Q7XHJcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5ncmlkX3NldHRpbmdzLlRSQURJTkdfUFJJQ0VfUFJFQ0lTSU9OO1xyXG5cclxuICAgICAgICB0aGlzLmhvbGRpbmdfYW5hbHlzaXMgPSBbXTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfYW5hbHlzaXMucHVzaChbXCJcdTdCNzlcdTc4MDFcdTdDN0JcdTU3OEJcIiwgXCJcdTYzMDFcdTRFRDNcdTgwQTFcdTY1NzBcIiwgXCJcdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDFcIiwgXCJcdTYzMDFcdTRFRDNcdTkxRDFcdTk4OURcIiwgXCJcdTYzMDFcdTRFRDNcdTU3NDdcdTRFRjdcIiwgXCJcdTVGNTNcdTUyNERcdTRFRjdcdTY4M0NcIiwgXCJcdTYzMDFcdTRFRDNcdTc2QzhcdTRFOEZcIiwgXCJcdTZFMDVcdTY4M0NcdTc2QzhcdTUyMjlcIiwgXCJcdTZFMDVcdTRFRDNcdTc2QzhcdTUyMjlcIiwgXCJcdTYzMDFcdTRFRDNcdTUzNjBcdTZCRDRcIiwgXCJcdTY3MkNcdTkxRDFcdTUzNjBcdTZCRDRcIl0pO1xyXG4gICAgICAgIC8vIFx1NjAzQlx1OTg5RFxyXG4gICAgICAgIHRoaXMuaG9sZGluZ19hbmFseXNpcy5wdXNoKFtcIlx1NjAzQlx1OTg5RFwiLF0pO1xyXG4gICAgICAgIC8vIFx1NUMwRlx1N0Y1MVxyXG4gICAgICAgIHRoaXMuQ2FsY0hvbGRpbmdQZXJjZW50KFwiXHU1QzBGXHU3RjUxXCIsIHRoaXMuZW1wdHlfcHJpY2UsIHRoaXMuY2xlYXJfYXZnX3ByaWNlKTtcclxuICAgICAgICAvLyBcdTRFMkRcdTdGNTFcclxuICAgICAgICB0aGlzLkNhbGNIb2xkaW5nUGVyY2VudChcIlx1NEUyRFx1N0Y1MVwiLCB0aGlzLmVtcHR5X3ByaWNlLCB0aGlzLmNsZWFyX2F2Z19wcmljZSk7XHJcbiAgICAgICAgLy8gXHU1OTI3XHU3RjUxXHJcbiAgICAgICAgdGhpcy5DYWxjSG9sZGluZ1BlcmNlbnQoXCJcdTU5MjdcdTdGNTFcIiwgdGhpcy5lbXB0eV9wcmljZSwgdGhpcy5jbGVhcl9hdmdfcHJpY2UpO1xyXG4gICAgICAgIC8vIFx1N0QyRlx1NzlFRlxyXG4gICAgICAgIGxldCBncmlkX3RvdGFsX2hvbGQgPSB0aGlzLnRvdGFsX3JldGFpbjtcclxuICAgICAgICBsZXQgZ3JpZF90b3RhbF9jb3N0ID0gdGhpcy5yZXRhaW5fY29zdDtcclxuICAgICAgICBsZXQgZ3JpZF9jdXJyZW50X3ZhbHVlID0gTWF0aC5mbG9vcihncmlkX3RvdGFsX2hvbGQgKiB0aGlzLmN1cnJlbnRfcHJpY2UpO1xyXG4gICAgICAgIGxldCBncmlkX2VtcHR5X2luY29tZSA9IGdyaWRfdG90YWxfaG9sZCAqIHRoaXMuZW1wdHlfcHJpY2UgLSBncmlkX3RvdGFsX2Nvc3Q7XHJcbiAgICAgICAgbGV0IGdyaWRfY2xlYXJfaW5jb21lID0gZ3JpZF90b3RhbF9ob2xkICogdGhpcy5jbGVhcl9hdmdfcHJpY2UgLSBncmlkX3RvdGFsX2Nvc3Q7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX2FuYWx5c2lzLnB1c2goW1wiXHU3RDJGXHU3OUVGXCIsIFN0cmluZyhncmlkX3RvdGFsX2hvbGQpLCBTdHJpbmcoZ3JpZF90b3RhbF9jb3N0KSwgU3RyaW5nKGdyaWRfY3VycmVudF92YWx1ZSksXHJcbiAgICAgICAgICAgICAgICBBdmVyYWdlUHJpY2VTdHIoZ3JpZF90b3RhbF9jb3N0LCBncmlkX3RvdGFsX2hvbGQsIHByZWNpc2lvbiksIHRoaXMuY3VycmVudF9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcoZ3JpZF9jdXJyZW50X3ZhbHVlIC0gZ3JpZF90b3RhbF9jb3N0KSwgZ3JpZF9lbXB0eV9pbmNvbWUudG9GaXhlZCgwKSwgZ3JpZF9jbGVhcl9pbmNvbWUudG9GaXhlZCgwKSwgXHJcbiAgICAgICAgICAgICAgICBQcm9wb3J0aW9uUGN0U3RyKGdyaWRfdG90YWxfaG9sZCwgdG90YWxfaG9sZCwgMiksIFByb3BvcnRpb25QY3RTdHIoZ3JpZF90b3RhbF9jb3N0LCB0b3RhbF9jb3N0LCAyKV0pO1xyXG4gICAgICAgIC8vIFx1ODg2NVx1NEVEM1xyXG4gICAgICAgIGdyaWRfdG90YWxfaG9sZCA9IDA7XHJcbiAgICAgICAgZ3JpZF90b3RhbF9jb3N0ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMuaG9sZGluZ19yZWNvcmQubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhvbGRpbmdfcmVjb3JkW2lkeF1bMl0uc3RhcnRzV2l0aChcIlx1ODg2NVx1NEVEM1wiKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZ3JpZF90b3RhbF9ob2xkICs9IE51bWJlcih0aGlzLmhvbGRpbmdfcmVjb3JkW2lkeF1bNF0pO1xyXG4gICAgICAgICAgICAgICAgZ3JpZF90b3RhbF9jb3N0ICs9IE51bWJlcih0aGlzLmhvbGRpbmdfcmVjb3JkW2lkeF1bM10pICogTnVtYmVyKHRoaXMuaG9sZGluZ19yZWNvcmRbaWR4XVs0XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZ3JpZF90b3RhbF9jb3N0ID0gTWF0aC5jZWlsKGdyaWRfdG90YWxfY29zdCk7XHJcbiAgICAgICAgZ3JpZF9jdXJyZW50X3ZhbHVlID0gTWF0aC5mbG9vcihncmlkX3RvdGFsX2hvbGQgKiB0aGlzLmN1cnJlbnRfcHJpY2UpO1xyXG4gICAgICAgIGdyaWRfZW1wdHlfaW5jb21lID0gZ3JpZF90b3RhbF9ob2xkICogdGhpcy5lbXB0eV9wcmljZSAtIGdyaWRfdG90YWxfY29zdDtcclxuICAgICAgICBncmlkX2NsZWFyX2luY29tZSA9IGdyaWRfdG90YWxfaG9sZCAqIHRoaXMuY2xlYXJfYXZnX3ByaWNlIC0gZ3JpZF90b3RhbF9jb3N0O1xyXG4gICAgICAgIHRoaXMuaG9sZGluZ19hbmFseXNpcy5wdXNoKFtcIlx1ODg2NVx1NEVEM1wiLCBTdHJpbmcoZ3JpZF90b3RhbF9ob2xkKSwgU3RyaW5nKGdyaWRfdG90YWxfY29zdCksIFN0cmluZyhncmlkX2N1cnJlbnRfdmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgQXZlcmFnZVByaWNlU3RyKGdyaWRfdG90YWxfY29zdCwgZ3JpZF90b3RhbF9ob2xkLCBwcmVjaXNpb24pLCB0aGlzLmN1cnJlbnRfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nKGdyaWRfY3VycmVudF92YWx1ZSAtIGdyaWRfdG90YWxfY29zdCksIGdyaWRfZW1wdHlfaW5jb21lLnRvRml4ZWQoMCksIGdyaWRfY2xlYXJfaW5jb21lLnRvRml4ZWQoMCksIFxyXG4gICAgICAgICAgICAgICAgUHJvcG9ydGlvblBjdFN0cihncmlkX3RvdGFsX2hvbGQsIHRvdGFsX2hvbGQsIDIpLCBQcm9wb3J0aW9uUGN0U3RyKGdyaWRfdG90YWxfY29zdCwgdG90YWxfY29zdCwgMildKTtcclxuICAgICAgICAvLyBcdTYwM0JcdTk4OURcclxuICAgICAgICBncmlkX3RvdGFsX2hvbGQgPSAwO1xyXG4gICAgICAgIGdyaWRfdG90YWxfY29zdCA9IDA7XHJcbiAgICAgICAgZ3JpZF9jdXJyZW50X3ZhbHVlID0gMDtcclxuICAgICAgICBncmlkX2VtcHR5X2luY29tZSA9IDA7XHJcbiAgICAgICAgZ3JpZF9jbGVhcl9pbmNvbWUgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0yOyBpZHg8dGhpcy5ob2xkaW5nX2FuYWx5c2lzLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBncmlkX3RvdGFsX2hvbGQgKz0gTnVtYmVyKHRoaXMuaG9sZGluZ19hbmFseXNpc1tpZHhdWzFdKTtcclxuICAgICAgICAgICAgZ3JpZF90b3RhbF9jb3N0ICs9IE51bWJlcih0aGlzLmhvbGRpbmdfYW5hbHlzaXNbaWR4XVsyXSk7XHJcbiAgICAgICAgICAgIGdyaWRfY3VycmVudF92YWx1ZSArPSBOdW1iZXIodGhpcy5ob2xkaW5nX2FuYWx5c2lzW2lkeF1bM10pO1xyXG4gICAgICAgICAgICBncmlkX2VtcHR5X2luY29tZSArPSBOdW1iZXIodGhpcy5ob2xkaW5nX2FuYWx5c2lzW2lkeF1bN10pO1xyXG4gICAgICAgICAgICBncmlkX2NsZWFyX2luY29tZSArPSBOdW1iZXIodGhpcy5ob2xkaW5nX2FuYWx5c2lzW2lkeF1bOF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhvbGRpbmdfYW5hbHlzaXNbMV0gPSBbXCJcdTYwM0JcdTk4OURcIiwgU3RyaW5nKGdyaWRfdG90YWxfaG9sZCksIFN0cmluZyhncmlkX3RvdGFsX2Nvc3QpLCBTdHJpbmcoZ3JpZF9jdXJyZW50X3ZhbHVlKSxcclxuICAgICAgICAgICAgICAgIEF2ZXJhZ2VQcmljZVN0cihncmlkX3RvdGFsX2Nvc3QsIGdyaWRfdG90YWxfaG9sZCwgcHJlY2lzaW9uKSwgdGhpcy5jdXJyZW50X3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZyhncmlkX2N1cnJlbnRfdmFsdWUgLSBncmlkX3RvdGFsX2Nvc3QpLCBncmlkX2VtcHR5X2luY29tZS50b0ZpeGVkKDApLCBncmlkX2NsZWFyX2luY29tZS50b0ZpeGVkKDApLCBcclxuICAgICAgICAgICAgICAgIFByb3BvcnRpb25QY3RTdHIoZ3JpZF90b3RhbF9ob2xkLCB0b3RhbF9ob2xkLCAyKSwgUHJvcG9ydGlvblBjdFN0cihncmlkX3RvdGFsX2Nvc3QsIHRvdGFsX2Nvc3QsIDIpXTtcclxuICAgIH1cclxuXHJcbiAgICBDYWxjSG9sZGluZ1BlcmNlbnQoZ3JpZF90eXBlOiBzdHJpbmcsIGVtcHR5X3ByaWNlOiBudW1iZXIsIGNsZWFyX2F2Z19wcmljZTogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHRvdGFsX2hvbGQgPSB0aGlzLnRvdGFsX2hvbGQ7XHJcbiAgICAgICAgY29uc3QgdG90YWxfY29zdCA9IHRoaXMudG90YWxfY29zdDtcclxuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT047XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGdyaWRfdG90YWxfaG9sZCA9IDA7IC8vIFx1NjMwMVx1NEVEM1x1ODBBMVx1NjU3MFxyXG4gICAgICAgIGxldCBncmlkX3RvdGFsX2Nvc3QgPSAwOyAvLyBcdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDFcclxuICAgICAgICBsZXQgZ3JpZF9lbXB0eV9pbmNvbWUgPSAwOyAvLyBcdTZFMDVcdTY4M0NcdTc2QzhcdTUyMjlcclxuICAgICAgICBsZXQgZ3JpZF9jbGVhcl9pbmNvbWUgPSAwOyAvLyBcdTZFMDVcdTRFRDNcdTc2QzhcdTUyMjlcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMuaG9sZGluZ19yZWNvcmQubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhvbGRpbmdfcmVjb3JkW2lkeF1bMl0uc3RhcnRzV2l0aChncmlkX3R5cGUpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmlkX2hvbGQgPSBOdW1iZXIodGhpcy5ob2xkaW5nX3JlY29yZFtpZHhdWzRdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyaWRfY29zdCA9IE51bWJlcih0aGlzLmhvbGRpbmdfcmVjb3JkW2lkeF1bM10pICogTnVtYmVyKHRoaXMuaG9sZGluZ19yZWNvcmRbaWR4XVs0XSk7XHJcbiAgICAgICAgICAgICAgICBncmlkX3RvdGFsX2hvbGQgKz0gZ3JpZF9ob2xkO1xyXG4gICAgICAgICAgICAgICAgZ3JpZF90b3RhbF9jb3N0ICs9IGdyaWRfY29zdDtcclxuICAgICAgICAgICAgICAgIGxldCBncmlkX3JvdyA9IHRoaXMuRmluZFRyYWRpbmdHcmlkUm93KHRoaXMuaG9sZGluZ19yZWNvcmRbaWR4XVsyXSk7IC8vIDcgOCA5IFwiXHU1MzU2XHU1MUZBXHU0RUY3XHU2ODNDXCIsIFwiXHU1MzU2XHU1MUZBXHU0RUZEXHU2NTcwXCIsIFwiXHU1MzU2XHU1MUZBXHU5MUQxXHU5ODlEXCJcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVtcHR5X2luY29tZSA9IE51bWJlcihncmlkX3Jvd1s5XSkgKyAoZ3JpZF9ob2xkIC0gTnVtYmVyKGdyaWRfcm93WzhdKSkgKiBlbXB0eV9wcmljZSAtIGdyaWRfY29zdDtcclxuICAgICAgICAgICAgICAgIGdyaWRfZW1wdHlfaW5jb21lICs9IGVtcHR5X2luY29tZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFyX2luY29tZSA9IE51bWJlcihncmlkX3Jvd1s5XSkgKyAoZ3JpZF9ob2xkIC0gTnVtYmVyKGdyaWRfcm93WzhdKSkgKiBjbGVhcl9hdmdfcHJpY2UgLSBncmlkX2Nvc3Q7XHJcbiAgICAgICAgICAgICAgICBncmlkX2NsZWFyX2luY29tZSArPSBjbGVhcl9pbmNvbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZ3JpZF90b3RhbF9jb3N0ID0gTWF0aC5jZWlsKGdyaWRfdG90YWxfY29zdCk7XHJcbiAgICAgICAgbGV0IGdyaWRfY3VycmVudF92YWx1ZSA9IE1hdGguZmxvb3IoZ3JpZF90b3RhbF9ob2xkICogdGhpcy5jdXJyZW50X3ByaWNlKTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfYW5hbHlzaXMucHVzaChbZ3JpZF90eXBlLCBTdHJpbmcoZ3JpZF90b3RhbF9ob2xkKSwgU3RyaW5nKGdyaWRfdG90YWxfY29zdCksIFN0cmluZyhncmlkX2N1cnJlbnRfdmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgQXZlcmFnZVByaWNlU3RyKGdyaWRfdG90YWxfY29zdCwgZ3JpZF90b3RhbF9ob2xkLCBwcmVjaXNpb24pLCB0aGlzLmN1cnJlbnRfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nKGdyaWRfY3VycmVudF92YWx1ZSAtIGdyaWRfdG90YWxfY29zdCksIGdyaWRfZW1wdHlfaW5jb21lLnRvRml4ZWQoMCksIGdyaWRfY2xlYXJfaW5jb21lLnRvRml4ZWQoMCksIFxyXG4gICAgICAgICAgICAgICAgUHJvcG9ydGlvblBjdFN0cihncmlkX3RvdGFsX2hvbGQsIHRvdGFsX2hvbGQsIDIpLCBQcm9wb3J0aW9uUGN0U3RyKGdyaWRfdG90YWxfY29zdCwgdG90YWxfY29zdCwgMildKTtcclxuICAgIH1cclxuXHJcbiAgICBDYWxjVHJhZGluZ0luY29tZSh0aXRsZV90eHQ6IHN0cmluZywgc2x1bXBfcGN0OiBudW1iZXIsIGVtcHR5X3ByaWNlOiBudW1iZXIsIGNsZWFyX2F2Z19wcmljZTogbnVtYmVyLCBjbGVhcl9wcmljZTogbnVtYmVyLCBuZWVkX3NsdW1wOiBib29sZWFuID0gdHJ1ZSlcclxuICAgIHtcclxuICAgICAgICBsZXQgdG90YWxfY29zdCA9IHRoaXMudG90YWxfY29zdDtcclxuICAgICAgICBsZXQgdG90YWxfY291bnQgPSB0aGlzLnRvdGFsX2hvbGQ7XHJcbiAgICAgICAgbGV0IGVtcHR5X2Nvc3QgPSB0aGlzLnRvdGFsX2Nvc3Q7XHJcbiAgICAgICAgbGV0IGVtcHR5X2NvdW50ID0gdGhpcy50b3RhbF9ob2xkO1xyXG4gICAgICAgIGxldCBjbGVhcl9pbmNvbWVfbWF4ID0gMDtcclxuICAgICAgICBsZXQgdG90YWxfc2VsbF9jb3N0ID0gMDtcclxuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT047XHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlLmZvckVhY2goKHJvdzpBcnJheTxzdHJpbmc+LCBpOm51bWJlcikgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWRpbmdfdGFibGVbaV1bMF0uc3RhcnRzV2l0aChcIlx1NTIyOVx1NkRBNlwiKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJfaW5jb21lX21heCA9IGNsZWFyX2luY29tZV9tYXggKyBOdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW2ldWzldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbaV1bMF0pKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5X2Nvc3QgPSBlbXB0eV9jb3N0IC0gTnVtYmVyKHJvd1s5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1wdHlfY291bnQgPSBlbXB0eV9jb3VudCAtIE51bWJlcihyb3dbOF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyX2luY29tZV9tYXggPSBjbGVhcl9pbmNvbWVfbWF4ICsgKE51bWJlcihyb3dbNF0pIC0gTnVtYmVyKHJvd1s4XSkpICogY2xlYXJfYXZnX3ByaWNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX3NlbGxfY29zdCA9IHRvdGFsX3NlbGxfY29zdCArIE51bWJlcihyb3dbOV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCAmJiBUb051bWJlcihyb3dbMV0pID49IHNsdW1wX3BjdCAmJiBuZWVkX3NsdW1wKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxfY29zdCA9IHRvdGFsX2Nvc3QgKyBOdW1iZXIocm93WzVdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxfY291bnQgPSB0b3RhbF9jb3VudCArIE51bWJlcihyb3dbNF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHlfY29zdCA9IGVtcHR5X2Nvc3QgKyBOdW1iZXIocm93WzVdKSAtIE51bWJlcihyb3dbOV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbXB0eV9jb3VudCA9IGVtcHR5X2NvdW50ICsgTnVtYmVyKHJvd1s0XSkgLSBOdW1iZXIocm93WzhdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJfaW5jb21lX21heCA9IGNsZWFyX2luY29tZV9tYXggKyAoTnVtYmVyKHJvd1s0XSkgLSBOdW1iZXIocm93WzhdKSkgKiBjbGVhcl9hdmdfcHJpY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsX3NlbGxfY29zdCA9IHRvdGFsX3NlbGxfY29zdCArIE51bWJlcihyb3dbOV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNsZWFyX2luY29tZV9tYXggPSBNYXRoLmZsb29yKGNsZWFyX2luY29tZV9tYXggLSBlbXB0eV9jb3N0KTtcclxuICAgICAgICAvLyBbXCJcIiwgXCJcdTYzMDFcdTRFRDNcdTgwQTFcdTY1NzBcIiwgXCJcdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDFcIiwgXCJcdTYzMDFcdTRFRDNcdTkxRDFcdTk4OURcIiwgXCJcdTYzMDFcdTRFRDNcdTU3NDdcdTRFRjdcIiwgXCJcdTVCOUVcdTk2NDVcdTRFRjdcdTY4M0NcIiwgXCJcdTYzMDFcdTRFRDNcdTc2QzhcdTRFOEZcIiwgXCJcdTYyOTVcdTUxNjVcdThENDRcdTkxRDFcIiwgXCJcdThEMjZcdTk3NjJcdThENDRcdTkxRDFcIiwgXCJcdTYyOTVcdTUxNjVcdTc2QzhcdTRFOEZcIiwgXCJcdTYyOTVcdTUxNjVcdTRFRDNcdTRGNERcIl1cclxuICAgICAgICB0aGlzLnRyYWRpbmdfaW5jb21lLnB1c2godGhpcy5HZW5lcmF0ZUluY29tZVJvdyh0aXRsZV90eHQgKyBcIlx1NjMwMVx1NEVEM1wiLCB0b3RhbF9jb3VudCwgdG90YWxfY29zdCwgdGhpcy50YXJnZXRfcHJpY2UgKiBzbHVtcF9wY3QsIHRvdGFsX2Nvc3QsIHRoaXMudG90YWxfY29zdCwgMCkpO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ19pbmNvbWUucHVzaCh0aGlzLkdlbmVyYXRlSW5jb21lUm93KHRpdGxlX3R4dCArIFwiXHU2RTA1XHU2ODNDXCIsIGVtcHR5X2NvdW50LCBlbXB0eV9jb3N0LCBlbXB0eV9wcmljZSwgdG90YWxfY29zdCwgMCwgdG90YWxfc2VsbF9jb3N0KSk7XHJcbiAgICAgICAgdGhpcy50cmFkaW5nX2luY29tZS5wdXNoKFt0aXRsZV90eHQgKyBcIlx1NkUwNVx1NEVEM1wiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIi1cIiwgY2xlYXJfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLCBTdHJpbmcoY2xlYXJfaW5jb21lX21heCksIFN0cmluZyh0b3RhbF9jb3N0KSwgXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHRvdGFsX3NlbGxfY29zdCArIGVtcHR5X2Nvc3QgKyBjbGVhcl9pbmNvbWVfbWF4KSwgVG9UcmFkaW5nR2FwKHRvdGFsX2Nvc3QsIHRvdGFsX3NlbGxfY29zdCArIGVtcHR5X2Nvc3QgKyBjbGVhcl9pbmNvbWVfbWF4LCAyKSwgXCItXCJdKTtcclxuICAgIH1cclxuXHJcbiAgICBHZW5lcmF0ZUNsZWFyUm93KGdyaWRfbmFtZTogc3RyaW5nLCBpZHg6IG51bWJlciwgZ3JpZF9zdGVwX3BjdDogbnVtYmVyLCBzZWxsX2NvdW50OiBudW1iZXIpOiBzdHJpbmdbXVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTjtcclxuICAgICAgICBjb25zdCBwcmljZV9zdGVwID0gTWF0aC5mbG9vcigoMTAwICsgTWF0aC5mbG9vcihncmlkX3N0ZXBfcGN0ICogMTAwKSkgKiogaWR4IC8gMTAwICoqIChpZHggLTEpKSAvIDEwMDtcclxuICAgICAgICBjb25zdCBzZWxsX3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgcHJpY2Vfc3RlcCwgcHJlY2lzaW9uKTtcclxuICAgICAgICBsZXQgY2xlYXJfY291bnQgPSB0aGlzLmNsZWFyX3NlbGxfcmVjb3JkLmdldChncmlkX25hbWUgKyBTdHJpbmcoaWR4KSk7XHJcbiAgICAgICAgaWYgKGNsZWFyX2NvdW50ID09IHVuZGVmaW5lZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNsZWFyX2NvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtncmlkX25hbWUgKyBTdHJpbmcoaWR4KSwgVG9QZXJjZW50KHByaWNlX3N0ZXApLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCAoc2VsbF9wcmljZSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUklHR0VSX0FERF9QT0lOVCkudG9GaXhlZChwcmVjaXNpb24pLFxyXG4gICAgICAgICAgICAgICAgc2VsbF9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksIFN0cmluZyhzZWxsX2NvdW50IC0gY2xlYXJfY291bnQpLCBTdHJpbmcoTWF0aC5jZWlsKHNlbGxfcHJpY2UgKiAoc2VsbF9jb3VudCAtIGNsZWFyX2NvdW50KSkpLCBcIi1cIiwgXCIrXCIgKyBUb1BlcmNlbnQoZ3JpZF9zdGVwX3BjdCldXHJcbiAgICB9XHJcblxyXG4gICAgR2VuZXJhdGVJbmNvbWVSb3coZ3JpZF9uYW1lOiBzdHJpbmcsIHRvdGFsX2NvdW50OiBudW1iZXIsIHRvdGFsX2Nvc3Q6IG51bWJlciwgY3VycmVudF9wcmljZTogbnVtYmVyLCBtYXhfY29zdDogbnVtYmVyLCBjdXJyZW50X2Nvc3Q6IG51bWJlciwgc2VsbF92YWx1ZTogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFtcIlwiLCBcIlx1NjMwMVx1NEVEM1x1ODBBMVx1NjU3MFwiLCBcIlx1NTM2MFx1NzUyOFx1NjcyQ1x1OTFEMVwiLCBcIlx1NjMwMVx1NEVEM1x1OTFEMVx1OTg5RFwiLCBcIlx1NjMwMVx1NEVEM1x1NTc0N1x1NEVGN1wiLCBcIlx1NUI5RVx1OTY0NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NjMwMVx1NEVEM1x1NzZDOFx1NEU4RlwiLCBcIlx1NjI5NVx1NTE2NVx1OEQ0NFx1OTFEMVwiLCBcIlx1OEQyNlx1OTc2Mlx1OEQ0NFx1OTFEMVwiLCBcIlx1NjI5NVx1NTE2NVx1NzZDOFx1NEU4RlwiLCBcIlx1NjI5NVx1NTE2NVx1NEVEM1x1NEY0RFwiXVxyXG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTjtcclxuICAgICAgICBjb25zdCBjdXJyZW50X3ZhbHVlID0gTXlGbG9vcih0b3RhbF9jb3VudCAqIGN1cnJlbnRfcHJpY2UsIDEpO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsX2luY29tZSA9IGN1cnJlbnRfdmFsdWUgLSB0b3RhbF9jb3N0O1xyXG4gICAgICAgIGxldCBwb3NpdGlvbiA9IFRvUGVyY2VudChjdXJyZW50X2Nvc3QgLyBtYXhfY29zdCk7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRfY29zdCA9PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBcIi1cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtncmlkX25hbWUsIFN0cmluZyh0b3RhbF9jb3VudCksIFN0cmluZyh0b3RhbF9jb3N0KSwgU3RyaW5nKGN1cnJlbnRfdmFsdWUpLCAodG90YWxfY29zdCAvIE1hdGgubWF4KHRvdGFsX2NvdW50LCAxKSkudG9GaXhlZChwcmVjaXNpb24pLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudF9wcmljZS50b0ZpeGVkKHByZWNpc2lvbiksIFN0cmluZyh0b3RhbF9pbmNvbWUpLCBTdHJpbmcobWF4X2Nvc3QpLCAgU3RyaW5nKHNlbGxfdmFsdWUgKyBjdXJyZW50X3ZhbHVlKSwgVG9UcmFkaW5nR2FwKG1heF9jb3N0LCB0b3RhbF9pbmNvbWUgKyBtYXhfY29zdCwgMiksIHBvc2l0aW9uXTtcclxuICAgIH1cclxuXHJcbiAgICBDYWxjQ2xlYXJQcmljZShzdGVwX3BjdDogbnVtYmVyLCBzdGVwX2lkeDogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTjtcclxuICAgICAgICBjb25zdCBwcmljZV9zdGVwID0gTWF0aC5mbG9vcigoMTAwICsgTWF0aC5mbG9vcihzdGVwX3BjdCAqIDEwMCkpICoqIHN0ZXBfaWR4IC8gMTAwICoqIChzdGVwX2lkeCAtMSkpIC8gMTAwO1xyXG4gICAgICAgIHJldHVybiBGaXhlZFByaWNlKHRoaXMudGFyZ2V0X3ByaWNlLCBwcmljZV9zdGVwLCBwcmVjaXNpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIElzTmVlZE1vbml0b3IodGFibGVfaW5kZXg6IG51bWJlciwgaXNfc2VsbDogYm9vbGVhbiwgY3VycmVudF9wcmljZTogbnVtYmVyLCBtYXhfcmlzZV9wY3Q6IG51bWJlcik6IGJvb2xlYW5cclxuICAgIHtcclxuICAgICAgICBpZiAoaXNfc2VsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1ODk4MVx1NjMwMlx1NTM1Nlx1NTFGQVx1NzZEMVx1NjNBN1x1NTM1NVxyXG4gICAgICAgICAgICBjb25zdCBzZWxsX3ByaWNlID0gTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVt0YWJsZV9pbmRleF1bN10pO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudF9wcmljZSAqICgxLjAgKyBtYXhfcmlzZV9wY3QpID49IHNlbGxfcHJpY2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1ODk4MVx1NjMwMlx1NEU3MFx1NTE2NVx1NzZEMVx1NjNBN1x1NTM1NVxyXG4gICAgICAgICAgICBjb25zdCBidXlfcHJpY2UgPSBOdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW3RhYmxlX2luZGV4XVszXSk7XHJcbiAgICAgICAgICAgIGlmIChidXlfcHJpY2UgPCB0aGlzLnRhcmdldF9wcmljZSAqIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5JTVVNX0JVWV9QQ1QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3VycmVudF9wcmljZSAqICgxLjAgLSBtYXhfcmlzZV9wY3QpIDw9IGJ1eV9wcmljZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgSXNEaXNhYmxlUm93KHRhYmxlX2luZGV4OiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcHJpY2VfcGN0ID0gVG9OdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW3RhYmxlX2luZGV4XVsxXSk7XHJcbiAgICAgICAgaWYgKHByaWNlX3BjdCA8IHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5JTVVNX0JVWV9QQ1QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBGaW5kVHJhZGluZ0dyaWRSb3coZ3JpZF9uYW1lOiBzdHJpbmcpOiBzdHJpbmcgW11cclxuICAgIHtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudHJhZGluZ190YWJsZVtpZHhdWzBdID09IGdyaWRfbmFtZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhZGluZ190YWJsZVtpZHhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICBGaW5kVHJhZGluZ0dyaWRSb3dJbmRleChncmlkX25hbWU6IHN0cmluZyk6IG51bWJlclxyXG4gICAge1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50cmFkaW5nX3RhYmxlW2lkeF1bMF0gPT0gZ3JpZF9uYW1lKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaWR4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuXHJcbiAgICBTb3J0VHJhZGluZ1RhYmxlKClcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aCA8PSAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGUucHVzaChbXCJcdTUwNUNcdTZCNjJcdTdFQkZcIiwgXCIwJVwiLF0pO1xyXG4gICAgICAgIGxldCBtb3ZlX2lkeCA9IDA7XHJcbiAgICAgICAgbGV0IG1vdmVfcm93ID0gbnVsbDtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MTsgaWR4PHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudHJhZGluZ190YWJsZVtpZHhdWzFdID09IFwiMCVcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuSXNEaXNhYmxlUm93KGlkeCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG1vdmVfaWR4ID0gaWR4O1xyXG4gICAgICAgICAgICAgICAgbW92ZV9yb3cgPSB0aGlzLnRyYWRpbmdfdGFibGVbbW92ZV9pZHhdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWR4Mj1tb3ZlX2lkeDsgaWR4Mjx0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoIC0gMTsgaWR4MisrKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtpZHgyXSA9IHRoaXMudHJhZGluZ190YWJsZVtpZHgyICsgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnV5X21vbml0b3Jfcm93cy5pbmRleE9mKGlkeDIrMSkgIT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3NbdGhpcy5idXlfbW9uaXRvcl9yb3dzLmluZGV4T2YoaWR4MisxKV0gPSBpZHgyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MuaW5kZXhPZihpZHgyKzEpICE9IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MuaW5kZXhPZihpZHgyKzEpXSA9IGlkeDI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLmluZGV4T2YoaWR4MisxKSAhPSAtMSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3NbdGhpcy5zZWxsX21vbml0b3Jfcm93cy5pbmRleE9mKGlkeDIrMSldID0gaWR4MjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5pbmRleE9mKGlkeDIrMSkgIT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmluZGV4T2YoaWR4MisxKV0gPSBpZHgyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVt0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoLTFdID0gbW92ZV9yb3c7XHJcbiAgICAgICAgICAgICAgICBpZHgtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsICIvKlxyXG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU4QkExXHU3Qjk3XHU5MDNCXHU4RjkxXHVGRjBDXHU2QTIxXHU1RjBGMVx1RkYwQ1x1OUVEOFx1OEJBNFx1NkEyMVx1NUYwRlxyXG4gICAgXHU2MzA5XHU3MTY3XHU1QzBGXHU0RTJEXHU1OTI3XHU0RTBEXHU1NDBDXHU3Njg0XHU2MzA3XHU1QjlBXHU2QjY1XHU4RkRCXHU1MDNDXHJcbiovXHJcbmltcG9ydCB7IFNHUklEX1RZUEVfTkFNRV9TVFIsIE1HUklEX1RZUEVfTkFNRV9TVFIsIExHUklEX1RZUEVfTkFNRV9TVFIsIFBFUkZJVF9UWVBFX05BTUVfU1RSIH0gZnJvbSBcIi4vbGFuZ19zdHJcIjtcclxuaW1wb3J0IHsgTXlGbG9vciwgTXlDZWlsLCBUb1BlcmNlbnQsIFRvTnVtYmVyLCBUb1RyYWRpbmdHYXAsIEZpeGVkUHJpY2UsIFRvUGVyY2VudFN0ciB9IGZyb20gXCIuL215bWF0aFwiO1xyXG5pbXBvcnQgeyBQbHVnaW5FbnYgfSBmcm9tIFwiLi9wbHVnaW5fZW52XCI7XHJcbmltcG9ydCB7IERlYnVnTG9nIH0gZnJvbSBcIi4vcmVtb3RlX3V0aWxcIjtcclxuaW1wb3J0IHsgR3JpZFRyYWRpbmcgfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZFRyYWRpbmdNb2RlT25lIGV4dGVuZHMgR3JpZFRyYWRpbmcgXHJcbntcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW5fZW52OiBQbHVnaW5FbnYpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIocGx1Z2luX2VudilcclxuICAgICAgICB0aGlzLm1vZGVfdHlwZSA9IFwiT25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdEdyaWRUcmFkaW5nKGRhdGE6IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5QYXJzZVJhd0RhdGEoZGF0YSkgfHwgdGhpcy5pc19lbXB0eSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNfZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0R3JpZFBhcmFtKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRTdG9ja1RhYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdSZWNvcmQoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0SG9sZGluZ0FuYWx5c2lzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdJbmNvbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0FuYWx5c2lzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuU29ydFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGVSZW1vdGVQcmljZShyZW1vdGVfcHJpY2U6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID0gcmVtb3RlX3ByaWNlO1xyXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID4gMCAmJiB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlICE9IHRoaXMuY3VycmVudF9wcmljZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9wcmljZSA9IHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2U7XHJcbiAgICAgICAgICAgIHRoaXMuaXNfZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0R3JpZFBhcmFtKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRTdG9ja1RhYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdSZWNvcmQoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0SG9sZGluZ0FuYWx5c2lzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdJbmNvbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0FuYWx5c2lzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuU29ydFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBJbml0VHJhZGluZ1RhYmxlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzID0gW11cclxuICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzID0gW11cclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGUgPSBbXVxyXG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZVswXSA9IFtcIlx1N0Y1MVx1NjgzQ1x1NzlDRFx1N0M3QlwiLCBcIlx1NEVGN1x1NjgzQ1x1Njg2M1x1NEY0RFwiLCBcIlx1NEU3MFx1NTE2NVx1ODlFNlx1NTNEMVx1NEVGN1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGRFx1NjU3MFwiLCBcIlx1NEU3MFx1NTE2NVx1OTFEMVx1OTg5RFwiLCBcIlx1NTM1Nlx1NTFGQVx1ODlFNlx1NTNEMVx1NEVGN1wiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGN1x1NjgzQ1wiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGRFx1NjU3MFwiLCBcIlx1NTM1Nlx1NTFGQVx1OTFEMVx1OTg5RFwiLCBcIlx1NzZGOFx1NUJGOVx1OERDQ1x1NUU0NVwiLCBcIlx1NzZGOFx1NUJGOVx1NkRBOFx1NUU0NVwiXTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2NvdW50ID0gTWF0aC5mbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCAvIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9TVEVQX1BDVCk7XHJcbiAgICAgICAgY29uc3QgbWNvdW50ID0gTWF0aC5mbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCAvIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCk7XHJcbiAgICAgICAgY29uc3QgbGNvdW50ID0gTWF0aC5mbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCAvIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCk7XHJcbiAgICAgICAgY29uc3QgbWF4X3Jpc2VfcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9SSVNFX1BDVDtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PD1zY291bnQ7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhTR1JJRF9UWVBFX05BTUVfU1RSLCBpZHgsIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9TVEVQX1BDVCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfUkVUQUlOX0NPVU5ULCB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfQUREX1BDVCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdWzBdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChpZHggKyAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKGlkeCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhpZHggKyAxKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MucHVzaChpZHggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NUMwRlx1N0Y1MVxyXG4gICAgICAgICAgICBjb25zdCBsYXN0X2J1eSA9IHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzW3RoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAobGFzdF9idXkgPCBzY291bnQgKyAxKSB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChsYXN0X2J1eSArIDEpO1xyXG4gICAgICAgICAgICBsZXQgbGFzdF9zZWxsID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnBvcCgpO1xyXG4gICAgICAgICAgICBpZiAobGFzdF9zZWxsKSB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsKTtcclxuICAgICAgICAgICAgLy9pZiAodGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgIGlmIChmYWxzZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdF9zZWxsX3MgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihsYXN0X3NlbGxfcywgdHJ1ZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NUMwRlx1N0Y1MVx1NzY4NFx1OTk5Nlx1N0Y1MVx1NEU3MFx1NTE2NVxyXG4gICAgICAgICAgICBjb25zdCBmaXJzdF9idXkgPSAxO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGZpcnN0X2J1eSwgZmFsc2UsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goZmlyc3RfYnV5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpZHg9MTsgaWR4PD1tY291bnQ7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW3Njb3VudCArIDEgKyBpZHhdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhNR1JJRF9UWVBFX05BTUVfU1RSLCBpZHgsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfUkVUQUlOX0NPVU5ULCB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfQUREX1BDVCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW3Njb3VudCArIDEgKyBpZHhdWzBdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChzY291bnQgKyAxICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHNjb3VudCArIDEgKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU0RTJEXHU3RjUxXHU0RTcwXHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKHNjb3VudCArIDEgKyBpZHgsIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goc2NvdW50ICsgMSArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuSXNEaXNhYmxlUm93KHNjb3VudCArIDEgKyBpZHgpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVfcm93cy5wdXNoKHNjb3VudCArIDEgKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdID4gc2NvdW50ICsgMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NTM1Nlx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfbSA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IobGFzdF9zZWxsX20sIHRydWUsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnJlbW92ZShsYXN0X3NlbGxfbSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX20pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGlkeD0xOyBpZHg8PWxjb3VudDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbc2NvdW50ICsgMSArIG1jb3VudCArIGlkeF0gPSB0aGlzLkdlbmVyYXRlT25lUm93KExHUklEX1RZUEVfTkFNRV9TVFIsIGlkeCwgdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9SRVRBSU5fQ09VTlQsIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9BRERfUENUKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbc2NvdW50ICsgMSArIG1jb3VudCArIGlkeF1bMF0pKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5wdXNoKHNjb3VudCArIDEgKyBtY291bnQgKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2goc2NvdW50ICsgMSArIG1jb3VudCArIGlkeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTU5MjdcdTdGNTFcdTRFNzBcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3Ioc2NvdW50ICsgMSArIG1jb3VudCwgZmFsc2UsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChzY291bnQgKyAxICsgbWNvdW50ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5Jc0Rpc2FibGVSb3coc2NvdW50ICsgMSArIG1jb3VudCArIGlkeCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzLnB1c2goc2NvdW50ICsgMSArIG1jb3VudCArIGlkeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwICYmIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV0gPiBzY291bnQgKyAxICsgbWNvdW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1MzU2XHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9sID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihsYXN0X3NlbGxfbCwgdHJ1ZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucmVtb3ZlKGxhc3Rfc2VsbF9sKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGxfbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgR2VuZXJhdGVPbmVSb3coZ3JpZF9uYW1lOiBzdHJpbmcsIGlkeDogbnVtYmVyLCBncmlkX3N0ZXBfcGN0OiBudW1iZXIsIGdyaWRfcmV0YWluX2NvdW50OiBudW1iZXIsIGdyaWRfYWRkX3BjdDogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMuZ3JpZF9zZXR0aW5ncy5UUkFESU5HX1BSSUNFX1BSRUNJU0lPTjtcclxuICAgICAgICBjb25zdCBidXlfcHJpY2Vfc3RlcCA9IDEwMCAtIGlkeCAqIE1hdGguZmxvb3IoZ3JpZF9zdGVwX3BjdCAqIDEwMCk7XHJcbiAgICAgICAgY29uc3QgYnV5X3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgYnV5X3ByaWNlX3N0ZXAgLyAxMDAsIHByZWNpc2lvbik7XHJcbiAgICAgICAgY29uc3QgYnV5X2NvdW50ID0gTXlGbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuT05FX0dSSURfTElNSVQgKiAoMSArIGlkeCAqIGdyaWRfYWRkX3BjdCkgLyBidXlfcHJpY2UsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5fQkFUQ0hfQ09VTlQpXHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGxfcHJpY2Vfc3RlcCA9IGJ1eV9wcmljZV9zdGVwICsgTWF0aC5mbG9vcihncmlkX3N0ZXBfcGN0ICogMTAwKTtcclxuICAgICAgICBjb25zdCBzZWxsX3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgc2VsbF9wcmljZV9zdGVwIC8gMTAwLCBwcmVjaXNpb24pO1xyXG4gICAgICAgIGNvbnN0IHJldGFpbl9jb3VudCA9IChzZWxsX3ByaWNlIC0gYnV5X3ByaWNlKSAqIGJ1eV9jb3VudCAqIGdyaWRfcmV0YWluX2NvdW50O1xyXG4gICAgICAgIGNvbnN0IHNlbGxfY291bnQgPSBNeUZsb29yKChzZWxsX3ByaWNlICogYnV5X2NvdW50IC0gcmV0YWluX2NvdW50KSAvIHNlbGxfcHJpY2UsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5fQkFUQ0hfQ09VTlQpO1xyXG5cclxuICAgICAgICByZXR1cm4gW2dyaWRfbmFtZSArIFN0cmluZyhpZHgpLCBUb1BlcmNlbnRTdHIoYnV5X3ByaWNlX3N0ZXApLCAoYnV5X3ByaWNlICsgdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKHByZWNpc2lvbiksIFxyXG4gICAgICAgICAgICAgICAgYnV5X3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSwgU3RyaW5nKGJ1eV9jb3VudCksIFN0cmluZyhNYXRoLmNlaWwoYnV5X3ByaWNlICogYnV5X2NvdW50KSksXHJcbiAgICAgICAgICAgICAgICAoc2VsbF9wcmljZSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUklHR0VSX0FERF9QT0lOVCkudG9GaXhlZChwcmVjaXNpb24pLCBzZWxsX3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZyhzZWxsX2NvdW50KSwgU3RyaW5nKE1hdGguY2VpbChzZWxsX3ByaWNlICogc2VsbF9jb3VudCkpLCBUb1RyYWRpbmdHYXAoc2VsbF9wcmljZSwgYnV5X3ByaWNlLCAxKSxcclxuICAgICAgICAgICAgICAgIFRvVHJhZGluZ0dhcChidXlfcHJpY2UsIHNlbGxfcHJpY2UsIDEpXTtcclxuICAgIH1cclxufSIsICIvKlxyXG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU4QkExXHU3Qjk3XHU5MDNCXHU4RjkxXHVGRjBDXHU2QTIxXHU1RjBGMlxyXG4gICAgXHU2QTIxXHU1RjBGMVx1NzY4NFx1NTdGQVx1Nzg0MFx1NEUwQVx1OTAxQVx1OEZDN1x1NTIwNlx1NkJCNVx1N0I1Nlx1NzU2NVx1NEY3Rlx1NUY5N1x1NUMwRlx1N0Y1MVx1NzY4NFx1NkI2NVx1OEZEQlx1NTAzQ1x1NjZGNFx1NTJBMFx1NTc0N1x1ODg2MVxyXG4qL1xyXG5pbXBvcnQgeyBTR1JJRF9UWVBFX05BTUVfU1RSLCBNR1JJRF9UWVBFX05BTUVfU1RSLCBMR1JJRF9UWVBFX05BTUVfU1RSIH0gZnJvbSBcIi4vbGFuZ19zdHJcIjtcclxuaW1wb3J0IHsgTXlGbG9vciwgTXlDZWlsLCBUb1BlcmNlbnQsIFRvTnVtYmVyLCBUb1RyYWRpbmdHYXAsIEZpeGVkUHJpY2UgfSBmcm9tIFwiLi9teW1hdGhcIjtcclxuaW1wb3J0IHsgUGx1Z2luRW52IH0gZnJvbSBcIi4vcGx1Z2luX2VudlwiO1xyXG5pbXBvcnQgeyBEZWJ1Z0xvZyB9IGZyb20gXCIuL3JlbW90ZV91dGlsXCI7XHJcbmltcG9ydCB7IEdyaWRUcmFkaW5nIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRUcmFkaW5nTW9kZVR3byBleHRlbmRzIEdyaWRUcmFkaW5nIFxyXG57XHJcblxyXG4gICAgY29uc3RydWN0b3IocGx1Z2luX2VudjogUGx1Z2luRW52KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKHBsdWdpbl9lbnYpXHJcbiAgICAgICAgdGhpcy5tb2RlX3R5cGUgPSBcIlR3b1wiO1xyXG4gICAgfVxyXG5cclxuICAgIEluaXRHcmlkVHJhZGluZyhkYXRhOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuUGFyc2VSYXdEYXRhKGRhdGEpIHx8IHRoaXMuaXNfZW1wdHkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEdyaWRQYXJhbSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0U3RvY2tUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEhvbGRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nSW5jb21lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLlNvcnRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlUmVtb3RlUHJpY2UocmVtb3RlX3ByaWNlOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA9IHJlbW90ZV9wcmljZTtcclxuICAgICAgICBpZiAodGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA+IDAgJiYgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSAhPSB0aGlzLmN1cnJlbnRfcHJpY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfcHJpY2UgPSB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlO1xyXG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEdyaWRQYXJhbSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0U3RvY2tUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEhvbGRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nSW5jb21lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLlNvcnRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdFRyYWRpbmdUYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzID0gW11cclxuICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzID0gW11cclxuICAgICAgICB0aGlzLmRpc2FibGVfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlID0gW11cclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbMF0gPSBbXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTRFNzBcdTUxNjVcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTUzNTZcdTUxRkFcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTkxRDFcdTk4OURcIiwgXCJcdTc2RjhcdTVCRjlcdThEQ0NcdTVFNDVcIiwgXCJcdTc2RjhcdTVCRjlcdTZEQThcdTVFNDVcIl07XHJcblxyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gTWF0aC5mbG9vcihNYXRoLmxvZygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9TTFVNUF9QQ1QpIC8gTWF0aC5sb2coMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCkpICsgMTtcclxuICAgICAgICBjb25zdCBtYXhfcmlzZV9wY3QgPSB0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1JJU0VfUENUO1xyXG4gICAgICAgIC8vIFx1NUMwRlx1N0Y1MVxyXG4gICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgIGxldCBtYXhfc2x1bXBfcGN0ID0gTWF0aC5yb3VuZCgoMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKSAqIDEwMCk7XHJcbiAgICAgICAgbGV0IHNlbGxfcHJpY2Vfc3RlcCA9IDEgKyB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1Q7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNvdW50OyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdGkgPSAxO1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdF9zdGVwID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnBvdygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULCBpKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNsdW1wX3BjdCA9IE1hdGgucm91bmQoMTAwICogTWF0aC5wb3coMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCwgaSArIDEpKTtcclxuICAgICAgICAgICAgbGV0IHN0ZXBfcGN0ID0gZmlyc3Rfc3RlcDtcclxuICAgICAgICAgICAgd2hpbGUgKHN0ZXBfcGN0ID4gc2x1bXBfcGN0ICYmIHN0ZXBfcGN0ID4gbWF4X3NsdW1wX3BjdClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhTR1JJRF9UWVBFX05BTUVfU1RSLCBpZHgsIHN0ZXBfcGN0IC8gMTAwLCBzZWxsX3ByaWNlX3N0ZXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9SRVRBSU5fQ09VTlQsIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9BRERfUENUKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbaWR4ICsgMV1bMF0pKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goaWR4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2goaWR4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc0Rpc2FibGVSb3coaWR4ICsgMSkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MucHVzaChpZHggKyAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlbGxfcHJpY2Vfc3RlcCA9IHN0ZXBfcGN0IC8gMTAwO1xyXG4gICAgICAgICAgICAgICAgc3RlcF9wY3QgPSBNYXRoLnJvdW5kKGZpcnN0X3N0ZXAgKiAoMSAtIHRpICogdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENUKSk7XHJcbiAgICAgICAgICAgICAgICB0aSsrO1xyXG4gICAgICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLmxlbmd0aCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTVDMEZcdTdGNTFcclxuICAgICAgICAgICAgY29uc3QgbGFzdF9idXkgPSB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93c1t0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGxhc3RfYnV5IDwgdGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aCkgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9idXkgKyAxKTtcclxuICAgICAgICAgICAgbGV0IGxhc3Rfc2VsbCA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKGxhc3Rfc2VsbCkgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbCk7XHJcbiAgICAgICAgICAgIC8vaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICBpZiAoZmFsc2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9zID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IobGFzdF9zZWxsX3MsIHRydWUsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTVDMEZcdTdGNTFcdTc2ODRcdTk5OTZcdTdGNTFcdTRFNzBcdTUxNjVcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RfYnV5ID0gMTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihmaXJzdF9idXksIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGZpcnN0X2J1eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gXHU0RTJEXHU3RjUxXHJcbiAgICAgICAgbGV0IHN0YXJ0X2luZGV4ID0gdGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aDtcclxuICAgICAgICBpZHggPSAwO1xyXG4gICAgICAgIHNlbGxfcHJpY2Vfc3RlcCA9IDE7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNvdW50OyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdGkgPSAyO1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdF9zdGVwID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnBvdygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULCBpKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNsdW1wX3BjdCA9IE1hdGgucm91bmQoMTAwICogTWF0aC5wb3coMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCwgaSArIDEpKTtcclxuICAgICAgICAgICAgbGV0IHN0ZXBfcGN0ID0gTWF0aC5yb3VuZChmaXJzdF9zdGVwICogKDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfU1RFUF9QQ1QpKTtcclxuICAgICAgICAgICAgd2hpbGUgKHN0ZXBfcGN0ID4gc2x1bXBfcGN0ICYmIHN0ZXBfcGN0ID4gbWF4X3NsdW1wX3BjdClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW3N0YXJ0X2luZGV4ICsgaWR4XSA9IHRoaXMuR2VuZXJhdGVPbmVSb3coTUdSSURfVFlQRV9OQU1FX1NUUiwgaWR4ICsgMSwgc3RlcF9wY3QgLyAxMDAsIHNlbGxfcHJpY2Vfc3RlcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1JFVEFJTl9DT1VOVCwgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX0FERF9QQ1QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuSXNEaXNhYmxlUm93KHN0YXJ0X2luZGV4ICsgaWR4KSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbc3RhcnRfaW5kZXggKyBpZHhdWzBdKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU0RTJEXHU3RjUxXHU0RTcwXHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihzdGFydF9pbmRleCArIGlkeCwgZmFsc2UsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWxsX3ByaWNlX3N0ZXAgPSBzdGVwX3BjdCAvIDEwMDtcclxuICAgICAgICAgICAgICAgIHN0ZXBfcGN0ID0gTWF0aC5yb3VuZChmaXJzdF9zdGVwICogKDEgLSB0aSAqIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCkpO1xyXG4gICAgICAgICAgICAgICAgdGkrKztcclxuICAgICAgICAgICAgICAgIGlkeCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdID49IHN0YXJ0X2luZGV4KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1MzU2XHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9tID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihsYXN0X3NlbGxfbSwgdHJ1ZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucmVtb3ZlKGxhc3Rfc2VsbF9tKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGxfbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gXHU1OTI3XHU3RjUxXHJcbiAgICAgICAgc3RhcnRfaW5kZXggPSB0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoO1xyXG4gICAgICAgIGlkeCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNvdW50OyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzZWxsX3ByaWNlX3N0ZXAgPSBNYXRoLnJvdW5kKDEwMCAqIE1hdGgucG93KDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QsIGkpKSAvIDEwMDtcclxuICAgICAgICAgICAgY29uc3Qgc3RlcF9wY3QgPSBNYXRoLnJvdW5kKDEwMCAqIE1hdGgucG93KDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QsIGkgKyAxKSk7XHJcbiAgICAgICAgICAgIGlmIChzdGVwX3BjdCA+IG1heF9zbHVtcF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF0gPSB0aGlzLkdlbmVyYXRlT25lUm93KExHUklEX1RZUEVfTkFNRV9TVFIsIGlkeCArIDEsIHN0ZXBfcGN0IC8gMTAwLCBzZWxsX3ByaWNlX3N0ZXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9SRVRBSU5fQ09VTlQsIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9BRERfUENUKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhzdGFydF9pbmRleCArIGlkeCkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW3N0YXJ0X2luZGV4ICsgaWR4XVswXSkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NTkyN1x1N0Y1MVx1NEU3MFx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3Ioc3RhcnRfaW5kZXggKyBpZHgsIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwICYmIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV0gPj0gc3RhcnRfaW5kZXgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgY29uc3QgbGFzdF9zZWxsX2wgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGxhc3Rfc2VsbF9sLCB0cnVlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5yZW1vdmUobGFzdF9zZWxsX2wpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9sKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZW5lcmF0ZU9uZVJvdyhncmlkX25hbWU6IHN0cmluZywgaWR4OiBudW1iZXIsIGJ1eV9wcmljZV9zdGVwOiBudW1iZXIsIHNlbGxfcHJpY2Vfc3RlcDogbnVtYmVyLCBncmlkX3JldGFpbl9jb3VudDogbnVtYmVyLCBncmlkX2FkZF9wY3Q6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT047XHJcbiAgICAgICAgY29uc3QgYnV5X3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgYnV5X3ByaWNlX3N0ZXAsIHByZWNpc2lvbik7XHJcbiAgICAgICAgY29uc3QgYnV5X2NvdW50ID0gTXlGbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuT05FX0dSSURfTElNSVQgKiAoMSArIGlkeCAqIGdyaWRfYWRkX3BjdCkgLyBidXlfcHJpY2UsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5fQkFUQ0hfQ09VTlQpXHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGxfcHJpY2UgPSBGaXhlZFByaWNlKHRoaXMudGFyZ2V0X3ByaWNlLCBzZWxsX3ByaWNlX3N0ZXAsIHByZWNpc2lvbik7XHJcbiAgICAgICAgY29uc3QgcmV0YWluX2NvdW50ID0gKHNlbGxfcHJpY2UgLSBidXlfcHJpY2UpICogYnV5X2NvdW50ICogZ3JpZF9yZXRhaW5fY291bnQ7XHJcbiAgICAgICAgY29uc3Qgc2VsbF9jb3VudCA9IE15Rmxvb3IoKHNlbGxfcHJpY2UgKiBidXlfY291bnQgLSByZXRhaW5fY291bnQpIC8gc2VsbF9wcmljZSwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTl9CQVRDSF9DT1VOVCk7XHJcblxyXG4gICAgICAgIHJldHVybiBbZ3JpZF9uYW1lICsgU3RyaW5nKGlkeCksIFRvUGVyY2VudChidXlfcHJpY2Vfc3RlcCksIChidXlfcHJpY2UgKyB0aGlzLmdyaWRfc2V0dGluZ3MuVFJJR0dFUl9BRERfUE9JTlQpLnRvRml4ZWQocHJlY2lzaW9uKSwgXHJcbiAgICAgICAgICAgICAgICBidXlfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLCBTdHJpbmcoYnV5X2NvdW50KSwgU3RyaW5nKE1hdGguY2VpbChidXlfcHJpY2UgKiBidXlfY291bnQpKSxcclxuICAgICAgICAgICAgICAgIChzZWxsX3ByaWNlIC0gdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKHByZWNpc2lvbiksIHNlbGxfcHJpY2UudG9GaXhlZChwcmVjaXNpb24pLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nKHNlbGxfY291bnQpLCBTdHJpbmcoTWF0aC5jZWlsKHNlbGxfcHJpY2UgKiBzZWxsX2NvdW50KSksIFRvVHJhZGluZ0dhcChzZWxsX3ByaWNlLCBidXlfcHJpY2UsIDEpLFxyXG4gICAgICAgICAgICAgICAgVG9UcmFkaW5nR2FwKGJ1eV9wcmljZSwgc2VsbF9wcmljZSwgMSldO1xyXG4gICAgfVxyXG5cclxufSIsICIvKlxyXG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU4QkExXHU3Qjk3XHU5MDNCXHU4RjkxXHVGRjBDXHU2QTIxXHU1RjBGM1xyXG4gICAgXHU3Mjc5XHU2QjhBXHU1Mzg2XHU1M0YyXHU1MzlGXHU1NkUwXHU1RTI2XHU2NzY1XHU3Njg0XHU0RTAwXHU0RTlCXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHVGRjBDXHU5NzAwXHU4OTgxXHU2MjRCXHU1MkE4XHU4QkJFXHU3RjZFXHU3RjUxXHU2ODNDXHU2QkNGXHU0RTJBXHU2ODNDXHU1QjUwXHU3Njg0XHU2QjY1XHU4RkRCXHU1MDNDXHJcbiovXHJcblxyXG5pbXBvcnQgeyBNeUZsb29yLCBNeUNlaWwsIFRvUGVyY2VudCwgVG9OdW1iZXIsIFRvVHJhZGluZ0dhcCwgRml4ZWRQcmljZSB9IGZyb20gXCIuL215bWF0aFwiO1xyXG5pbXBvcnQgeyBQbHVnaW5FbnYgfSBmcm9tIFwiLi9wbHVnaW5fZW52XCI7XHJcbmltcG9ydCB7IEdyaWRUcmFkaW5nIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRUcmFkaW5nTW9kZVRocmVlIGV4dGVuZHMgR3JpZFRyYWRpbmcgXHJcbntcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IocGx1Z2luX2VudjogUGx1Z2luRW52KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKHBsdWdpbl9lbnYpXHJcbiAgICAgICAgdGhpcy5tb2RlX3R5cGUgPSBcIlRocmVlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdEdyaWRUcmFkaW5nKGRhdGE6IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5QYXJzZVJhd0RhdGEoZGF0YSkgfHwgdGhpcy5pc19lbXB0eSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNfZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0R3JpZFBhcmFtKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRTdG9ja1RhYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdSZWNvcmQoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0SG9sZGluZ0FuYWx5c2lzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdJbmNvbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0FuYWx5c2lzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuU29ydFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGVSZW1vdGVQcmljZShyZW1vdGVfcHJpY2U6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID0gcmVtb3RlX3ByaWNlO1xyXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID4gMCAmJiB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlICE9IHRoaXMuY3VycmVudF9wcmljZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9wcmljZSA9IHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2U7XHJcbiAgICAgICAgICAgIHRoaXMuaXNfZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0R3JpZFBhcmFtKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRTdG9ja1RhYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdSZWNvcmQoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0SG9sZGluZ0FuYWx5c2lzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdJbmNvbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0FuYWx5c2lzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuU29ydFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBJbml0VHJhZGluZ1RhYmxlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzID0gW11cclxuICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzID0gW11cclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGUgPSBbXVxyXG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZVswXSA9IFtcIlx1N0Y1MVx1NjgzQ1x1NzlDRFx1N0M3QlwiLCBcIlx1NEVGN1x1NjgzQ1x1Njg2M1x1NEY0RFwiLCBcIlx1NEU3MFx1NTE2NVx1ODlFNlx1NTNEMVx1NEVGN1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGRFx1NjU3MFwiLCBcIlx1NEU3MFx1NTE2NVx1OTFEMVx1OTg5RFwiLCBcIlx1NTM1Nlx1NTFGQVx1ODlFNlx1NTNEMVx1NEVGN1wiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGN1x1NjgzQ1wiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGRFx1NjU3MFwiLCBcIlx1NTM1Nlx1NTFGQVx1OTFEMVx1OTg5RFwiLCBcIlx1NzZGOFx1NUJGOVx1OERDQ1x1NUU0NVwiLCBcIlx1NzZGOFx1NUJGOVx1NkRBOFx1NUU0NVwiXTtcclxuXHJcbiAgICAgICAgY29uc3QgbWF4X3Jpc2VfcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9SSVNFX1BDVDtcclxuICAgICAgICBsZXQgZ3JpZF9zZWxsX3BjdCA9IDEuMCArIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9TVEVQX1BDVFxyXG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5zZ3JpZF9zdGVwX3RhYmxlLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZF9idXlfcGN0ID0gVG9OdW1iZXIodGhpcy5zZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMV0pXHJcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtpZHggKyAxXSA9IHRoaXMuR2VuZXJhdGVPbmVSb3codGhpcy5zZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMF0sIGdyaWRfYnV5X3BjdCwgZ3JpZF9zZWxsX3BjdCxcclxuICAgICAgICAgICAgICAgICAgICBOdW1iZXIodGhpcy5zZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMl0pLCBOdW1iZXIodGhpcy5zZ3JpZF9zdGVwX3RhYmxlW2lkeF1bM10pKTtcclxuICAgICAgICAgICAgZ3JpZF9zZWxsX3BjdCA9IGdyaWRfYnV5X3BjdDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhpZHggKyAxKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MucHVzaChpZHggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdWzBdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChpZHggKyAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKGlkeCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1QzBGXHU3RjUxXHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RfYnV5ID0gdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmIChsYXN0X2J1eSA8IHRoaXMuc2dyaWRfc3RlcF90YWJsZS5sZW5ndGgpIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGxhc3RfYnV5ICsgMSk7XHJcbiAgICAgICAgICAgIGxldCBsYXN0X3NlbGwgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0X3NlbGwpIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGwpO1xyXG4gICAgICAgICAgICAvL2lmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgaWYgKGZhbHNlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfcyA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGxhc3Rfc2VsbF9zLCB0cnVlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGxfcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1QzBGXHU3RjUxXHU3Njg0XHU5OTk2XHU3RjUxXHU0RTcwXHU1MTY1XHJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0X2J1eSA9IDE7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IoZmlyc3RfYnV5LCBmYWxzZSwgdGhpcy5jdXJyZW50X3ByaWNlLCBtYXhfcmlzZV9wY3QpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChmaXJzdF9idXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdGFydF9pbmRleCA9IHRoaXMuc2dyaWRfc3RlcF90YWJsZS5sZW5ndGggKyAxO1xyXG4gICAgICAgIGdyaWRfc2VsbF9wY3QgPSAxLjAgKyB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfU1RFUF9QQ1Q7XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLm1ncmlkX3N0ZXBfdGFibGUubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBncmlkX2J1eV9wY3QgPSBUb051bWJlcih0aGlzLm1ncmlkX3N0ZXBfdGFibGVbaWR4XVsxXSlcclxuICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW3N0YXJ0X2luZGV4ICsgaWR4XSA9IHRoaXMuR2VuZXJhdGVPbmVSb3codGhpcy5tZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMF0sIGdyaWRfYnV5X3BjdCwgZ3JpZF9zZWxsX3BjdCxcclxuICAgICAgICAgICAgICAgICAgICBOdW1iZXIodGhpcy5tZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMl0pLCBOdW1iZXIodGhpcy5tZ3JpZF9zdGVwX3RhYmxlW2lkeF1bM10pKTtcclxuICAgICAgICAgICAgZ3JpZF9zZWxsX3BjdCA9IGdyaWRfYnV5X3BjdDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuSXNEaXNhYmxlUm93KHN0YXJ0X2luZGV4ICsgaWR4KSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF1bMF0pKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NEUyRFx1N0Y1MVx1NEU3MFx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuSXNOZWVkTW9uaXRvcihzdGFydF9pbmRleCArIGlkeCwgZmFsc2UsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwICYmIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV0gPj0gc3RhcnRfaW5kZXgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgY29uc3QgbGFzdF9zZWxsX20gPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5Jc05lZWRNb25pdG9yKGxhc3Rfc2VsbF9tLCB0cnVlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5yZW1vdmUobGFzdF9zZWxsX20pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdGFydF9pbmRleCA9IHRoaXMuc2dyaWRfc3RlcF90YWJsZS5sZW5ndGggKyB0aGlzLm1ncmlkX3N0ZXBfdGFibGUubGVuZ3RoICsgMTtcclxuICAgICAgICBncmlkX3NlbGxfcGN0ID0gMS4wICsgdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENUO1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5sZ3JpZF9zdGVwX3RhYmxlLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZF9idXlfcGN0ID0gVG9OdW1iZXIodGhpcy5sZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMV0pXHJcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF0gPSB0aGlzLkdlbmVyYXRlT25lUm93KHRoaXMubGdyaWRfc3RlcF90YWJsZVtpZHhdWzBdLCBncmlkX2J1eV9wY3QsIGdyaWRfc2VsbF9wY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyKHRoaXMubGdyaWRfc3RlcF90YWJsZVtpZHhdWzJdKSwgTnVtYmVyKHRoaXMubGdyaWRfc3RlcF90YWJsZVtpZHhdWzNdKSk7XHJcbiAgICAgICAgICAgIGdyaWRfc2VsbF9wY3QgPSBncmlkX2J1eV9wY3Q7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzRGlzYWJsZVJvdyhzdGFydF9pbmRleCArIGlkeCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbc3RhcnRfaW5kZXggKyBpZHhdWzBdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTU5MjdcdTdGNTFcdTRFNzBcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3Ioc3RhcnRfaW5kZXggKyBpZHgsIGZhbHNlLCB0aGlzLmN1cnJlbnRfcHJpY2UsIG1heF9yaXNlX3BjdCkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCA+IDAgJiYgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXSA+PSBzdGFydF9pbmRleClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NTM1Nlx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfbCA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklzTmVlZE1vbml0b3IobGFzdF9zZWxsX2wsIHRydWUsIHRoaXMuY3VycmVudF9wcmljZSwgbWF4X3Jpc2VfcGN0KSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnJlbW92ZShsYXN0X3NlbGxfbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX2wpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdlbmVyYXRlT25lUm93KGdyaWRfbmFtZTogc3RyaW5nLCBncmlkX2J1eV9wY3Q6IG51bWJlciwgZ3JpZF9zZWxsX3BjdDogbnVtYmVyLCBncmlkX2FkZF9wY3Q6IG51bWJlciwgZ3JpZF9yZXRhaW5fY291bnQ6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLmdyaWRfc2V0dGluZ3MuVFJBRElOR19QUklDRV9QUkVDSVNJT047XHJcbiAgICAgICAgY29uc3QgYnV5X3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgZ3JpZF9idXlfcGN0LCBwcmVjaXNpb24pO1xyXG4gICAgICAgIGNvbnN0IGJ1eV9jb3VudCA9IE15Rmxvb3IodGhpcy5ncmlkX3NldHRpbmdzLk9ORV9HUklEX0xJTUlUICogKDEgKyBncmlkX2FkZF9wY3QpIC8gYnV5X3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKVxyXG5cclxuICAgICAgICBjb25zdCBzZWxsX3ByaWNlID0gRml4ZWRQcmljZSh0aGlzLnRhcmdldF9wcmljZSwgZ3JpZF9zZWxsX3BjdCwgcHJlY2lzaW9uKTtcclxuICAgICAgICBjb25zdCByZXRhaW5fY291bnQgPSAoc2VsbF9wcmljZSAtIGJ1eV9wcmljZSkgKiBidXlfY291bnQgKiBncmlkX3JldGFpbl9jb3VudDtcclxuICAgICAgICBjb25zdCBzZWxsX2NvdW50ID0gTXlGbG9vcigoc2VsbF9wcmljZSAqIGJ1eV9jb3VudCAtIHJldGFpbl9jb3VudCkgLyBzZWxsX3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtncmlkX25hbWUsIFRvUGVyY2VudChncmlkX2J1eV9wY3QpLCAoYnV5X3ByaWNlICsgdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKHByZWNpc2lvbiksIFxyXG4gICAgICAgICAgICAgICAgYnV5X3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSwgU3RyaW5nKGJ1eV9jb3VudCksIFN0cmluZyhNYXRoLmNlaWwoYnV5X3ByaWNlICogYnV5X2NvdW50KSksXHJcbiAgICAgICAgICAgICAgICAoc2VsbF9wcmljZSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUklHR0VSX0FERF9QT0lOVCkudG9GaXhlZChwcmVjaXNpb24pLCBzZWxsX3ByaWNlLnRvRml4ZWQocHJlY2lzaW9uKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZyhzZWxsX2NvdW50KSwgU3RyaW5nKE1hdGguY2VpbChzZWxsX3ByaWNlICogc2VsbF9jb3VudCkpLCBUb1RyYWRpbmdHYXAoc2VsbF9wcmljZSwgYnV5X3ByaWNlLCAxKSxcclxuICAgICAgICAgICAgICAgIFRvVHJhZGluZ0dhcChidXlfcHJpY2UsIHNlbGxfcHJpY2UsIDEpXTtcclxuICAgIH1cclxuXHJcbn0iLCAiLypcclxuICAgIFBsdWdpbiBydW50aW1lIGRhdGFcclxuKi9cclxuXHJcbmltcG9ydCB7IFBsdWdpbkJhc2VTZXR0aW5ncywgR3JpZFRyYWRpbmdTZXR0aW5ncywgUGFja1NldHRpbmdzLCBVbnBhY2tTZXR0aW5ncyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XHJcbmltcG9ydCB7IEdyaWRUcmFkaW5nIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nXCI7XHJcbmltcG9ydCB7IERlYnVnTG9nIH0gZnJvbSBcIi4vcmVtb3RlX3V0aWxcIjtcclxuaW1wb3J0IHsgR3JpZFRyYWRpbmdNb2RlT25lIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nX20xXCI7XHJcbmltcG9ydCB7IEdyaWRUcmFkaW5nTW9kZVR3byB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ19tMlwiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZ01vZGVUaHJlZSB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ19tM1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFVQREFURV9TVE9DS19TRVRUSU5HID0gXCJ1cGRhdGVfc3RvY2tfc2V0dGluZ1wiO1xyXG5leHBvcnQgY29uc3QgRkVUQ0hfQ1VSUkVOVF9QUklDRSA9IFwiZmV0Y2hfY3VycmVudF9wcmljZVwiO1xyXG5cclxudHlwZSBDYWxsYmFjayA9ICgpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgUGx1Z2luRW52XHJcbntcclxuICAgIGlzX3NldHRpbmdzX2NoYW5nZWQ6IGJvb2xlYW47XHJcbiAgICBiYXNlX3NldHRpbmdzOiBQbHVnaW5CYXNlU2V0dGluZ3M7XHJcbiAgICBncmlkX3NldHRpbmdzOiBHcmlkVHJhZGluZ1NldHRpbmdzO1xyXG5cclxuICAgIGdyaWRfdHJhZGluZ19kaWN0OiBNYXA8c3RyaW5nLCBHcmlkVHJhZGluZz47XHJcbiAgICBzdG9ja19yZW1vdGVfcHJpY2VfZGljdDogTWFwPHN0cmluZywgbnVtYmVyPjtcclxuICAgIGV2ZW50X2NhbGxiYWNrX2RpY3Q6IE1hcDxzdHJpbmcsIE1hcDxudW1iZXIsIENhbGxiYWNrPj5cclxuICAgIF9ldmVudF9ndWlkOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaXNfc2V0dGluZ3NfY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYmFzZV9zZXR0aW5ncyA9IG5ldyBQbHVnaW5CYXNlU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MgPSBuZXcgR3JpZFRyYWRpbmdTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMuZ3JpZF90cmFkaW5nX2RpY3QgPSBuZXcgTWFwPHN0cmluZywgR3JpZFRyYWRpbmc+O1xyXG4gICAgICAgIHRoaXMuc3RvY2tfcmVtb3RlX3ByaWNlX2RpY3QgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPjtcclxuICAgICAgICB0aGlzLmV2ZW50X2NhbGxiYWNrX2RpY3QgPSBuZXcgTWFwPHN0cmluZywgTWFwPG51bWJlciwgQ2FsbGJhY2s+PjtcclxuICAgICAgICB0aGlzLl9ldmVudF9ndWlkID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBHZXRBUElMaXNlbmNlKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2Vfc2V0dGluZ3MuREFUQV9BUElfTElDRU5DRTtcclxuICAgIH1cclxuXHJcbiAgICBHZXRTdG9ja1JlbW90ZVByaWNlKHN0b2NrX25vOiBzdHJpbmcpOiBudW1iZXJcclxuICAgIHtcclxuICAgICAgICBjb25zdCBwcmljZSA9IHRoaXMuc3RvY2tfcmVtb3RlX3ByaWNlX2RpY3QuZ2V0KHN0b2NrX25vKTtcclxuICAgICAgICBpZiAocHJpY2UgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByaWNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdldEdyaWRUcmFkaW5nVHlwZUJ5U3RyaW5nKG1vZGU6IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICBpZiAobW9kZSA9PSBcIm1vZGVfdHdvXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL0RlYnVnTG9nKFwiR2V0R3JpZFRyYWRpbmdUeXBlQnlTdHJpbmcgcmV0dXJuIFR3byBcIiwgbW9kZSlcclxuICAgICAgICAgICAgcmV0dXJuIEdyaWRUcmFkaW5nTW9kZVR3bztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1vZGUgPT0gXCJtb2RlX3RocmVlXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL0RlYnVnTG9nKFwiR2V0R3JpZFRyYWRpbmdUeXBlQnlTdHJpbmcgcmV0dXJuIFRocmVlIFwiLCBtb2RlKVxyXG4gICAgICAgICAgICByZXR1cm4gR3JpZFRyYWRpbmdNb2RlVGhyZWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFx1OUVEOFx1OEJBNFx1NEY3Rlx1NzUyOFx1NkEyMVx1NUYwRjFcclxuICAgICAgICAvL0RlYnVnTG9nKFwiR2V0R3JpZFRyYWRpbmdUeXBlQnlTdHJpbmcgcmV0dXJuIE9uZSBcIiwgbW9kZSlcclxuICAgICAgICByZXR1cm4gR3JpZFRyYWRpbmdNb2RlT25lO1xyXG4gICAgfVxyXG5cclxuICAgIEdldEFuZEdlbkdyaWRUcmFkaW5nKGdyaWRfbmFtZTogc3RyaW5nLCBtb2RlOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGdyaWRfdHJhZGluZyA9IHRoaXMuZ3JpZF90cmFkaW5nX2RpY3QuZ2V0KGdyaWRfbmFtZSlcclxuICAgICAgICBjb25zdCB0cmFkaW5nX21vZGUgPSB0aGlzLkdldEdyaWRUcmFkaW5nVHlwZUJ5U3RyaW5nKG1vZGUpXHJcbiAgICAgICAgaWYgKGdyaWRfdHJhZGluZyBpbnN0YW5jZW9mIHRyYWRpbmdfbW9kZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBncmlkX3RyYWRpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdyaWRfdHJhZGluZyA9IG5ldyB0cmFkaW5nX21vZGUodGhpcyk7XHJcbiAgICAgICAgdGhpcy5ncmlkX3RyYWRpbmdfZGljdC5zZXQoZ3JpZF9uYW1lLCBncmlkX3RyYWRpbmcpO1xyXG4gICAgICAgIHJldHVybiBncmlkX3RyYWRpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgVW5zZXJpYWxpemVkU2V0dGluZ3MoZGF0YTogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICBpZiAobGluZXMubGVuZ3RoIDw9IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgVW5wYWNrU2V0dGluZ3ModGhpcy5iYXNlX3NldHRpbmdzLCBsaW5lcyk7XHJcbiAgICAgICAgVW5wYWNrU2V0dGluZ3ModGhpcy5ncmlkX3NldHRpbmdzLCBsaW5lcyk7XHJcbiAgICB9XHJcblxyXG4gICAgU2VyaWFsaXplZFNldHRpbmdzKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBQYWNrU2V0dGluZ3ModGhpcy5iYXNlX3NldHRpbmdzKSArIFBhY2tTZXR0aW5ncyh0aGlzLmdyaWRfc2V0dGluZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIFB1Ymxpc2hFdmVudChldmVudF9uYW1lOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgLy9EZWJ1Z0xvZyhcIlB1Ymxpc2hFdmVudDogXCIsIGV2ZW50X25hbWUpO1xyXG4gICAgICAgIGNvbnN0IGNiX2RpY3QgPSB0aGlzLmV2ZW50X2NhbGxiYWNrX2RpY3QuZ2V0KGV2ZW50X25hbWUpXHJcbiAgICAgICAgaWYgKGNiX2RpY3QgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBbZ3VpZCwgZXZlbnRfY2JdIG9mIGNiX2RpY3QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0cnlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIlRyaWdnZXJFdmVudENiIGd1aWQ6IFwiLCBndWlkLCBcIiBjYjogXCIsIGV2ZW50X2NiLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRfY2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaChlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgU3Vic2NyaWJlRXZlbnQoZXZlbnRfbmFtZTogc3RyaW5nLCBldmVudF9jYjogQ2FsbGJhY2spOiBudW1iZXJcclxuICAgIHtcclxuICAgICAgICBjb25zdCBndWlkID0gdGhpcy5HZW5HVUlEKCk7XHJcbiAgICAgICAgbGV0IGNiX2RpY3QgPSB0aGlzLmV2ZW50X2NhbGxiYWNrX2RpY3QuZ2V0KGV2ZW50X25hbWUpO1xyXG4gICAgICAgIGlmIChjYl9kaWN0ID09IHVuZGVmaW5lZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNiX2RpY3QgPSBuZXcgTWFwPG51bWJlciwgQ2FsbGJhY2s+O1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50X2NhbGxiYWNrX2RpY3Quc2V0KGV2ZW50X25hbWUsIGNiX2RpY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYl9kaWN0LnNldChndWlkLCBldmVudF9jYik7XHJcbiAgICAgICAgLy9EZWJ1Z0xvZyhcIlN1YnNjcmliZUV2ZW50OiBcIiwgZXZlbnRfbmFtZSwgXCIgZ3VpZDogXCIsIGd1aWQsIFwiIGNiOiBcIiwgZXZlbnRfY2IubmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIGd1aWQ7XHJcbiAgICB9XHJcblxyXG4gICAgVW5zdWJzY3JpYmVFdmVudChldmVudF9uYW1lOiBzdHJpbmcsIGV2ZW50X2d1aWQ6IG51bWJlcik6IGJvb2xlYW5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBjYl9kaWN0ID0gdGhpcy5ldmVudF9jYWxsYmFja19kaWN0LmdldChldmVudF9uYW1lKVxyXG4gICAgICAgIGlmIChjYl9kaWN0ID09IHVuZGVmaW5lZCB8fCAhY2JfZGljdC5oYXMoZXZlbnRfZ3VpZCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vRGVidWdMb2coXCJVbnN1YnNjcmliZUV2ZW50OiBcIiwgZXZlbnRfbmFtZSwgXCIgZ3VpZDogXCIsIGV2ZW50X2d1aWQpO1xyXG4gICAgICAgIHJldHVybiBjYl9kaWN0LmRlbGV0ZShldmVudF9ndWlkKTtcclxuICAgIH1cclxuXHJcbiAgICBHZW5HVUlEKCk6IG51bWJlclxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50X2d1aWQrKztcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnRfZ3VpZDtcclxuICAgIH1cclxufVxyXG4iLCAiLypcclxuICAgIFx1NTkwNFx1NzQwNlx1NjRDRFx1NEY1Q1x1NjMwN1x1NEVFNFx1RkYwQ1x1OEQxRlx1OEQyM1x1ODlFM1x1Njc5MFx1NTE4NVx1NUJCOVx1NUU3Nlx1NzUxRlx1NjIxMFx1NjgzQ1x1NUYwRlx1NTMxNlx1N0VEM1x1Njc5Q1xyXG4qL1xyXG5cclxuaW1wb3J0IHsgc3Vic2NyaWJlIH0gZnJvbSBcImRpYWdub3N0aWNzX2NoYW5uZWxcIjtcclxuaW1wb3J0IHsgSXNOdW1lcmljIH0gZnJvbSBcIi4vbXltYXRoXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZENvbW1hbmRcclxue1xyXG4gICAgY29tbWFuZDogc3RyaW5nO1xyXG4gICAgY29tbWFuZF90eXBlOiBzdHJpbmc7XHJcbiAgICBjb21tYW5kX3BhcmFtMTogc3RyaW5nO1xyXG4gICAgY29tbWFuZF9wYXJhbTI6IGFueTsgXHJcbiAgICBkYXRhX3Jlc3VsdF9zdHI6IHN0cmluZztcclxuICAgIGRhdGFfcmVzdWx0X251bTogbnVtYmVyO1xyXG4gICAgZXJyb3JfY29kZTogbnVtYmVyO1xyXG4gICAgZXJyb3JfbXNnOiBzdHJpbmc7XHJcbiAgICByYXdfY29tbWFuZF90ZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY29tbWFuZCA9IFwibm9uZVwiO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZF90eXBlID0gXCJncmlkXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBFeGN1dGVHcmlkQ29tbWFuZChjbWRfc3RyOiBzdHJpbmcpOiBHcmlkQ29tbWFuZFxyXG57XHJcbiAgICBjb25zdCBzdHJzID0gY21kX3N0ci5zcGxpdChcIiBcIik7XHJcbiAgICBjb25zdCBjb21tYW5kID0gbmV3IEdyaWRDb21tYW5kKCk7XHJcbiAgICBjb21tYW5kLmNvbW1hbmQgPSBzdHJzWzBdO1xyXG4gICAgY29tbWFuZC5yYXdfY29tbWFuZF90ZXh0ID0gY21kX3N0cjtcclxuICAgIGlmIChjb21tYW5kLmNvbW1hbmQgPT0gXCJhZGRfcmVjb3JkXCIpXHJcbiAgICB7XHJcbiAgICAgICAgY29tbWFuZC5jb21tYW5kX3BhcmFtMSA9IHN0cnNbMV07XHJcbiAgICAgICAgQWRkR3JpZFJlY29yZChjb21tYW5kKTtcclxuICAgIH1cclxuICAgIGlmIChjb21tYW5kLmNvbW1hbmQgPT0gXCJkZWxfcmVjb3JkXCIpXHJcbiAgICB7XHJcbiAgICAgICAgY29tbWFuZC5jb21tYW5kX3BhcmFtMSA9IHN0cnNbMV07XHJcbiAgICAgICAgRGVsR3JpZFJlY29yZChjb21tYW5kKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb21tYW5kO1xyXG59XHJcblxyXG5mdW5jdGlvbiBBZGRHcmlkUmVjb3JkKGNvbW1hbmQ6IEdyaWRDb21tYW5kKVxyXG57XHJcbiAgICBjb25zdCBzdWJfc3RycyA9IGNvbW1hbmQuY29tbWFuZF9wYXJhbTEuc3BsaXQoXCIsXCIpO1xyXG4gICAgaWYgKHN1Yl9zdHJzLmxlbmd0aCAhPSA1KVxyXG4gICAge1xyXG4gICAgICAgIGNvbW1hbmQuZXJyb3JfY29kZSA9IC0xO1xyXG4gICAgICAgIGNvbW1hbmQuZXJyb3JfbXNnID0gXCJpbnZhbGlkIHBhcmFtXCJcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoc3ViX3N0cnNbMF0gIT0gXCJCVVlcIiAmJiBzdWJfc3Ryc1swXSAhPSBcIlNFTExcIiAmJiBzdWJfc3Ryc1swXSAhPSBcIlNIQVJFXCIpXHJcbiAgICB7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9jb2RlID0gLTE7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9tc2cgPSBcImludmFsaWQgcGFyYW1cIlxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NUMwRlx1N0Y1MVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NEUyRFx1N0Y1MVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NTkyN1x1N0Y1MVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1N0VBMlx1NTIyOVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NTIyOVx1NkRBNlwiKSlcclxuICAgIHtcclxuICAgICAgICBjb21tYW5kLmVycm9yX2NvZGUgPSAtMTtcclxuICAgICAgICBjb21tYW5kLmVycm9yX21zZyA9IFwiaW52YWxpZCBwYXJhbVwiXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29tbWFuZC5lcnJvcl9jb2RlID0gMDtcclxuICAgIGNvbW1hbmQuZGF0YV9yZXN1bHRfc3RyID0gXCJcXG5cIiArIGNvbW1hbmQuY29tbWFuZF9wYXJhbTE7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gRGVsR3JpZFJlY29yZChjb21tYW5kOiBHcmlkQ29tbWFuZClcclxue1xyXG4gICAgaWYgKElzTnVtZXJpYyhjb21tYW5kLmNvbW1hbmRfcGFyYW0xKSlcclxuICAgIHtcclxuICAgICAgICBjb21tYW5kLmVycm9yX2NvZGUgPSAwO1xyXG4gICAgICAgIGNvbW1hbmQuZGF0YV9yZXN1bHRfbnVtID0gTnVtYmVyKGNvbW1hbmQuY29tbWFuZF9wYXJhbTEpXHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9jb2RlID0gLTE7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9tc2cgPSBcImludmFsaWQgcGFyYW1cIjtcclxuICAgIH1cclxufSIsICIvKlxyXG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU2MDNCXHU4OUM4XHU4OUM2XHU1NkZFXHJcbiovXHJcbmltcG9ydCB7IFRleHRGaWxlVmlldywgV29ya3NwYWNlTGVhZiwgVEZpbGUsIFRGb2xkZXIsIFZhdWx0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IEdSSURfQ09MT1JfU1RPQ0tfT1ZFUlZJRVcsIEdSSURfQ09MT1JfVEFCTEVfVElUTEUsIEdSSURfQ09MT1JfQlVZX09WRVJWSUVXLCBHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZyB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ1wiO1xyXG5pbXBvcnQgeyBQbHVnaW5FbnYsIEZFVENIX0NVUlJFTlRfUFJJQ0UgfSBmcm9tIFwiLi9wbHVnaW5fZW52XCI7XHJcbmltcG9ydCB7IFN0cmluZ1BsdXMsIFRvUGVyY2VudCwgVG9UcmFkaW5nR2FwLCBQcm9wb3J0aW9uUGN0U3RyIH0gZnJvbSBcIi4vbXltYXRoXCI7XHJcblxyXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0dUTyA9IFwiZ3RvLXZpZXdcIlxyXG5cclxuZXhwb3J0IGNsYXNzIEdUT1ZpZXcgZXh0ZW5kcyBUZXh0RmlsZVZpZXdcclxue1xyXG4gICAgZGF0YTogc3RyaW5nO1xyXG4gICAgdmF1bHQ6IFZhdWx0O1xyXG4gICAgcGx1Z2luX2VudjogUGx1Z2luRW52O1xyXG4gICAgcmVmcmVzaF9ldmVudF9ndWlkOiBudW1iZXI7XHJcblxyXG4gICAgZGVidWdfbG9nOiBzdHJpbmcgW11bXTtcclxuICAgIHN0b2NrX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcclxuICAgIGN1c3RvbV9zdG9ja19vdmVydmlldzogc3RyaW5nIFtdW107XHJcbiAgICBzdG9ja19maWxsZWRfb3ZlcnZpZXc6IHN0cmluZyBbXVtdO1xyXG4gICAgaW5jb21lX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcclxuICAgIGhvbGRpbmdfb3ZlcnZpZXc6IHN0cmluZyBbXVtdO1xyXG4gICAgbWdyaWRfYnV5X3RvdGFsX2Nvc3Q6IG51bWJlcjtcclxuICAgIGxncmlkX2J1eV90b3RhbF9jb3N0OiBudW1iZXI7XHJcblxyXG4gICAgb3ZlcnZpZXdfdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgb3ZlcnZpZXdfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgY3VzdG9tX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGN1c3RvbV90YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBmaWxsZWRfdGlsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBmaWxsZWRfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgaW5jb21lX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGluY29tZV90YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBob2xkaW5nX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGhvbGRpbmdfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgZGVidWdfbG9nX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGRlYnVnX2xvZ190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgdmF1bHQ6IFZhdWx0LCBwbHVnaW5fZW52OiBQbHVnaW5FbnYpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIobGVhZik7XHJcbiAgICAgICAgdGhpcy52YXVsdCA9IHZhdWx0O1xyXG4gICAgICAgIHRoaXMucGx1Z2luX2VudiA9IHBsdWdpbl9lbnY7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoX2V2ZW50X2d1aWQgPSAtMTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2cgPSBbXTtcclxuICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3ID0gW107XHJcbiAgICAgICAgdGhpcy5jdXN0b21fc3RvY2tfb3ZlcnZpZXcgPSBbXTtcclxuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaG9sZGluZ19vdmVydmlldyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIFJlYWRDdXN0b21TdG9jaygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3ID0gW1tcIlx1N0I3OVx1NzgwMVx1N0M3Qlx1NTc4QlwiLCBcIlx1NTM2MFx1NzUyOFx1NjcyQ1x1OTFEMVwiLCBcIlx1NjMwMVx1NEVEM1x1OTFEMVx1OTg5RFwiLCBcIlx1NjMwMVx1NEVEM1x1NzZDOFx1NEU4RlwiLCBcIlx1NkUwNVx1NjgzQ1x1NzZDOFx1NTIyOVwiLCBcIlx1NkUwNVx1NEVEM1x1NzZDOFx1NTIyOVwiLCBcIlx1NjMwMVx1NEVEM1x1NTM2MFx1NkJENFwiLCBcIlx1NjcyQ1x1OTFEMVx1NTM2MFx1NkJENFwiXV1cclxuICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXcucHVzaChbXCJcdTYwM0JcdTk4OURcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXcucHVzaChbXCJcdTVDMEZcdTdGNTFcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXcucHVzaChbXCJcdTRFMkRcdTdGNTFcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXcucHVzaChbXCJcdTU5MjdcdTdGNTFcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXcucHVzaChbXCJcdTdEMkZcdTc5RUZcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfb3ZlcnZpZXcucHVzaChbXCJcdTg4NjVcdTRFRDNcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcclxuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldyA9IFtbXCJcIiwgXCJcdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDFcIiwgXCJcdTYzMDFcdTRFRDNcdTkxRDFcdTk4OURcIiwgXCJcdTYzMDFcdTRFRDNcdTc2QzhcdTRFOEZcIiwgXCJcdTYyOTVcdTUxNjVcdThENDRcdTkxRDFcIiwgXCJcdThEMjZcdTk3NjJcdThENDRcdTkxRDFcIiwgXCJcdTYyOTVcdTUxNjVcdTc2QzhcdTRFOEZcIiwgXCJcdTYyOTVcdTUxNjVcdTRFRDNcdTRGNERcIl1dO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3LnB1c2goW1wiXHU3RDJGXHU3OUVGXHU3Qjc5XHU3ODAxXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiLVwiXSk7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXcucHVzaChbXCJcdTVGNTNcdTUyNERcdTYzMDFcdTRFRDNcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcclxuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldy5wdXNoKFtcIlx1NUY1M1x1NTI0RFx1NkUwNVx1NjgzQ1wiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIi1cIl0pO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3LnB1c2goW1wiXHU1RjUzXHU1MjREXHU2RTA1XHU0RUQzXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiLVwiXSk7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXcucHVzaChbXCJcdTU2REVcdThDMDNcdTYzMDFcdTRFRDNcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcclxuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldy5wdXNoKFtcIlx1NTZERVx1OEMwM1x1NkUwNVx1NjgzQ1wiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIi1cIl0pO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3LnB1c2goW1wiXHU1NkRFXHU4QzAzXHU2RTA1XHU3NkQ4XCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiLVwiXSk7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXcucHVzaChbXCJcdTY3MDBcdTU5MjdcdTYzMDFcdTRFRDNcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcclxuICAgICAgICB0aGlzLmluY29tZV9vdmVydmlldy5wdXNoKFtcIlx1NjcwMFx1NTkyN1x1NkUwNVx1NjgzQ1wiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIi1cIl0pO1xyXG4gICAgICAgIHRoaXMuaW5jb21lX292ZXJ2aWV3LnB1c2goW1wiXHU2NzAwXHU1OTI3XHU2RTA1XHU3NkQ4XCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiLVwiXSk7XHJcbiAgICAgICAgY29uc3Qgc3RvY2tfdGFibGU6IHN0cmluZyBbXVtdID0gW1tHUklEX0NPTE9SX1RBQkxFX1RJVExFLCBcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBcIlx1NjgwN1x1NzY4NFx1NTQwRFx1NzlGMFwiLCBcIlx1OTk5Nlx1N0Y1MVx1NzZFRVx1NjgwN1x1NEVGN1wiLCBcIlx1NUY1M1x1NTI0RFx1NEVGN1x1NjgzQ1wiLCBcIlx1NEVGN1x1NjgzQ1x1NzY3RVx1NTIwNlx1NEY0RFwiLCBcIlx1NjMwMVx1NEVEM1x1ODBBMVx1NjU3MFwiLCBcIlx1NkQ4OFx1ODAxN1x1NjcyQ1x1OTFEMVwiLCBcIlx1NzZDOFx1NEU4Rlx1NkJENFx1NzM4N1wiLCBcIlx1NTZERVx1OEMwM1x1NEVEM1x1NEY0RFwiXV07XHJcbiAgICAgICAgbGV0IGJ1eV90YWJsZTogc3RyaW5nIFtdW10gPSBbW0dSSURfQ09MT1JfVEFCTEVfVElUTEUsIFwiXHU2ODA3XHU3Njg0XHU0RUUzXHU1M0Y3XCIsIFwiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIFwiXHU3RjUxXHU2ODNDXHU3OUNEXHU3QzdCXCIsIFwiXHU0RUY3XHU2ODNDXHU2ODYzXHU0RjREXCIsIFwiXHU0RTcwXHU1MTY1XHU4OUU2XHU1M0QxXHU0RUY3XCIsIFwiXHU0RTcwXHU1MTY1XHU0RUY3XHU2ODNDXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUZEXHU2NTcwXCIsIFwiXHU0RTcwXHU1MTY1XHU5MUQxXHU5ODlEXCIsIFwiXHU4REREXHU2MjEwXHU0RUE0XHU0RUY3XCJdXTtcclxuICAgICAgICBsZXQgc2VsbF90YWJsZTogc3RyaW5nIFtdW10gPSBbW0dSSURfQ09MT1JfVEFCTEVfVElUTEUsIFwiXHU2ODA3XHU3Njg0XHU0RUUzXHU1M0Y3XCIsIFwiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIFwiXHU3RjUxXHU2ODNDXHU3OUNEXHU3QzdCXCIsIFwiXHU0RUY3XHU2ODNDXHU2ODYzXHU0RjREXCIsIFwiXHU1MzU2XHU1MUZBXHU4OUU2XHU1M0QxXHU0RUY3XCIsIFwiXHU1MzU2XHU1MUZBXHU0RUY3XHU2ODNDXCIsIFwiXHU1MzU2XHU1MUZBXHU0RUZEXHU2NTcwXCIsIFwiXHU1MzU2XHU1MUZBXHU5MUQxXHU5ODlEXCIsIFwiXHU4REREXHU2MjEwXHU0RUE0XHU0RUY3XCJdXTtcclxuICAgICAgICBsZXQgcGFzc2l2ZV90YWJsZTogc3RyaW5nIFtdW10gPSBbW0dSSURfQ09MT1JfVEFCTEVfVElUTEUsIFwiXHU2ODA3XHU3Njg0XHU0RUUzXHU1M0Y3XCIsIFwiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIFwiXHU3RjUxXHU2ODNDXHU3OUNEXHU3QzdCXCIsIFwiXHU0RUY3XHU2ODNDXHU2ODYzXHU0RjREXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUY3XHU2ODNDXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUZEXHU2NTcwXCIsIFwiXHU0RTcwXHU1MTY1XHU5MUQxXHU5ODlEXCIsIFwiXHU1RjUzXHU1MjREXHU0RUY3XHU2ODNDXCIsIFwiXHU1RjUzXHU1MjREXHU4RENDXHU1RTQ1XCIsIFwiXHU1MzU2XHU1MUZBXHU0RUY3XHU2ODNDXCIsIFwiXHU1MzU2XHU1MUZBXHU2REE4XHU1RTQ1XCJdXTtcclxuICAgICAgICBsZXQgYWN0aXZlX3RhYmxlOiBzdHJpbmcgW11bXSA9IFtbR1JJRF9DT0xPUl9UQUJMRV9USVRMRSwgXCJcdTY4MDdcdTc2ODRcdTRFRTNcdTUzRjdcIiwgXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFQTRcdTY2MTNcdTY1RTVcdTY3MUZcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTVGNTNcdTUyNERcdTRFRjdcdTY4M0NcIiwgXCJcdTYzMDFcdTRFRDNcdTY1MzZcdTc2Q0FcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTdEMkZcdTc5RUZcdTdCNzlcdTc4MDFcIl1dO1xyXG4gICAgICAgIGNvbnN0IGdyaWRfZm9sZGVyID0gdGhpcy52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoJ0dyaWRUcmFkaW5nJyk7XHJcbiAgICAgICAgbGV0IGdyaWRfZmlsZV9uYW1lczogc3RyaW5nIFtdID0gW107XHJcbiAgICAgICAgaWYgKGdyaWRfZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4PTA7IGluZGV4IDwgZ3JpZF9mb2xkZXIuY2hpbGRyZW4ubGVuZ3RoOyBpbmRleCsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmlkX2ZpbGUgPSBncmlkX2ZvbGRlci5jaGlsZHJlbltpbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZF9maWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZ3JpZF9maWxlLm5hbWUuZW5kc1dpdGgoXCIuZ3R2XCIpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWRfZmlsZV9uYW1lcy5wdXNoKGdyaWRfZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBncmlkX2ZpbGVfbmFtZXMuc29ydCgpO1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8Z3JpZF9maWxlX25hbWVzLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBncmlkX3RyYWRpbmcgPSB0aGlzLnBsdWdpbl9lbnYuZ3JpZF90cmFkaW5nX2RpY3QuZ2V0KGdyaWRfZmlsZV9uYW1lc1tpZHhdKTtcclxuICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZyBpbnN0YW5jZW9mIEdyaWRUcmFkaW5nICYmIGdyaWRfdHJhZGluZy5Jc1N0b2NrKCkgJiYgIWdyaWRfdHJhZGluZy5pc19kZWJ1ZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZ3JpZF90cmFkaW5nLkluaXRUcmFkaW5nT3ZlcnZpZXcoKVxyXG4gICAgICAgICAgICAgICAgc3RvY2tfdGFibGUucHVzaChncmlkX3RyYWRpbmcuc3RvY2tfb3ZlcnZpZXcpO1xyXG4gICAgICAgICAgICAgICAgYnV5X3RhYmxlID0gYnV5X3RhYmxlLmNvbmNhdChncmlkX3RyYWRpbmcuc3RvY2tfYnV5X292ZXJ2aWV3KTtcclxuICAgICAgICAgICAgICAgIHNlbGxfdGFibGUgPSBzZWxsX3RhYmxlLmNvbmNhdChncmlkX3RyYWRpbmcuc3RvY2tfc2VsbF9vdmVydmlldyk7XHJcbiAgICAgICAgICAgICAgICBwYXNzaXZlX3RhYmxlID0gcGFzc2l2ZV90YWJsZS5jb25jYXQoZ3JpZF90cmFkaW5nLnN0b2NrX3Bhc3NpdmVfZmlsbGVkX3JlY29yZCk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVfdGFibGUgPSBhY3RpdmVfdGFibGUuY29uY2F0KGdyaWRfdHJhZGluZy5zdG9ja19hY3RpdmVfZmlsbGVkX3JlY29yZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFkaW5nX2luY29tZSA9IGdyaWRfdHJhZGluZy50cmFkaW5nX2luY29tZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeD0xOyBpZHg8PTEwOyBpZHgrKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzFdID0gU3RyaW5nUGx1cyh0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzFdLCB0cmFkaW5nX2luY29tZVtpZHhdWzJdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzJdID0gU3RyaW5nUGx1cyh0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzJdLCB0cmFkaW5nX2luY29tZVtpZHhdWzNdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzNdID0gU3RyaW5nUGx1cyh0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzNdLCB0cmFkaW5nX2luY29tZVtpZHhdWzZdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzRdID0gU3RyaW5nUGx1cyh0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzRdLCB0cmFkaW5nX2luY29tZVtpZHhdWzddLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzVdID0gU3RyaW5nUGx1cyh0aGlzLmluY29tZV9vdmVydmlld1tpZHhdWzVdLCB0cmFkaW5nX2luY29tZVtpZHhdWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWRpbmdfaG9sZGluZyA9IGdyaWRfdHJhZGluZy5ob2xkaW5nX2FuYWx5c2lzO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeDw9NjsgaWR4KyspXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bMV0gPSBTdHJpbmdQbHVzKHRoaXMuaG9sZGluZ19vdmVydmlld1tpZHhdWzFdLCB0cmFkaW5nX2hvbGRpbmdbaWR4XVsyXSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bMl0gPSBTdHJpbmdQbHVzKHRoaXMuaG9sZGluZ19vdmVydmlld1tpZHhdWzJdLCB0cmFkaW5nX2hvbGRpbmdbaWR4XVszXSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bM10gPSBTdHJpbmdQbHVzKHRoaXMuaG9sZGluZ19vdmVydmlld1tpZHhdWzNdLCB0cmFkaW5nX2hvbGRpbmdbaWR4XVs2XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bNF0gPSBTdHJpbmdQbHVzKHRoaXMuaG9sZGluZ19vdmVydmlld1tpZHhdWzRdLCB0cmFkaW5nX2hvbGRpbmdbaWR4XVs3XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bNV0gPSBTdHJpbmdQbHVzKHRoaXMuaG9sZGluZ19vdmVydmlld1tpZHhdWzVdLCB0cmFkaW5nX2hvbGRpbmdbaWR4XVs4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGN1cnJlbnRfY29zdCA9IE51bWJlcih0aGlzLmluY29tZV9vdmVydmlld1syXVsxXSk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRfaG9sZCA9IE51bWJlcih0aGlzLmluY29tZV9vdmVydmlld1syXVsyXSk7XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeDw9MTA7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXdbaWR4XVs2XSA9IFRvUGVyY2VudChOdW1iZXIodGhpcy5pbmNvbWVfb3ZlcnZpZXdbaWR4XVszXSkgLyBOdW1iZXIodGhpcy5pbmNvbWVfb3ZlcnZpZXdbaWR4XVs0XSksIDIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbmNvbWVfb3ZlcnZpZXdbaWR4XVs3XSAhPSBcIi1cIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNvbWVfb3ZlcnZpZXdbaWR4XVs3XSA9IFRvUGVyY2VudChjdXJyZW50X2Nvc3QgLyBOdW1iZXIodGhpcy5pbmNvbWVfb3ZlcnZpZXdbaWR4XVs0XSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGlkeD0xOyBpZHg8PTY7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bNl0gPSBQcm9wb3J0aW9uUGN0U3RyKE51bWJlcih0aGlzLmhvbGRpbmdfb3ZlcnZpZXdbaWR4XVsyXSksIGN1cnJlbnRfaG9sZCwgMik7XHJcbiAgICAgICAgICAgIHRoaXMuaG9sZGluZ19vdmVydmlld1tpZHhdWzddID0gUHJvcG9ydGlvblBjdFN0cihOdW1iZXIodGhpcy5ob2xkaW5nX292ZXJ2aWV3W2lkeF1bMV0pLCBjdXJyZW50X2Nvc3QsIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1c3RvbV9zdG9ja19vdmVydmlldyA9IFsuLi5zdG9ja190YWJsZSwgLi4uYnV5X3RhYmxlLCAuLi5zZWxsX3RhYmxlXTtcclxuICAgICAgICB0aGlzLnN0b2NrX2ZpbGxlZF9vdmVydmlldyA9IFsuLi5wYXNzaXZlX3RhYmxlLCAuLi5hY3RpdmVfdGFibGVdO1xyXG4gICAgfVxyXG5cclxuICAgIFN1bXVwQWxsU3RvY2soKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXcgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiXHU2ODA3XHU3Njg0XHU2MDNCXHU2NTcwXCIsIFwiXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIlx1NEU3MFx1NTE2NVx1NzZEMVx1NjNBN1wiLCBcIlwiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJcdTUzNTZcdTUxRkFcdTc2RDFcdTYzQTdcIiwgXCJcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiXCIsIFwiXHU0RTcwXHU1MTY1XHU2MDNCXHU5ODlEXCIsIFwiLTUlXHU0RTcwXHU1MTY1XHU2MDNCXHU5ODlEXCIsIFwiLTMlXHU0RTcwXHU1MTY1XHU2MDNCXHU5ODlEXCIsIFwiKzMlXHU1MzU2XHU1MUZBXHU2MDNCXHU5ODlEXCIsIFwiKzUlXHU1MzU2XHU1MUZBXHU2MDNCXHU5ODlEXCIsIFwiXHU1MzU2XHU1MUZBXHU2MDNCXHU5ODlEXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIlx1NTE2OFx1OTBFOFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJcdTVDMEZcdTdGNTFcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiXHU0RTJEXHU3RjUxXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIlx1NTkyN1x1N0Y1MVwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgbGV0IHN0b2NrX2NvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBidXlfbW9uaXRvcl9jb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgc2VsbF9tb25pdG9yX2NvdW50OiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICBmb3IobGV0IGlkeD0wOyBpZHg8dGhpcy5jdXN0b21fc3RvY2tfb3ZlcnZpZXcubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b2NrID0gdGhpcy5jdXN0b21fc3RvY2tfb3ZlcnZpZXdbaWR4XTtcclxuICAgICAgICAgICAgaWYgKHN0b2NrWzBdID09IEdSSURfQ09MT1JfU1RPQ0tfT1ZFUlZJRVcpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0b2NrX2NvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0b2NrWzBdID09IEdSSURfQ09MT1JfQlVZX09WRVJWSUVXKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBidXlfbW9uaXRvcl9jb3VudCsrO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbNF1bMV0gPSBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbNF1bMV0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU1QzBGXHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbNV1bMV0gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzVdWzFdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NEUyRFx1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzZdWzFdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s2XVsxXSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTU5MjdcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s3XVsxXSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbN11bMV0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWRpbmdfZ2FwID0gTnVtYmVyKHN0b2NrWzldLnJlcGxhY2UoXCIlXCIsIFwiXCIpLnJlcGxhY2UoXCIrXCIsIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgIGlmICggdHJhZGluZ19nYXAgPiAtMylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzRdWzNdID0gU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzRdWzNdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTVDMEZcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzVdWzNdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s1XVszXSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NEUyRFx1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbNl1bM10gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzZdWzNdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU1OTI3XHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s3XVszXSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbN11bM10sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHJhZGluZ19nYXAgPiAtNSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzRdWzJdID0gU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzRdWzJdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTVDMEZcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzVdWzJdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s1XVsyXSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NEUyRFx1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbNl1bMl0gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzZdWzJdLCBzdG9ja1s4XSwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NTkyN1x1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbN11bMl0gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzddWzJdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdG9ja1swXSA9PSBHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNlbGxfbW9uaXRvcl9jb3VudCsrO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbNF1bNl0gPSBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbNF1bNl0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU1QzBGXHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbNV1bNl0gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzVdWzZdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NEUyRFx1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzZdWzZdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s2XVs2XSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTU5MjdcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s3XVs2XSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbN11bNl0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWRpbmdfZ2FwID0gTnVtYmVyKHN0b2NrWzldLnJlcGxhY2UoXCIlXCIsIFwiXCIpLnJlcGxhY2UoXCIrXCIsIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgIGlmICh0cmFkaW5nX2dhcCA8IDMpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s0XVs0XSA9IFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s0XVs0XSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU1QzBGXHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s1XVs0XSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbNV1bNF0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTRFMkRcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzZdWzRdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s2XVs0XSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NTkyN1x1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbN11bNF0gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzddWzRdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRyYWRpbmdfZ2FwIDwgNSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzRdWzVdID0gU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzRdWzVdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b2NrWzNdLnN0YXJ0c1dpdGgoXCJcdTVDMEZcdTdGNTFcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3WzVdWzVdID0gIFN0cmluZ1BsdXModGhpcy5zdG9ja19vdmVydmlld1s1XVs1XSwgc3RvY2tbOF0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvY2tbM10uc3RhcnRzV2l0aChcIlx1NEUyRFx1N0Y1MVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXdbNl1bNV0gPSAgU3RyaW5nUGx1cyh0aGlzLnN0b2NrX292ZXJ2aWV3WzZdWzVdLCBzdG9ja1s4XSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9ja1szXS5zdGFydHNXaXRoKFwiXHU1OTI3XHU3RjUxXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1s3XVs1XSA9ICBTdHJpbmdQbHVzKHRoaXMuc3RvY2tfb3ZlcnZpZXdbN11bNV0sIHN0b2NrWzhdLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1swXVsxXSA9IFN0cmluZyhzdG9ja19jb3VudCk7XHJcbiAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1sxXVsxXSA9IFN0cmluZyhidXlfbW9uaXRvcl9jb3VudCk7XHJcbiAgICAgICAgdGhpcy5zdG9ja19vdmVydmlld1syXVsxXSA9IFN0cmluZyhzZWxsX21vbml0b3JfY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIERlYnVnTG9nKGxldmVsOiBzdHJpbmcsIGxvZ19zdHI6IHN0cmluZywgZXh0cmFfaW5mbzogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGVidWdfbG9nLnB1c2goW2xldmVsLCBsb2dfc3RyLCBleHRyYV9pbmZvXSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Vmlld0RhdGEoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRWaWV3RGF0YShkYXRhOiBzdHJpbmcsIGNsZWFyOiBib29sZWFuKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5SZWZyZXNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9HVE87XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFzeW5jIG9uT3BlbigpOiBQcm9taXNlPHZvaWQ+IFxyXG4gICAge1xyXG4gICAgICAgIGxldCBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLm92ZXJ2aWV3X3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5vdmVydmlld190YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLmhvbGRpbmdfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLmluY29tZV90YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmN1c3RvbV90aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMuY3VzdG9tX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuZmlsbGVkX3RpbGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLmZpbGxlZF90YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKVxyXG4gICAgICAgIHRoaXMuZGVidWdfbG9nX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoX2V2ZW50X2d1aWQgPSB0aGlzLnBsdWdpbl9lbnYuU3Vic2NyaWJlRXZlbnQoRkVUQ0hfQ1VSUkVOVF9QUklDRSwgKCk9PnRoaXMuUmVmcmVzaCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgb25DbG9zZSgpOiBQcm9taXNlPHZvaWQ+XHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50RWwuZW1wdHkoKTsgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuVW5zdWJzY3JpYmVFdmVudChGRVRDSF9DVVJSRU5UX1BSSUNFLCB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFJlZnJlc2goKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuUmVhZEN1c3RvbVN0b2NrKCk7XHJcbiAgICAgICAgdGhpcy5TdW11cEFsbFN0b2NrKCk7XHJcbiAgICAgICAgLy8gXHU2ODA3XHU3Njg0XHU2MDNCXHU4OUM4XHJcbiAgICAgICAgdGhpcy5vdmVydmlld190aXRsZV9lbC5zZXRUZXh0KFwiXHU3RjUxXHU2ODNDXHU2MDNCXHU4OUM4XCIpO1xyXG4gICAgICAgIHRoaXMub3ZlcnZpZXdfdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZSh0aGlzLm92ZXJ2aWV3X3RhYmxlX2VsLCB0aGlzLnN0b2NrX292ZXJ2aWV3LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIFx1NjMwMVx1NEVEM1x1NTIwNlx1Njc5MFxyXG4gICAgICAgIHRoaXMuaG9sZGluZ190aXRsZV9lbC5zZXRUZXh0KFwiXHU2MzAxXHU0RUQzXHU1MjA2XHU2NzkwXCIpO1xyXG4gICAgICAgIHRoaXMuaG9sZGluZ190YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKHRoaXMuaG9sZGluZ190YWJsZV9lbCwgdGhpcy5ob2xkaW5nX292ZXJ2aWV3LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIFx1NzZDOFx1NEU4Rlx1NjAzQlx1ODlDOFxyXG4gICAgICAgIHRoaXMuaW5jb21lX3RpdGxlX2VsLnNldFRleHQoXCJcdTc2QzhcdTRFOEZcdTYwM0JcdTg5QzhcIik7XHJcbiAgICAgICAgdGhpcy5pbmNvbWVfdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZSh0aGlzLmluY29tZV90YWJsZV9lbCwgdGhpcy5pbmNvbWVfb3ZlcnZpZXcsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gXHU2ODA3XHU3Njg0XHU0RkUxXHU2MDZGXHJcbiAgICAgICAgdGhpcy5jdXN0b21fdGl0bGVfZWwuc2V0VGV4dChcIlx1NjIxMVx1NzY4NFx1N0Y1MVx1NjgzQ1wiKTtcclxuICAgICAgICB0aGlzLmN1c3RvbV90YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKHRoaXMuY3VzdG9tX3RhYmxlX2VsLCB0aGlzLmN1c3RvbV9zdG9ja19vdmVydmlldywgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIFx1ODg2NVx1NEVEMy9cdTUyQTBcdTRFRDNcdTRGRTFcdTYwNkZcclxuICAgICAgICB0aGlzLmZpbGxlZF90aWxlX2VsLnNldFRleHQoXCJcdTg4NjVcdTRFRDNcdTRGRTFcdTYwNkZcIik7XHJcbiAgICAgICAgdGhpcy5maWxsZWRfdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZSh0aGlzLmZpbGxlZF90YWJsZV9lbCwgdGhpcy5zdG9ja19maWxsZWRfb3ZlcnZpZXcsIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBcdThDMDNcdThCRDVcdTRGRTFcdTYwNkZcclxuICAgICAgICAvLyB0aGlzLmRlYnVnX2xvZ190aXRsZV9lbC5zZXRUZXh0KFwiXHU4QzAzXHU4QkQ1XHU2NUU1XHU1RkQ3XCIpO1xyXG4gICAgICAgIC8vIHRoaXMuZGVidWdfbG9nX3RhYmxlX2VsLmVtcHR5KCk7XHJcbiAgICAgICAgLy8gdGhpcy5EaXNwbGF5VGFibGUodGhpcy5kZWJ1Z19sb2dfdGFibGVfZWwsIHRoaXMuZGVidWdfbG9nLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgRGlzcGxheVRhYmxlKHRhYmxlX2VsOiBIVE1MRWxlbWVudCwgdGFibGU6IHN0cmluZ1tdW10sIGlzX2NvbG9yOiBib29sZWFuKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHRhYmxlX2JvZHkgPSB0YWJsZV9lbC5jcmVhdGVFbChcInRib2R5XCIpO1xyXG4gICAgICAgIHRhYmxlLmZvckVhY2goKHJvdywgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YWJsZV9yb3cgPSB0YWJsZV9ib2R5LmNyZWF0ZUVsKFwidHJcIik7XHJcbiAgICBcclxuICAgICAgICAgICAgcm93LmZvckVhY2goKGNlbGwsIGopID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpc19jb2xvcilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA+IDApIFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfcm93LmNyZWF0ZUVsKFwidGRcIiwgeyB0ZXh0OiBjZWxsLCBhdHRyOiB7XCJiZ0NvbG9yXCI6IHRhYmxlW2ldWzBdLCBcImFsaWduXCI6IFwicmlnaHRcIn19KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVfcm93LmNyZWF0ZUVsKFwidGRcIiwgeyB0ZXh0OiBjZWxsLCBhdHRyOiB7XCJhbGlnblwiOiBcInJpZ2h0XCJ9fSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwgIi8qXHJcbiAgICBDb3JyZWxhdGlvbjogXHU3NkY4XHU1MTczXHU2MDI3XHU3Q0ZCXHU2NTcwXHU4OUM2XHU1NkZFXHJcbiAgICBcdTVDNTVcdTc5M0FcdTU5MUFcdTRFMkFcdTY4MDdcdTc2ODRcdTRFMjRcdTRFMjRcdTk1RjRcdTc2ODRcdTZEQThcdThEQ0NcdThENzBcdTUyQkZcdTc2RjhcdTUxNzNcdTYwMjdcclxuKi9cclxuXHJcbmltcG9ydCB7IFRleHRGaWxlVmlldywgV29ya3NwYWNlTGVhZiwgVEZpbGUsIFRGb2xkZXIsIFZhdWx0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0NPUiA9IFwiY29yLXZpZXdcIlxyXG5cclxuZXhwb3J0IGNsYXNzIENvclZpZXcgZXh0ZW5kcyBUZXh0RmlsZVZpZXdcclxue1xyXG4gICAgZGF0YV9lbDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZilcclxuICAgIHtcclxuICAgICAgICBzdXBlcihsZWFmKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3VHlwZSgpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gVklFV19UWVBFX0NPUjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3RGF0YSgpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFZpZXdEYXRhKGRhdGE6IHN0cmluZywgY2xlYXI6IGJvb2xlYW4pOiB2b2lkIFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5SZWZyZXNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IFwiXCI7ICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBvbk9wZW4oKTogUHJvbWlzZTx2b2lkPiBcclxuICAgIHtcclxuICAgICAgICBsZXQgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5kYXRhX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFzeW5jIG9uQ2xvc2UoKTogUHJvbWlzZTx2b2lkPlxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVmcmVzaCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5kYXRhX2VsLnNldFRleHQodGhpcy5kYXRhKTtcclxuICAgIH1cclxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFxREEsV0FBTyxlQUFlLFNBQVMsY0FBYyxFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQzVELFlBQVEsTUFBTTtBQUVkLFFBQUlBO0FBQUE7QUFBQSxNQUFxQixXQUFZO0FBQ2pDLGlCQUFTQSxPQUFNO0FBQ1gsZUFBSyxjQUFjO0FBQ25CLGVBQUssZ0JBQWdCO0FBQ3JCLGVBQUssU0FBUyxJQUFJLFdBQVcsQ0FBQztBQUM5QixlQUFLLFVBQVUsSUFBSSxZQUFZLEVBQUU7QUFDakMsZUFBSyxXQUFXLElBQUksV0FBVyxLQUFLLFNBQVMsR0FBRyxFQUFFO0FBQ2xELGVBQUssWUFBWSxJQUFJLFlBQVksS0FBSyxTQUFTLEdBQUcsRUFBRTtBQUNwRCxlQUFLLE1BQU07QUFBQSxRQUNmO0FBQ0EsUUFBQUEsS0FBSSxVQUFVLFNBQVUsS0FBSyxLQUFLO0FBQzlCLGNBQUksUUFBUSxRQUFRO0FBQUUsa0JBQU07QUFBQSxVQUFPO0FBQ25DLGlCQUFPLEtBQUssY0FDUCxNQUFNLEVBQ04sVUFBVSxHQUFHLEVBQ2IsSUFBSSxHQUFHO0FBQUEsUUFDaEI7QUFDQSxRQUFBQSxLQUFJLGVBQWUsU0FBVSxLQUFLLEtBQUs7QUFDbkMsY0FBSSxRQUFRLFFBQVE7QUFBRSxrQkFBTTtBQUFBLFVBQU87QUFDbkMsaUJBQU8sS0FBSyxjQUNQLE1BQU0sRUFDTixlQUFlLEdBQUcsRUFDbEIsSUFBSSxHQUFHO0FBQUEsUUFDaEI7QUFDQSxRQUFBQSxLQUFJLE9BQU8sU0FBVSxHQUFHO0FBQ3BCLGNBQUksS0FBS0EsS0FBSTtBQUNiLGNBQUksS0FBS0EsS0FBSTtBQUNiLGNBQUk7QUFDSixjQUFJO0FBQ0osY0FBSTtBQUNKLGNBQUk7QUFDSixlQUFLLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHO0FBQ3ZCLHFCQUFTLElBQUk7QUFDYixnQkFBSSxFQUFFLENBQUM7QUFDUCxpQkFBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRztBQUN2QixpQkFBRyxTQUFTLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxJQUFJLEVBQUk7QUFDdkMscUJBQU87QUFDUCxpQkFBRyxTQUFTLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxJQUFJLEVBQUk7QUFDdkMscUJBQU87QUFBQSxZQUNYO0FBQUEsVUFDSjtBQUNBLGlCQUFPLEdBQUcsS0FBSyxFQUFFO0FBQUEsUUFDckI7QUFDQSxRQUFBQSxLQUFJLFlBQVksU0FBVSxHQUFHLEdBQUc7QUFDNUIsY0FBSSxJQUFJLEVBQUUsQ0FBQztBQUNYLGNBQUksSUFBSSxFQUFFLENBQUM7QUFDWCxjQUFJLElBQUksRUFBRSxDQUFDO0FBQ1gsY0FBSSxJQUFJLEVBQUUsQ0FBQztBQUVYLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxZQUFZO0FBQzNDLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxZQUFZO0FBQzNDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxZQUFZO0FBQzNDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxhQUFhO0FBQzVDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxZQUFZO0FBQzNDLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxhQUFhO0FBQzVDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxhQUFhO0FBQzVDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxXQUFXO0FBQzFDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxhQUFhO0FBQzVDLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxhQUFhO0FBQzVDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLEVBQUUsSUFBSSxRQUFRO0FBQ3hDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLEVBQUUsSUFBSSxhQUFhO0FBQzdDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLEVBQUUsSUFBSSxhQUFhO0FBQzdDLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLEVBQUUsSUFBSSxXQUFXO0FBQzNDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLEVBQUUsSUFBSSxhQUFhO0FBQzdDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLEVBQUUsSUFBSSxhQUFhO0FBQzdDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBRS9CLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxZQUFZO0FBQzNDLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxhQUFhO0FBQzVDLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxZQUFZO0FBQzVDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxZQUFZO0FBQzNDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxZQUFZO0FBQzNDLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxXQUFXO0FBQzNDLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxZQUFZO0FBQzVDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxZQUFZO0FBQzNDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxZQUFZO0FBQzNDLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxhQUFhO0FBQzdDLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxZQUFZO0FBQzNDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxhQUFhO0FBQzVDLGVBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQy9CLGdCQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxhQUFhO0FBQzdDLGVBQUssS0FBSyxJ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cEUsU0FBSyxpQkFBaUIsS0FBSyxDQUFDLGdCQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUNwRSxTQUFLLGlCQUFpQixLQUFLLENBQUMsZ0JBQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssR0FBRyxDQUFDO0FBQ3BFLFNBQUssa0JBQWtCLENBQUMsQ0FBQyxJQUFJLDRCQUFRLDRCQUFRLDRCQUFRLDRCQUFRLDRCQUFRLDRCQUFRLDBCQUFNLENBQUM7QUFDcEYsU0FBSyxnQkFBZ0IsS0FBSyxDQUFDLDRCQUFRLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUNyRSxTQUFLLGdCQUFnQixLQUFLLENBQUMsNEJBQVEsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssR0FBRyxDQUFDO0FBQ3JFLFNBQUssZ0JBQWdCLEtBQUssQ0FBQyw0QkFBUSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHLENBQUM7QUFDckUsU0FBSyxnQkFBZ0IsS0FBSyxDQUFDLDRCQUFRLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUNyRSxTQUFLLGdCQUFnQixLQUFLLENBQUMsNEJBQVEsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssR0FBRyxDQUFDO0FBQ3JFLFNBQUssZ0JBQWdCLEtBQUssQ0FBQyw0QkFBUSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHLENBQUM7QUFDckUsU0FBSyxnQkFBZ0IsS0FBSyxDQUFDLDRCQUFRLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUNyRSxTQUFLLGdCQUFnQixLQUFLLENBQUMsNEJBQVEsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssR0FBRyxDQUFDO0FBQ3JFLFNBQUssZ0JBQWdCLEtBQUssQ0FBQyw0QkFBUSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHLENBQUM7QUFDckUsU0FB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QUM1QjtBQUNJLFlBQU0sV0FBVyxhQUFhLElBQUksR0FBRztBQUNyQyxVQUFJLFlBQVksUUFDaEI7QUFDSSxjQUFNLFVBQVUsSUFBSSx5QkFBUSxRQUFRLEVBQUUsUUFBUSxRQUFRO0FBQ3RELGdCQUFRLFFBQVEsQ0FBQyxXQUFXLGNBQVksUUFBUTtBQUM1QyxtQkFBUyxxQkFBcUIsV0FBVztBQUN6QyxvQkFBVSxTQUFTLE9BQU8sZ0JBQWdCLEtBQUssV0FBVyxlQUFlLFdBQVcsQ0FBQyxDQUFDO0FBQ3RGLG9CQUFVLFNBQVMsQ0FBQyxVQUFrQjtBQUM5Qiw0QkFBZ0IsS0FBSyxXQUFXLGVBQWUsYUFBYSxPQUFPLEtBQUssQ0FBQztBQUN6RSxxQkFBUyxxQkFBcUIsYUFBYSxnQkFBZ0IsS0FBSyxXQUFXLGVBQWUsV0FBVyxDQUFDO0FBQ3RHLGlCQUFLLFdBQVcsc0JBQXNCO0FBQUEsVUFDOUMsQ0FBQztBQUFBLFFBQ0wsQ0FBQztBQUFBLE1BQ0w7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUNKOyIsCiAgIm5hbWVzIjogWyJNZDUiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJzdHJzIiwgImltcG9ydF9vYnNpZGlhbiIsICJpZHgiLCAiaW1wb3J0X29ic2lkaWFuIiwgImluZGV4Il0KfQo=
