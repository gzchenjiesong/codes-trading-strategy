/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/ts-md5/dist/md5.js
var require_md5 = __commonJS({
  "node_modules/ts-md5/dist/md5.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Md5 = void 0;
    var Md52 = (
      /** @class */
      function() {
        function Md53() {
          this._dataLength = 0;
          this._bufferLength = 0;
          this._state = new Int32Array(4);
          this._buffer = new ArrayBuffer(68);
          this._buffer8 = new Uint8Array(this._buffer, 0, 68);
          this._buffer32 = new Uint32Array(this._buffer, 0, 17);
          this.start();
        }
        Md53.hashStr = function(str, raw) {
          if (raw === void 0) {
            raw = false;
          }
          return this.onePassHasher.start().appendStr(str).end(raw);
        };
        Md53.hashAsciiStr = function(str, raw) {
          if (raw === void 0) {
            raw = false;
          }
          return this.onePassHasher.start().appendAsciiStr(str).end(raw);
        };
        Md53._hex = function(x) {
          var hc = Md53.hexChars;
          var ho = Md53.hexOut;
          var n;
          var offset;
          var j;
          var i;
          for (i = 0; i < 4; i += 1) {
            offset = i * 8;
            n = x[i];
            for (j = 0; j < 8; j += 2) {
              ho[offset + 1 + j] = hc.charAt(n & 15);
              n >>>= 4;
              ho[offset + 0 + j] = hc.charAt(n & 15);
              n >>>= 4;
            }
          }
          return ho.join("");
        };
        Md53._md5cycle = function(x, k) {
          var a = x[0];
          var b = x[1];
          var c = x[2];
          var d = x[3];
          a += (b & c | ~b & d) + k[0] - 680876936 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[1] - 389564586 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[2] + 606105819 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[3] - 1044525330 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[4] - 176418897 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[5] + 1200080426 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[6] - 1473231341 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[7] - 45705983 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[8] + 1770035416 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[9] - 1958414417 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[10] - 42063 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[11] - 1990404162 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & c | ~b & d) + k[12] + 1804603682 | 0;
          a = (a << 7 | a >>> 25) + b | 0;
          d += (a & b | ~a & c) + k[13] - 40341101 | 0;
          d = (d << 12 | d >>> 20) + a | 0;
          c += (d & a | ~d & b) + k[14] - 1502002290 | 0;
          c = (c << 17 | c >>> 15) + d | 0;
          b += (c & d | ~c & a) + k[15] + 1236535329 | 0;
          b = (b << 22 | b >>> 10) + c | 0;
          a += (b & d | c & ~d) + k[1] - 165796510 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[6] - 1069501632 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[11] + 643717713 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[0] - 373897302 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[5] - 701558691 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[10] + 38016083 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[15] - 660478335 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[4] - 405537848 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[9] + 568446438 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[14] - 1019803690 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[3] - 187363961 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[8] + 1163531501 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b & d | c & ~d) + k[13] - 1444681467 | 0;
          a = (a << 5 | a >>> 27) + b | 0;
          d += (a & c | b & ~c) + k[2] - 51403784 | 0;
          d = (d << 9 | d >>> 23) + a | 0;
          c += (d & b | a & ~b) + k[7] + 1735328473 | 0;
          c = (c << 14 | c >>> 18) + d | 0;
          b += (c & a | d & ~a) + k[12] - 1926607734 | 0;
          b = (b << 20 | b >>> 12) + c | 0;
          a += (b ^ c ^ d) + k[5] - 378558 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[8] - 2022574463 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[11] + 1839030562 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[14] - 35309556 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[1] - 1530992060 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[4] + 1272893353 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[7] - 155497632 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[10] - 1094730640 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[13] + 681279174 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[0] - 358537222 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[3] - 722521979 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[6] + 76029189 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (b ^ c ^ d) + k[9] - 640364487 | 0;
          a = (a << 4 | a >>> 28) + b | 0;
          d += (a ^ b ^ c) + k[12] - 421815835 | 0;
          d = (d << 11 | d >>> 21) + a | 0;
          c += (d ^ a ^ b) + k[15] + 530742520 | 0;
          c = (c << 16 | c >>> 16) + d | 0;
          b += (c ^ d ^ a) + k[2] - 995338651 | 0;
          b = (b << 23 | b >>> 9) + c | 0;
          a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;
          a = (a << 6 | a >>> 26) + b | 0;
          d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;
          d = (d << 10 | d >>> 22) + a | 0;
          c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;
          c = (c << 15 | c >>> 17) + d | 0;
          b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;
          b = (b << 21 | b >>> 11) + c | 0;
          x[0] = a + x[0] | 0;
          x[1] = b + x[1] | 0;
          x[2] = c + x[2] | 0;
          x[3] = d + x[3] | 0;
        };
        Md53.prototype.start = function() {
          this._dataLength = 0;
          this._bufferLength = 0;
          this._state.set(Md53.stateIdentity);
          return this;
        };
        Md53.prototype.appendStr = function(str) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var code;
          var i;
          for (i = 0; i < str.length; i += 1) {
            code = str.charCodeAt(i);
            if (code < 128) {
              buf8[bufLen++] = code;
            } else if (code < 2048) {
              buf8[bufLen++] = (code >>> 6) + 192;
              buf8[bufLen++] = code & 63 | 128;
            } else if (code < 55296 || code > 56319) {
              buf8[bufLen++] = (code >>> 12) + 224;
              buf8[bufLen++] = code >>> 6 & 63 | 128;
              buf8[bufLen++] = code & 63 | 128;
            } else {
              code = (code - 55296) * 1024 + (str.charCodeAt(++i) - 56320) + 65536;
              if (code > 1114111) {
                throw new Error("Unicode standard supports code points up to U+10FFFF");
              }
              buf8[bufLen++] = (code >>> 18) + 240;
              buf8[bufLen++] = code >>> 12 & 63 | 128;
              buf8[bufLen++] = code >>> 6 & 63 | 128;
              buf8[bufLen++] = code & 63 | 128;
            }
            if (bufLen >= 64) {
              this._dataLength += 64;
              Md53._md5cycle(this._state, buf32);
              bufLen -= 64;
              buf32[0] = buf32[16];
            }
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.appendAsciiStr = function(str) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var i;
          var j = 0;
          for (; ; ) {
            i = Math.min(str.length - j, 64 - bufLen);
            while (i--) {
              buf8[bufLen++] = str.charCodeAt(j++);
            }
            if (bufLen < 64) {
              break;
            }
            this._dataLength += 64;
            Md53._md5cycle(this._state, buf32);
            bufLen = 0;
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.appendByteArray = function(input) {
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var bufLen = this._bufferLength;
          var i;
          var j = 0;
          for (; ; ) {
            i = Math.min(input.length - j, 64 - bufLen);
            while (i--) {
              buf8[bufLen++] = input[j++];
            }
            if (bufLen < 64) {
              break;
            }
            this._dataLength += 64;
            Md53._md5cycle(this._state, buf32);
            bufLen = 0;
          }
          this._bufferLength = bufLen;
          return this;
        };
        Md53.prototype.getState = function() {
          var s = this._state;
          return {
            buffer: String.fromCharCode.apply(null, Array.from(this._buffer8)),
            buflen: this._bufferLength,
            length: this._dataLength,
            state: [s[0], s[1], s[2], s[3]]
          };
        };
        Md53.prototype.setState = function(state) {
          var buf = state.buffer;
          var x = state.state;
          var s = this._state;
          var i;
          this._dataLength = state.length;
          this._bufferLength = state.buflen;
          s[0] = x[0];
          s[1] = x[1];
          s[2] = x[2];
          s[3] = x[3];
          for (i = 0; i < buf.length; i += 1) {
            this._buffer8[i] = buf.charCodeAt(i);
          }
        };
        Md53.prototype.end = function(raw) {
          if (raw === void 0) {
            raw = false;
          }
          var bufLen = this._bufferLength;
          var buf8 = this._buffer8;
          var buf32 = this._buffer32;
          var i = (bufLen >> 2) + 1;
          this._dataLength += bufLen;
          var dataBitsLen = this._dataLength * 8;
          buf8[bufLen] = 128;
          buf8[bufLen + 1] = buf8[bufLen + 2] = buf8[bufLen + 3] = 0;
          buf32.set(Md53.buffer32Identity.subarray(i), i);
          if (bufLen > 55) {
            Md53._md5cycle(this._state, buf32);
            buf32.set(Md53.buffer32Identity);
          }
          if (dataBitsLen <= 4294967295) {
            buf32[14] = dataBitsLen;
          } else {
            var matches = dataBitsLen.toString(16).match(/(.*?)(.{0,8})$/);
            if (matches === null) {
              return;
            }
            var lo = parseInt(matches[2], 16);
            var hi = parseInt(matches[1], 16) || 0;
            buf32[14] = lo;
            buf32[15] = hi;
          }
          Md53._md5cycle(this._state, buf32);
          return raw ? this._state : Md53._hex(this._state);
        };
        Md53.stateIdentity = new Int32Array([1732584193, -271733879, -1732584194, 271733878]);
        Md53.buffer32Identity = new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        Md53.hexChars = "0123456789abcdef";
        Md53.hexOut = [];
        Md53.onePassHasher = new Md53();
        return Md53;
      }()
    );
    exports.Md5 = Md52;
    if (Md52.hashStr("hello") !== "5d41402abc4b2a76b9719d911017c592") {
      throw new Error("Md5 self test failed.");
    }
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => TradingStrategy
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/lang_str.ts
var SETTING_NAME = /* @__PURE__ */ new Map([
  ["ONE_GRID_LIMIT", "\u9996\u7F51\u4E0A\u9650\u503C"],
  ["MAX_SLUMP_PCT", "\u6700\u5927\u56DE\u64A4\u503C"],
  ["TRIGGER_ADD_POINT", "\u89E6\u53D1\u4EF7\u52A0\u70B9"],
  ["MIN_ALIGN_PRICE", "\u62A5\u4EF7\u5355\u500D\u6570"],
  ["MIN_BATCH_COUNT", "\u5355\u624B\u4EFD\u6570\u989D"],
  ["MAX_RISE_PCT", "\u5355\u65E5\u6700\u5927\u6DA8\u5E45"],
  ["SGRID_STEP_PCT", "\u5C0F\u7F51\u6B65\u8FDB\u503C"],
  ["SGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["SGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["MGRID_STEP_PCT", "\u4E2D\u7F51\u6B65\u8FDB\u503C"],
  ["MGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["MGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["LGRID_STEP_PCT", "\u5927\u7F51\u6B65\u8FDB\u503C"],
  ["LGRID_RETAIN_COUNT", "\u4FDD\u7559\u5229\u6DA6\u6570"],
  ["LGRID_ADD_PCT", "\u6BCF\u7F51\u8FFD\u52A0"],
  ["DATA_API_LICENCE", "\u6570\u636E\u63A5\u53E3\u8BC1\u4E66"]
]);
var SGRID_TYPE_NAME_STR = "\u5C0F\u7F51";
var MGRID_TYPE_NAME_STR = "\u4E2D\u7F51";
var LGRID_TYPE_NAME_STR = "\u5927\u7F51";
var PERFIT_TYPE_NAME_STR = "\u5229\u6DA6";

// src/settings.ts
var GRID_COLOR_BUY_MONITOR = "#FFFF00";
var GRID_COLOR_SELL_MONITOR = "#FFFF00";
var GRID_COLOR_BUY_TRIGGERED = "#D3D3D3";
var GRID_COLOR_SELL_TRIGGERED = "#FFFFE0";
var GRID_COLOR_STOCK_OVERVIEW = "#FFFFFF";
var GRID_COLOR_TABLE_TITLE = "#D3D3D3";
var GRID_COLOR_BUY_OVERVIEW = "#FFFF01";
var GRID_COLOR_SELL_OVERVIEW = "#FFFF00";
function PackSettings(settings) {
  let pack_str = "";
  let key;
  for (key in settings) {
    if (SETTING_NAME.has(String(key))) {
      pack_str = pack_str + String(key) + ":" + String(settings[key]) + "\n";
    }
  }
  return pack_str;
}
function UnpackSettings(settings, lines) {
  lines.forEach((line, idx) => {
    const strs = line.split(":");
    if (SETTING_NAME.has(strs[0])) {
      SetSettingValue(settings, strs[0], strs[1]);
    }
  });
}
function GetSettingValue(settings, key) {
  return settings[key];
}
function SetSettingValue(settings, key, value) {
  if (key in settings) {
    settings[key] = value;
  }
}
var PluginBaseSettings = class {
  constructor() {
    this.DATA_API_LICENCE = "112e84656174f0a5";
    this.DATA_API_LICENCE = "b192f53a6d6928033";
  }
};
var GridTradingSettings = class {
  constructor() {
    this.ONE_GRID_LIMIT = 1e4;
    this.MAX_SLUMP_PCT = 0.67;
    this.TRIGGER_ADD_POINT = 5e-3;
    this.MIN_ALIGN_PRICE = 1e-3;
    this.MIN_BATCH_COUNT = 100;
    this.MAX_RISE_PCT = 0.1;
    this.SGRID_STEP_PCT = 0.05;
    this.SGRID_ADD_PCT = 0.05;
    this.SGRID_RETAIN_COUNT = 4;
    this.MGRID_STEP_PCT = 0.22;
    this.MGRID_ADD_PCT = 0.2;
    this.MGRID_RETAIN_COUNT = 2;
    this.LGRID_STEP_PCT = 0.52;
    this.LGRID_ADD_PCT = 0.5;
    this.LGRID_RETAIN_COUNT = 1;
  }
  Clone() {
    const clone = new GridTradingSettings();
    clone.ONE_GRID_LIMIT = this.ONE_GRID_LIMIT;
    clone.MAX_SLUMP_PCT = this.MAX_SLUMP_PCT;
    clone.TRIGGER_ADD_POINT = this.TRIGGER_ADD_POINT;
    clone.MIN_ALIGN_PRICE = this.MIN_ALIGN_PRICE;
    clone.MIN_BATCH_COUNT = this.MIN_BATCH_COUNT;
    clone.MAX_RISE_PCT = this.MAX_RISE_PCT;
    clone.SGRID_STEP_PCT = this.SGRID_STEP_PCT;
    clone.SGRID_ADD_PCT = this.SGRID_ADD_PCT;
    clone.SGRID_RETAIN_COUNT = this.SGRID_RETAIN_COUNT;
    clone.MGRID_STEP_PCT = this.MGRID_STEP_PCT;
    clone.MGRID_ADD_PCT = this.MGRID_ADD_PCT;
    clone.MGRID_RETAIN_COUNT = this.MGRID_RETAIN_COUNT;
    clone.LGRID_STEP_PCT = this.LGRID_STEP_PCT;
    clone.LGRID_ADD_PCT = this.LGRID_ADD_PCT;
    clone.LGRID_RETAIN_COUNT = this.LGRID_RETAIN_COUNT;
    return clone;
  }
  PackBase() {
    const setting = [
      "BASE",
      String(this.ONE_GRID_LIMIT),
      String(this.MAX_SLUMP_PCT),
      String(this.TRIGGER_ADD_POINT),
      String(this.MIN_ALIGN_PRICE),
      String(this.MIN_BATCH_COUNT),
      String(this.MAX_RISE_PCT)
    ];
    return setting.join(",");
  }
  UnpackBase(strs) {
    if (strs.length != 7) {
      return;
    }
    this.ONE_GRID_LIMIT = Number(strs[1]);
    this.MAX_SLUMP_PCT = Number(strs[2]);
    this.TRIGGER_ADD_POINT = Number(strs[3]);
    this.MIN_ALIGN_PRICE = Number(strs[4]);
    this.MIN_BATCH_COUNT = Number(strs[5]);
    this.MAX_RISE_PCT = Number(strs[6]);
  }
  PackStep() {
    const setting = [
      "STEP",
      String(this.SGRID_STEP_PCT),
      String(this.SGRID_ADD_PCT),
      String(this.SGRID_RETAIN_COUNT),
      String(this.MGRID_STEP_PCT),
      String(this.MGRID_ADD_PCT),
      String(this.MGRID_RETAIN_COUNT),
      String(this.LGRID_STEP_PCT),
      String(this.LGRID_ADD_PCT),
      String(this.LGRID_RETAIN_COUNT)
    ];
    return setting.join(",");
  }
  UnpackStep(strs) {
    if (strs.length != 10) {
      return;
    }
    this.SGRID_STEP_PCT = Number(strs[1]);
    this.SGRID_ADD_PCT = Number(strs[2]);
    this.SGRID_RETAIN_COUNT = Number(strs[3]);
    this.MGRID_STEP_PCT = Number(strs[4]);
    this.MGRID_ADD_PCT = Number(strs[5]);
    this.MGRID_RETAIN_COUNT = Number(strs[6]);
    this.LGRID_STEP_PCT = Number(strs[7]);
    this.LGRID_ADD_PCT = Number(strs[8]);
    this.LGRID_RETAIN_COUNT = Number(strs[9]);
  }
};

// src/remote_util.ts
var import_obsidian = require("obsidian");
var data_url_prefix = "http://api.biyingapi.com";
async function GetETFCurrentPrice(etf_code, api_licence) {
  if (!(etf_code.startsWith("sz") || etf_code.startsWith("sh"))) {
    return -1;
  }
  const data_api = data_url_prefix + "/jj/etfhq/" + etf_code + "/" + api_licence;
  try {
    const response = await (0, import_obsidian.requestUrl)(data_api);
    return response.json["zxj"];
  } catch (e) {
    DebugLog("request ", data_api, "error ", e.message);
    return -1;
  }
}
function DebugLog(...args) {
  let log_str = "";
  args.forEach((cell, i) => {
    log_str = log_str + String(cell);
  });
  new import_obsidian.Notice(log_str, 0);
}

// src/grid_view.ts
var import_obsidian2 = require("obsidian");

// src/mymath.ts
function MyFloor(num, single) {
  return Math.floor(num / single) * single;
}
function MyCeil(num, single) {
  return Math.ceil(num / single) * single;
}
function ToPercent(num, count = 0) {
  return (num * 100).toFixed(count) + "%";
}
function ToNumber(percent) {
  return Number(percent.replace("%", "")) / 100;
}
function ToTradingGap(current_price, target_price, count = 0) {
  if (target_price == void 0 || current_price == void 0 || current_price == 0) {
    return "-";
  }
  const gap = Math.abs(target_price - current_price);
  if (target_price > current_price) {
    return "+" + ToPercent(gap / current_price, count);
  } else {
    return "-" + ToPercent(gap / current_price, count);
  }
}
function IsNumeric(str) {
  return !isNaN(Number(str));
}
function TimeDuarion(start_time, end_time) {
  const stimes = start_time.split("-");
  const etimes = end_time.split("-");
  const ydiff = Number(etimes[0]) - Number(stimes[0]);
  const mdiff = Number(etimes[1]) + ydiff * 12 - Number(stimes[1]);
  return Number(etimes[2]) - Number(stimes[2]) + mdiff * 30;
}

// src/grid_trading.ts
var import_md5 = __toESM(require_md5());
var GridTrading = class {
  constructor(plugin_env) {
    this.plugin_env = plugin_env;
    this.grid_settings = plugin_env.grid_settings.Clone();
    this.debug_log = [];
    this.data_md5 = "";
    this.is_empty = true;
    this.remote_current_price = -1;
  }
  InitGridTrading(data) {
  }
  UpdateRemotePrice(remote_price) {
  }
  DebugLog(level, log_str, extra_info) {
    this.debug_log.push([level, log_str, extra_info]);
  }
  GetTradingTitle() {
    return this.stock_name + "(" + String(this.target_stock) + ")";
  }
  IsStock() {
    if (this.is_empty == false && (this.market_code == "sz" || this.market_code == "sh")) {
      return true;
    } else {
      return false;
    }
  }
  InitTradingOverview() {
    this.stock_overview = [
      GRID_COLOR_STOCK_OVERVIEW,
      String(this.target_stock),
      this.stock_name,
      this.target_price.toFixed(3),
      this.current_price.toFixed(3),
      ToPercent(this.current_price / this.target_price, 1)
    ];
    this.stock_buy_overview = [];
    if (this.buy_monitor_rows.length > 0) {
      for (let idx = 0; idx < this.buy_monitor_rows.length; idx++) {
        const row = this.buy_monitor_rows[idx];
        const trading_gap = ToTradingGap(this.current_price, Number(this.trading_table[row][3]), 2);
        this.stock_buy_overview.push([
          GRID_COLOR_BUY_OVERVIEW,
          String(this.target_stock),
          this.stock_name,
          this.trading_table[row][0],
          this.trading_table[row][1],
          this.trading_table[row][2],
          this.trading_table[row][3],
          this.trading_table[row][4],
          this.trading_table[row][5],
          trading_gap
        ]);
      }
    }
    this.stock_sell_overview = [];
    if (this.sell_monitor_rows.length > 0) {
      for (let idx = 0; idx < this.sell_monitor_rows.length; idx++) {
        const row = this.sell_monitor_rows[idx];
        const trading_gap = ToTradingGap(this.current_price, Number(this.trading_table[row][7]), 2);
        this.stock_sell_overview.push([
          GRID_COLOR_SELL_OVERVIEW,
          String(this.target_stock),
          this.stock_name,
          this.trading_table[row][0],
          this.trading_table[row][1],
          this.trading_table[row][6],
          this.trading_table[row][7],
          this.trading_table[row][8],
          this.trading_table[row][9],
          trading_gap
        ]);
      }
    }
  }
  ParseRawData(data) {
    const new_md5 = import_md5.Md5.hashStr(data);
    if (new_md5 === this.data_md5) {
      return false;
    }
    this.data_md5 = new_md5;
    const lines = data.split("\n");
    const strs = lines[0].split(",");
    this.target_stock = Number(strs[1]);
    this.stock_name = strs[2];
    this.market_code = strs[3];
    this.target_price = Number(strs[4]);
    this.current_price = Number(strs[5]);
    this.grid_settings = this.plugin_env.grid_settings.Clone();
    this.raw_trading_record = [];
    this.buy_grid_record = [];
    this.sgrid_step_table = [];
    this.mgrid_step_table = [];
    this.lgrid_step_table = [];
    for (let idx = 1; idx < lines.length; idx++) {
      const strs2 = lines[idx].split(",");
      if (strs2[0] == "BUY") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
        this.buy_grid_record.push(strs2[2]);
      }
      if (strs2[0] == "SELL") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
        this.buy_grid_record.remove(strs2[2]);
      }
      if (strs2[0] == "SHARE") {
        this.raw_trading_record.push([strs2[0], strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "BASE") {
        this.grid_settings.UnpackBase(strs2);
      }
      if (strs2[0] == "STEP") {
        this.grid_settings.UnpackStep(strs2);
      }
      if (strs2[0] == "SGRID") {
        this.sgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "MGRID") {
        this.mgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
      if (strs2[0] == "LGRID") {
        this.lgrid_step_table.push([strs2[1], strs2[2], strs2[3], strs2[4]]);
      }
    }
    this.remote_current_price = this.plugin_env.GetStockRemotePrice(strs[0]);
    if (this.remote_current_price > 0) {
      this.current_price = this.remote_current_price;
    }
    return true;
  }
  InitStockTable() {
    const clear_price = this.target_price * (1 + this.grid_settings.SGRID_STEP_PCT);
    this.stock_table = [
      ["\u6807\u7684\u4EE3\u53F7", String(this.target_stock)],
      ["\u6807\u7684\u540D\u79F0", this.stock_name],
      ["\u7F51\u683C\u6A21\u5F0F", this.mode_type],
      ["\u5F53\u524D\u4EF7\u683C", String(this.current_price)],
      ["\u4EF7\u683C\u767E\u5206\u4F4D", ToPercent(this.current_price / this.target_price, 1)],
      ["\u6E05\u683C\u6240\u9700\u6DA8\u5E45", ToTradingGap(this.current_price, clear_price, 1)]
    ];
  }
  InitGridParam() {
    this.param_table = [
      ["\u9996\u7F51\u76EE\u6807\u4EF7", String(this.target_price), "\u9996\u7F51\u76EE\u6807\u91D1\u989D", String(this.grid_settings.ONE_GRID_LIMIT)],
      ["\u6700\u5927\u56DE\u64A4\u503C", ToPercent(this.grid_settings.MAX_SLUMP_PCT), "\u6700\u5927\u6DA8\u8DCC\u5E45", ToPercent(this.grid_settings.MAX_RISE_PCT)],
      ["\u89E6\u53D1\u4EF7\u52A0\u70B9", String(this.grid_settings.TRIGGER_ADD_POINT), "\u6BCF\u624B\u4EFD\u6570\u989D", String(this.grid_settings.MIN_BATCH_COUNT), "\u4EF7\u683C\u6700\u5C0F\u5355\u4F4D", String(this.grid_settings.MIN_ALIGN_PRICE)],
      ["\u5C0F\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.SGRID_STEP_PCT), "\u4E2D\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.MGRID_STEP_PCT), "\u5927\u7F51\u6B65\u8FDB\u503C", ToPercent(this.grid_settings.LGRID_STEP_PCT)],
      ["\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.SGRID_ADD_PCT), "\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.MGRID_ADD_PCT), "\u6295\u5165\u8FFD\u52A0\u503C", ToPercent(this.grid_settings.LGRID_ADD_PCT)],
      ["\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.SGRID_RETAIN_COUNT), "\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.MGRID_RETAIN_COUNT), "\u4FDD\u7559\u5229\u6DA6\u6570", String(this.grid_settings.LGRID_RETAIN_COUNT)]
    ];
  }
  InitTradingAnalysis() {
    const price = this.target_price;
    const rise_pct = this.grid_settings.SGRID_STEP_PCT;
    const table = this.trading_table;
    function Analysis(slump_pct) {
      let total_cost = 0;
      let total_amount = 0;
      let total_sell = 0;
      let total_gain = 0;
      const min_price = price * (1 - slump_pct);
      const max_price = price * (1 + rise_pct);
      table.forEach((row, i) => {
        if (i > 0 && ToNumber(row[1]) >= 1 - slump_pct) {
          total_cost = total_cost + Number(row[5]);
          total_amount = total_amount + Number(row[4]);
          total_gain = total_gain + Number(row[9]);
          total_sell = total_sell + Number(row[8]);
        }
      });
      const cost_price = (total_cost - total_gain) / (total_amount - total_sell);
      const gain_money = Math.floor(max_price * (total_amount - total_sell) - (total_cost - total_gain));
      return [
        ToPercent(slump_pct) + "(" + min_price.toFixed(3) + ")",
        String(total_cost),
        String(total_amount),
        String(Math.ceil(total_amount * min_price)),
        (total_cost / total_amount).toFixed(3),
        String(Math.ceil(total_cost - total_amount * min_price)),
        ((total_cost - total_amount * min_price) / total_cost * 100).toFixed(2) + "%",
        ((total_cost / total_amount - min_price) / min_price * 100).toFixed(2) + "%",
        String(total_amount - total_sell),
        String(Math.floor(max_price * (total_amount - total_sell))),
        String(total_cost - total_gain),
        cost_price.toFixed(3),
        ((max_price - cost_price) / cost_price * 100).toFixed(2) + "%",
        String(gain_money),
        (gain_money / total_cost * 100).toFixed(2) + "%"
      ];
    }
    this.trading_analysis = [
      ["\u4E8F\u635F\u5206\u6790", "\u56DE\u64A4\u6BD4\u4F8B"],
      ["", "\u6295\u5165\u8D44\u91D1"],
      ["", "\u6301\u4ED3\u4EFD\u989D"],
      ["", "\u6301\u4ED3\u91D1\u989D"],
      ["", "\u6301\u4ED3\u6210\u672C"],
      ["", "\u4E8F\u635F\u91D1\u989D"],
      ["", "\u4E8F\u635F\u6BD4\u4F8B"],
      ["", "\u6240\u9700\u6DA8\u5E45"],
      ["\u53CD\u5F39\u76C8\u5229", "\u6301\u4ED3\u4EFD\u989D"],
      [(price * (1 + rise_pct)).toFixed(3), "\u6301\u4ED3\u91D1\u989D"],
      ["", "\u5360\u7528\u672C\u91D1"],
      ["", "\u6301\u4ED3\u6210\u672C"],
      ["", "\u6D6E\u76C8\u6BD4\u4F8B"],
      ["", "\u7F51\u683C\u76C8\u5229"],
      ["", "\u603B\u6D6E\u76C8\u6BD4"]
    ];
    const slump_pcts = [20, 40, 50, 60, 70, 80, 90];
    slump_pcts.push(this.grid_settings.MAX_SLUMP_PCT * 100);
    slump_pcts.sort((a, b) => a - b);
    for (const pct of slump_pcts) {
      const result = Analysis(pct / 100);
      for (let idx = 0; idx < result.length; idx++) {
        this.trading_analysis[idx].push(result[idx]);
      }
    }
  }
  InitTradingRecord() {
    let total_retain = 0;
    let total_cost = 0;
    this.trading_record = [["\u4EA4\u6613\u65B9\u5411", "\u4EA4\u6613\u65E5\u671F", "\u7F51\u683C\u7C7B\u578B", "\u4EA4\u6613\u4EF7\u683C", "\u4EA4\u6613\u80A1\u6570", "\u5360\u7528\u672C\u91D1", "\u6301\u4ED3\u65F6\u957F", "\u4FDD\u7559\u4EFD\u6570"]];
    let raw_record = [...this.raw_trading_record];
    let cursor = 0;
    while (cursor < raw_record.length) {
      if (raw_record[cursor][0] == "BUY") {
        let scursor = -1;
        for (let idx = cursor; idx < raw_record.length; idx++) {
          if (raw_record[idx][0] == "SELL" && raw_record[idx][2] == raw_record[cursor][2]) {
            scursor = idx;
            break;
          }
        }
        if (scursor >= 0) {
          const retain_count = Number(raw_record[cursor][4]) - Number(raw_record[scursor][4]);
          const cost_count = Number(raw_record[cursor][3]) * Number(raw_record[cursor][4]) - Number(raw_record[scursor][3]) * Number(raw_record[scursor][4]);
          total_retain = total_retain + retain_count;
          total_cost = total_cost + cost_count;
          const time_d = TimeDuarion(raw_record[cursor][1], raw_record[scursor][1]);
          this.trading_record.push([raw_record[cursor][0], raw_record[cursor][1], raw_record[cursor][2], raw_record[cursor][3], raw_record[cursor][4], String(cost_count)]);
          this.trading_record.push([raw_record[scursor][0], raw_record[scursor][1], raw_record[scursor][2], raw_record[scursor][3], raw_record[scursor][4], "--", String(time_d) + "\u5929", String(retain_count)]);
          raw_record.splice(cursor, 1);
          raw_record.splice(scursor - 1, 1);
        } else {
          cursor++;
        }
      } else {
        cursor++;
      }
    }
    for (let idx = 0; idx < raw_record.length; idx++) {
      if (raw_record[cursor][0] == "BUY") {
        const cost_count = Number(raw_record[idx][3]) * Number(raw_record[idx][4]);
        this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], String(cost_count)]);
        total_cost = total_cost + cost_count;
      } else {
        if (raw_record[cursor][0] == "SHARE") {
          this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4], "--", "--", raw_record[idx][4]]);
          total_retain = total_retain + Number(raw_record[idx][4]);
        } else {
          this.trading_record.push([raw_record[idx][0], raw_record[idx][1], raw_record[idx][2], raw_record[idx][3], raw_record[idx][4]]);
        }
      }
    }
    if (total_cost > 0) {
      this.trading_record.push(["Cost", "", "", "", "", String(total_cost)]);
    }
    if (total_retain <= 0) {
      return;
    }
    this.trading_record.push(["Retain", "", "", "", "", "", "", String(total_retain)]);
    const current_pct = MyCeil(this.current_price / this.target_price, 1e-3);
    for (let index = 1; index <= 3; index++) {
      const row = this.GenerateClearRow(PERFIT_TYPE_NAME_STR, index, 0.35, MyFloor(total_retain / 3, 100));
      this.trading_table.push(row);
      if (current_pct + this.grid_settings.MAX_RISE_PCT >= ToNumber(row[1])) {
        this.sell_monitor_rows.push(this.trading_table.length - 1);
      }
      this.sell_triggered_rows.push(this.trading_table.length - 1);
    }
  }
  GenerateClearRow(grid_name, idx, grid_step_pct, sell_count) {
    const price_step = MyFloor((1 + grid_step_pct) ** idx, 0.01);
    const sell_price = MyCeil(this.target_price * price_step, this.grid_settings.MIN_ALIGN_PRICE);
    return [
      grid_name + String(idx),
      ToPercent(price_step),
      "",
      "",
      "",
      "",
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(3),
      sell_price.toFixed(3),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      "-",
      "+" + ToPercent(grid_step_pct)
    ];
  }
  GetGridRetainCount(grid_name) {
    for (let idx = 0; idx < this.trading_table.length; idx++) {
      if (this.trading_table[idx][0] === grid_name) {
        return Number(this.trading_table[idx][4]) - Number(this.trading_table[idx][8]);
      }
    }
    return 0;
  }
};

// src/grid_trading_m1.ts
var GridTradingModeOne = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "One";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingAnalysis();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingAnalysis();
      this.DebugLog("Info", "UpdateRemotePrice", String(this.remote_current_price));
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const scount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.SGRID_STEP_PCT);
    const mcount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.MGRID_STEP_PCT);
    const lcount = Math.floor(this.grid_settings.MAX_SLUMP_PCT / this.grid_settings.LGRID_STEP_PCT);
    const current_pct = MyCeil(this.current_price / this.target_price, 1e-3);
    for (let idx = 0; idx <= scount; idx++) {
      this.trading_table[idx + 1] = this.GenerateOneRow(
        SGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.SGRID_STEP_PCT,
        this.grid_settings.SGRID_RETAIN_COUNT,
        this.grid_settings.SGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
        this.buy_triggered_rows.push(idx + 1);
        this.sell_triggered_rows.push(idx + 1);
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < scount + 1)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
    } else {
      const first_buy = 1;
      if (ToNumber(this.trading_table[first_buy][1]) + this.grid_settings.MAX_RISE_PCT >= current_pct) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    for (let idx = 1; idx <= mcount; idx++) {
      this.trading_table[scount + 1 + idx] = this.GenerateOneRow(
        MGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.MGRID_STEP_PCT,
        this.grid_settings.MGRID_RETAIN_COUNT,
        this.grid_settings.MGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[scount + 1 + idx][0])) {
        this.buy_triggered_rows.push(scount + 1 + idx);
        this.sell_triggered_rows.push(scount + 1 + idx);
      } else {
        if (ToNumber(this.trading_table[scount + 1 + idx][1]) + this.grid_settings.MAX_RISE_PCT >= current_pct) {
          this.buy_monitor_rows.push(scount + 1 + idx);
        }
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] > scount + 1) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (ToNumber(this.trading_table[last_sell_m][1]) + this.grid_settings.MGRID_STEP_PCT - this.grid_settings.MAX_RISE_PCT <= current_pct) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    for (let idx = 1; idx <= lcount; idx++) {
      this.trading_table[scount + 1 + mcount + idx] = this.GenerateOneRow(
        LGRID_TYPE_NAME_STR,
        idx,
        this.grid_settings.LGRID_STEP_PCT,
        this.grid_settings.LGRID_RETAIN_COUNT,
        this.grid_settings.LGRID_ADD_PCT
      );
      if (this.buy_grid_record.includes(this.trading_table[scount + 1 + mcount + idx][0])) {
        this.buy_triggered_rows.push(scount + 1 + mcount + idx);
        this.sell_triggered_rows.push(scount + 1 + mcount + idx);
      } else {
        if (ToNumber(this.trading_table[scount + 1 + mcount + idx][1]) + this.grid_settings.MAX_RISE_PCT >= current_pct) {
          this.buy_monitor_rows.push(scount + 1 + mcount + idx);
        }
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] > scount + 1 + mcount) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (ToNumber(this.trading_table[last_sell_l][1]) + this.grid_settings.LGRID_STEP_PCT - this.grid_settings.MAX_RISE_PCT <= current_pct) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, idx, grid_step_pct, grid_retain_count, grid_add_pct) {
    const price_step = (100 - idx * grid_step_pct * 100) / 100;
    const buy_price = MyFloor(this.target_price * price_step, this.grid_settings.MIN_ALIGN_PRICE);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + idx * grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price = MyCeil(this.target_price * (price_step + grid_step_pct), this.grid_settings.MIN_ALIGN_PRICE);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name + String(idx),
      ToPercent(price_step),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(3),
      buy_price.toFixed(3),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(3),
      sell_price.toFixed(3),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/grid_trading_m2.ts
var GridTradingModeTwo = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "Two";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingAnalysis();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingAnalysis();
      this.DebugLog("Info", "UpdateRemotePrice", String(this.remote_current_price));
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const count = Math.floor(Math.log(1 - this.grid_settings.MAX_SLUMP_PCT) / Math.log(1 - this.grid_settings.LGRID_STEP_PCT)) + 1;
    const current_pct = MyCeil(this.current_price / this.target_price, 1e-3);
    let idx = 0;
    let max_slump_pct = Math.round((1 - this.grid_settings.MAX_SLUMP_PCT) * 100);
    let sell_price_step = 1 + this.grid_settings.SGRID_STEP_PCT;
    for (let i = 0; i < count; i++) {
      let ti = 1;
      const first_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i));
      const slump_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      let step_pct = first_step;
      while (step_pct > slump_pct && step_pct > max_slump_pct) {
        this.trading_table[idx + 1] = this.GenerateOneRow(
          SGRID_TYPE_NAME_STR,
          idx,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.SGRID_RETAIN_COUNT,
          this.grid_settings.SGRID_ADD_PCT
        );
        if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
          this.buy_triggered_rows.push(idx + 1);
          this.sell_triggered_rows.push(idx + 1);
        }
        sell_price_step = step_pct / 100;
        step_pct = Math.round(first_step * (1 - ti * this.grid_settings.SGRID_STEP_PCT));
        ti++;
        idx++;
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < this.trading_table.length)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
    } else {
      const first_buy = 1;
      if (ToNumber(this.trading_table[first_buy][1]) + this.grid_settings.MAX_RISE_PCT >= current_pct) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    let start_index = this.trading_table.length;
    idx = 0;
    sell_price_step = 1;
    for (let i = 0; i < count; i++) {
      let ti = 2;
      const first_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i));
      const slump_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      let step_pct = Math.round(first_step * (1 - this.grid_settings.MGRID_STEP_PCT));
      while (step_pct > slump_pct && step_pct > max_slump_pct) {
        this.trading_table[start_index + idx] = this.GenerateOneRow(
          MGRID_TYPE_NAME_STR,
          idx + 1,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.MGRID_RETAIN_COUNT,
          this.grid_settings.LGRID_ADD_PCT
        );
        if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
          this.buy_triggered_rows.push(start_index + idx);
          this.sell_triggered_rows.push(start_index + idx);
        } else {
          if (ToNumber(this.trading_table[start_index + idx][1]) + this.grid_settings.MAX_RISE_PCT >= current_pct) {
            this.buy_monitor_rows.push(start_index + idx);
          }
        }
        sell_price_step = step_pct / 100;
        step_pct = Math.round(first_step * (1 - ti * this.grid_settings.MGRID_STEP_PCT));
        ti++;
        idx++;
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (ToNumber(this.trading_table[last_sell_m][1]) + this.grid_settings.MGRID_STEP_PCT - this.grid_settings.MAX_RISE_PCT <= current_pct) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    start_index = this.trading_table.length;
    idx = 0;
    for (let i = 0; i < count; i++) {
      sell_price_step = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i)) / 100;
      const step_pct = Math.round(100 * Math.pow(1 - this.grid_settings.LGRID_STEP_PCT, i + 1));
      if (step_pct > max_slump_pct) {
        this.trading_table[start_index + idx] = this.GenerateOneRow(
          LGRID_TYPE_NAME_STR,
          idx + 1,
          step_pct / 100,
          sell_price_step,
          this.grid_settings.LGRID_RETAIN_COUNT,
          this.grid_settings.LGRID_ADD_PCT
        );
        if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
          this.buy_triggered_rows.push(start_index + idx);
          this.sell_triggered_rows.push(start_index + idx);
        } else {
          if (ToNumber(this.trading_table[start_index + idx][1]) + this.grid_settings.MAX_RISE_PCT >= current_pct) {
            this.buy_monitor_rows.push(start_index + idx);
          }
        }
        idx++;
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      if (ToNumber(this.trading_table[last_sell_l][1]) + this.grid_settings.LGRID_STEP_PCT - this.grid_settings.MAX_RISE_PCT <= current_pct) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, idx, buy_price_step, sell_price_step, grid_retain_count, grid_add_pct) {
    const buy_price = MyFloor(this.target_price * buy_price_step, this.grid_settings.MIN_ALIGN_PRICE);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + idx * grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price = MyCeil(this.target_price * sell_price_step, this.grid_settings.MIN_ALIGN_PRICE);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name + String(idx),
      ToPercent(buy_price_step),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(3),
      buy_price.toFixed(3),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(3),
      sell_price.toFixed(3),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/grid_trading_m3.ts
var GridTradingModeThree = class extends GridTrading {
  constructor(plugin_env) {
    super(plugin_env);
    this.mode_type = "Three";
  }
  InitGridTrading(data) {
    if (this.ParseRawData(data) || this.is_empty) {
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingAnalysis();
    }
  }
  UpdateRemotePrice(remote_price) {
    this.remote_current_price = remote_price;
    if (this.remote_current_price > 0 && this.remote_current_price != this.current_price) {
      this.current_price = this.remote_current_price;
      this.is_empty = false;
      this.InitStockTable();
      this.InitGridParam();
      this.InitTradingTable();
      this.InitTradingRecord();
      this.InitTradingAnalysis();
      this.DebugLog("Info", "UpdateRemotePrice", String(this.remote_current_price));
    }
  }
  InitTradingTable() {
    this.buy_triggered_rows = [];
    this.sell_triggered_rows = [];
    this.buy_monitor_rows = [];
    this.sell_monitor_rows = [];
    this.trading_table = [];
    this.trading_table[0] = ["\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u76F8\u5BF9\u8DCC\u5E45", "\u76F8\u5BF9\u6DA8\u5E45"];
    const current_pct = MyCeil(this.current_price / this.target_price, 1e-3);
    let grid_sell_pct = 1 + this.grid_settings.SGRID_STEP_PCT;
    for (let idx = 0; idx < this.sgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.sgrid_step_table[idx][1]);
      this.trading_table[idx + 1] = this.GenerateOneRow(
        this.sgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.sgrid_step_table[idx][2]),
        Number(this.sgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.buy_grid_record.includes(this.trading_table[idx + 1][0])) {
        this.buy_triggered_rows.push(idx + 1);
        this.sell_triggered_rows.push(idx + 1);
      }
    }
    if (this.buy_triggered_rows.length > 0) {
      const last_buy = this.buy_triggered_rows[this.buy_triggered_rows.length - 1];
      if (last_buy < this.sgrid_step_table.length)
        this.buy_monitor_rows.push(last_buy + 1);
      let last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
      last_sell = this.sell_triggered_rows.pop();
      if (last_sell)
        this.sell_monitor_rows.push(last_sell);
    } else {
      const first_buy = 1;
      if (ToNumber(this.trading_table[first_buy][1]) + this.grid_settings.MAX_RISE_PCT >= current_pct) {
        this.buy_monitor_rows.push(first_buy);
      }
    }
    let start_index = this.sgrid_step_table.length + 1;
    grid_sell_pct = 1 + this.grid_settings.MGRID_STEP_PCT;
    for (let idx = 0; idx < this.mgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.mgrid_step_table[idx][1]);
      this.trading_table[start_index + idx] = this.GenerateOneRow(
        this.mgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.mgrid_step_table[idx][2]),
        Number(this.mgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
        this.buy_triggered_rows.push(start_index + idx);
        this.sell_triggered_rows.push(start_index + idx);
      } else {
        if (ToNumber(this.trading_table[start_index + idx][1]) + this.grid_settings.MAX_RISE_PCT >= current_pct) {
          this.buy_monitor_rows.push(start_index + idx);
        }
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_m = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      const price_pct = MyCeil(Number(this.trading_table[last_sell_m][7]) / this.target_price, 1e-3);
      if (price_pct - this.grid_settings.MAX_RISE_PCT <= current_pct) {
        this.sell_triggered_rows.remove(last_sell_m);
        this.sell_monitor_rows.push(last_sell_m);
      }
    }
    start_index = this.sgrid_step_table.length + this.mgrid_step_table.length + 1;
    grid_sell_pct = 1 + this.grid_settings.LGRID_STEP_PCT;
    for (let idx = 0; idx < this.lgrid_step_table.length; idx++) {
      let grid_buy_pct = ToNumber(this.lgrid_step_table[idx][1]);
      this.trading_table[start_index + idx] = this.GenerateOneRow(
        this.lgrid_step_table[idx][0],
        grid_buy_pct,
        grid_sell_pct,
        Number(this.lgrid_step_table[idx][2]),
        Number(this.lgrid_step_table[idx][3])
      );
      grid_sell_pct = grid_buy_pct;
      if (this.buy_grid_record.includes(this.trading_table[start_index + idx][0])) {
        this.buy_triggered_rows.push(start_index + idx);
        this.sell_triggered_rows.push(start_index + idx);
      } else {
        if (ToNumber(this.trading_table[start_index + idx][1]) + this.grid_settings.MAX_RISE_PCT >= current_pct) {
          this.buy_monitor_rows.push(start_index + idx);
        }
      }
    }
    if (this.sell_triggered_rows.length > 0 && this.sell_triggered_rows[this.sell_triggered_rows.length - 1] >= start_index) {
      const last_sell_l = this.sell_triggered_rows[this.sell_triggered_rows.length - 1];
      const price_pct = MyCeil(Number(this.trading_table[last_sell_l][7]) / this.target_price, 1e-3);
      if (price_pct - this.grid_settings.MAX_RISE_PCT <= current_pct) {
        this.sell_triggered_rows.remove(last_sell_l);
        this.sell_monitor_rows.push(last_sell_l);
      }
    }
  }
  GenerateOneRow(grid_name, grid_buy_pct, grid_sell_pct, grid_add_pct, grid_retain_count) {
    const buy_price = MyFloor(this.target_price * grid_buy_pct, this.grid_settings.MIN_ALIGN_PRICE);
    const buy_count = MyFloor(this.grid_settings.ONE_GRID_LIMIT * (1 + grid_add_pct) / buy_price, this.grid_settings.MIN_BATCH_COUNT);
    const sell_price = MyCeil(this.target_price * grid_sell_pct, this.grid_settings.MIN_ALIGN_PRICE);
    const retain_count = (sell_price - buy_price) * buy_count * grid_retain_count;
    const sell_count = MyFloor((sell_price * buy_count - retain_count) / sell_price, this.grid_settings.MIN_BATCH_COUNT);
    return [
      grid_name,
      ToPercent(grid_buy_pct),
      (buy_price + this.grid_settings.TRIGGER_ADD_POINT).toFixed(3),
      buy_price.toFixed(3),
      String(buy_count),
      String(Math.ceil(buy_price * buy_count)),
      (sell_price - this.grid_settings.TRIGGER_ADD_POINT).toFixed(3),
      sell_price.toFixed(3),
      String(sell_count),
      String(Math.ceil(sell_price * sell_count)),
      ToTradingGap(sell_price, buy_price, 1),
      ToTradingGap(buy_price, sell_price, 1)
    ];
  }
};

// src/plugin_env.ts
var FETCH_CURRENT_PRICE = "fetch_current_price";
var PluginEnv = class {
  constructor() {
    this.is_settings_changed = false;
    this.base_settings = new PluginBaseSettings();
    this.grid_settings = new GridTradingSettings();
    this.grid_trading_dict = /* @__PURE__ */ new Map();
    this.stock_remote_price_dict = /* @__PURE__ */ new Map();
    this.event_callback_dict = /* @__PURE__ */ new Map();
    this._event_guid = 0;
  }
  GetAPILisence() {
    return this.base_settings.DATA_API_LICENCE;
  }
  GetStockRemotePrice(stock_no) {
    const price = this.stock_remote_price_dict.get(stock_no);
    if (price != void 0) {
      return price;
    } else {
      return -1;
    }
  }
  GetGridTradingTypeByString(mode) {
    if (mode == "mode_two") {
      return GridTradingModeTwo;
    }
    if (mode == "mode_three") {
      return GridTradingModeThree;
    }
    return GridTradingModeOne;
  }
  GetAndGenGridTrading(grid_name, mode) {
    let grid_trading = this.grid_trading_dict.get(grid_name);
    const trading_mode = this.GetGridTradingTypeByString(mode);
    if (grid_trading instanceof trading_mode) {
      return grid_trading;
    }
    grid_trading = new trading_mode(this);
    this.grid_trading_dict.set(grid_name, grid_trading);
    return grid_trading;
  }
  UnserializedSettings(data) {
    const lines = data.split("\n");
    if (lines.length <= 0) {
      return;
    }
    UnpackSettings(this.base_settings, lines);
    UnpackSettings(this.grid_settings, lines);
  }
  SerializedSettings() {
    return PackSettings(this.base_settings) + PackSettings(this.grid_settings);
  }
  PublishEvent(event_name) {
    const cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0) {
      return;
    }
    for (let [guid, event_cb] of cb_dict) {
      try {
        event_cb();
      } catch (e) {
        ;
      }
    }
  }
  SubscribeEvent(event_name, event_cb) {
    const guid = this.GenGUID();
    let cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0) {
      cb_dict = /* @__PURE__ */ new Map();
      this.event_callback_dict.set(event_name, cb_dict);
    }
    cb_dict.set(guid, event_cb);
    return guid;
  }
  UnsubscribeEvent(event_name, event_guid) {
    const cb_dict = this.event_callback_dict.get(event_name);
    if (cb_dict == void 0 || !cb_dict.has(event_guid)) {
      return false;
    }
    return cb_dict.delete(event_guid);
  }
  GenGUID() {
    this._event_guid++;
    return this._event_guid;
  }
};

// src/command_util.ts
var GridCommand = class {
  constructor() {
    this.command = "none";
    this.command_type = "grid";
  }
};
function ExcuteGridCommand(cmd_str) {
  const strs = cmd_str.split(" ");
  const command = new GridCommand();
  command.command = strs[0];
  command.raw_command_text = cmd_str;
  if (command.command == "add_record") {
    command.command_param1 = strs[1];
    AddGridRecord(command);
  }
  if (command.command == "del_record") {
    command.command_param1 = strs[1];
    DelGridRecord(command);
  }
  return command;
}
function AddGridRecord(command) {
  const sub_strs = command.command_param1.split(",");
  if (sub_strs.length != 5) {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  if (sub_strs[0] != "BUY" && sub_strs[0] != "SELL" && sub_strs[0] != "SHARE") {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  if (!sub_strs[2].startsWith("\u5C0F\u7F51") && !sub_strs[2].startsWith("\u4E2D\u7F51") && !sub_strs[2].startsWith("\u5927\u7F51") && !sub_strs[2].startsWith("\u7EA2\u5229") && !sub_strs[2].startsWith("\u5229\u6DA6")) {
    command.error_code = -1;
    command.error_msg = "invalid param";
    return false;
  }
  command.error_code = 0;
  command.data_result_str = "\n" + command.command_param1;
  return true;
}
function DelGridRecord(command) {
  if (IsNumeric(command.command_param1)) {
    command.error_code = 0;
    command.data_result_num = Number(command.command_param1);
  } else {
    command.error_code = -1;
    command.error_msg = "invalid param";
  }
}

// src/grid_view.ts
var VIEW_TYPE_GTV = "gtv-view";
var GTVView = class extends import_obsidian2.TextFileView {
  constructor(leaf, plugin_env) {
    super(leaf);
    this.plugin_env = plugin_env;
    this.refresh_event_guid = -1;
    this.view_guid = plugin_env.GenGUID();
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  getViewType() {
    return VIEW_TYPE_GTV;
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.command_btn_el = div.createEl("button");
    this.command_btn_el.setText("Excute");
    this.command_btn_el.onClickEvent((ev) => {
      this.OnClickAddRecordBtn(ev, this.command_input_el);
    });
    this.command_input_el = div.createEl("input");
    this.command_input_el.empty();
    this.command_input_el.size = 70;
    this.command_input_el.placeholder = "Input your command";
    div = this.contentEl.createEl("div");
    this.stock_tile_el = div.createEl("h1");
    this.stock_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.param_title_el = div.createEl("h1");
    this.param_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.trading_title_el = div.createEl("h1");
    this.trading_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.record_title_el = div.createEl("h1");
    this.record_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.analysis_title_el = div.createEl("h1");
    this.analysis_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.debug_log_title_el = div.createEl("h1");
    this.debug_log_table_el = div.createEl("table");
    this.refresh_event_guid = this.plugin_env.SubscribeEvent(FETCH_CURRENT_PRICE, () => this.Refresh());
  }
  OnClickAddRecordBtn(ev, input_el) {
    try {
      const text = input_el.value;
      const grid_cmd = ExcuteGridCommand(text);
      if (grid_cmd.error_code == 0) {
        if (grid_cmd.command == "add_record") {
          this.data = this.data + grid_cmd.data_result_str;
          this.setViewData(this.data, false);
        }
        if (grid_cmd.command == "del_record") {
          const lines = this.data.split("\n");
          let count = 0;
          let index = 0;
          for (index = 0; index < lines.length; index++) {
            if (lines[index].startsWith("BUY,") || lines[index].startsWith("SELL,")) {
              count++;
            }
            if (count == grid_cmd.data_result_num) {
              break;
            }
          }
          if (index < lines.length) {
            lines.splice(index, 1);
          }
          this.data = lines.join("\n");
          this.setViewData(this.data, false);
        }
      }
    } catch (e) {
      DebugLog("Command has error ", e);
    }
  }
  async onClose() {
    this.contentEl.empty();
    if (this.refresh_event_guid > 0) {
      this.plugin_env.UnsubscribeEvent(FETCH_CURRENT_PRICE, this.refresh_event_guid);
      this.refresh_event_guid = -1;
    }
  }
  Refresh() {
    this.stock_tile_el.setText("\u672A\u77E5\u6807\u7684");
    this.stock_table_el.empty();
    this.param_title_el.setText("\u7F51\u683C\u53C2\u6570");
    this.param_table_el.empty();
    this.trading_title_el.setText("\u4EA4\u6613\u7F51\u683C");
    this.trading_table_el.empty();
    this.record_title_el.setText("\u4EA4\u6613\u8BB0\u5F55");
    this.record_table_el.empty();
    this.analysis_title_el.setText("\u7EDF\u8BA1\u5206\u6790");
    this.analysis_table_el.empty();
    this.debug_log_title_el.setText("\u8C03\u8BD5\u65E5\u5FD7");
    this.debug_log_table_el.empty();
    if (this.file != null) {
      const mode_str = this.data.split("\n")[0].split(",")[0];
      const grid_trading = this.plugin_env.GetAndGenGridTrading(this.file.name, mode_str);
      grid_trading.InitGridTrading(this.data);
      this.stock_tile_el.setText(grid_trading.stock_name);
      this.DisplayTable(grid_trading, this.stock_table_el, grid_trading.stock_table, false);
      this.DisplayTable(grid_trading, this.param_table_el, grid_trading.param_table, false);
      this.DisplayTable(grid_trading, this.trading_table_el, grid_trading.trading_table, true);
      this.DisplayTable(grid_trading, this.record_table_el, grid_trading.trading_record, false);
      this.DisplayTable(grid_trading, this.analysis_table_el, grid_trading.trading_analysis, false);
      this.DisplayTable(grid_trading, this.debug_log_table_el, grid_trading.debug_log, false);
    }
  }
  DisplayTable(grid_trading, table_el, table, is_color) {
    const table_body = table_el.createEl("tbody");
    table.forEach((row, i) => {
      const table_row = table_body.createEl("tr");
      row.forEach((cell, j) => {
        const table_cell = table_row.createEl("td", { text: cell, attr: { "align": "right" } });
        if (is_color && i > 0) {
          if (j <= 5) {
            if (grid_trading.buy_triggered_rows.includes(i)) {
              table_cell.setAttr("bgColor", GRID_COLOR_BUY_TRIGGERED);
            }
            if (grid_trading.buy_monitor_rows.includes(i)) {
              table_cell.setAttr("bgColor", GRID_COLOR_BUY_MONITOR);
            }
          } else {
            if (grid_trading.sell_triggered_rows.includes(i)) {
              table_cell.setAttr("bgColor", GRID_COLOR_SELL_TRIGGERED);
            }
            if (grid_trading.sell_monitor_rows.includes(i)) {
              table_cell.setAttr("bgColor", GRID_COLOR_SELL_MONITOR);
            }
          }
        }
      });
    });
  }
};

// src/grid_overview.ts
var import_obsidian3 = require("obsidian");
var VIEW_TYPE_GTO = "gto-view";
var GTOView = class extends import_obsidian3.TextFileView {
  constructor(leaf, vault, plugin_env) {
    super(leaf);
    this.vault = vault;
    this.plugin_env = plugin_env;
    this.refresh_event_guid = -1;
    this.debug_log = [];
    this.stock_overview = [];
    this.custom_stock_overview = [];
    this.appoint_stock_overview = [];
  }
  ReadCustomStock() {
    const stock_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u9996\u7F51\u76EE\u6807\u4EF7", "\u5F53\u524D\u4EF7\u683C", "\u4EF7\u683C\u767E\u5206\u4F4D"]];
    let buy_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u8DDD\u6210\u4EA4\u4EF7"]];
    let sell_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u8DDD\u6210\u4EA4\u4EF7"]];
    const grid_folder = this.vault.getAbstractFileByPath("GridTrading");
    if (grid_folder instanceof import_obsidian3.TFolder) {
      for (let index = 0; index < grid_folder.children.length; index++) {
        const grid_file = grid_folder.children[index];
        if (grid_file instanceof import_obsidian3.TFile && grid_file.name.endsWith(".gtv")) {
          const grid_trading = this.plugin_env.grid_trading_dict.get(grid_file.name);
          if (grid_trading instanceof GridTrading && grid_trading.IsStock()) {
            grid_trading.InitTradingOverview();
            stock_table.push(grid_trading.stock_overview);
            buy_table = buy_table.concat(grid_trading.stock_buy_overview);
            sell_table = sell_table.concat(grid_trading.stock_sell_overview);
          }
        }
      }
    }
    this.custom_stock_overview = [...stock_table, ...buy_table, ...sell_table];
  }
  ReadAppointStock() {
    const lines = this.data.split("\n");
    const stock_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u9996\u7F51\u76EE\u6807\u4EF7", "\u5F53\u524D\u4EF7\u683C", "\u4EF7\u683C\u767E\u5206\u4F4D"]];
    const buy_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u4E70\u5165\u89E6\u53D1\u4EF7", "\u4E70\u5165\u4EF7\u683C", "\u4E70\u5165\u4EFD\u6570", "\u4E70\u5165\u91D1\u989D", "\u8DDD\u6210\u4EA4\u4EF7"]];
    const sell_table = [[GRID_COLOR_TABLE_TITLE, "\u6807\u7684\u4EE3\u53F7", "\u6807\u7684\u540D\u79F0", "\u7F51\u683C\u79CD\u7C7B", "\u4EF7\u683C\u6863\u4F4D", "\u5356\u51FA\u89E6\u53D1\u4EF7", "\u5356\u51FA\u4EF7\u683C", "\u5356\u51FA\u4EFD\u6570", "\u5356\u51FA\u91D1\u989D", "\u8DDD\u6210\u4EA4\u4EF7"]];
    const stock_price_dict = /* @__PURE__ */ new Map();
    for (let idx = 0; idx < lines.length; idx++) {
      const line = lines[idx];
      if (line.length <= 0) {
        continue;
      }
      const strs = line.split(",");
      if (strs[0] == "BUY") {
        if (strs.length > 4) {
          const trading_gap = ToTradingGap(stock_price_dict.get(strs[1]), Number(strs[6]), 2);
          buy_table.push([GRID_COLOR_BUY_OVERVIEW, strs[1], strs[2], strs[3], strs[4], strs[5], strs[6], strs[7], strs[8], trading_gap]);
        } else {
          buy_table.push([GRID_COLOR_BUY_OVERVIEW, strs[1], strs[2], strs[3]]);
        }
      } else {
        if (strs[0] == "SELL") {
          const trading_gap = ToTradingGap(stock_price_dict.get(strs[1]), Number(strs[6]), 2);
          sell_table.push([GRID_COLOR_SELL_OVERVIEW, strs[1], strs[2], strs[3], strs[4], strs[5], strs[6], strs[7], strs[8], trading_gap]);
        } else {
          let remote_price = this.plugin_env.GetStockRemotePrice(strs[0]);
          this.DebugLog("Info", "GetRemotePrice " + strs[0], String(remote_price));
          if (remote_price <= 0) {
            remote_price = Number(strs[4]);
          }
          stock_price_dict.set(strs[0], remote_price);
          stock_table.push([GRID_COLOR_STOCK_OVERVIEW, strs[0], strs[1], strs[3], String(remote_price), ToPercent(remote_price / Number(strs[3]), 1)]);
        }
      }
    }
    this.appoint_stock_overview = [...stock_table, ...buy_table, ...sell_table];
  }
  SumupAllStock() {
    this.stock_overview = [];
    let stock_count = 0;
    let buy_monitor_count = 0;
    let sell_monitor_count = 0;
    let buy_cost_list = [];
    for (let idx = 0; idx < this.custom_stock_overview.length; idx++) {
      const stock = this.custom_stock_overview[idx];
      if (stock[0] == GRID_COLOR_STOCK_OVERVIEW) {
        stock_count++;
      }
      if (stock[0] == GRID_COLOR_SELL_OVERVIEW) {
        sell_monitor_count++;
      }
      if (stock[0] == GRID_COLOR_BUY_OVERVIEW) {
        if (stock.length > 4) {
          buy_monitor_count++;
          buy_cost_list.push(Number(stock[8]));
        }
      }
    }
    for (let idx = 0; idx < this.appoint_stock_overview.length; idx++) {
      const stock = this.appoint_stock_overview[idx];
      if (stock[0] == GRID_COLOR_STOCK_OVERVIEW) {
        stock_count++;
      }
      if (stock[0] == GRID_COLOR_SELL_OVERVIEW) {
        sell_monitor_count++;
      }
      if (stock[0] == GRID_COLOR_BUY_OVERVIEW) {
        if (stock.length > 4) {
          buy_monitor_count++;
          buy_cost_list.push(Number(stock[8]));
        }
      }
    }
    let total_cost = 0;
    let top4_cost = 0;
    buy_cost_list.sort((a, b) => b - a);
    buy_cost_list.forEach((val, idx) => total_cost = total_cost + val);
    buy_cost_list.forEach((val, idx) => {
      if (idx < 4)
        top4_cost = top4_cost + val;
    });
    this.stock_overview.push(["\u6807\u7684\u603B\u6570", "\u5356\u51FA\u76D1\u63A7\u683C\u6570", "\u4E70\u5165\u76D1\u63A7\u683C\u6570", "\u4E70\u5165\u5355\u6210\u4EA4\u603B\u989D", "TOP4\u4E70\u5165\u6210\u4EA4\u603B\u989D"]);
    this.stock_overview.push([String(stock_count), String(sell_monitor_count), String(buy_monitor_count), String(total_cost), String(top4_cost)]);
  }
  DebugLog(level, log_str, extra_info) {
    this.debug_log.push([level, log_str, extra_info]);
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  getViewType() {
    return VIEW_TYPE_GTO;
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.overview_title_el = div.createEl("h1");
    this.overview_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.custom_title_el = div.createEl("h1");
    this.custom_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.appoint_title_el = div.createEl("h1");
    this.appoint_table_el = div.createEl("table");
    div = this.contentEl.createEl("div");
    this.debug_log_title_el = div.createEl("h1");
    this.debug_log_table_el = div.createEl("table");
    this.refresh_event_guid = this.plugin_env.SubscribeEvent(FETCH_CURRENT_PRICE, () => this.Refresh());
  }
  async onClose() {
    this.contentEl.empty();
    if (this.refresh_event_guid > 0) {
      this.plugin_env.UnsubscribeEvent(FETCH_CURRENT_PRICE, this.refresh_event_guid);
      this.refresh_event_guid = -1;
    }
  }
  Refresh() {
    this.ReadCustomStock();
    this.ReadAppointStock();
    this.SumupAllStock();
    this.overview_title_el.setText("\u7F51\u683C\u603B\u89C8");
    this.overview_table_el.empty();
    this.DisplayTable(this.overview_table_el, this.stock_overview, false);
    this.custom_title_el.setText("\u6211\u7684\u7F51\u683C");
    this.custom_table_el.empty();
    this.DisplayTable(this.custom_table_el, this.custom_stock_overview, true);
    this.appoint_title_el.setText("\u8DDF\u8F66\u7F51\u683C");
    this.appoint_table_el.empty();
    this.DisplayTable(this.appoint_table_el, this.appoint_stock_overview, true);
    this.debug_log_title_el.setText("\u8C03\u8BD5\u65E5\u5FD7");
    this.debug_log_table_el.empty();
    this.DisplayTable(this.debug_log_table_el, this.debug_log, false);
  }
  DisplayTable(table_el, table, is_color) {
    const table_body = table_el.createEl("tbody");
    table.forEach((row, i) => {
      const table_row = table_body.createEl("tr");
      row.forEach((cell, j) => {
        if (is_color) {
          if (j > 0) {
            table_row.createEl("td", { text: cell, attr: { "bgColor": table[i][0], "align": "right" } });
          }
        } else {
          table_row.createEl("td", { text: cell, attr: { "align": "right" } });
        }
      });
    });
  }
};

// src/cor_view.ts
var import_obsidian4 = require("obsidian");
var VIEW_TYPE_COR = "cor-view";
var CorView = class extends import_obsidian4.TextFileView {
  constructor(leaf) {
    super(leaf);
  }
  getViewType() {
    return VIEW_TYPE_COR;
  }
  getViewData() {
    return this.data;
  }
  setViewData(data, clear) {
    this.data = data;
    this.Refresh();
  }
  clear() {
    this.data = "";
  }
  async onOpen() {
    let div = this.contentEl.createEl("div");
    this.data_el = div.createEl("h1");
  }
  async onClose() {
    this.contentEl.empty();
  }
  Refresh() {
    this.data_el.setText(this.data);
  }
};

// src/main.ts
var TradingStrategy = class extends import_obsidian5.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.plugin_env = new PluginEnv();
    this.interval_callback_id = -1;
  }
  async onload() {
    await this.LoadSettingsFromDisk();
    const ribbonIconEl = this.addRibbonIcon("dice", "GridTrading", (evt) => {
      this.FetchAllStockCurrentPrice();
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    this.addSettingTab(new TradingStrategySettingTab(this.app, this, this.plugin_env));
    this.interval_callback_id = window.setInterval(() => this.FetchAllStockCurrentPrice(), 1 * 1e3);
    this.registerInterval(this.interval_callback_id);
    this.registerView(VIEW_TYPE_GTV, (leaf) => {
      const gtv_view = new GTVView(leaf, this.plugin_env);
      return gtv_view;
    });
    this.registerView(VIEW_TYPE_GTO, (leaf) => {
      const gto_view = new GTOView(leaf, this.app.vault, this.plugin_env);
      return gto_view;
    });
    this.registerView(VIEW_TYPE_COR, (leaf) => {
      const cor_view = new CorView(leaf);
      return cor_view;
    });
    this.registerExtensions(["gtv"], VIEW_TYPE_GTV);
    this.registerExtensions(["gto"], VIEW_TYPE_GTO);
    this.registerExtensions(["cor"], VIEW_TYPE_COR);
  }
  onunload() {
  }
  async LoadSettingsFromDisk() {
    const setting_data = await this.loadData();
    if (setting_data != null) {
      this.plugin_env.UnserializedSettings(setting_data);
    }
  }
  SaveSettingsToDisk() {
    DebugLog("MAX_SLUMP_PCT1 ", this.plugin_env.grid_settings.MAX_SLUMP_PCT);
    const setting_data = this.plugin_env.SerializedSettings();
    DebugLog("MAX_SLUMP_PCT2 ", this.plugin_env.grid_settings.MAX_SLUMP_PCT);
    DebugLog(setting_data);
    this.saveData(setting_data);
  }
  async FetchAllStockCurrentPrice() {
    const api_licence = this.plugin_env.GetAPILisence();
    const grid_folder = this.app.vault.getAbstractFileByPath("GridTrading");
    if (grid_folder instanceof import_obsidian5.TFolder) {
      if (this.interval_callback_id > 0) {
        window.clearInterval(this.interval_callback_id);
        this.interval_callback_id = -1;
      }
      for (let index = 0; index < grid_folder.children.length; index++) {
        const grid_file = grid_folder.children[index];
        if (grid_file instanceof import_obsidian5.TFile && grid_file.name.endsWith(".gtv")) {
          const content = await this.app.vault.cachedRead(grid_file);
          const mode_str = content.split("\n")[0].split(",")[0];
          let grid_trading = this.plugin_env.GetAndGenGridTrading(grid_file.name, mode_str);
          grid_trading.InitGridTrading(content);
          let current_price = await GetETFCurrentPrice(grid_trading.market_code + String(grid_trading.target_stock), api_licence);
          current_price = Number(current_price);
          this.plugin_env.stock_remote_price_dict.set(String(grid_trading.target_stock), current_price);
          grid_trading.UpdateRemotePrice(current_price);
        }
        if (grid_file instanceof import_obsidian5.TFile && grid_file.name.endsWith(".gto")) {
          const content = await this.app.vault.cachedRead(grid_file);
          const lines = content.split("\n");
          for (let index2 = 0; index2 < lines.length; index2++) {
            const strs = lines[index2].split(",");
            if (strs[0] != "BUY" && strs[0] != "SELL") {
              let current_price = await GetETFCurrentPrice(strs[2] + strs[0], api_licence);
              current_price = Number(current_price);
              this.plugin_env.stock_remote_price_dict.set(strs[0], current_price);
            }
          }
        }
      }
      this.plugin_env.PublishEvent(FETCH_CURRENT_PRICE);
    }
  }
};
var TradingStrategySettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app, plugin, plugin_env) {
    super(app, plugin);
    this.plugin = plugin;
    this.plugin_env = plugin_env;
  }
  hide() {
    if (this.plugin_env.is_settings_changed) {
      this.plugin.SaveSettingsToDisk();
      this.plugin_env.is_settings_changed = false;
    }
    super.hide();
  }
  display() {
    this.containerEl.empty();
    this.containerEl.createEl("h1").setText("TradingStrategy");
    const base_div = this.containerEl.createEl("div");
    base_div.createEl("h2").setText("\u57FA\u7840\u914D\u7F6E");
    let bkey;
    for (bkey in this.plugin_env.base_settings) {
      const key_name = SETTING_NAME.get(bkey);
      if (key_name != void 0) {
        const setting = new import_obsidian5.Setting(base_div).setName(key_name);
        setting.addText((text_comp, setting_key = bkey) => {
          text_comp.setValue(String(GetSettingValue(this.plugin_env.base_settings, setting_key)));
          text_comp.onChange((value) => {
            SetSettingValue(this.plugin_env.base_settings, setting_key, value);
            this.plugin_env.is_settings_changed = true;
          });
        });
      }
    }
    const grid_div = this.containerEl.createEl("div");
    grid_div.createEl("h2").setText("\u7F51\u683C\u914D\u7F6E");
    let key;
    for (key in this.plugin_env.grid_settings) {
      const key_name = SETTING_NAME.get(key);
      if (key_name != void 0) {
        const setting = new import_obsidian5.Setting(grid_div).setName(key_name);
        setting.addText((text_comp, setting_key = key) => {
          DebugLog("add Setting Key: ", setting_key);
          text_comp.setValue(String(GetSettingValue(this.plugin_env.grid_settings, setting_key)));
          text_comp.onChange((value) => {
            SetSettingValue(this.plugin_env.grid_settings, setting_key, Number(value));
            DebugLog("SetValue succeed ", setting_key, GetSettingValue(this.plugin_env.grid_settings, setting_key));
            this.plugin_env.is_settings_changed = true;
          });
        });
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3RzLW1kNS9kaXN0L21kNS5qcyIsICJzcmMvbWFpbi50cyIsICJzcmMvbGFuZ19zdHIudHMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy9yZW1vdGVfdXRpbC50cyIsICJzcmMvZ3JpZF92aWV3LnRzIiwgInNyYy9teW1hdGgudHMiLCAic3JjL2dyaWRfdHJhZGluZy50cyIsICJzcmMvZ3JpZF90cmFkaW5nX20xLnRzIiwgInNyYy9ncmlkX3RyYWRpbmdfbTIudHMiLCAic3JjL2dyaWRfdHJhZGluZ19tMy50cyIsICJzcmMvcGx1Z2luX2Vudi50cyIsICJzcmMvY29tbWFuZF91dGlsLnRzIiwgInNyYy9ncmlkX292ZXJ2aWV3LnRzIiwgInNyYy9jb3Jfdmlldy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuXG5UeXBlU2NyaXB0IE1kNVxuPT09PT09PT09PT09PT1cblxuQmFzZWQgb24gd29yayBieVxuKiBKb3NlcGggTXllcnM6IGh0dHA6Ly93d3cubXllcnNkYWlseS5vcmcvam9zZXBoL2phdmFzY3JpcHQvbWQ1LXRleHQuaHRtbFxuKiBBbmRyXHUwMEU5IENydXo6IGh0dHBzOi8vZ2l0aHViLmNvbS9zYXRhem9yL1NwYXJrTUQ1XG4qIFJheW1vbmQgSGlsbDogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwveWFtZDUuanNcblxuRWZmZWN0aXZlbHkgYSBUeXBlU2NyeXB0IHJlLXdyaXRlIG9mIFJheW1vbmQgSGlsbCBKUyBMaWJyYXJ5XG5cblRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG5Db3B5cmlnaHQgKEMpIDIwMTQgUmF5bW9uZCBIaWxsXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuXG5cbiAgICAgICAgICAgIERPIFdIQVQgWU9VIFdBTlQgVE8gUFVCTElDIExJQ0VOU0VcbiAgICAgICAgICAgICAgICAgICAgVmVyc2lvbiAyLCBEZWNlbWJlciAyMDA0XG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUgQW5kclx1MDBFOSBDcnV6IDxhbWRmY3J1ekBnbWFpbC5jb20+XG5cbiBFdmVyeW9uZSBpcyBwZXJtaXR0ZWQgdG8gY29weSBhbmQgZGlzdHJpYnV0ZSB2ZXJiYXRpbSBvciBtb2RpZmllZFxuIGNvcGllcyBvZiB0aGlzIGxpY2Vuc2UgZG9jdW1lbnQsIGFuZCBjaGFuZ2luZyBpdCBpcyBhbGxvd2VkIGFzIGxvbmdcbiBhcyB0aGUgbmFtZSBpcyBjaGFuZ2VkLlxuXG4gICAgICAgICAgICBETyBXSEFUIFlPVSBXQU5UIFRPIFBVQkxJQyBMSUNFTlNFXG4gICBURVJNUyBBTkQgQ09ORElUSU9OUyBGT1IgQ09QWUlORywgRElTVFJJQlVUSU9OIEFORCBNT0RJRklDQVRJT05cblxuICAwLiBZb3UganVzdCBETyBXSEFUIFlPVSBXQU5UIFRPLlxuXG5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1kNSA9IHZvaWQgMDtcbjtcbnZhciBNZDUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWQ1KCkge1xuICAgICAgICB0aGlzLl9kYXRhTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXcgSW50MzJBcnJheSg0KTtcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDY4KTtcbiAgICAgICAgdGhpcy5fYnVmZmVyOCA9IG5ldyBVaW50OEFycmF5KHRoaXMuX2J1ZmZlciwgMCwgNjgpO1xuICAgICAgICB0aGlzLl9idWZmZXIzMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLl9idWZmZXIsIDAsIDE3KTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgICBNZDUuaGFzaFN0ciA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICBpZiAocmF3ID09PSB2b2lkIDApIHsgcmF3ID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMub25lUGFzc0hhc2hlclxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5hcHBlbmRTdHIoc3RyKVxuICAgICAgICAgICAgLmVuZChyYXcpO1xuICAgIH07XG4gICAgTWQ1Lmhhc2hBc2NpaVN0ciA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICBpZiAocmF3ID09PSB2b2lkIDApIHsgcmF3ID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMub25lUGFzc0hhc2hlclxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5hcHBlbmRBc2NpaVN0cihzdHIpXG4gICAgICAgICAgICAuZW5kKHJhdyk7XG4gICAgfTtcbiAgICBNZDUuX2hleCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBoYyA9IE1kNS5oZXhDaGFycztcbiAgICAgICAgdmFyIGhvID0gTWQ1LmhleE91dDtcbiAgICAgICAgdmFyIG47XG4gICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgIHZhciBqO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gaSAqIDg7XG4gICAgICAgICAgICBuID0geFtpXTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCA4OyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICBob1tvZmZzZXQgKyAxICsgal0gPSBoYy5jaGFyQXQobiAmIDB4MEYpO1xuICAgICAgICAgICAgICAgIG4gPj4+PSA0O1xuICAgICAgICAgICAgICAgIGhvW29mZnNldCArIDAgKyBqXSA9IGhjLmNoYXJBdChuICYgMHgwRik7XG4gICAgICAgICAgICAgICAgbiA+Pj49IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhvLmpvaW4oJycpO1xuICAgIH07XG4gICAgTWQ1Ll9tZDVjeWNsZSA9IGZ1bmN0aW9uICh4LCBrKSB7XG4gICAgICAgIHZhciBhID0geFswXTtcbiAgICAgICAgdmFyIGIgPSB4WzFdO1xuICAgICAgICB2YXIgYyA9IHhbMl07XG4gICAgICAgIHZhciBkID0geFszXTtcbiAgICAgICAgLy8gZmYoKVxuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzBdIC0gNjgwODc2OTM2IHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxXSAtIDM4OTU2NDU4NiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzJdICsgNjA2MTA1ODE5IHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbM10gLSAxMDQ0NTI1MzMwIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbNF0gLSAxNzY0MTg4OTcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzVdICsgMTIwMDA4MDQyNiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzZdIC0gMTQ3MzIzMTM0MSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzddIC0gNDU3MDU5ODMgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1s4XSArIDE3NzAwMzU0MTYgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzldIC0gMTk1ODQxNDQxNyB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzEwXSAtIDQyMDYzIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbMTFdIC0gMTk5MDQwNDE2MiB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzEyXSArIDE4MDQ2MDM2ODIgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzEzXSAtIDQwMzQxMTAxIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMTRdIC0gMTUwMjAwMjI5MCB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzE1XSArIDEyMzY1MzUzMjkgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgLy8gZ2coKVxuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzFdIC0gMTY1Nzk2NTEwIHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1s2XSAtIDEwNjk1MDE2MzIgfCAwO1xuICAgICAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzExXSArIDY0MzcxNzcxMyB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzBdIC0gMzczODk3MzAyIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbNV0gLSA3MDE1NTg2OTEgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzEwXSArIDM4MDE2MDgzIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1sxNV0gLSA2NjA0NzgzMzUgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1s0XSAtIDQwNTUzNzg0OCB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzldICsgNTY4NDQ2NDM4IHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1sxNF0gLSAxMDE5ODAzNjkwIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1szXSAtIDE4NzM2Mzk2MSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzhdICsgMTE2MzUzMTUwMSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzEzXSAtIDE0NDQ2ODE0NjcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzJdIC0gNTE0MDM3ODQgfCAwO1xuICAgICAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzddICsgMTczNTMyODQ3MyB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzEyXSAtIDE5MjY2MDc3MzQgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgLy8gaGgoKVxuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s1XSAtIDM3ODU1OCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzhdIC0gMjAyMjU3NDQ2MyB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1sxMV0gKyAxODM5MDMwNTYyIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzE0XSAtIDM1MzA5NTU2IHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMV0gLSAxNTMwOTkyMDYwIHwgMDtcbiAgICAgICAgYSA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbNF0gKyAxMjcyODkzMzUzIHwgMDtcbiAgICAgICAgZCA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzddIC0gMTU1NDk3NjMyIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzEwXSAtIDEwOTQ3MzA2NDAgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1sxM10gKyA2ODEyNzkxNzQgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1swXSAtIDM1ODUzNzIyMiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1szXSAtIDcyMjUyMTk3OSB8IDA7XG4gICAgICAgIGMgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1s2XSArIDc2MDI5MTg5IHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbOV0gLSA2NDAzNjQ0ODcgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1sxMl0gLSA0MjE4MTU4MzUgfCAwO1xuICAgICAgICBkID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTVdICsgNTMwNzQyNTIwIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzJdIC0gOTk1MzM4NjUxIHwgMDtcbiAgICAgICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgLy8gaWkoKVxuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1swXSAtIDE5ODYzMDg0NCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzddICsgMTEyNjg5MTQxNSB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxNF0gLSAxNDE2MzU0OTA1IHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzVdIC0gNTc0MzQwNTUgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjEgfCBiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMTJdICsgMTcwMDQ4NTU3MSB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzNdIC0gMTg5NDk4NjYwNiB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxMF0gLSAxMDUxNTIzIHwgMDtcbiAgICAgICAgYyA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzFdIC0gMjA1NDkyMjc5OSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s4XSArIDE4NzMzMTMzNTkgfCAwO1xuICAgICAgICBhID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxNV0gLSAzMDYxMTc0NCB8IDA7XG4gICAgICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1s2XSAtIDE1NjAxOTgzODAgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMTNdICsgMTMwOTE1MTY0OSB8IDA7XG4gICAgICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s0XSAtIDE0NTUyMzA3MCB8IDA7XG4gICAgICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzExXSAtIDExMjAyMTAzNzkgfCAwO1xuICAgICAgICBkID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMl0gKyA3MTg3ODcyNTkgfCAwO1xuICAgICAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbOV0gLSAzNDM0ODU1NTEgfCAwO1xuICAgICAgICBiID0gKGIgPDwgMjEgfCBiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgeFswXSA9IGEgKyB4WzBdIHwgMDtcbiAgICAgICAgeFsxXSA9IGIgKyB4WzFdIHwgMDtcbiAgICAgICAgeFsyXSA9IGMgKyB4WzJdIHwgMDtcbiAgICAgICAgeFszXSA9IGQgKyB4WzNdIHwgMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpc2UgYnVmZmVyIHRvIGJlIGhhc2hlZFxuICAgICAqL1xuICAgIE1kNS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2RhdGFMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9idWZmZXJMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9zdGF0ZS5zZXQoTWQ1LnN0YXRlSWRlbnRpdHkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIENoYXIgdG8gY29kZSBwb2ludCB0byB0byBhcnJheSBjb252ZXJzaW9uOlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9jaGFyQ29kZUF0XG4gICAgLy8gI0V4YW1wbGUuM0FfRml4aW5nX2NoYXJDb2RlQXRfdG9faGFuZGxlX25vbi1CYXNpYy1NdWx0aWxpbmd1YWwtUGxhbmVfY2hhcmFjdGVyc19pZl90aGVpcl9wcmVzZW5jZV9lYXJsaWVyX2luX3RoZV9zdHJpbmdfaXNfdW5rbm93blxuICAgIC8qKlxuICAgICAqIEFwcGVuZCBhIFVURi04IHN0cmluZyB0byB0aGUgaGFzaCBidWZmZXJcbiAgICAgKiBAcGFyYW0gc3RyIFN0cmluZyB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZFN0ciA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdmFyIGJ1ZjggPSB0aGlzLl9idWZmZXI4O1xuICAgICAgICB2YXIgYnVmMzIgPSB0aGlzLl9idWZmZXIzMjtcbiAgICAgICAgdmFyIGJ1ZkxlbiA9IHRoaXMuX2J1ZmZlckxlbmd0aDtcbiAgICAgICAgdmFyIGNvZGU7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoY29kZSA8IDEyOCkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gY29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPCAweDgwMCkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDYpICsgMHhDMDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IGNvZGUgJiAweDNGIHwgMHg4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPCAweEQ4MDAgfHwgY29kZSA+IDB4REJGRikge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDEyKSArIDB4RTA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gNiAmIDB4M0YpIHwgMHg4MDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IChjb2RlICYgMHgzRikgfCAweDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29kZSA9ICgoY29kZSAtIDB4RDgwMCkgKiAweDQwMCkgKyAoc3RyLmNoYXJDb2RlQXQoKytpKSAtIDB4REMwMCkgKyAweDEwMDAwO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID4gMHgxMEZGRkYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmljb2RlIHN0YW5kYXJkIHN1cHBvcnRzIGNvZGUgcG9pbnRzIHVwIHRvIFUrMTBGRkZGJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gKGNvZGUgPj4+IDE4KSArIDB4RjA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gMTIgJiAweDNGKSB8IDB4ODA7XG4gICAgICAgICAgICAgICAgYnVmOFtidWZMZW4rK10gPSAoY29kZSA+Pj4gNiAmIDB4M0YpIHwgMHg4MDtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IChjb2RlICYgMHgzRikgfCAweDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1ZkxlbiA+PSA2NCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFMZW5ndGggKz0gNjQ7XG4gICAgICAgICAgICAgICAgTWQ1Ll9tZDVjeWNsZSh0aGlzLl9zdGF0ZSwgYnVmMzIpO1xuICAgICAgICAgICAgICAgIGJ1ZkxlbiAtPSA2NDtcbiAgICAgICAgICAgICAgICBidWYzMlswXSA9IGJ1ZjMyWzE2XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJMZW5ndGggPSBidWZMZW47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kIGFuIEFTQ0lJIHN0cmluZyB0byB0aGUgaGFzaCBidWZmZXJcbiAgICAgKiBAcGFyYW0gc3RyIFN0cmluZyB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZEFzY2lpU3RyID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpID0gTWF0aC5taW4oc3RyLmxlbmd0aCAtIGosIDY0IC0gYnVmTGVuKTtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICBidWY4W2J1ZkxlbisrXSA9IHN0ci5jaGFyQ29kZUF0KGorKyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVmTGVuIDwgNjQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RhdGFMZW5ndGggKz0gNjQ7XG4gICAgICAgICAgICBNZDUuX21kNWN5Y2xlKHRoaXMuX3N0YXRlLCBidWYzMik7XG4gICAgICAgICAgICBidWZMZW4gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlckxlbmd0aCA9IGJ1ZkxlbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmQgYSBieXRlIGFycmF5IHRvIHRoZSBoYXNoIGJ1ZmZlclxuICAgICAqIEBwYXJhbSBpbnB1dCBhcnJheSB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBNZDUucHJvdG90eXBlLmFwcGVuZEJ5dGVBcnJheSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpID0gTWF0aC5taW4oaW5wdXQubGVuZ3RoIC0gaiwgNjQgLSBidWZMZW4pO1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIGJ1ZjhbYnVmTGVuKytdID0gaW5wdXRbaisrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidWZMZW4gPCA2NCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGF0YUxlbmd0aCArPSA2NDtcbiAgICAgICAgICAgIE1kNS5fbWQ1Y3ljbGUodGhpcy5fc3RhdGUsIGJ1ZjMyKTtcbiAgICAgICAgICAgIGJ1ZkxlbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID0gYnVmTGVuO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3RhdGUgb2YgdGhlIGhhc2ggYnVmZmVyXG4gICAgICovXG4gICAgTWQ1LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHMgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1ZmZlcjogU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBBcnJheS5mcm9tKHRoaXMuX2J1ZmZlcjgpKSxcbiAgICAgICAgICAgIGJ1ZmxlbjogdGhpcy5fYnVmZmVyTGVuZ3RoLFxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLl9kYXRhTGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGU6IFtzWzBdLCBzWzFdLCBzWzJdLCBzWzNdXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGhhc2ggYnVmZmVyXG4gICAgICogQHBhcmFtIHN0YXRlIE5ldyBoYXNoIGJ1ZmZlciBzdGF0ZVxuICAgICAqL1xuICAgIE1kNS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHN0YXRlLmJ1ZmZlcjtcbiAgICAgICAgdmFyIHggPSBzdGF0ZS5zdGF0ZTtcbiAgICAgICAgdmFyIHMgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHRoaXMuX2RhdGFMZW5ndGggPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlckxlbmd0aCA9IHN0YXRlLmJ1ZmxlbjtcbiAgICAgICAgc1swXSA9IHhbMF07XG4gICAgICAgIHNbMV0gPSB4WzFdO1xuICAgICAgICBzWzJdID0geFsyXTtcbiAgICAgICAgc1szXSA9IHhbM107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBidWYubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcjhbaV0gPSBidWYuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFzaCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgaGFzaCBidWZmZXIgYW5kIHJldHVybiB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIHJhdyBXaGV0aGVyIHRvIHJldHVybiB0aGUgdmFsdWUgYXMgYW4gYEludDMyQXJyYXlgXG4gICAgICovXG4gICAgTWQ1LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIGlmIChyYXcgPT09IHZvaWQgMCkgeyByYXcgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgYnVmTGVuID0gdGhpcy5fYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgYnVmOCA9IHRoaXMuX2J1ZmZlcjg7XG4gICAgICAgIHZhciBidWYzMiA9IHRoaXMuX2J1ZmZlcjMyO1xuICAgICAgICB2YXIgaSA9IChidWZMZW4gPj4gMikgKyAxO1xuICAgICAgICB0aGlzLl9kYXRhTGVuZ3RoICs9IGJ1ZkxlbjtcbiAgICAgICAgdmFyIGRhdGFCaXRzTGVuID0gdGhpcy5fZGF0YUxlbmd0aCAqIDg7XG4gICAgICAgIGJ1ZjhbYnVmTGVuXSA9IDB4ODA7XG4gICAgICAgIGJ1ZjhbYnVmTGVuICsgMV0gPSBidWY4W2J1ZkxlbiArIDJdID0gYnVmOFtidWZMZW4gKyAzXSA9IDA7XG4gICAgICAgIGJ1ZjMyLnNldChNZDUuYnVmZmVyMzJJZGVudGl0eS5zdWJhcnJheShpKSwgaSk7XG4gICAgICAgIGlmIChidWZMZW4gPiA1NSkge1xuICAgICAgICAgICAgTWQ1Ll9tZDVjeWNsZSh0aGlzLl9zdGF0ZSwgYnVmMzIpO1xuICAgICAgICAgICAgYnVmMzIuc2V0KE1kNS5idWZmZXIzMklkZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyB0aGUgZmluYWwgY29tcHV0YXRpb24gYmFzZWQgb24gdGhlIHRhaWwgYW5kIGxlbmd0aFxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1heSBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgaWYgKGRhdGFCaXRzTGVuIDw9IDB4RkZGRkZGRkYpIHtcbiAgICAgICAgICAgIGJ1ZjMyWzE0XSA9IGRhdGFCaXRzTGVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBkYXRhQml0c0xlbi50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsbyA9IHBhcnNlSW50KG1hdGNoZXNbMl0sIDE2KTtcbiAgICAgICAgICAgIHZhciBoaSA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDE2KSB8fCAwO1xuICAgICAgICAgICAgYnVmMzJbMTRdID0gbG87XG4gICAgICAgICAgICBidWYzMlsxNV0gPSBoaTtcbiAgICAgICAgfVxuICAgICAgICBNZDUuX21kNWN5Y2xlKHRoaXMuX3N0YXRlLCBidWYzMik7XG4gICAgICAgIHJldHVybiByYXcgPyB0aGlzLl9zdGF0ZSA6IE1kNS5faGV4KHRoaXMuX3N0YXRlKTtcbiAgICB9O1xuICAgIC8vIFByaXZhdGUgU3RhdGljIFZhcmlhYmxlc1xuICAgIE1kNS5zdGF0ZUlkZW50aXR5ID0gbmV3IEludDMyQXJyYXkoWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdKTtcbiAgICBNZDUuYnVmZmVyMzJJZGVudGl0eSA9IG5ldyBJbnQzMkFycmF5KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSk7XG4gICAgTWQ1LmhleENoYXJzID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuICAgIE1kNS5oZXhPdXQgPSBbXTtcbiAgICAvLyBQZXJtYW5lbnQgaW5zdGFuY2UgaXMgdG8gdXNlIGZvciBvbmUtY2FsbCBoYXNoaW5nXG4gICAgTWQ1Lm9uZVBhc3NIYXNoZXIgPSBuZXcgTWQ1KCk7XG4gICAgcmV0dXJuIE1kNTtcbn0oKSk7XG5leHBvcnRzLk1kNSA9IE1kNTtcbmlmIChNZDUuaGFzaFN0cignaGVsbG8nKSAhPT0gJzVkNDE0MDJhYmM0YjJhNzZiOTcxOWQ5MTEwMTdjNTkyJykge1xuICAgIHRocm93IG5ldyBFcnJvcignTWQ1IHNlbGYgdGVzdCBmYWlsZWQuJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZDUuanMubWFwIiwgIi8qXHJcbiAgICBNYWluOiBcdTYzRDJcdTRFRjZcdTVCOUFcdTRFNDlcdTUzQ0FcdTRFM0JcdTkwM0JcdThGOTFcclxuICAgIFx1OEJCRVx1N0Y2RVx1OTc2Mlx1Njc3Rlx1OTAwOVx1OTg3OVxyXG4qL1xyXG5pbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgUGx1Z2luTWFuaWZlc3QsIFNldHRpbmcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBURm9sZGVyIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZ1NldHRpbmdzLCBQbHVnaW5CYXNlU2V0dGluZ3MsIFNldFNldHRpbmdWYWx1ZSwgR2V0U2V0dGluZ1ZhbHVlIH0gZnJvbSBcIi4vc2V0dGluZ3NcIlxyXG5pbXBvcnQgeyBHZXRFVEZDdXJyZW50UHJpY2UsIERlYnVnTG9nIH0gZnJvbSAnLi9yZW1vdGVfdXRpbCc7XHJcbmltcG9ydCB7IEdUVlZpZXcsIFZJRVdfVFlQRV9HVFYgfSBmcm9tIFwiLi9ncmlkX3ZpZXdcIlxyXG5pbXBvcnQgeyBHVE9WaWV3LCBWSUVXX1RZUEVfR1RPIH0gZnJvbSAnLi9ncmlkX292ZXJ2aWV3JztcclxuaW1wb3J0IHsgQ29yVmlldywgVklFV19UWVBFX0NPUiB9IGZyb20gJy4vY29yX3ZpZXcnO1xyXG5pbXBvcnQgeyBQbHVnaW5FbnYsIEZFVENIX0NVUlJFTlRfUFJJQ0UgfSBmcm9tICcuL3BsdWdpbl9lbnYnO1xyXG5pbXBvcnQgeyBTRVRUSU5HX05BTUUgfSBmcm9tIFwiLi9sYW5nX3N0clwiXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhZGluZ1N0cmF0ZWd5IGV4dGVuZHMgUGx1Z2luXHJcbntcclxuICAgIHBsdWdpbl9lbnY6IFBsdWdpbkVudjtcclxuICAgIGludGVydmFsX2NhbGxiYWNrX2lkOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIG1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdClcclxuICAgIHtcclxuICAgICAgICBzdXBlcihhcHAsIG1hbmlmZXN0KTtcclxuICAgICAgICB0aGlzLnBsdWdpbl9lbnYgPSBuZXcgUGx1Z2luRW52KCk7XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbF9jYWxsYmFja19pZCA9IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG9ubG9hZCgpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLkxvYWRTZXR0aW5nc0Zyb21EaXNrKCk7XHJcbiAgICAgICAgLy8gVGhpcyBjcmVhdGVzIGFuIGljb24gaW4gdGhlIGxlZnQgcmliYm9uLlxyXG4gICAgICAgIGNvbnN0IHJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbignZGljZScsICdHcmlkVHJhZGluZycsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgLy8gQ2FsbGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBpY29uLlxyXG4gICAgICAgICAgICB0aGlzLkZldGNoQWxsU3RvY2tDdXJyZW50UHJpY2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBQZXJmb3JtIGFkZGl0aW9uYWwgdGhpbmdzIHdpdGggdGhlIHJpYmJvblxyXG4gICAgICAgIHJpYmJvbkljb25FbC5hZGRDbGFzcygnbXktcGx1Z2luLXJpYmJvbi1jbGFzcycpO1xyXG5cclxuICAgICAgICAvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgVHJhZGluZ1N0cmF0ZWd5U2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcywgdGhpcy5wbHVnaW5fZW52KSk7XHJcblxyXG4gICAgICAgIC8vIFdoZW4gcmVnaXN0ZXJpbmcgaW50ZXJ2YWxzLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBjbGVhciB0aGUgaW50ZXJ2YWwgd2hlbiB0aGUgcGx1Z2luIGlzIGRpc2FibGVkLlxyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5GZXRjaEFsbFN0b2NrQ3VycmVudFByaWNlKCksIDEgKiAxMDAwKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVySW50ZXJ2YWwodGhpcy5pbnRlcnZhbF9jYWxsYmFja19pZCk7XHJcblxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJWaWV3KFZJRVdfVFlQRV9HVFYsIChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGd0dl92aWV3ID0gbmV3IEdUVlZpZXcobGVhZiwgdGhpcy5wbHVnaW5fZW52KTtcclxuICAgICAgICAgICAgcmV0dXJuIGd0dl92aWV3O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJWaWV3KFZJRVdfVFlQRV9HVE8sIChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGd0b192aWV3ID0gbmV3IEdUT1ZpZXcobGVhZiwgdGhpcy5hcHAudmF1bHQsIHRoaXMucGx1Z2luX2Vudik7XHJcbiAgICAgICAgICAgIHJldHVybiBndG9fdmlldztcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyVmlldyhWSUVXX1RZUEVfQ09SLCAobGVhZjogV29ya3NwYWNlTGVhZikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb3JfdmlldyA9IG5ldyBDb3JWaWV3KGxlYWYpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29yX3ZpZXc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXh0ZW5zaW9ucyhbXCJndHZcIl0sIFZJRVdfVFlQRV9HVFYpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFeHRlbnNpb25zKFtcImd0b1wiXSwgVklFV19UWVBFX0dUTyk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV4dGVuc2lvbnMoW1wiY29yXCJdLCBWSUVXX1RZUEVfQ09SKTtcclxuICAgIH1cclxuXHJcbiAgICBvbnVubG9hZCgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgTG9hZFNldHRpbmdzRnJvbURpc2soKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdfZGF0YSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcclxuICAgICAgICAvL0RlYnVnTG9nKFwiRmluaXNoIGxvYWRpbmcgc2V0dGluZywgc2V0dGluZ19kYXRhOiBcIiwgc2V0dGluZ19kYXRhKTtcclxuICAgICAgICBpZiAoc2V0dGluZ19kYXRhICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuVW5zZXJpYWxpemVkU2V0dGluZ3Moc2V0dGluZ19kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgU2F2ZVNldHRpbmdzVG9EaXNrKClcclxuICAgIHtcclxuICAgICAgICBEZWJ1Z0xvZyhcIk1BWF9TTFVNUF9QQ1QxIFwiLCB0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKTtcclxuICAgICAgICBjb25zdCBzZXR0aW5nX2RhdGEgPSB0aGlzLnBsdWdpbl9lbnYuU2VyaWFsaXplZFNldHRpbmdzKCk7XHJcbiAgICAgICAgRGVidWdMb2coXCJNQVhfU0xVTVBfUENUMiBcIiwgdGhpcy5wbHVnaW5fZW52LmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCk7XHJcbiAgICAgICAgRGVidWdMb2coc2V0dGluZ19kYXRhKTtcclxuICAgICAgICB0aGlzLnNhdmVEYXRhKHNldHRpbmdfZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgRmV0Y2hBbGxTdG9ja0N1cnJlbnRQcmljZSgpXHJcbiAgICB7XHJcbiAgICAgICAgLy9EZWJ1Z0xvZygncnVuIEZldGNoQWxsU3RvY2tDdXJyZW50UHJpY2UgJywgdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpKTtcclxuICAgICAgICBjb25zdCBhcGlfbGljZW5jZSA9IHRoaXMucGx1Z2luX2Vudi5HZXRBUElMaXNlbmNlKClcclxuICAgICAgICBjb25zdCBncmlkX2ZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCgnR3JpZFRyYWRpbmcnKTtcclxuICAgICAgICAvL0RlYnVnTG9nKFwiZ2V0QWJzdHJhY3RGaWxlQnlQYXRoIFwiLCBTdHJpbmcoZ3JpZF9mb2xkZXIpKTtcclxuICAgICAgICBpZiAoZ3JpZF9mb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQgPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsX2NhbGxiYWNrX2lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWxfY2FsbGJhY2tfaWQgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL0RlYnVnTG9nKCdGb2xkZXIgY2hpbGRyZW4gY291bnQgJywgU3RyaW5nKGdyaWRfZm9sZGVyLmNoaWxkcmVuLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleD0wOyBpbmRleCA8IGdyaWRfZm9sZGVyLmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JpZF9maWxlID0gZ3JpZF9mb2xkZXIuY2hpbGRyZW5baW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIkZvciBmaWxlIG5hbWUgXCIsIGdyaWRfZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChncmlkX2ZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBncmlkX2ZpbGUubmFtZS5lbmRzV2l0aChcIi5ndHZcIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcInJlYWQgZmlsZSBcIiwgZ3JpZF9maWxlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKGdyaWRfZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZV9zdHIgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpWzBdLnNwbGl0KFwiLFwiKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZF90cmFkaW5nID0gdGhpcy5wbHVnaW5fZW52LkdldEFuZEdlbkdyaWRUcmFkaW5nKGdyaWRfZmlsZS5uYW1lLCBtb2RlX3N0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIkdldEFuZEdlbkdyaWRUcmFkaW5nLCBuYW1lOiBcIiwgZ3JpZF9maWxlLm5hbWUsIFwiLCBtb2RlOiBcIiwgbW9kZV9zdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWRfdHJhZGluZy5Jbml0R3JpZFRyYWRpbmcoY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIlRyeSB0byBmZXRjaCByZW1vdGUgcHJpY2UsIFwiLCBncmlkX3RyYWRpbmcubWFya2V0X2NvZGUsIGdyaWRfdHJhZGluZy50YXJnZXRfc3RvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50X3ByaWNlID0gYXdhaXQgR2V0RVRGQ3VycmVudFByaWNlKGdyaWRfdHJhZGluZy5tYXJrZXRfY29kZSArIFN0cmluZyhncmlkX3RyYWRpbmcudGFyZ2V0X3N0b2NrKSwgYXBpX2xpY2VuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBTOiBcdTk3MDBcdTg5ODFcdTVGM0FcdThGNkNcdTRFMDBcdTRFMEJcdUZGMENcdTRFMERcdTVGM0FcdTUyMzZcdThGNkNcdTYzNjJcdTY1RTBcdTZDRDVcdTRGN0ZcdTc1MjggdG9GaXhlZCBcdTUxRkRcdTY1NzBcdUZGMENcdTUzRUZcdTgwRkRcdTY2MkZcdTdDN0JcdTU3OEJcdTk1RUVcdTk4OThcdUZGMENcdTZDQTFcdTZERjFcdTdBNzZcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3ByaWNlID0gTnVtYmVyKGN1cnJlbnRfcHJpY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5zdG9ja19yZW1vdGVfcHJpY2VfZGljdC5zZXQoU3RyaW5nKGdyaWRfdHJhZGluZy50YXJnZXRfc3RvY2spLCBjdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RlYnVnTG9nKFwiXHU2N0U1XHU4QkUyIFwiLCBncmlkX3RyYWRpbmcuc3RvY2tfbmFtZSwgXCIgXHU1RjUzXHU1MjREXHU2NzAwXHU2NUIwXHU0RUY3XHU2ODNDXHU0RTNBOiBcIiwgY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZF90cmFkaW5nLlVwZGF0ZVJlbW90ZVByaWNlKGN1cnJlbnRfcHJpY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChncmlkX2ZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBncmlkX2ZpbGUubmFtZS5lbmRzV2l0aChcIi5ndG9cIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoZ3JpZF9maWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLzUyMTg4MCxcdThCQzFcdTUyMzhFVEYsc2gsMS4wMzAsMC44OTBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXg9MDsgaW5kZXggPCBsaW5lcy5sZW5ndGg7IGluZGV4KyspXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJzID0gbGluZXNbaW5kZXhdLnNwbGl0KFwiLFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cnNbMF0gIT0gXCJCVVlcIiAmJiBzdHJzWzBdICE9IFwiU0VMTFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudF9wcmljZSA9IGF3YWl0IEdldEVURkN1cnJlbnRQcmljZShzdHJzWzJdICsgc3Ryc1swXSwgYXBpX2xpY2VuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudF9wcmljZSA9IE51bWJlcihjdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5zdG9ja19yZW1vdGVfcHJpY2VfZGljdC5zZXQoc3Ryc1swXSwgY3VycmVudF9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0RlYnVnTG9nKFwiXHU2N0U1XHU4QkUyIFwiLCBzdHJzWzFdLCBcIiBcdTVGNTNcdTUyNERcdTY3MDBcdTY1QjBcdTRFRjdcdTY4M0NcdTRFM0E6IFwiLCBjdXJyZW50X3ByaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuUHVibGlzaEV2ZW50KEZFVENIX0NVUlJFTlRfUFJJQ0UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmNsYXNzIFRyYWRpbmdTdHJhdGVneVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHJcbiAgICBwbHVnaW46IFRyYWRpbmdTdHJhdGVneTtcclxuICAgIHBsdWdpbl9lbnY6IFBsdWdpbkVudjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBUcmFkaW5nU3RyYXRlZ3ksIHBsdWdpbl9lbnY6IFBsdWdpbkVudikge1xyXG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgICAgICB0aGlzLnBsdWdpbl9lbnYgPSBwbHVnaW5fZW52O1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luX2Vudi5pc19zZXR0aW5nc19jaGFuZ2VkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uU2F2ZVNldHRpbmdzVG9EaXNrKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5pc19zZXR0aW5nc19jaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgICAgIC8vRGVidWdMb2coXCJlbnRlciBkaXNwbGF5IHNldHRpbmdzXCIpXHJcbiAgICAgICAgLy8gXHU2RTA1XHU3QTdBXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xyXG4gICAgICAgIC8vIFx1OEJCRVx1N0Y2RVx1NjgwN1x1OTg5OFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMVwiKS5zZXRUZXh0KFwiVHJhZGluZ1N0cmF0ZWd5XCIpO1xyXG4gICAgICAgIC8vIFx1NTdGQVx1Nzg0MFx1OTE0RFx1N0Y2RVxyXG4gICAgICAgIGNvbnN0IGJhc2VfZGl2ID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICBiYXNlX2Rpdi5jcmVhdGVFbChcImgyXCIpLnNldFRleHQoXCJcdTU3RkFcdTc4NDBcdTkxNERcdTdGNkVcIik7XHJcbiAgICAgICAgbGV0IGJrZXk6IChrZXlvZiBQbHVnaW5CYXNlU2V0dGluZ3MpO1xyXG4gICAgICAgIGZvciAoYmtleSBpbiB0aGlzLnBsdWdpbl9lbnYuYmFzZV9zZXR0aW5ncylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleV9uYW1lID0gU0VUVElOR19OQU1FLmdldChia2V5KVxyXG4gICAgICAgICAgICBpZiAoa2V5X25hbWUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoYmFzZV9kaXYpLnNldE5hbWUoa2V5X25hbWUpO1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZy5hZGRUZXh0KCh0ZXh0X2NvbXAsIHNldHRpbmdfa2V5PWJrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0X2NvbXAuc2V0VmFsdWUoU3RyaW5nKEdldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuYmFzZV9zZXR0aW5ncywgc2V0dGluZ19rZXkpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dF9jb21wLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuYmFzZV9zZXR0aW5ncywgc2V0dGluZ19rZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5fZW52LmlzX3NldHRpbmdzX2NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gXHU3RjUxXHU2ODNDXHU0RUE0XHU2NjEzXHU1M0MyXHU2NTcwXHJcbiAgICAgICAgY29uc3QgZ3JpZF9kaXYgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIGdyaWRfZGl2LmNyZWF0ZUVsKFwiaDJcIikuc2V0VGV4dChcIlx1N0Y1MVx1NjgzQ1x1OTE0RFx1N0Y2RVwiKTsgICBcclxuICAgICAgICBsZXQga2V5OiAoa2V5b2YgR3JpZFRyYWRpbmdTZXR0aW5ncyk7XHJcbiAgICAgICAgZm9yIChrZXkgaW4gdGhpcy5wbHVnaW5fZW52LmdyaWRfc2V0dGluZ3MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBrZXlfbmFtZSA9IFNFVFRJTkdfTkFNRS5nZXQoa2V5KVxyXG4gICAgICAgICAgICBpZiAoa2V5X25hbWUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoZ3JpZF9kaXYpLnNldE5hbWUoa2V5X25hbWUpO1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZy5hZGRUZXh0KCh0ZXh0X2NvbXAsIHNldHRpbmdfa2V5PWtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnTG9nKFwiYWRkIFNldHRpbmcgS2V5OiBcIiwgc2V0dGluZ19rZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRfY29tcC5zZXRWYWx1ZShTdHJpbmcoR2V0U2V0dGluZ1ZhbHVlKHRoaXMucGx1Z2luX2Vudi5ncmlkX3NldHRpbmdzLCBzZXR0aW5nX2tleSkpKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0X2NvbXAub25DaGFuZ2UoKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldFNldHRpbmdWYWx1ZSh0aGlzLnBsdWdpbl9lbnYuZ3JpZF9zZXR0aW5ncywgc2V0dGluZ19rZXksIE51bWJlcih2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWdMb2coXCJTZXRWYWx1ZSBzdWNjZWVkIFwiLCBzZXR0aW5nX2tleSwgR2V0U2V0dGluZ1ZhbHVlKHRoaXMucGx1Z2luX2Vudi5ncmlkX3NldHRpbmdzLCBzZXR0aW5nX2tleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5fZW52LmlzX3NldHRpbmdzX2NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsICJcclxuZXhwb3J0IGNvbnN0IFNFVFRJTkdfTkFNRSA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KFtcclxuICAgIFtcIk9ORV9HUklEX0xJTUlUXCIsIFwiXHU5OTk2XHU3RjUxXHU0RTBBXHU5NjUwXHU1MDNDXCJdLFxyXG4gICAgW1wiTUFYX1NMVU1QX1BDVFwiLCBcIlx1NjcwMFx1NTkyN1x1NTZERVx1NjRBNFx1NTAzQ1wiXSxcclxuICAgIFtcIlRSSUdHRVJfQUREX1BPSU5UXCIsIFwiXHU4OUU2XHU1M0QxXHU0RUY3XHU1MkEwXHU3MEI5XCJdLFxyXG4gICAgW1wiTUlOX0FMSUdOX1BSSUNFXCIsIFwiXHU2MkE1XHU0RUY3XHU1MzU1XHU1MDBEXHU2NTcwXCJdLFxyXG4gICAgW1wiTUlOX0JBVENIX0NPVU5UXCIsIFwiXHU1MzU1XHU2MjRCXHU0RUZEXHU2NTcwXHU5ODlEXCJdLFxyXG4gICAgW1wiTUFYX1JJU0VfUENUXCIsIFwiXHU1MzU1XHU2NUU1XHU2NzAwXHU1OTI3XHU2REE4XHU1RTQ1XCJdLFxyXG4gICAgW1wiU0dSSURfU1RFUF9QQ1RcIiwgXCJcdTVDMEZcdTdGNTFcdTZCNjVcdThGREJcdTUwM0NcIl0sXHJcbiAgICBbXCJTR1JJRF9SRVRBSU5fQ09VTlRcIiwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIl0sXHJcbiAgICBbXCJTR1JJRF9BRERfUENUXCIsIFwiXHU2QkNGXHU3RjUxXHU4RkZEXHU1MkEwXCJdLFxyXG4gICAgW1wiTUdSSURfU1RFUF9QQ1RcIiwgXCJcdTRFMkRcdTdGNTFcdTZCNjVcdThGREJcdTUwM0NcIl0sXHJcbiAgICBbXCJNR1JJRF9SRVRBSU5fQ09VTlRcIiwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIl0sXHJcbiAgICBbXCJNR1JJRF9BRERfUENUXCIsIFwiXHU2QkNGXHU3RjUxXHU4RkZEXHU1MkEwXCJdLFxyXG4gICAgW1wiTEdSSURfU1RFUF9QQ1RcIiwgXCJcdTU5MjdcdTdGNTFcdTZCNjVcdThGREJcdTUwM0NcIl0sXHJcbiAgICBbXCJMR1JJRF9SRVRBSU5fQ09VTlRcIiwgXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIl0sXHJcbiAgICBbXCJMR1JJRF9BRERfUENUXCIsIFwiXHU2QkNGXHU3RjUxXHU4RkZEXHU1MkEwXCJdLFxyXG4gICAgW1wiREFUQV9BUElfTElDRU5DRVwiLCBcIlx1NjU3MFx1NjM2RVx1NjNBNVx1NTNFM1x1OEJDMVx1NEU2NlwiXVxyXG5dKTtcclxuXHJcbmV4cG9ydCBjb25zdCBTR1JJRF9UWVBFX05BTUVfU1RSID0gXCJcdTVDMEZcdTdGNTFcIjtcclxuZXhwb3J0IGNvbnN0IE1HUklEX1RZUEVfTkFNRV9TVFIgPSBcIlx1NEUyRFx1N0Y1MVwiO1xyXG5leHBvcnQgY29uc3QgTEdSSURfVFlQRV9OQU1FX1NUUiA9IFwiXHU1OTI3XHU3RjUxXCI7XHJcbmV4cG9ydCBjb25zdCBQRVJGSVRfVFlQRV9OQU1FX1NUUiA9IFwiXHU1MjI5XHU2REE2XCI7IiwgIi8qXHJcbiAgICBTZXR0aW5nIFx1NTQwNFx1NzlDRFx1OTE0RFx1N0Y2RVx1NEZFMVx1NjA2Rlx1NTNDQVx1NUUzOFx1OTFDRlx1NUI5QVx1NEU0OVxyXG4gICAgR3JpZFRyYWRpbmdTZXR0aW5nczogXHU3RjUxXHU2ODNDXHU0RUE0XHU2NjEzXHU3Njg0XHU1M0MyXHU2NTcwXHU1QjlBXHU0RTQ5XHVGRjBDXHU4OTg2XHU3NkQ2XHU1MTczXHU3Q0ZCXHU0RTNBIFx1OUVEOFx1OEJBNFx1NTE2OFx1NUM0MFx1NTNDMlx1NjU3MDwtLVx1ODFFQVx1NUI5QVx1NEU0OVx1NTE2OFx1NUM0MFx1NTNDMlx1NjU3MDwtLVx1ODFFQVx1NUI5QVx1NEU0OVx1NjgwN1x1NzY4NFx1NTNDMlx1NjU3MFxyXG4qL1xyXG5cclxuaW1wb3J0IHsgU0VUVElOR19OQU1FIH0gZnJvbSBcIi4vbGFuZ19zdHJcIjtcclxuXHJcbi8vIFx1OTg5Q1x1ODI3Mlx1NUI5QVx1NEU0OVxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9CVVlfTU9OSVRPUiA9IFwiI0ZGRkYwMFwiOyAgICAvLyBcdTlFQzRcdTgyNzJcclxuZXhwb3J0IGNvbnN0IEdSSURfQ09MT1JfU0VMTF9NT05JVE9SID0gXCIjRkZGRjAwXCI7ICAgIC8vIFx1OUVDNFx1ODI3MlxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9CVVlfVFJJR0dFUkVEID0gXCIjRDNEM0QzXCI7ICAgIC8vIFx1NzA3MFx1ODI3MlxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9TRUxMX1RSSUdHRVJFRCA9IFwiI0ZGRkZFMFwiOyAgICAvLyBcdTZENDVcdTlFQzRcclxuZXhwb3J0IGNvbnN0IEdSSURfQ09MT1JfU1RPQ0tfT1ZFUlZJRVcgPSBcIiNGRkZGRkZcIjsgLy8gXHU1NDBDXHU2NUY2XHU4MEE5XHU4RDFGXHU2ODA3XHU4QkIwXHU2NTcwXHU2MzZFXHU3QzdCXHU1NzhCXHVGRjBDXHU0RjMwXHU5ODlDXHU4MjcyXHU1MDNDXHU0RTBEXHU4MEZEXHU1QjhDXHU1MTY4XHU3NkY4XHU3QjQ5XHJcbmV4cG9ydCBjb25zdCBHUklEX0NPTE9SX1RBQkxFX1RJVExFID0gXCIjRDNEM0QzXCI7ICAgIC8vIFx1NTQwQ1x1NjVGNlx1ODBBOVx1OEQxRlx1NjgwN1x1OEJCMFx1NjU3MFx1NjM2RVx1N0M3Qlx1NTc4Qlx1RkYwQ1x1NEYzMFx1OTg5Q1x1ODI3Mlx1NTAzQ1x1NEUwRFx1ODBGRFx1NUI4Q1x1NTE2OFx1NzZGOFx1N0I0OVxyXG5leHBvcnQgY29uc3QgR1JJRF9DT0xPUl9CVVlfT1ZFUlZJRVcgPSBcIiNGRkZGMDFcIjsgICAvLyBcdTU0MENcdTY1RjZcdTgwQTlcdThEMUZcdTY4MDdcdThCQjBcdTY1NzBcdTYzNkVcdTdDN0JcdTU3OEJcdUZGMENcdTRGMzBcdTk4OUNcdTgyNzJcdTUwM0NcdTRFMERcdTgwRkRcdTVCOENcdTUxNjhcdTc2RjhcdTdCNDlcclxuZXhwb3J0IGNvbnN0IEdSSURfQ09MT1JfU0VMTF9PVkVSVklFVyA9IFwiI0ZGRkYwMFwiOyAgLy8gXHU1NDBDXHU2NUY2XHU4MEE5XHU4RDFGXHU2ODA3XHU4QkIwXHU2NTcwXHU2MzZFXHU3QzdCXHU1NzhCXHVGRjBDXHU0RjMwXHU5ODlDXHU4MjcyXHU1MDNDXHU0RTBEXHU4MEZEXHU1QjhDXHU1MTY4XHU3NkY4XHU3QjQ5XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFBhY2tTZXR0aW5nczxUPihzZXR0aW5nczogVCk6IHN0cmluZ1xyXG57XHJcbiAgICBsZXQgcGFja19zdHIgPSBcIlwiO1xyXG4gICAgbGV0IGtleToga2V5b2YgVDtcclxuICAgIGZvciAoa2V5IGluIHNldHRpbmdzKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChTRVRUSU5HX05BTUUuaGFzKFN0cmluZyhrZXkpKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHBhY2tfc3RyID0gcGFja19zdHIgKyBTdHJpbmcoa2V5KSArIFwiOlwiICsgU3RyaW5nKHNldHRpbmdzW2tleV0pICsgXCJcXG5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFja19zdHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBVbnBhY2tTZXR0aW5nczxUPihzZXR0aW5nczogVCwgbGluZXM6IHN0cmluZ1tdKVxyXG57XHJcbiAgICBsaW5lcy5mb3JFYWNoKChsaW5lLCBpZHgpID0+IHtcclxuICAgICAgICBjb25zdCBzdHJzID0gbGluZS5zcGxpdChcIjpcIik7XHJcbiAgICAgICAgaWYgKFNFVFRJTkdfTkFNRS5oYXMoc3Ryc1swXSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTZXRTZXR0aW5nVmFsdWUoc2V0dGluZ3MsIHN0cnNbMF0gYXMga2V5b2YgVCwgc3Ryc1sxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZXRTZXR0aW5nVmFsdWU8VD4oc2V0dGluZ3M6IFQsIGtleToga2V5b2YgVClcclxue1xyXG4gICAgcmV0dXJuIHNldHRpbmdzW2tleV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBTZXRTZXR0aW5nVmFsdWU8VCwgVlQ+KHNldHRpbmdzOiBULCBrZXk6IGtleW9mIFQsIHZhbHVlOiBWVClcclxue1xyXG4gICAgaWYgKGtleSBpbiBzZXR0aW5ncylcclxuICAgIHtcclxuICAgICAgICBzZXR0aW5nc1trZXldID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFx1NjNEMlx1NEVGNlx1OTE0RFx1N0Y2RVxyXG5leHBvcnQgY2xhc3MgUGx1Z2luQmFzZVNldHRpbmdzXHJcbntcclxuICAgIERBVEFfQVBJX0xJQ0VOQ0U6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gXHU1MTREXHU4RDM5XHU5RUQ4XHU4QkE0TGljZW5zZVxyXG4gICAgICAgIHRoaXMuREFUQV9BUElfTElDRU5DRSA9IFwiMTEyZTg0NjU2MTc0ZjBhNVwiO1xyXG4gICAgICAgIC8vIFx1NEUyQVx1NEVCQVx1NEVEOFx1OEQzOUxpY2Vuc2VcclxuICAgICAgICB0aGlzLkRBVEFfQVBJX0xJQ0VOQ0UgPSBcImIxOTJmNTNhNmQ2OTI4MDMzXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyBcdTdGNTFcdTY4M0NcdTkxNERcdTdGNkVcclxuZXhwb3J0IGNsYXNzIEdyaWRUcmFkaW5nU2V0dGluZ3Mge1xyXG4gICAgT05FX0dSSURfTElNSVQ6IG51bWJlcjtcclxuICAgIE1BWF9TTFVNUF9QQ1Q6IG51bWJlcjtcclxuICAgIFRSSUdHRVJfQUREX1BPSU5UOiBudW1iZXI7XHJcbiAgICBNSU5fQUxJR05fUFJJQ0U6IG51bWJlcjtcclxuICAgIE1JTl9CQVRDSF9DT1VOVDogbnVtYmVyO1xyXG4gICAgTUFYX1JJU0VfUENUOiBudW1iZXI7XHJcblxyXG4gICAgU0dSSURfU1RFUF9QQ1Q6IG51bWJlcjtcclxuICAgIFNHUklEX0FERF9QQ1Q6IG51bWJlcjtcclxuICAgIFNHUklEX1JFVEFJTl9DT1VOVDogbnVtYmVyO1xyXG5cclxuICAgIE1HUklEX1NURVBfUENUOiBudW1iZXI7XHJcbiAgICBNR1JJRF9BRERfUENUOiBudW1iZXI7XHJcbiAgICBNR1JJRF9SRVRBSU5fQ09VTlQ6IG51bWJlcjtcclxuXHJcbiAgICBMR1JJRF9TVEVQX1BDVDogbnVtYmVyO1xyXG4gICAgTEdSSURfQUREX1BDVDogbnVtYmVyO1xyXG4gICAgTEdSSURfUkVUQUlOX0NPVU5UOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFx1NjMwOVx1NzE2N1x1OUVEOFx1OEJBNFx1NTNDMlx1NjU3MFx1NTAzQ1x1NTIxRFx1NTlDQlx1NTMxNlxyXG4gICAgICAgIHRoaXMuT05FX0dSSURfTElNSVQgPSAxMDAwMDtcclxuICAgICAgICB0aGlzLk1BWF9TTFVNUF9QQ1QgPSAwLjY3O1xyXG4gICAgICAgIHRoaXMuVFJJR0dFUl9BRERfUE9JTlQgPSAwLjAwNTtcclxuICAgICAgICB0aGlzLk1JTl9BTElHTl9QUklDRSA9IDAuMDAxO1xyXG4gICAgICAgIHRoaXMuTUlOX0JBVENIX0NPVU5UID0gMTAwO1xyXG4gICAgICAgIHRoaXMuTUFYX1JJU0VfUENUID0gMC4xO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy5TR1JJRF9TVEVQX1BDVCA9IDAuMDU7XHJcbiAgICAgICAgdGhpcy5TR1JJRF9BRERfUENUID0gMC4wNTtcclxuICAgICAgICB0aGlzLlNHUklEX1JFVEFJTl9DT1VOVCA9IDQ7XHJcblxyXG4gICAgICAgIHRoaXMuTUdSSURfU1RFUF9QQ1QgPSAwLjIyO1xyXG4gICAgICAgIHRoaXMuTUdSSURfQUREX1BDVCA9IDAuMjtcclxuICAgICAgICB0aGlzLk1HUklEX1JFVEFJTl9DT1VOVCA9IDI7XHJcblxyXG4gICAgICAgIHRoaXMuTEdSSURfU1RFUF9QQ1QgPSAwLjUyO1xyXG4gICAgICAgIHRoaXMuTEdSSURfQUREX1BDVCA9IDAuNTtcclxuICAgICAgICB0aGlzLkxHUklEX1JFVEFJTl9DT1VOVCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgQ2xvbmUoKTogR3JpZFRyYWRpbmdTZXR0aW5nc1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGNsb25lID0gbmV3IEdyaWRUcmFkaW5nU2V0dGluZ3MoKTtcclxuICAgICAgICBjbG9uZS5PTkVfR1JJRF9MSU1JVCA9IHRoaXMuT05FX0dSSURfTElNSVQ7XHJcbiAgICAgICAgY2xvbmUuTUFYX1NMVU1QX1BDVCA9IHRoaXMuTUFYX1NMVU1QX1BDVDtcclxuICAgICAgICBjbG9uZS5UUklHR0VSX0FERF9QT0lOVCA9IHRoaXMuVFJJR0dFUl9BRERfUE9JTlQ7XHJcbiAgICAgICAgY2xvbmUuTUlOX0FMSUdOX1BSSUNFID0gdGhpcy5NSU5fQUxJR05fUFJJQ0U7XHJcbiAgICAgICAgY2xvbmUuTUlOX0JBVENIX0NPVU5UID0gdGhpcy5NSU5fQkFUQ0hfQ09VTlQ7XHJcbiAgICAgICAgY2xvbmUuTUFYX1JJU0VfUENUID0gdGhpcy5NQVhfUklTRV9QQ1Q7XHJcbiAgICBcclxuICAgICAgICBjbG9uZS5TR1JJRF9TVEVQX1BDVCA9IHRoaXMuU0dSSURfU1RFUF9QQ1Q7XHJcbiAgICAgICAgY2xvbmUuU0dSSURfQUREX1BDVCA9IHRoaXMuU0dSSURfQUREX1BDVDtcclxuICAgICAgICBjbG9uZS5TR1JJRF9SRVRBSU5fQ09VTlQgPSB0aGlzLlNHUklEX1JFVEFJTl9DT1VOVDtcclxuICAgIFxyXG4gICAgICAgIGNsb25lLk1HUklEX1NURVBfUENUID0gdGhpcy5NR1JJRF9TVEVQX1BDVDtcclxuICAgICAgICBjbG9uZS5NR1JJRF9BRERfUENUID0gdGhpcy5NR1JJRF9BRERfUENUO1xyXG4gICAgICAgIGNsb25lLk1HUklEX1JFVEFJTl9DT1VOVCA9IHRoaXMuTUdSSURfUkVUQUlOX0NPVU5UO1xyXG4gICAgXHJcbiAgICAgICAgY2xvbmUuTEdSSURfU1RFUF9QQ1QgPSB0aGlzLkxHUklEX1NURVBfUENUO1xyXG4gICAgICAgIGNsb25lLkxHUklEX0FERF9QQ1QgPSB0aGlzLkxHUklEX0FERF9QQ1Q7XHJcbiAgICAgICAgY2xvbmUuTEdSSURfUkVUQUlOX0NPVU5UID0gdGhpcy5MR1JJRF9SRVRBSU5fQ09VTlQ7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgfVxyXG5cclxuICAgIFBhY2tCYXNlKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSBbXCJCQVNFXCIsIFN0cmluZyh0aGlzLk9ORV9HUklEX0xJTUlUKSwgU3RyaW5nKHRoaXMuTUFYX1NMVU1QX1BDVCksIFN0cmluZyh0aGlzLlRSSUdHRVJfQUREX1BPSU5UKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHRoaXMuTUlOX0FMSUdOX1BSSUNFKSwgU3RyaW5nKHRoaXMuTUlOX0JBVENIX0NPVU5UKSwgU3RyaW5nKHRoaXMuTUFYX1JJU0VfUENUKV1cclxuICAgICAgICByZXR1cm4gc2V0dGluZy5qb2luKFwiLFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBVbnBhY2tCYXNlKHN0cnM6IHN0cmluZ1tdKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChzdHJzLmxlbmd0aCAhPSA3KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLk9ORV9HUklEX0xJTUlUID0gTnVtYmVyKHN0cnNbMV0pO1xyXG4gICAgICAgIHRoaXMuTUFYX1NMVU1QX1BDVCA9IE51bWJlcihzdHJzWzJdKTtcclxuICAgICAgICB0aGlzLlRSSUdHRVJfQUREX1BPSU5UID0gTnVtYmVyKHN0cnNbM10pO1xyXG4gICAgICAgIHRoaXMuTUlOX0FMSUdOX1BSSUNFID0gTnVtYmVyKHN0cnNbNF0pO1xyXG4gICAgICAgIHRoaXMuTUlOX0JBVENIX0NPVU5UID0gTnVtYmVyKHN0cnNbNV0pO1xyXG4gICAgICAgIHRoaXMuTUFYX1JJU0VfUENUID0gTnVtYmVyKHN0cnNbNl0pO1xyXG4gICAgfVxyXG5cclxuICAgIFBhY2tTdGVwKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSBbXCJTVEVQXCIsIFN0cmluZyh0aGlzLlNHUklEX1NURVBfUENUKSwgU3RyaW5nKHRoaXMuU0dSSURfQUREX1BDVCksIFN0cmluZyh0aGlzLlNHUklEX1JFVEFJTl9DT1VOVCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyh0aGlzLk1HUklEX1NURVBfUENUKSwgU3RyaW5nKHRoaXMuTUdSSURfQUREX1BDVCksIFN0cmluZyh0aGlzLk1HUklEX1JFVEFJTl9DT1VOVCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyh0aGlzLkxHUklEX1NURVBfUENUKSwgU3RyaW5nKHRoaXMuTEdSSURfQUREX1BDVCksIFN0cmluZyh0aGlzLkxHUklEX1JFVEFJTl9DT1VOVCldXHJcbiAgICAgICAgcmV0dXJuIHNldHRpbmcuam9pbihcIixcIik7XHJcbiAgICB9XHJcblxyXG4gICAgVW5wYWNrU3RlcChzdHJzOiBzdHJpbmdbXSlcclxuICAgIHtcclxuICAgICAgICBpZiAoc3Rycy5sZW5ndGggIT0gMTApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuU0dSSURfU1RFUF9QQ1QgPSBOdW1iZXIoc3Ryc1sxXSk7XHJcbiAgICAgICAgdGhpcy5TR1JJRF9BRERfUENUID0gTnVtYmVyKHN0cnNbMl0pO1xyXG4gICAgICAgIHRoaXMuU0dSSURfUkVUQUlOX0NPVU5UID0gTnVtYmVyKHN0cnNbM10pO1xyXG4gICAgICAgIHRoaXMuTUdSSURfU1RFUF9QQ1QgPSBOdW1iZXIoc3Ryc1s0XSk7XHJcbiAgICAgICAgdGhpcy5NR1JJRF9BRERfUENUID0gTnVtYmVyKHN0cnNbNV0pO1xyXG4gICAgICAgIHRoaXMuTUdSSURfUkVUQUlOX0NPVU5UID0gTnVtYmVyKHN0cnNbNl0pO1xyXG4gICAgICAgIHRoaXMuTEdSSURfU1RFUF9QQ1QgPSBOdW1iZXIoc3Ryc1s3XSk7XHJcbiAgICAgICAgdGhpcy5MR1JJRF9BRERfUENUID0gTnVtYmVyKHN0cnNbOF0pO1xyXG4gICAgICAgIHRoaXMuTEdSSURfUkVUQUlOX0NPVU5UID0gTnVtYmVyKHN0cnNbOV0pO1xyXG4gICAgfVxyXG59XHJcbiIsICIvKlxyXG4gICAgXHU2NTcwXHU2MzZFXHU2NzY1XHU2RTkwOiBcdTVGQzVcdTc2QzhcdTY1NzBcdTYzNkUoaHR0cHM6Ly9hZC5iaXlpbmdhcGkuY29tL2FwaWRvYy5odG1sKVxyXG4gICAgXHU2NTcwXHU2MzZFXHU4MzAzXHU1NkY0OlxyXG4gICAgICAgIFx1NkNBQVx1NkRGMVx1NTdGQVx1Nzg0MFx1NjU3MFx1NjM2RTogXHU4MEExXHU3OTY4XHU1MjE3XHU4ODY4XHUzMDAxXHU1MTZDXHU1M0Y4XHU4QkU2XHU2MEM1XHUzMDAxXHU1QjlFXHU2NUY2XHU0RUE0XHU2NjEzXHUzMDAxXHU1Mzg2XHU1M0YyXHU2NTcwXHU2MzZFXHUzMDAxXHU2REE4XHU4RENDXHU4MEExXHU2QzYwXHUzMDAxXHU4RDQ0XHU5MUQxXHU2RDQxXHU1NDExXHU3QjQ5NjBcdTRGNTlcdTRFMkFcdTRFMERcdTU0MENcdTdDN0JcdTU3OEJcdTc2ODRcdTY1NzBcdTYzNkVcdTYzQTVcdTUzRTNcclxuICAgICAgICBcdTZDQUFcdTZERjFcdTZERjFcdTVFQTZcdTY1NzBcdTYzNkU6IFx1NjI5NVx1OEQ0NFx1NTNDMlx1ODAwM1x1MzAwMVx1OUY5OVx1ODY0RVx1Njk5Q1x1MzAwMVx1NUUwMlx1NTczQVx1ODg2OFx1NzNCMFx1MzAwMVx1OEQyMlx1NTJBMVx1NTIwNlx1Njc5MFx1MzAwMVx1NjczQVx1Njc4NFx1NjMwMVx1ODBBMVx1MzAwMVx1OEQ0NFx1OTFEMVx1NkQ0MVx1N0I0OTgwXHU0RjU5XHU0RTJBXHU1NDExXHU0RTJBXHU0RTBEXHU1NDBDXHU3QzdCXHU1NzhCXHU3Njg0XHU2NTcwXHU2MzZFXHU2M0E1XHU1M0UzXHJcbiAgICAgICAgXHU2Q0FBXHU2REYxXHU2MzA3XHU2NTcwXHU2NTcwXHU2MzZFOiBcdTZDQUFcdTZERjFcdTYzMDdcdTY1NzBcdTUyMTdcdTg4NjhcdTMwMDFcdTVCOUVcdTY1RjZcdTRFQTRcdTY2MTNcdTMwMDFcdTUzODZcdTUzRjJcdTY1NzBcdTYzNkVcdTMwMDFcdTUyMDZcdTY1RjZLREpcdTMwMDFcdTUyMDZcdTY1RjZNQUNEXHUzMDAxXHU1MjA2XHU2NUY2Qk9MTFx1N0I0OTE2XHU0RTJBXHU0RTBEXHU1NDBDXHU3QzdCXHU1NzhCXHU3Njg0XHU2NTcwXHU2MzZFXHU2M0E1XHU1M0UzXHJcbiAgICAgICAgXHU1N0ZBXHU5MUQxXHU4ODRDXHU2MEM1XHU2NTcwXHU2MzZFOiBcdTU3RkFcdTkxRDFcdTUyMTdcdTg4NjhcdTMwMDFcdTRGMzBcdTUwM0NcdTg4NENcdTYwQzVcdTMwMDFcdTY3MDBcdTY1QjBLXHU3RUJGXHUzMDAxXHU1Mzg2XHU1M0YyS1x1N0VCRlx1MzAwMVx1OEQ0NFx1NEVBN1x1OEQxRlx1NTAzQVx1ODg2OFx1MzAwMVx1Njg2M1x1Njg0OFx1NEZFMVx1NjA2Rlx1N0I0OTcwXHU0RjU5XHU0RTJBXHU0RTBEXHU1NDBDXHU3QzdCXHU1NzhCXHU3Njg0XHU2NTcwXHU2MzZFXHU2M0E1XHU1M0UzXHJcbiAgICBcdTY1NzBcdTYzNkVcdTYzQTVcdTUzRTM6XHJcbiAgICAgICAgRVRGXHU1N0ZBXHU5MUQxXHU4ODRDXHU2MEM1XHJcbiAgICAgICAgICAgIEFQSVx1NjNBNVx1NTNFM1x1RkYxQWh0dHBzOi8vYXBpLmJpeWluZ2FwaS5jb20vamovZXRmaHEvRVRGXHU1N0ZBXHU5MUQxXHU0RUUzXHU3ODAxL1x1NjBBOFx1NzY4NGxpY2VuY2VcclxuICAgICAgICAgICAgXHU1OTA3XHU3NTI4XHU2M0E1XHU1M0UzXHVGRjFBaHR0cHM6Ly9hcGkxLmJpeWluZ2FwaS5jb20vamovZXRmaHEvRVRGXHU1N0ZBXHU5MUQxXHU0RUUzXHU3ODAxL1x1NjBBOFx1NzY4NGxpY2VuY2VcclxuKi9cclxuaW1wb3J0IHsgTm90aWNlLCByZXF1ZXN0VXJsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5jb25zdCBkYXRhX3VybF9wcmVmaXggPSBcImh0dHA6Ly9hcGkuYml5aW5nYXBpLmNvbVwiO1xyXG5cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEZldGNoRGF0YShkYXRhX2FwaTogc3RyaW5nLCBhcGlfbGljZW5jZTogc3RyaW5nLCBkZWJ1Z19sb2c6IHN0cmluZ1tdW10pXHJcbntcclxuICAgIGNvbnN0IHVybCA9IGRhdGFfdXJsX3ByZWZpeCArIGRhdGFfYXBpICsgXCIvXCIgKyBhcGlfbGljZW5jZTtcclxuICAgIGRlYnVnX2xvZy5wdXNoKFtcIkluZm9cIiwgXCJmdWxsIHVybFwiLCB1cmxdKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh1cmwpO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb247XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRFVEZDdXJyZW50UHJpY2UoZXRmX2NvZGU6IHN0cmluZywgYXBpX2xpY2VuY2U6IHN0cmluZylcclxue1xyXG4gICAgaWYgKCEoZXRmX2NvZGUuc3RhcnRzV2l0aChcInN6XCIpIHx8IGV0Zl9jb2RlLnN0YXJ0c1dpdGgoXCJzaFwiKSkpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gXHU5NzVFc3ovc2hcdTVFMDJcdTU3M0FcdTc2ODRFVEZcdTRFRjdcdTY4M0NcdTY1RTBcdTZDRDVcdTgxRUFcdTUyQThcdTgzQjdcdTUzRDZcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBjb25zdCBkYXRhX2FwaSA9IGRhdGFfdXJsX3ByZWZpeCArIFwiL2pqL2V0ZmhxL1wiICsgZXRmX2NvZGUgKyBcIi9cIiArIGFwaV9saWNlbmNlO1xyXG4gICAgLy9EZWJ1Z0xvZyhcInJlcXVlc3QgdXJsOiBcIiwgZGF0YV9hcGkpO1xyXG4gICAgdHJ5XHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKGRhdGFfYXBpKTtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbltcInp4alwiXTtcclxuICAgIH1cclxuICAgIGNhdGNoKGUpXHJcbiAgICB7XHJcbiAgICAgICAgRGVidWdMb2coXCJyZXF1ZXN0IFwiLCBkYXRhX2FwaSwgXCJlcnJvciBcIiwgZS5tZXNzYWdlKTtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBEZWJ1Z0xvZyguLi5hcmdzKVxyXG57XHJcbiAgICBsZXQgbG9nX3N0ciA9IFwiXCI7XHJcbiAgICBhcmdzLmZvckVhY2goKGNlbGwsIGkpID0+IHtcclxuICAgICAgICBsb2dfc3RyID0gbG9nX3N0ciArIFN0cmluZyhjZWxsKTtcclxuICAgIH0pO1xyXG4gICAgbmV3IE5vdGljZShsb2dfc3RyLCAwKTtcclxufVxyXG4iLCAiLypcclxuICAgIEdyaWQgVHJhZGluZyBWaWV3XHJcbiAgICBcdTdGNTFcdTY4M0NcdTdCNTZcdTc1NjVcdTc2ODRcdTUxNzdcdTRGNTNcdTY4MDdcdTc2ODRcdTVDNTVcdTc5M0FcdTg5QzZcdTU2RkVcclxuKi9cclxuXHJcbmltcG9ydCB7IFRleHRGaWxlVmlldywgV29ya3NwYWNlTGVhZiB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZyB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ1wiO1xyXG5pbXBvcnQgeyBQbHVnaW5FbnYsIEZFVENIX0NVUlJFTlRfUFJJQ0UgfSBmcm9tIFwiLi9wbHVnaW5fZW52XCI7XHJcbmltcG9ydCB7IEdSSURfQ09MT1JfQlVZX01PTklUT1IsIEdSSURfQ09MT1JfQlVZX1RSSUdHRVJFRCwgR1JJRF9DT0xPUl9TRUxMX01PTklUT1IsIEdSSURfQ09MT1JfU0VMTF9UUklHR0VSRUQgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBEZWJ1Z0xvZyB9IGZyb20gXCIuL3JlbW90ZV91dGlsXCI7XHJcbmltcG9ydCB7IEV4Y3V0ZUdyaWRDb21tYW5kIH0gZnJvbSBcIi4vY29tbWFuZF91dGlsXCI7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9HVFYgPSBcImd0di12aWV3XCJcclxuXHJcbmV4cG9ydCBjbGFzcyBHVFZWaWV3IGV4dGVuZHMgVGV4dEZpbGVWaWV3XHJcbntcclxuICAgIGRhdGE6IHN0cmluZztcclxuICAgIHBsdWdpbl9lbnY6IFBsdWdpbkVudjtcclxuICAgIHJlZnJlc2hfZXZlbnRfZ3VpZDogbnVtYmVyO1xyXG4gICAgdmlld19ndWlkOiBudW1iZXI7XHJcblxyXG4gICAgc3RvY2tfdGlsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBzdG9ja190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwYXJhbV90aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwYXJhbV90YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICB0cmFkaW5nX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIHRyYWRpbmdfdGFibGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgcmVjb3JkX3RpdGxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIHJlY29yZF90YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBhbmFseXNpc190aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBhbmFseXNpc190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBkZWJ1Z19sb2dfdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgZGVidWdfbG9nX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgICBjb21tYW5kX3RleHRfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgY29tbWFuZF9pbnB1dF9lbDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbW1hbmRfYnRuX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGNvbW1hbmRfbGlzdF9lbDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luX2VudjogUGx1Z2luRW52KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKGxlYWYpO1xyXG4gICAgICAgIHRoaXMucGx1Z2luX2VudiA9IHBsdWdpbl9lbnY7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoX2V2ZW50X2d1aWQgPSAtMTtcclxuICAgICAgICB0aGlzLnZpZXdfZ3VpZCA9IHBsdWdpbl9lbnYuR2VuR1VJRCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZpZXdEYXRhKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Vmlld0RhdGEoZGF0YTogc3RyaW5nLCBjbGVhcjogYm9vbGVhbik6IHZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuUmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZpZXdUeXBlKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBWSUVXX1RZUEVfR1RWO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBvbk9wZW4oKTogUHJvbWlzZTx2b2lkPiBcclxuICAgIHtcclxuICAgICAgICBsZXQgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kX2J0bl9lbCA9IGRpdi5jcmVhdGVFbChcImJ1dHRvblwiKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRfYnRuX2VsLnNldFRleHQoXCJFeGN1dGVcIik7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kX2J0bl9lbC5vbkNsaWNrRXZlbnQoKGV2OiBNb3VzZUV2ZW50KSA9PiB7dGhpcy5PbkNsaWNrQWRkUmVjb3JkQnRuKGV2LCB0aGlzLmNvbW1hbmRfaW5wdXRfZWwpfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29tbWFuZF9pbnB1dF9lbCA9IGRpdi5jcmVhdGVFbChcImlucHV0XCIpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZF9pbnB1dF9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZF9pbnB1dF9lbC5zaXplID0gNzA7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kX2lucHV0X2VsLnBsYWNlaG9sZGVyID0gXCJJbnB1dCB5b3VyIGNvbW1hbmRcIlxyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnN0b2NrX3RpbGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLnN0b2NrX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMucGFyYW1fdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLnBhcmFtX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ190aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnJlY29yZF90aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMucmVjb3JkX3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcbiAgXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5hbmFseXNpc190aXRsZV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgICAgIHRoaXMuYW5hbHlzaXNfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKVxyXG5cclxuICAgICAgICBkaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiKVxyXG4gICAgICAgIHRoaXMuZGVidWdfbG9nX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoX2V2ZW50X2d1aWQgPSB0aGlzLnBsdWdpbl9lbnYuU3Vic2NyaWJlRXZlbnQoRkVUQ0hfQ1VSUkVOVF9QUklDRSwgKCk9PnRoaXMuUmVmcmVzaCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBPbkNsaWNrQWRkUmVjb3JkQnRuKGV2OiBNb3VzZUV2ZW50LCBpbnB1dF9lbDogSFRNTEVsZW1lbnQpXHJcbiAgICB7XHJcbiAgICAgICAgdHJ5XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gaW5wdXRfZWwudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyaWRfY21kID0gRXhjdXRlR3JpZENvbW1hbmQodGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChncmlkX2NtZC5lcnJvcl9jb2RlID09IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChncmlkX2NtZC5jb21tYW5kID09IFwiYWRkX3JlY29yZFwiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YSArIGdyaWRfY21kLmRhdGFfcmVzdWx0X3N0cjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdEYXRhKHRoaXMuZGF0YSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRfY21kLmNvbW1hbmQgPT0gXCJkZWxfcmVjb3JkXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0aGlzLmRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXg9MDsgaW5kZXggPCBsaW5lcy5sZW5ndGg7IGluZGV4KyspXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZXNbaW5kZXhdLnN0YXJ0c1dpdGgoXCJCVVksXCIpIHx8IGxpbmVzW2luZGV4XS5zdGFydHNXaXRoKFwiU0VMTCxcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09IGdyaWRfY21kLmRhdGFfcmVzdWx0X251bSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgbGluZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gbGluZXMuam9pbihcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdEYXRhKHRoaXMuZGF0YSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRGVidWdMb2coXCJDb21tYW5kIGhhcyBlcnJvciBcIiwgZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBhc3luYyBvbkNsb3NlKCk6IFByb21pc2U8dm9pZD5cclxuICAgIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbl9lbnYuVW5zdWJzY3JpYmVFdmVudChGRVRDSF9DVVJSRU5UX1BSSUNFLCB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFJlZnJlc2goKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NjgwN1x1OTg5OFx1NEUwRVx1ODg2OFx1NjgzQ1xyXG4gICAgICAgIHRoaXMuc3RvY2tfdGlsZV9lbC5zZXRUZXh0KFwiXHU2NzJBXHU3N0U1XHU2ODA3XHU3Njg0XCIpO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLnBhcmFtX3RpdGxlX2VsLnNldFRleHQoXCJcdTdGNTFcdTY4M0NcdTUzQzJcdTY1NzBcIik7XHJcbiAgICAgICAgdGhpcy5wYXJhbV90YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ190aXRsZV9lbC5zZXRUZXh0KFwiXHU0RUE0XHU2NjEzXHU3RjUxXHU2ODNDXCIpO1xyXG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMucmVjb3JkX3RpdGxlX2VsLnNldFRleHQoXCJcdTRFQTRcdTY2MTNcdThCQjBcdTVGNTVcIik7XHJcbiAgICAgICAgdGhpcy5yZWNvcmRfdGFibGVfZWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLmFuYWx5c2lzX3RpdGxlX2VsLnNldFRleHQoXCJcdTdFREZcdThCQTFcdTUyMDZcdTY3OTBcIik7XHJcbiAgICAgICAgdGhpcy5hbmFseXNpc190YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuZGVidWdfbG9nX3RpdGxlX2VsLnNldFRleHQoXCJcdThDMDNcdThCRDVcdTY1RTVcdTVGRDdcIik7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGFibGVfZWwuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZmlsZSAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgbW9kZV9zdHIgPSB0aGlzLmRhdGEuc3BsaXQoXCJcXG5cIilbMF0uc3BsaXQoXCIsXCIpWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBncmlkX3RyYWRpbmcgPSB0aGlzLnBsdWdpbl9lbnYuR2V0QW5kR2VuR3JpZFRyYWRpbmcodGhpcy5maWxlLm5hbWUsIG1vZGVfc3RyKTtcclxuICAgICAgICAgICAgZ3JpZF90cmFkaW5nLkluaXRHcmlkVHJhZGluZyh0aGlzLmRhdGEpO1xyXG4gICAgICAgICAgICAvLyBcdTY4MDdcdTc2ODRcdTRGRTFcdTYwNkZcclxuICAgICAgICAgICAgdGhpcy5zdG9ja190aWxlX2VsLnNldFRleHQoZ3JpZF90cmFkaW5nLnN0b2NrX25hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZShncmlkX3RyYWRpbmcsIHRoaXMuc3RvY2tfdGFibGVfZWwsIGdyaWRfdHJhZGluZy5zdG9ja190YWJsZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAvLyBcdTdGNTFcdTY4M0NcdTUzQzJcdTY1NzBcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUoZ3JpZF90cmFkaW5nLCB0aGlzLnBhcmFtX3RhYmxlX2VsLCBncmlkX3RyYWRpbmcucGFyYW1fdGFibGUsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gXHU0RUE0XHU2NjEzXHU3RjUxXHU2ODNDXHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy50cmFkaW5nX3RhYmxlX2VsLCBncmlkX3RyYWRpbmcudHJhZGluZ190YWJsZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vIFx1NEVBNFx1NjYxM1x1OEJCMFx1NUY1NVxyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUYWJsZShncmlkX3RyYWRpbmcsIHRoaXMucmVjb3JkX3RhYmxlX2VsLCBncmlkX3RyYWRpbmcudHJhZGluZ19yZWNvcmQsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gXHU3RURGXHU4QkExXHU1MjA2XHU2NzkwXHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5hbmFseXNpc190YWJsZV9lbCwgZ3JpZF90cmFkaW5nLnRyYWRpbmdfYW5hbHlzaXMsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gXHU4QzAzXHU4QkQ1XHU0RkUxXHU2MDZGXHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZywgdGhpcy5kZWJ1Z19sb2dfdGFibGVfZWwsIGdyaWRfdHJhZGluZy5kZWJ1Z19sb2csIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgRGlzcGxheVRhYmxlKGdyaWRfdHJhZGluZzogR3JpZFRyYWRpbmcsIHRhYmxlX2VsOiBIVE1MRWxlbWVudCwgdGFibGU6IHN0cmluZ1tdW10sIGlzX2NvbG9yOiBib29sZWFuKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHRhYmxlX2JvZHkgPSB0YWJsZV9lbC5jcmVhdGVFbChcInRib2R5XCIpO1xyXG4gICAgICAgIHRhYmxlLmZvckVhY2goKHJvdywgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YWJsZV9yb3cgPSB0YWJsZV9ib2R5LmNyZWF0ZUVsKFwidHJcIik7XHJcbiAgICBcclxuICAgICAgICAgICAgcm93LmZvckVhY2goKGNlbGwsIGopID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlX2NlbGwgPSB0YWJsZV9yb3cuY3JlYXRlRWwoXCJ0ZFwiLCB7IHRleHQ6IGNlbGwsIGF0dHI6IHtcImFsaWduXCI6IFwicmlnaHRcIn19KTtcclxuICAgICAgICAgICAgICAgIGlmIChpc19jb2xvciAmJiBpID4gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA8PTUpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZF90cmFkaW5nLmJ1eV90cmlnZ2VyZWRfcm93cy5pbmNsdWRlcyhpKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfY2VsbC5zZXRBdHRyKFwiYmdDb2xvclwiLCBHUklEX0NPTE9SX0JVWV9UUklHR0VSRUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkX3RyYWRpbmcuYnV5X21vbml0b3Jfcm93cy5pbmNsdWRlcyhpKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfY2VsbC5zZXRBdHRyKFwiYmdDb2xvclwiLCBHUklEX0NPTE9SX0JVWV9NT05JVE9SKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZF90cmFkaW5nLnNlbGxfdHJpZ2dlcmVkX3Jvd3MuaW5jbHVkZXMoaSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlX2NlbGwuc2V0QXR0cihcImJnQ29sb3JcIiwgR1JJRF9DT0xPUl9TRUxMX1RSSUdHRVJFRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZy5zZWxsX21vbml0b3Jfcm93cy5pbmNsdWRlcyhpKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfY2VsbC5zZXRBdHRyKFwiYmdDb2xvclwiLCBHUklEX0NPTE9SX1NFTExfTU9OSVRPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwgIi8qXHJcbiAgICBteW1hdGg6IFx1N0Y1MVx1NjgzQ1x1NUI5QVx1NTIzNlx1NjU3MFx1NUI2Nlx1NUU5MywgXHU1QkY5XHU1MzlGXHU3NTFGXHU3Njg0TWF0aFx1NUU5M1x1OEZEQlx1ODg0Q1x1NUMwMVx1ODhDNVx1RkYwQ1x1NEY3Rlx1NUY5N1x1OEJBMVx1N0I5N1x1OTAzQlx1OEY5MVx1NjZGNFx1NTJBMFx1N0IyNlx1NTQwOFx1N0Y1MVx1NjgzQ1x1NEVBNFx1NjYxM1x1ODlDNFx1NTIxOVxyXG4qL1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNeUZsb29yKG51bTogbnVtYmVyLCBzaW5nbGU6IG51bWJlcilcclxue1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IobnVtIC8gc2luZ2xlKSAqIHNpbmdsZTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNeUNlaWwobnVtOiBudW1iZXIsIHNpbmdsZTogbnVtYmVyKVxyXG57XHJcbiAgICByZXR1cm4gTWF0aC5jZWlsKG51bSAvIHNpbmdsZSkgKiBzaW5nbGU7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVG9QZXJjZW50KG51bTogbnVtYmVyLCBjb3VudCA9IDApOiBzdHJpbmdcclxue1xyXG4gICAgcmV0dXJuIChudW0gKiAxMDApLnRvRml4ZWQoY291bnQpICsgXCIlXCI7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVG9OdW1iZXIocGVyY2VudDogc3RyaW5nKTogbnVtYmVyXHJcbntcclxuICAgIHJldHVybiBOdW1iZXIocGVyY2VudC5yZXBsYWNlKFwiJVwiLCBcIlwiKSkgLyAxMDAuMDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBUb1RyYWRpbmdHYXAoY3VycmVudF9wcmljZTogbnVtYmVyfHVuZGVmaW5lZCwgdGFyZ2V0X3ByaWNlOiBudW1iZXJ8dW5kZWZpbmVkLCBjb3VudD0wKTogc3RyaW5nXHJcbntcclxuICAgIGlmICh0YXJnZXRfcHJpY2UgPT0gdW5kZWZpbmVkIHx8IGN1cnJlbnRfcHJpY2UgPT0gdW5kZWZpbmVkIHx8IGN1cnJlbnRfcHJpY2UgPT0gMClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gXCItXCI7XHJcbiAgICB9XHJcbiAgICBjb25zdCBnYXAgPSBNYXRoLmFicyh0YXJnZXRfcHJpY2UgLSBjdXJyZW50X3ByaWNlKTtcclxuICAgIGlmICh0YXJnZXRfcHJpY2UgPiBjdXJyZW50X3ByaWNlKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBcIitcIiArIFRvUGVyY2VudChnYXAgLyBjdXJyZW50X3ByaWNlLCBjb3VudCk7XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFwiLVwiICsgVG9QZXJjZW50KGdhcCAvIGN1cnJlbnRfcHJpY2UsIGNvdW50KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBJc051bWVyaWMoc3RyOiBzdHJpbmcpOiBib29sZWFuXHJcbntcclxuICAgIHJldHVybiAhaXNOYU4oTnVtYmVyKHN0cikpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVGltZUR1YXJpb24oc3RhcnRfdGltZTogc3RyaW5nLCBlbmRfdGltZTogc3RyaW5nKTogbnVtYmVyXHJcbntcclxuICAgIC8vIFx1NjVGNlx1OTVGNFx1NzUyOFx1NjgwN1x1NTFDNlx1NzY4NFx1NUI1N1x1N0IyNlx1NEUzMlx1ODg2OFx1NzkzQTogWVlZWS1NTS1ERCwgXHU2QkNGXHU0RTJBXHU2NzA4XHU2MzA5XHU3MTY3MzBcdTU5MjlcdThCQTFcdTdCOTdcdUZGMENcdTk3NUVcdTdDQkVcdTc4NkVcdTY1RjZcdTk1RjRcdUZGMENcdTY1RjZcdTk1RjRcdThERThcdTVFQTZcdThEOEFcdTU5MjdcdThCQTFcdTdCOTdcdThEOEFcdTRFMERcdTUxQzZcclxuICAgIGNvbnN0IHN0aW1lcyA9IHN0YXJ0X3RpbWUuc3BsaXQoXCItXCIpO1xyXG4gICAgY29uc3QgZXRpbWVzID0gZW5kX3RpbWUuc3BsaXQoXCItXCIpO1xyXG4gICAgY29uc3QgeWRpZmYgPSBOdW1iZXIoZXRpbWVzWzBdKSAtIE51bWJlcihzdGltZXNbMF0pXHJcbiAgICBjb25zdCBtZGlmZiA9IE51bWJlcihldGltZXNbMV0pICsgeWRpZmYgKiAxMiAtIE51bWJlcihzdGltZXNbMV0pXHJcbiAgICByZXR1cm4gTnVtYmVyKGV0aW1lc1syXSkgLSBOdW1iZXIoc3RpbWVzWzJdKSArIG1kaWZmICogMzBcclxufSIsICIvKlxyXG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU4QkExXHU3Qjk3XHU5MDNCXHU4RjkxXHJcbiAgICBcdTU3RkFcdTdDN0JcdUZGMENcdTRFMERcdThEMUZcdThEMjNcdTdGNTFcdTY4M0NcdTc2ODRcdTRFQTRcdTY2MTNcdThCQTFcdTdCOTdcdUZGMENcdTVDMDFcdTg4QzVcdTdFREZcdTRFMDBcdTc2ODRcdTYzQTVcdTUzRTNcclxuKi9cclxuaW1wb3J0IHsgTWQ1IH0gZnJvbSBcInRzLW1kNS9kaXN0L21kNVwiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZ1NldHRpbmdzLCBHUklEX0NPTE9SX1NUT0NLX09WRVJWSUVXLCBHUklEX0NPTE9SX0JVWV9PVkVSVklFVywgR1JJRF9DT0xPUl9TRUxMX09WRVJWSUVXIH0gZnJvbSBcIi4vc2V0dGluZ3NcIlxyXG5pbXBvcnQgeyBQRVJGSVRfVFlQRV9OQU1FX1NUUiB9IGZyb20gXCIuL2xhbmdfc3RyXCI7XHJcbmltcG9ydCB7IE15Rmxvb3IsIE15Q2VpbCwgVG9QZXJjZW50LCBUb051bWJlciwgVG9UcmFkaW5nR2FwLCBUaW1lRHVhcmlvbiB9IGZyb20gXCIuL215bWF0aFwiO1xyXG5pbXBvcnQgeyBQbHVnaW5FbnYgfSBmcm9tIFwiLi9wbHVnaW5fZW52XCI7XHJcbmltcG9ydCB7IERlYnVnTG9nIH0gZnJvbSBcIi4vcmVtb3RlX3V0aWxcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZFRyYWRpbmcgXHJcbntcclxuICAgIHBsdWdpbl9lbnY6IFBsdWdpbkVudjtcclxuICAgIGdyaWRfc2V0dGluZ3M6IEdyaWRUcmFkaW5nU2V0dGluZ3M7XHJcbiAgICBpc19lbXB0eTogYm9vbGVhbjtcclxuICAgIGRhdGFfbWQ1OiBzdHJpbmc7XHJcbiAgICBzdG9ja190YWJsZTogc3RyaW5nIFtdW107XHJcbiAgICBwYXJhbV90YWJsZTogc3RyaW5nIFtdW107XHJcbiAgICB0cmFkaW5nX3RhYmxlOiBzdHJpbmcgW11bXTtcclxuICAgIHRyYWRpbmdfYW5hbHlzaXM6IHN0cmluZyBbXVtdO1xyXG4gICAgdHJhZGluZ19yZWNvcmQ6IHN0cmluZyBbXVtdO1xyXG4gICAgZGVidWdfbG9nOiBzdHJpbmcgW11bXTtcclxuICAgIG1vZGVfdHlwZTogc3RyaW5nO1xyXG5cclxuICAgIHRhcmdldF9zdG9jazogbnVtYmVyO1xyXG4gICAgc3RvY2tfbmFtZTogc3RyaW5nO1xyXG4gICAgbWFya2V0X2NvZGU6IHN0cmluZztcclxuICAgIGN1cnJlbnRfcHJpY2U6IG51bWJlcjtcclxuICAgIHJlbW90ZV9jdXJyZW50X3ByaWNlOiBudW1iZXI7XHJcbiAgICB0YXJnZXRfcHJpY2U6IG51bWJlcjtcclxuICAgIHJhd190cmFkaW5nX3JlY29yZDogc3RyaW5nIFtdW107XHJcbiAgICBidXlfZ3JpZF9yZWNvcmQ6IHN0cmluZyBbXTtcclxuICAgIHNncmlkX3N0ZXBfdGFibGU6IHN0cmluZyBbXVtdO1xyXG4gICAgbWdyaWRfc3RlcF90YWJsZTogc3RyaW5nIFtdW107XHJcbiAgICBsZ3JpZF9zdGVwX3RhYmxlOiBzdHJpbmcgW11bXTtcclxuXHJcbiAgICBidXlfdHJpZ2dlcmVkX3Jvd3M6IG51bWJlciBbXTtcclxuICAgIHNlbGxfdHJpZ2dlcmVkX3Jvd3M6IG51bWJlciBbXTtcclxuICAgIGJ1eV9tb25pdG9yX3Jvd3M6IG51bWJlciBbXTtcclxuICAgIHNlbGxfbW9uaXRvcl9yb3dzOiBudW1iZXIgW107XHJcblxyXG4gICAgc3RvY2tfb3ZlcnZpZXc6IHN0cmluZyBbXTtcclxuICAgIHN0b2NrX2J1eV9vdmVydmlldzogc3RyaW5nIFtdW107XHJcbiAgICBzdG9ja19zZWxsX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW5fZW52OiBQbHVnaW5FbnYpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5fZW52ID0gcGx1Z2luX2VudjtcclxuICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MgPSBwbHVnaW5fZW52LmdyaWRfc2V0dGluZ3MuQ2xvbmUoKTtcclxuICAgICAgICB0aGlzLmRlYnVnX2xvZyA9IFtdXHJcbiAgICAgICAgdGhpcy5kYXRhX21kNSA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5pc19lbXB0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA9IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIEluaXRHcmlkVHJhZGluZyhkYXRhOiBzdHJpbmcpXHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIFVwZGF0ZVJlbW90ZVByaWNlKHJlbW90ZV9wcmljZTogbnVtYmVyKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBEZWJ1Z0xvZyhsZXZlbDogc3RyaW5nLCBsb2dfc3RyOiBzdHJpbmcsIGV4dHJhX2luZm86IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRlYnVnX2xvZy5wdXNoKFtsZXZlbCwgbG9nX3N0ciwgZXh0cmFfaW5mb10pO1xyXG4gICAgfVxyXG5cclxuICAgIEdldFRyYWRpbmdUaXRsZSgpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdG9ja19uYW1lICsgXCIoXCIgKyBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spICsgXCIpXCI7XHJcbiAgICB9XHJcblxyXG4gICAgSXNTdG9jaygpOiBib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNfZW1wdHkgPT0gZmFsc2UgJiYgKHRoaXMubWFya2V0X2NvZGUgPT0gXCJzelwiIHx8IHRoaXMubWFya2V0X2NvZGUgPT0gXCJzaFwiKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEluaXRUcmFkaW5nT3ZlcnZpZXcoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXcgPSBbR1JJRF9DT0xPUl9TVE9DS19PVkVSVklFVywgU3RyaW5nKHRoaXMudGFyZ2V0X3N0b2NrKSwgdGhpcy5zdG9ja19uYW1lLCB0aGlzLnRhcmdldF9wcmljZS50b0ZpeGVkKDMpLCB0aGlzLmN1cnJlbnRfcHJpY2UudG9GaXhlZCgzKSxcclxuICAgICAgICAgICAgICAgIFRvUGVyY2VudCh0aGlzLmN1cnJlbnRfcHJpY2UgLyB0aGlzLnRhcmdldF9wcmljZSwgMSldO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfYnV5X292ZXJ2aWV3ID0gW107XHJcbiAgICAgICAgaWYgKHRoaXMuYnV5X21vbml0b3Jfcm93cy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLmJ1eV9tb25pdG9yX3Jvd3MubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5idXlfbW9uaXRvcl9yb3dzW2lkeF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFkaW5nX2dhcCA9IFRvVHJhZGluZ0dhcCh0aGlzLmN1cnJlbnRfcHJpY2UsIE51bWJlcih0aGlzLnRyYWRpbmdfdGFibGVbcm93XVszXSksIDIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9ja19idXlfb3ZlcnZpZXcucHVzaChbR1JJRF9DT0xPUl9CVVlfT1ZFUlZJRVcsIFN0cmluZyh0aGlzLnRhcmdldF9zdG9jayksIHRoaXMuc3RvY2tfbmFtZSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bMF0sIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVsyXSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bM10sIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzRdLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs1XSwgdHJhZGluZ19nYXBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0b2NrX3NlbGxfb3ZlcnZpZXcgPSBbXTtcclxuICAgICAgICBpZiAodGhpcy5zZWxsX21vbml0b3Jfcm93cy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaWR4PTA7IGlkeDx0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMuc2VsbF9tb25pdG9yX3Jvd3NbaWR4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWRpbmdfZ2FwID0gVG9UcmFkaW5nR2FwKHRoaXMuY3VycmVudF9wcmljZSwgTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzddKSwgMik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b2NrX3NlbGxfb3ZlcnZpZXcucHVzaChbR1JJRF9DT0xPUl9TRUxMX09WRVJWSUVXLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spLCB0aGlzLnN0b2NrX25hbWUsIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzBdLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bNl0sIHRoaXMudHJhZGluZ190YWJsZVtyb3ddWzddLCB0aGlzLnRyYWRpbmdfdGFibGVbcm93XVs4XSwgdGhpcy50cmFkaW5nX3RhYmxlW3Jvd11bOV0sIHRyYWRpbmdfZ2FwXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgUGFyc2VSYXdEYXRhKGRhdGE6IHN0cmluZyk6IGJvb2xlYW5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBuZXdfbWQ1ID0gTWQ1Lmhhc2hTdHIoZGF0YSk7XHJcbiAgICAgICAgaWYgKG5ld19tZDUgPT09IHRoaXMuZGF0YV9tZDUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGF0YV9tZDUgPSBuZXdfbWQ1O1xyXG4gICAgICAgIC8vIDE1OTg2OSxcdTZFMzhcdTYyMEZFVEYsc3osMSwwLjk1XHJcbiAgICAgICAgY29uc3QgbGluZXMgPSBkYXRhLnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgIGNvbnN0IHN0cnMgPSBsaW5lc1swXS5zcGxpdChcIixcIik7XHJcbiAgICAgICAgdGhpcy50YXJnZXRfc3RvY2sgPSBOdW1iZXIoc3Ryc1sxXSk7XHJcbiAgICAgICAgdGhpcy5zdG9ja19uYW1lID0gc3Ryc1syXTtcclxuICAgICAgICB0aGlzLm1hcmtldF9jb2RlID0gc3Ryc1szXTtcclxuICAgICAgICB0aGlzLnRhcmdldF9wcmljZSA9IE51bWJlcihzdHJzWzRdKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRfcHJpY2UgPSBOdW1iZXIoc3Ryc1s1XSk7XHJcblxyXG4gICAgICAgIC8vIEJBU0UsMTAwMDAsMC42NywwLjAwNSwwLjAwMSwxMDAsMC4xXHJcbiAgICAgICAgLy8gU1RFUCwwLjA1LDAuMDUsNCwwLjIyLDAuMiwyLDAuNTIsMC41LDFcclxuICAgICAgICAvLyBCVVksMjAyNC0wMS0yMyxcdTVDMEZcdTdGNTEwXHJcbiAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzID0gdGhpcy5wbHVnaW5fZW52LmdyaWRfc2V0dGluZ3MuQ2xvbmUoKTtcclxuICAgICAgICB0aGlzLnJhd190cmFkaW5nX3JlY29yZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuYnV5X2dyaWRfcmVjb3JkID0gW107XHJcbiAgICAgICAgdGhpcy5zZ3JpZF9zdGVwX3RhYmxlID0gW107XHJcbiAgICAgICAgdGhpcy5tZ3JpZF9zdGVwX3RhYmxlID0gW107XHJcbiAgICAgICAgdGhpcy5sZ3JpZF9zdGVwX3RhYmxlID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeCA8IGxpbmVzLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBzdHJzID0gbGluZXNbaWR4XS5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiQlVZXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmF3X3RyYWRpbmdfcmVjb3JkLnB1c2goW3N0cnNbMF0sIHN0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X2dyaWRfcmVjb3JkLnB1c2goc3Ryc1syXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJTRUxMXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmF3X3RyYWRpbmdfcmVjb3JkLnB1c2goW3N0cnNbMF0sIHN0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X2dyaWRfcmVjb3JkLnJlbW92ZShzdHJzWzJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIlNIQVJFXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmF3X3RyYWRpbmdfcmVjb3JkLnB1c2goW3N0cnNbMF0sIHN0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIkJBU0VcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzLlVucGFja0Jhc2Uoc3Rycyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJTVEVQXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5VbnBhY2tTdGVwKHN0cnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiU0dSSURcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZ3JpZF9zdGVwX3RhYmxlLnB1c2goW3N0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Ryc1swXSA9PSBcIk1HUklEXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWdyaWRfc3RlcF90YWJsZS5wdXNoKFtzdHJzWzFdLCBzdHJzWzJdLCBzdHJzWzNdLCBzdHJzWzRdXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJMR1JJRFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxncmlkX3N0ZXBfdGFibGUucHVzaChbc3Ryc1sxXSwgc3Ryc1syXSwgc3Ryc1szXSwgc3Ryc1s0XV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2UgPSB0aGlzLnBsdWdpbl9lbnYuR2V0U3RvY2tSZW1vdGVQcmljZShzdHJzWzBdKTtcclxuICAgICAgICBpZiAodGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfcHJpY2UgPSB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBJbml0U3RvY2tUYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgY2xlYXJfcHJpY2UgPSB0aGlzLnRhcmdldF9wcmljZSAqICgxLjAgKyB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1QpO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfdGFibGUgPSBbXHJcbiAgICAgICAgICAgIFtcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBTdHJpbmcodGhpcy50YXJnZXRfc3RvY2spXSxcclxuICAgICAgICAgICAgW1wiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIHRoaXMuc3RvY2tfbmFtZV0sXHJcbiAgICAgICAgICAgIFtcIlx1N0Y1MVx1NjgzQ1x1NkEyMVx1NUYwRlwiLCB0aGlzLm1vZGVfdHlwZV0sXHJcbiAgICAgICAgICAgIFtcIlx1NUY1M1x1NTI0RFx1NEVGN1x1NjgzQ1wiLCBTdHJpbmcodGhpcy5jdXJyZW50X3ByaWNlKV0sXHJcbiAgICAgICAgICAgIFtcIlx1NEVGN1x1NjgzQ1x1NzY3RVx1NTIwNlx1NEY0RFwiLCBUb1BlcmNlbnQodGhpcy5jdXJyZW50X3ByaWNlIC8gdGhpcy50YXJnZXRfcHJpY2UsIDEpXSxcclxuICAgICAgICAgICAgW1wiXHU2RTA1XHU2ODNDXHU2MjQwXHU5NzAwXHU2REE4XHU1RTQ1XCIsIFRvVHJhZGluZ0dhcCh0aGlzLmN1cnJlbnRfcHJpY2UsIGNsZWFyX3ByaWNlLCAxKV0sXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBJbml0R3JpZFBhcmFtKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnBhcmFtX3RhYmxlID0gW1xyXG4gICAgICAgICAgICBbXCJcdTk5OTZcdTdGNTFcdTc2RUVcdTY4MDdcdTRFRjdcIiwgU3RyaW5nKHRoaXMudGFyZ2V0X3ByaWNlKSwgXCJcdTk5OTZcdTdGNTFcdTc2RUVcdTY4MDdcdTkxRDFcdTk4OURcIiwgU3RyaW5nKHRoaXMuZ3JpZF9zZXR0aW5ncy5PTkVfR1JJRF9MSU1JVCldLFxyXG4gICAgICAgICAgICBbXCJcdTY3MDBcdTU5MjdcdTU2REVcdTY0QTRcdTUwM0NcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKSwgXCJcdTY3MDBcdTU5MjdcdTZEQThcdThEQ0NcdTVFNDVcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QpXSxcclxuICAgICAgICAgICAgW1wiXHU4OUU2XHU1M0QxXHU0RUY3XHU1MkEwXHU3MEI5XCIsIFN0cmluZyh0aGlzLmdyaWRfc2V0dGluZ3MuVFJJR0dFUl9BRERfUE9JTlQpLCBcIlx1NkJDRlx1NjI0Qlx1NEVGRFx1NjU3MFx1OTg5RFwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLk1JTl9CQVRDSF9DT1VOVCksIFwiXHU0RUY3XHU2ODNDXHU2NzAwXHU1QzBGXHU1MzU1XHU0RjREXCIsIFN0cmluZyh0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0FMSUdOX1BSSUNFKV0sXHJcbiAgICAgICAgICAgIFtcIlx1NUMwRlx1N0Y1MVx1NkI2NVx1OEZEQlx1NTAzQ1wiLCBUb1BlcmNlbnQodGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENUKSwgXCJcdTRFMkRcdTdGNTFcdTZCNjVcdThGREJcdTUwM0NcIiwgVG9QZXJjZW50KHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCksIFwiXHU1OTI3XHU3RjUxXHU2QjY1XHU4RkRCXHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QpXSxcclxuICAgICAgICAgICAgW1wiXHU2Mjk1XHU1MTY1XHU4RkZEXHU1MkEwXHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfQUREX1BDVCksIFwiXHU2Mjk1XHU1MTY1XHU4RkZEXHU1MkEwXHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfQUREX1BDVCksIFwiXHU2Mjk1XHU1MTY1XHU4RkZEXHU1MkEwXHU1MDNDXCIsIFRvUGVyY2VudCh0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfQUREX1BDVCldLFxyXG4gICAgICAgICAgICBbXCJcdTRGRERcdTc1NTlcdTUyMjlcdTZEQTZcdTY1NzBcIiwgU3RyaW5nKHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9SRVRBSU5fQ09VTlQpLCBcIlx1NEZERFx1NzU1OVx1NTIyOVx1NkRBNlx1NjU3MFwiLCBTdHJpbmcodGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1JFVEFJTl9DT1VOVCksIFwiXHU0RkREXHU3NTU5XHU1MjI5XHU2REE2XHU2NTcwXCIsIFN0cmluZyh0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfUkVUQUlOX0NPVU5UKV0sXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBJbml0VHJhZGluZ0FuYWx5c2lzKClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBwcmljZSA9IHRoaXMudGFyZ2V0X3ByaWNlO1xyXG4gICAgICAgIGNvbnN0IHJpc2VfcGN0ID0gdGhpcy5ncmlkX3NldHRpbmdzLlNHUklEX1NURVBfUENUO1xyXG4gICAgICAgIGNvbnN0IHRhYmxlOkFycmF5PEFycmF5PHN0cmluZz4+ID0gdGhpcy50cmFkaW5nX3RhYmxlO1xyXG4gICAgICAgIGZ1bmN0aW9uIEFuYWx5c2lzKHNsdW1wX3BjdDogbnVtYmVyKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB0b3RhbF9jb3N0ID0gMDtcclxuICAgICAgICAgICAgbGV0IHRvdGFsX2Ftb3VudCA9IDA7XHJcbiAgICAgICAgICAgIGxldCB0b3RhbF9zZWxsID0gMDtcclxuICAgICAgICAgICAgbGV0IHRvdGFsX2dhaW4gPSAwO1xyXG4gICAgICAgICAgICBjb25zdCBtaW5fcHJpY2UgPSBwcmljZSAqICgxIC0gc2x1bXBfcGN0KTtcclxuICAgICAgICAgICAgY29uc3QgbWF4X3ByaWNlID0gcHJpY2UgKiAoMSArIHJpc2VfcGN0KTtcclxuXHJcbiAgICAgICAgICAgIHRhYmxlLmZvckVhY2goKHJvdzpBcnJheTxzdHJpbmc+LCBpOm51bWJlcikgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwICYmIFRvTnVtYmVyKHJvd1sxXSkgPj0gMS4wIC0gc2x1bXBfcGN0KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX2Nvc3QgPSB0b3RhbF9jb3N0ICsgTnVtYmVyKHJvd1s1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfYW1vdW50ID0gdG90YWxfYW1vdW50ICsgTnVtYmVyKHJvd1s0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfZ2FpbiA9IHRvdGFsX2dhaW4gKyBOdW1iZXIocm93WzldKTtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbF9zZWxsID0gdG90YWxfc2VsbCArIE51bWJlcihyb3dbOF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgY29zdF9wcmljZSA9ICh0b3RhbF9jb3N0IC0gdG90YWxfZ2FpbikgLyAodG90YWxfYW1vdW50IC0gdG90YWxfc2VsbCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGdhaW5fbW9uZXkgPSBNYXRoLmZsb29yKG1heF9wcmljZSAqICh0b3RhbF9hbW91bnQgLSB0b3RhbF9zZWxsKSAtICh0b3RhbF9jb3N0IC0gdG90YWxfZ2FpbikpO1xyXG4gICAgICAgICAgICByZXR1cm4gW1RvUGVyY2VudChzbHVtcF9wY3QpICsgXCIoXCIgKyBtaW5fcHJpY2UudG9GaXhlZCgzKSArIFwiKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyh0b3RhbF9jb3N0KSwgU3RyaW5nKHRvdGFsX2Ftb3VudCksIFN0cmluZyhNYXRoLmNlaWwodG90YWxfYW1vdW50ICogbWluX3ByaWNlKSksXHJcbiAgICAgICAgICAgICAgICAgICAgKHRvdGFsX2Nvc3QvdG90YWxfYW1vdW50KS50b0ZpeGVkKDMpLCBTdHJpbmcoTWF0aC5jZWlsKHRvdGFsX2Nvc3QgLSB0b3RhbF9hbW91bnQgKiBtaW5fcHJpY2UpKSxcclxuICAgICAgICAgICAgICAgICAgICAoKHRvdGFsX2Nvc3QgLSB0b3RhbF9hbW91bnQgKiBtaW5fcHJpY2UpIC8gdG90YWxfY29zdCAqIDEwMCkudG9GaXhlZCgyKSArIFwiJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICgodG90YWxfY29zdCAvIHRvdGFsX2Ftb3VudCAtIG1pbl9wcmljZSkgLyBtaW5fcHJpY2UgKiAxMDApLnRvRml4ZWQoMikgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcodG90YWxfYW1vdW50IC0gdG90YWxfc2VsbCksIFN0cmluZyhNYXRoLmZsb29yKG1heF9wcmljZSAqICh0b3RhbF9hbW91bnQgLSB0b3RhbF9zZWxsKSkpLCBTdHJpbmcodG90YWxfY29zdCAtIHRvdGFsX2dhaW4pLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvc3RfcHJpY2UudG9GaXhlZCgzKSwgKChtYXhfcHJpY2UgLSBjb3N0X3ByaWNlKSAvIGNvc3RfcHJpY2UgKiAxMDApLnRvRml4ZWQoMikgKyBcIiVcIiwgU3RyaW5nKGdhaW5fbW9uZXkpLCAoZ2Fpbl9tb25leSAvIHRvdGFsX2Nvc3QgKiAxMDApLnRvRml4ZWQoMikgKyBcIiVcIl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRyYWRpbmdfYW5hbHlzaXMgPSBbXHJcbiAgICAgICAgICAgIFtcIlx1NEU4Rlx1NjM1Rlx1NTIwNlx1Njc5MFwiLCBcIlx1NTZERVx1NjRBNFx1NkJENFx1NEY4QlwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2Mjk1XHU1MTY1XHU4RDQ0XHU5MUQxXCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTYzMDFcdTRFRDNcdTRFRkRcdTk4OURcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NjMwMVx1NEVEM1x1OTFEMVx1OTg5RFwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2MzAxXHU0RUQzXHU2MjEwXHU2NzJDXCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTRFOEZcdTYzNUZcdTkxRDFcdTk4OURcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NEU4Rlx1NjM1Rlx1NkJENFx1NEY4QlwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2MjQwXHU5NzAwXHU2REE4XHU1RTQ1XCJdLFxyXG4gICAgICAgICAgICBbXCJcdTUzQ0RcdTVGMzlcdTc2QzhcdTUyMjlcIiwgXCJcdTYzMDFcdTRFRDNcdTRFRkRcdTk4OURcIl0sXHJcbiAgICAgICAgICAgIFsocHJpY2UgKiAoMSArIHJpc2VfcGN0KSkudG9GaXhlZCgzKSwgXCJcdTYzMDFcdTRFRDNcdTkxRDFcdTk4OURcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1NTM2MFx1NzUyOFx1NjcyQ1x1OTFEMVwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2MzAxXHU0RUQzXHU2MjEwXHU2NzJDXCJdLFxyXG4gICAgICAgICAgICBbXCJcIiwgXCJcdTZENkVcdTc2QzhcdTZCRDRcdTRGOEJcIl0sXHJcbiAgICAgICAgICAgIFtcIlwiLCBcIlx1N0Y1MVx1NjgzQ1x1NzZDOFx1NTIyOVwiXSxcclxuICAgICAgICAgICAgW1wiXCIsIFwiXHU2MDNCXHU2RDZFXHU3NkM4XHU2QkQ0XCJdLFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbnN0IHNsdW1wX3BjdHM6IG51bWJlciBbXSA9IFsyMCwgNDAsIDUwLCA2MCwgNzAsIDgwLCA5MF07XHJcbiAgICAgICAgc2x1bXBfcGN0cy5wdXNoKHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUICogMTAwKVxyXG4gICAgICAgIHNsdW1wX3BjdHMuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xyXG4gICAgICAgIGZvciAoY29uc3QgcGN0IG9mIHNsdW1wX3BjdHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBBbmFseXNpcyhwY3QgLyAxMDAuMCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8cmVzdWx0Lmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19hbmFseXNpc1tpZHhdLnB1c2gocmVzdWx0W2lkeF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEluaXRUcmFkaW5nUmVjb3JkKClcclxuICAgIHtcclxuICAgICAgICBsZXQgdG90YWxfcmV0YWluID0gMDtcclxuICAgICAgICBsZXQgdG90YWxfY29zdCA9IDA7XHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZCA9IFtbXCJcdTRFQTRcdTY2MTNcdTY1QjlcdTU0MTFcIiwgXCJcdTRFQTRcdTY2MTNcdTY1RTVcdTY3MUZcIiwgXCJcdTdGNTFcdTY4M0NcdTdDN0JcdTU3OEJcIiwgXCJcdTRFQTRcdTY2MTNcdTRFRjdcdTY4M0NcIiwgXCJcdTRFQTRcdTY2MTNcdTgwQTFcdTY1NzBcIiwgXCJcdTUzNjBcdTc1MjhcdTY3MkNcdTkxRDFcIiwgXCJcdTYzMDFcdTRFRDNcdTY1RjZcdTk1N0ZcIiwgXCJcdTRGRERcdTc1NTlcdTRFRkRcdTY1NzBcIl1dO1xyXG4gICAgICAgIGxldCByYXdfcmVjb3JkID0gWy4uLiB0aGlzLnJhd190cmFkaW5nX3JlY29yZF07XHJcbiAgICAgICAgbGV0IGN1cnNvciA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGN1cnNvciA8IHJhd19yZWNvcmQubGVuZ3RoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbY3Vyc29yXVswXSA9PSBcIkJVWVwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2N1cnNvciA9IC0xO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWR4PWN1cnNvcjsgaWR4PHJhd19yZWNvcmQubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmF3X3JlY29yZFtpZHhdWzBdID09IFwiU0VMTFwiICYmIHJhd19yZWNvcmRbaWR4XVsyXSA9PSByYXdfcmVjb3JkW2N1cnNvcl1bMl0pXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3Vyc29yID0gaWR4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc2N1cnNvciA+PSAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFx1NkM0Mlx1NjMwMVx1NEVEM1x1NjVGNlx1OTVGNFx1NEUwRVx1NEZERFx1NzU1OVx1NEVGRFx1NjU3MFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldGFpbl9jb3VudCA9IE51bWJlcihyYXdfcmVjb3JkW2N1cnNvcl1bNF0pIC0gTnVtYmVyKHJhd19yZWNvcmRbc2N1cnNvcl1bNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvc3RfY291bnQgPSBOdW1iZXIocmF3X3JlY29yZFtjdXJzb3JdWzNdKSAqIE51bWJlcihyYXdfcmVjb3JkW2N1cnNvcl1bNF0pIC0gTnVtYmVyKHJhd19yZWNvcmRbc2N1cnNvcl1bM10pICogTnVtYmVyKHJhd19yZWNvcmRbc2N1cnNvcl1bNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX3JldGFpbiA9IHRvdGFsX3JldGFpbiArIHJldGFpbl9jb3VudDtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbF9jb3N0ID0gdG90YWxfY29zdCArIGNvc3RfY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZV9kID0gVGltZUR1YXJpb24ocmF3X3JlY29yZFtjdXJzb3JdWzFdLCByYXdfcmVjb3JkW3NjdXJzb3JdWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBcdThCQjBcdTVGNTVcdTYyMTBcdTVCRjlcdTc2ODRcdTRFNzBcdTUzNTZcdThCQjBcdTVGNTVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfcmVjb3JkLnB1c2goW3Jhd19yZWNvcmRbY3Vyc29yXVswXSwgcmF3X3JlY29yZFtjdXJzb3JdWzFdLCByYXdfcmVjb3JkW2N1cnNvcl1bMl0sIHJhd19yZWNvcmRbY3Vyc29yXVszXSwgcmF3X3JlY29yZFtjdXJzb3JdWzRdLCBTdHJpbmcoY29zdF9jb3VudCldKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWRpbmdfcmVjb3JkLnB1c2goW3Jhd19yZWNvcmRbc2N1cnNvcl1bMF0sIHJhd19yZWNvcmRbc2N1cnNvcl1bMV0sIHJhd19yZWNvcmRbc2N1cnNvcl1bMl0sIHJhd19yZWNvcmRbc2N1cnNvcl1bM10sIHJhd19yZWNvcmRbc2N1cnNvcl1bNF0sIFwiLS1cIiwgU3RyaW5nKHRpbWVfZCkrXCJcdTU5MjlcIiwgU3RyaW5nKHJldGFpbl9jb3VudCldKTtcclxuICAgICAgICAgICAgICAgICAgICByYXdfcmVjb3JkLnNwbGljZShjdXJzb3IsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJhd19yZWNvcmQuc3BsaWNlKHNjdXJzb3IgLSAxLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3IrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGN1cnNvcisrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8cmF3X3JlY29yZC5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbY3Vyc29yXVswXSA9PSBcIkJVWVwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb3N0X2NvdW50ID0gTnVtYmVyKHJhd19yZWNvcmRbaWR4XVszXSkgKiBOdW1iZXIocmF3X3JlY29yZFtpZHhdWzRdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtpZHhdWzBdLCByYXdfcmVjb3JkW2lkeF1bMV0sIHJhd19yZWNvcmRbaWR4XVsyXSwgcmF3X3JlY29yZFtpZHhdWzNdLCByYXdfcmVjb3JkW2lkeF1bNF0sIFN0cmluZyhjb3N0X2NvdW50KV0pO1xyXG4gICAgICAgICAgICAgICAgdG90YWxfY29zdCA9IHRvdGFsX2Nvc3QgKyBjb3N0X2NvdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhd19yZWNvcmRbY3Vyc29yXVswXSA9PSBcIlNIQVJFXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3JlY29yZC5wdXNoKFtyYXdfcmVjb3JkW2lkeF1bMF0sIHJhd19yZWNvcmRbaWR4XVsxXSwgcmF3X3JlY29yZFtpZHhdWzJdLCByYXdfcmVjb3JkW2lkeF1bM10sIHJhd19yZWNvcmRbaWR4XVs0XSwgXCItLVwiLCBcIi0tXCIsIHJhd19yZWNvcmRbaWR4XVs0XV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX3JldGFpbiA9IHRvdGFsX3JldGFpbiArIE51bWJlcihyYXdfcmVjb3JkW2lkeF1bNF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ19yZWNvcmQucHVzaChbcmF3X3JlY29yZFtpZHhdWzBdLCByYXdfcmVjb3JkW2lkeF1bMV0sIHJhd19yZWNvcmRbaWR4XVsyXSwgcmF3X3JlY29yZFtpZHhdWzNdLCByYXdfcmVjb3JkW2lkeF1bNF1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG90YWxfY29zdCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfcmVjb3JkLnB1c2goW1wiQ29zdFwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBTdHJpbmcodG90YWxfY29zdCldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRvdGFsX3JldGFpbiA8PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyYWRpbmdfcmVjb3JkLnB1c2goW1wiUmV0YWluXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFN0cmluZyh0b3RhbF9yZXRhaW4pXSk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudF9wY3QgPSBNeUNlaWwodGhpcy5jdXJyZW50X3ByaWNlIC8gdGhpcy50YXJnZXRfcHJpY2UsIDAuMDAxKTtcclxuICAgICAgICBmb3IgKGxldCBpbmRleD0xOyBpbmRleDw9MzsgaW5kZXgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMuR2VuZXJhdGVDbGVhclJvdyhQRVJGSVRfVFlQRV9OQU1FX1NUUiwgaW5kZXgsIDAuMzUsIE15Rmxvb3IodG90YWxfcmV0YWluIC8gMywgMTAwKSk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZS5wdXNoKHJvdyk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50X3BjdCArIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QgPj0gVG9OdW1iZXIocm93WzFdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucHVzaCh0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdlbmVyYXRlQ2xlYXJSb3coZ3JpZF9uYW1lOiBzdHJpbmcsIGlkeDogbnVtYmVyLCBncmlkX3N0ZXBfcGN0OiBudW1iZXIsIHNlbGxfY291bnQ6IG51bWJlcik6IHN0cmluZ1tdXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcHJpY2Vfc3RlcCA9IE15Rmxvb3IoKDEgKyBncmlkX3N0ZXBfcGN0KSAqKiBpZHgsIDAuMDEpO1xyXG4gICAgICAgIGNvbnN0IHNlbGxfcHJpY2UgPSBNeUNlaWwodGhpcy50YXJnZXRfcHJpY2UgKiBwcmljZV9zdGVwLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0FMSUdOX1BSSUNFKTtcclxuICAgICAgICByZXR1cm4gW2dyaWRfbmFtZSArIFN0cmluZyhpZHgpLCBUb1BlcmNlbnQocHJpY2Vfc3RlcCksIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIChzZWxsX3ByaWNlIC0gdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKDMpLFxyXG4gICAgICAgICAgICAgICAgc2VsbF9wcmljZS50b0ZpeGVkKDMpLCBTdHJpbmcoc2VsbF9jb3VudCksIFN0cmluZyhNYXRoLmNlaWwoc2VsbF9wcmljZSAqIHNlbGxfY291bnQpKSwgXCItXCIsIFwiK1wiICsgVG9QZXJjZW50KGdyaWRfc3RlcF9wY3QpXVxyXG4gICAgfVxyXG5cclxuICAgIEdldEdyaWRSZXRhaW5Db3VudChncmlkX25hbWU6IHN0cmluZyk6IG51bWJlclxyXG4gICAge1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50cmFkaW5nX3RhYmxlW2lkeF1bMF0gPT09IGdyaWRfbmFtZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLnRyYWRpbmdfdGFibGVbaWR4XVs0XSkgLSBOdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW2lkeF1bOF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxufSIsICIvKlxyXG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU4QkExXHU3Qjk3XHU5MDNCXHU4RjkxXHVGRjBDXHU2QTIxXHU1RjBGMVx1RkYwQ1x1OUVEOFx1OEJBNFx1NkEyMVx1NUYwRlxyXG4gICAgXHU2MzA5XHU3MTY3XHU1QzBGXHU0RTJEXHU1OTI3XHU0RTBEXHU1NDBDXHU3Njg0XHU2MzA3XHU1QjlBXHU2QjY1XHU4RkRCXHU1MDNDXHJcbiovXHJcbmltcG9ydCB7IFNHUklEX1RZUEVfTkFNRV9TVFIsIE1HUklEX1RZUEVfTkFNRV9TVFIsIExHUklEX1RZUEVfTkFNRV9TVFIsIFBFUkZJVF9UWVBFX05BTUVfU1RSIH0gZnJvbSBcIi4vbGFuZ19zdHJcIjtcclxuaW1wb3J0IHsgTXlGbG9vciwgTXlDZWlsLCBUb1BlcmNlbnQsIFRvTnVtYmVyLCBUb1RyYWRpbmdHYXAgfSBmcm9tIFwiLi9teW1hdGhcIjtcclxuaW1wb3J0IHsgUGx1Z2luRW52IH0gZnJvbSBcIi4vcGx1Z2luX2VudlwiO1xyXG5pbXBvcnQgeyBEZWJ1Z0xvZyB9IGZyb20gXCIuL3JlbW90ZV91dGlsXCI7XHJcbmltcG9ydCB7IEdyaWRUcmFkaW5nIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRUcmFkaW5nTW9kZU9uZSBleHRlbmRzIEdyaWRUcmFkaW5nIFxyXG57XHJcblxyXG4gICAgY29uc3RydWN0b3IocGx1Z2luX2VudjogUGx1Z2luRW52KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKHBsdWdpbl9lbnYpXHJcbiAgICAgICAgdGhpcy5tb2RlX3R5cGUgPSBcIk9uZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIEluaXRHcmlkVHJhZGluZyhkYXRhOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuUGFyc2VSYXdEYXRhKGRhdGEpIHx8IHRoaXMuaXNfZW1wdHkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFN0b2NrVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0R3JpZFBhcmFtKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGVSZW1vdGVQcmljZShyZW1vdGVfcHJpY2U6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID0gcmVtb3RlX3ByaWNlO1xyXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlID4gMCAmJiB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlICE9IHRoaXMuY3VycmVudF9wcmljZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9wcmljZSA9IHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2U7XHJcbiAgICAgICAgICAgIHRoaXMuaXNfZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0U3RvY2tUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRHcmlkUGFyYW0oKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1RhYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdSZWNvcmQoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ0FuYWx5c2lzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuRGVidWdMb2coXCJJbmZvXCIsIFwiVXBkYXRlUmVtb3RlUHJpY2VcIiwgU3RyaW5nKHRoaXMucmVtb3RlX2N1cnJlbnRfcHJpY2UpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdFRyYWRpbmdUYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzID0gW11cclxuICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzID0gW11cclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGUgPSBbXVxyXG4gICAgICAgIHRoaXMudHJhZGluZ190YWJsZVswXSA9IFtcIlx1N0Y1MVx1NjgzQ1x1NzlDRFx1N0M3QlwiLCBcIlx1NEVGN1x1NjgzQ1x1Njg2M1x1NEY0RFwiLCBcIlx1NEU3MFx1NTE2NVx1ODlFNlx1NTNEMVx1NEVGN1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGN1x1NjgzQ1wiLCBcIlx1NEU3MFx1NTE2NVx1NEVGRFx1NjU3MFwiLCBcIlx1NEU3MFx1NTE2NVx1OTFEMVx1OTg5RFwiLCBcIlx1NTM1Nlx1NTFGQVx1ODlFNlx1NTNEMVx1NEVGN1wiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGN1x1NjgzQ1wiLCBcIlx1NTM1Nlx1NTFGQVx1NEVGRFx1NjU3MFwiLCBcIlx1NTM1Nlx1NTFGQVx1OTFEMVx1OTg5RFwiLCBcIlx1NzZGOFx1NUJGOVx1OERDQ1x1NUU0NVwiLCBcIlx1NzZGOFx1NUJGOVx1NkRBOFx1NUU0NVwiXTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2NvdW50ID0gTWF0aC5mbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCAvIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9TVEVQX1BDVCk7XHJcbiAgICAgICAgY29uc3QgbWNvdW50ID0gTWF0aC5mbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCAvIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCk7XHJcbiAgICAgICAgY29uc3QgbGNvdW50ID0gTWF0aC5mbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1NMVU1QX1BDVCAvIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudF9wY3QgPSBNeUNlaWwodGhpcy5jdXJyZW50X3ByaWNlIC8gdGhpcy50YXJnZXRfcHJpY2UsIDAuMDAxKTtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PD1zY291bnQ7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhTR1JJRF9UWVBFX05BTUVfU1RSLCBpZHgsIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9TVEVQX1BDVCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfUkVUQUlOX0NPVU5ULCB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfQUREX1BDVCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdWzBdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChpZHggKyAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKGlkeCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1QzBGXHU3RjUxXHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RfYnV5ID0gdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmIChsYXN0X2J1eSA8IHNjb3VudCArIDEpIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGxhc3RfYnV5ICsgMSk7XHJcbiAgICAgICAgICAgIGxldCBsYXN0X3NlbGwgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0X3NlbGwpIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGwpO1xyXG4gICAgICAgICAgICBsYXN0X3NlbGwgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0X3NlbGwpIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTVDMEZcdTdGNTFcdTc2ODRcdTk5OTZcdTdGNTFcdTRFNzBcdTUxNjVcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RfYnV5ID0gMTtcclxuICAgICAgICAgICAgaWYgKFRvTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtmaXJzdF9idXldWzFdKSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QgPj0gY3VycmVudF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGZpcnN0X2J1eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaWR4PTE7IGlkeDw9bWNvdW50OyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtzY291bnQgKyAxICsgaWR4XSA9IHRoaXMuR2VuZXJhdGVPbmVSb3coTUdSSURfVFlQRV9OQU1FX1NUUiwgaWR4LCB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfU1RFUF9QQ1QsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1JFVEFJTl9DT1VOVCwgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX0FERF9QQ1QpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtzY291bnQgKyAxICsgaWR4XVswXSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goc2NvdW50ICsgMSArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucHVzaChzY291bnQgKyAxICsgaWR4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NEUyRFx1N0Y1MVx1NEU3MFx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICAgICAgaWYgKFRvTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtzY291bnQgKyAxICsgaWR4XVsxXSkgKyB0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1JJU0VfUENUID49IGN1cnJlbnRfcGN0KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKHNjb3VudCArIDEgKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdID4gc2NvdW50ICsgMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NTM1Nlx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfbSA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmIChUb051bWJlcih0aGlzLnRyYWRpbmdfdGFibGVbbGFzdF9zZWxsX21dWzFdKSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVCAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QgPD0gY3VycmVudF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5yZW1vdmUobGFzdF9zZWxsX20pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpZHg9MTsgaWR4PD1sY291bnQ7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW3Njb3VudCArIDEgKyBtY291bnQgKyBpZHhdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhMR1JJRF9UWVBFX05BTUVfU1RSLCBpZHgsIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfUkVUQUlOX0NPVU5ULCB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfQUREX1BDVCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW3Njb3VudCArIDEgKyBtY291bnQgKyBpZHhdWzBdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChzY291bnQgKyAxICsgbWNvdW50ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHNjb3VudCArIDEgKyBtY291bnQgKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1OTI3XHU3RjUxXHU0RTcwXHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgICAgICBpZiAoVG9OdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW3Njb3VudCArIDEgKyBtY291bnQgKyBpZHhdWzFdKSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QgPj0gY3VycmVudF9wY3QpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goc2NvdW50ICsgMSArIG1jb3VudCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwICYmIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV0gPiBzY291bnQgKyAxICsgbWNvdW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1MzU2XHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3Rfc2VsbF9sID0gdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKFRvTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtsYXN0X3NlbGxfbF1bMV0pICsgdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENUIC0gdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9SSVNFX1BDVCA8PSBjdXJyZW50X3BjdClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnJlbW92ZShsYXN0X3NlbGxfbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfbW9uaXRvcl9yb3dzLnB1c2gobGFzdF9zZWxsX2wpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdlbmVyYXRlT25lUm93KGdyaWRfbmFtZTogc3RyaW5nLCBpZHg6IG51bWJlciwgZ3JpZF9zdGVwX3BjdDogbnVtYmVyLCBncmlkX3JldGFpbl9jb3VudDogbnVtYmVyLCBncmlkX2FkZF9wY3Q6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICAvLyBjb25zdCBwcmljZV9zdGVwID0gTXlGbG9vcigoMTAwLjAgLSBpZHggKiBncmlkX3N0ZXBfcGN0ICogMTAwLjApIC8gMTAwLjAsIDAuMDEpO1xyXG4gICAgICAgIGNvbnN0IHByaWNlX3N0ZXAgPSAoMTAwIC0gaWR4ICogZ3JpZF9zdGVwX3BjdCAqIDEwMCkgLyAxMDA7XHJcbiAgICAgICAgY29uc3QgYnV5X3ByaWNlID0gTXlGbG9vcih0aGlzLnRhcmdldF9wcmljZSAqIHByaWNlX3N0ZXAsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5fQUxJR05fUFJJQ0UpO1xyXG4gICAgICAgIGNvbnN0IGJ1eV9jb3VudCA9IE15Rmxvb3IodGhpcy5ncmlkX3NldHRpbmdzLk9ORV9HUklEX0xJTUlUICogKDEgKyBpZHggKiBncmlkX2FkZF9wY3QpIC8gYnV5X3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKVxyXG5cclxuICAgICAgICBjb25zdCBzZWxsX3ByaWNlID0gTXlDZWlsKHRoaXMudGFyZ2V0X3ByaWNlICogKHByaWNlX3N0ZXAgKyBncmlkX3N0ZXBfcGN0KSwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTl9BTElHTl9QUklDRSk7XHJcbiAgICAgICAgY29uc3QgcmV0YWluX2NvdW50ID0gKHNlbGxfcHJpY2UgLSBidXlfcHJpY2UpICogYnV5X2NvdW50ICogZ3JpZF9yZXRhaW5fY291bnQ7XHJcbiAgICAgICAgY29uc3Qgc2VsbF9jb3VudCA9IE15Rmxvb3IoKHNlbGxfcHJpY2UgKiBidXlfY291bnQgLSByZXRhaW5fY291bnQpIC8gc2VsbF9wcmljZSwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTl9CQVRDSF9DT1VOVCk7XHJcblxyXG4gICAgICAgIHJldHVybiBbZ3JpZF9uYW1lICsgU3RyaW5nKGlkeCksIFRvUGVyY2VudChwcmljZV9zdGVwKSwgKGJ1eV9wcmljZSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUklHR0VSX0FERF9QT0lOVCkudG9GaXhlZCgzKSwgXHJcbiAgICAgICAgICAgICAgICBidXlfcHJpY2UudG9GaXhlZCgzKSwgU3RyaW5nKGJ1eV9jb3VudCksIFN0cmluZyhNYXRoLmNlaWwoYnV5X3ByaWNlICogYnV5X2NvdW50KSksXHJcbiAgICAgICAgICAgICAgICAoc2VsbF9wcmljZSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUklHR0VSX0FERF9QT0lOVCkudG9GaXhlZCgzKSwgc2VsbF9wcmljZS50b0ZpeGVkKDMpLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nKHNlbGxfY291bnQpLCBTdHJpbmcoTWF0aC5jZWlsKHNlbGxfcHJpY2UgKiBzZWxsX2NvdW50KSksIFRvVHJhZGluZ0dhcChzZWxsX3ByaWNlLCBidXlfcHJpY2UsIDEpLCBUb1RyYWRpbmdHYXAoYnV5X3ByaWNlLCBzZWxsX3ByaWNlLCAxKV07XHJcbiAgICB9XHJcbn0iLCAiLypcclxuICAgIFx1N0Y1MVx1NjgzQ1x1N0I1Nlx1NzU2NVx1NzY4NFx1OEJBMVx1N0I5N1x1OTAzQlx1OEY5MVx1RkYwQ1x1NkEyMVx1NUYwRjJcclxuICAgIFx1NkEyMVx1NUYwRjFcdTc2ODRcdTU3RkFcdTc4NDBcdTRFMEFcdTkwMUFcdThGQzdcdTUyMDZcdTZCQjVcdTdCNTZcdTc1NjVcdTRGN0ZcdTVGOTdcdTVDMEZcdTdGNTFcdTc2ODRcdTZCNjVcdThGREJcdTUwM0NcdTY2RjRcdTUyQTBcdTU3NDdcdTg4NjFcclxuKi9cclxuaW1wb3J0IHsgU0dSSURfVFlQRV9OQU1FX1NUUiwgTUdSSURfVFlQRV9OQU1FX1NUUiwgTEdSSURfVFlQRV9OQU1FX1NUUiB9IGZyb20gXCIuL2xhbmdfc3RyXCI7XHJcbmltcG9ydCB7IE15Rmxvb3IsIE15Q2VpbCwgVG9QZXJjZW50LCBUb051bWJlciwgVG9UcmFkaW5nR2FwIH0gZnJvbSBcIi4vbXltYXRoXCI7XHJcbmltcG9ydCB7IFBsdWdpbkVudiB9IGZyb20gXCIuL3BsdWdpbl9lbnZcIjtcclxuaW1wb3J0IHsgRGVidWdMb2cgfSBmcm9tIFwiLi9yZW1vdGVfdXRpbFwiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZyB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkVHJhZGluZ01vZGVUd28gZXh0ZW5kcyBHcmlkVHJhZGluZyBcclxue1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbl9lbnY6IFBsdWdpbkVudilcclxuICAgIHtcclxuICAgICAgICBzdXBlcihwbHVnaW5fZW52KVxyXG4gICAgICAgIHRoaXMubW9kZV90eXBlID0gXCJUd29cIjtcclxuICAgIH1cclxuXHJcbiAgICBJbml0R3JpZFRyYWRpbmcoZGF0YTogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLlBhcnNlUmF3RGF0YShkYXRhKSB8fCB0aGlzLmlzX2VtcHR5KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5pc19lbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRTdG9ja1RhYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEdyaWRQYXJhbSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1JlY29yZCgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nQW5hbHlzaXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlUmVtb3RlUHJpY2UocmVtb3RlX3ByaWNlOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA9IHJlbW90ZV9wcmljZTtcclxuICAgICAgICBpZiAodGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA+IDAgJiYgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSAhPSB0aGlzLmN1cnJlbnRfcHJpY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfcHJpY2UgPSB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlO1xyXG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFN0b2NrVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0R3JpZFBhcmFtKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLkRlYnVnTG9nKFwiSW5mb1wiLCBcIlVwZGF0ZVJlbW90ZVByaWNlXCIsIFN0cmluZyh0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEluaXRUcmFkaW5nVGFibGUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzID0gW11cclxuICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlID0gW11cclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbMF0gPSBbXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTRFNzBcdTUxNjVcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTUzNTZcdTUxRkFcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTkxRDFcdTk4OURcIiwgXCJcdTc2RjhcdTVCRjlcdThEQ0NcdTVFNDVcIiwgXCJcdTc2RjhcdTVCRjlcdTZEQThcdTVFNDVcIl07XHJcblxyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gTWF0aC5mbG9vcihNYXRoLmxvZygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9TTFVNUF9QQ1QpIC8gTWF0aC5sb2coMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCkpICsgMTtcclxuICAgICAgICBjb25zdCBjdXJyZW50X3BjdCA9IE15Q2VpbCh0aGlzLmN1cnJlbnRfcHJpY2UgLyB0aGlzLnRhcmdldF9wcmljZSwgMC4wMDEpO1xyXG4gICAgICAgIC8vIFx1NUMwRlx1N0Y1MVxyXG4gICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgIGxldCBtYXhfc2x1bXBfcGN0ID0gTWF0aC5yb3VuZCgoMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfU0xVTVBfUENUKSAqIDEwMCk7XHJcbiAgICAgICAgbGV0IHNlbGxfcHJpY2Vfc3RlcCA9IDEgKyB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1Q7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNvdW50OyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdGkgPSAxO1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdF9zdGVwID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnBvdygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULCBpKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNsdW1wX3BjdCA9IE1hdGgucm91bmQoMTAwICogTWF0aC5wb3coMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCwgaSArIDEpKTtcclxuICAgICAgICAgICAgbGV0IHN0ZXBfcGN0ID0gZmlyc3Rfc3RlcDtcclxuICAgICAgICAgICAgd2hpbGUgKHN0ZXBfcGN0ID4gc2x1bXBfcGN0ICYmIHN0ZXBfcGN0ID4gbWF4X3NsdW1wX3BjdClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyhTR1JJRF9UWVBFX05BTUVfU1RSLCBpZHgsIHN0ZXBfcGN0IC8gMTAwLCBzZWxsX3ByaWNlX3N0ZXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9SRVRBSU5fQ09VTlQsIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9BRERfUENUKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbaWR4ICsgMV1bMF0pKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goaWR4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2goaWR4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWxsX3ByaWNlX3N0ZXAgPSBzdGVwX3BjdCAvIDEwMDtcclxuICAgICAgICAgICAgICAgIHN0ZXBfcGN0ID0gTWF0aC5yb3VuZChmaXJzdF9zdGVwICogKDEgLSB0aSAqIHRoaXMuZ3JpZF9zZXR0aW5ncy5TR1JJRF9TVEVQX1BDVCkpO1xyXG4gICAgICAgICAgICAgICAgdGkrKztcclxuICAgICAgICAgICAgICAgIGlkeCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1QzBGXHU3RjUxXHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RfYnV5ID0gdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmIChsYXN0X2J1eSA8IHRoaXMudHJhZGluZ190YWJsZS5sZW5ndGgpIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGxhc3RfYnV5ICsgMSk7XHJcbiAgICAgICAgICAgIGxldCBsYXN0X3NlbGwgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0X3NlbGwpIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGwpO1xyXG4gICAgICAgICAgICBsYXN0X3NlbGwgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0X3NlbGwpIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTVDMEZcdTdGNTFcdTc2ODRcdTk5OTZcdTdGNTFcdTRFNzBcdTUxNjVcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RfYnV5ID0gMTtcclxuICAgICAgICAgICAgaWYgKFRvTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtmaXJzdF9idXldWzFdKSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QgPj0gY3VycmVudF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGZpcnN0X2J1eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gXHU0RTJEXHU3RjUxXHJcbiAgICAgICAgbGV0IHN0YXJ0X2luZGV4ID0gdGhpcy50cmFkaW5nX3RhYmxlLmxlbmd0aDtcclxuICAgICAgICBpZHggPSAwO1xyXG4gICAgICAgIHNlbGxfcHJpY2Vfc3RlcCA9IDE7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNvdW50OyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdGkgPSAyO1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdF9zdGVwID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnBvdygxIC0gdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENULCBpKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNsdW1wX3BjdCA9IE1hdGgucm91bmQoMTAwICogTWF0aC5wb3coMSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCwgaSArIDEpKTtcclxuICAgICAgICAgICAgbGV0IHN0ZXBfcGN0ID0gTWF0aC5yb3VuZChmaXJzdF9zdGVwICogKDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfU1RFUF9QQ1QpKTtcclxuICAgICAgICAgICAgd2hpbGUgKHN0ZXBfcGN0ID4gc2x1bXBfcGN0ICYmIHN0ZXBfcGN0ID4gbWF4X3NsdW1wX3BjdClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlW3N0YXJ0X2luZGV4ICsgaWR4XSA9IHRoaXMuR2VuZXJhdGVPbmVSb3coTUdSSURfVFlQRV9OQU1FX1NUUiwgaWR4ICsgMSwgc3RlcF9wY3QgLyAxMDAsIHNlbGxfcHJpY2Vfc3RlcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1JFVEFJTl9DT1VOVCwgdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX0FERF9QQ1QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF1bMF0pKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTRFMkRcdTdGNTFcdTRFNzBcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVG9OdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW3N0YXJ0X2luZGV4ICsgaWR4XVsxXSkgKyB0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1JJU0VfUENUID49IGN1cnJlbnRfcGN0KVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXlfbW9uaXRvcl9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlbGxfcHJpY2Vfc3RlcCA9IHN0ZXBfcGN0IC8gMTAwO1xyXG4gICAgICAgICAgICAgICAgc3RlcF9wY3QgPSBNYXRoLnJvdW5kKGZpcnN0X3N0ZXAgKiAoMSAtIHRpICogdGhpcy5ncmlkX3NldHRpbmdzLk1HUklEX1NURVBfUENUKSk7XHJcbiAgICAgICAgICAgICAgICB0aSsrO1xyXG4gICAgICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwICYmIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV0gPj0gc3RhcnRfaW5kZXgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgY29uc3QgbGFzdF9zZWxsX20gPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAoVG9OdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW2xhc3Rfc2VsbF9tXVsxXSkgKyB0aGlzLmdyaWRfc2V0dGluZ3MuTUdSSURfU1RFUF9QQ1QgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1JJU0VfUENUIDw9IGN1cnJlbnRfcGN0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucmVtb3ZlKGxhc3Rfc2VsbF9tKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGxfbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gXHU1OTI3XHU3RjUxXHJcbiAgICAgICAgc3RhcnRfaW5kZXggPSB0aGlzLnRyYWRpbmdfdGFibGUubGVuZ3RoO1xyXG4gICAgICAgIGlkeCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNvdW50OyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzZWxsX3ByaWNlX3N0ZXAgPSBNYXRoLnJvdW5kKDEwMCAqIE1hdGgucG93KDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QsIGkpKSAvIDEwMDtcclxuICAgICAgICAgICAgY29uc3Qgc3RlcF9wY3QgPSBNYXRoLnJvdW5kKDEwMCAqIE1hdGgucG93KDEgLSB0aGlzLmdyaWRfc2V0dGluZ3MuTEdSSURfU1RFUF9QQ1QsIGkgKyAxKSk7XHJcbiAgICAgICAgICAgIGlmIChzdGVwX3BjdCA+IG1heF9zbHVtcF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF0gPSB0aGlzLkdlbmVyYXRlT25lUm93KExHUklEX1RZUEVfTkFNRV9TVFIsIGlkeCArIDEsIHN0ZXBfcGN0IC8gMTAwLCBzZWxsX3ByaWNlX3N0ZXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9SRVRBSU5fQ09VTlQsIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9BRERfUENUKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1eV9ncmlkX3JlY29yZC5pbmNsdWRlcyh0aGlzLnRyYWRpbmdfdGFibGVbc3RhcnRfaW5kZXggKyBpZHhdWzBdKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1OTI3XHU3RjUxXHU0RTcwXHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFRvTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF1bMV0pICsgdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9SSVNFX1BDVCA+PSBjdXJyZW50X3BjdClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZHgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCA+IDAgJiYgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzW3RoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggLSAxXSA+PSBzdGFydF9pbmRleClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NTM1Nlx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0X3NlbGxfbCA9IHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmIChUb051bWJlcih0aGlzLnRyYWRpbmdfdGFibGVbbGFzdF9zZWxsX2xdWzFdKSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5MR1JJRF9TVEVQX1BDVCAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QgPD0gY3VycmVudF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5yZW1vdmUobGFzdF9zZWxsX2wpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9sKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZW5lcmF0ZU9uZVJvdyhncmlkX25hbWU6IHN0cmluZywgaWR4OiBudW1iZXIsIGJ1eV9wcmljZV9zdGVwOiBudW1iZXIsIHNlbGxfcHJpY2Vfc3RlcDogbnVtYmVyLCBncmlkX3JldGFpbl9jb3VudDogbnVtYmVyLCBncmlkX2FkZF9wY3Q6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBidXlfcHJpY2UgPSBNeUZsb29yKHRoaXMudGFyZ2V0X3ByaWNlICogYnV5X3ByaWNlX3N0ZXAsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5fQUxJR05fUFJJQ0UpO1xyXG4gICAgICAgIGNvbnN0IGJ1eV9jb3VudCA9IE15Rmxvb3IodGhpcy5ncmlkX3NldHRpbmdzLk9ORV9HUklEX0xJTUlUICogKDEgKyBpZHggKiBncmlkX2FkZF9wY3QpIC8gYnV5X3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKVxyXG5cclxuICAgICAgICBjb25zdCBzZWxsX3ByaWNlID0gTXlDZWlsKHRoaXMudGFyZ2V0X3ByaWNlICogc2VsbF9wcmljZV9zdGVwLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0FMSUdOX1BSSUNFKTtcclxuICAgICAgICBjb25zdCByZXRhaW5fY291bnQgPSAoc2VsbF9wcmljZSAtIGJ1eV9wcmljZSkgKiBidXlfY291bnQgKiBncmlkX3JldGFpbl9jb3VudDtcclxuICAgICAgICBjb25zdCBzZWxsX2NvdW50ID0gTXlGbG9vcigoc2VsbF9wcmljZSAqIGJ1eV9jb3VudCAtIHJldGFpbl9jb3VudCkgLyBzZWxsX3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtncmlkX25hbWUgKyBTdHJpbmcoaWR4KSwgVG9QZXJjZW50KGJ1eV9wcmljZV9zdGVwKSwgKGJ1eV9wcmljZSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUklHR0VSX0FERF9QT0lOVCkudG9GaXhlZCgzKSwgXHJcbiAgICAgICAgICAgICAgICBidXlfcHJpY2UudG9GaXhlZCgzKSwgU3RyaW5nKGJ1eV9jb3VudCksIFN0cmluZyhNYXRoLmNlaWwoYnV5X3ByaWNlICogYnV5X2NvdW50KSksXHJcbiAgICAgICAgICAgICAgICAoc2VsbF9wcmljZSAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5UUklHR0VSX0FERF9QT0lOVCkudG9GaXhlZCgzKSwgc2VsbF9wcmljZS50b0ZpeGVkKDMpLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nKHNlbGxfY291bnQpLCBTdHJpbmcoTWF0aC5jZWlsKHNlbGxfcHJpY2UgKiBzZWxsX2NvdW50KSksIFRvVHJhZGluZ0dhcChzZWxsX3ByaWNlLCBidXlfcHJpY2UsIDEpLCBUb1RyYWRpbmdHYXAoYnV5X3ByaWNlLCBzZWxsX3ByaWNlLCAxKV07XHJcbiAgICB9XHJcblxyXG59IiwgIi8qXHJcbiAgICBcdTdGNTFcdTY4M0NcdTdCNTZcdTc1NjVcdTc2ODRcdThCQTFcdTdCOTdcdTkwM0JcdThGOTFcdUZGMENcdTZBMjFcdTVGMEYzXHJcbiAgICBcdTcyNzlcdTZCOEFcdTUzODZcdTUzRjJcdTUzOUZcdTU2RTBcdTVFMjZcdTY3NjVcdTc2ODRcdTRFMDBcdTRFOUJcdTdGNTFcdTY4M0NcdTdCNTZcdTc1NjVcdUZGMENcdTk3MDBcdTg5ODFcdTYyNEJcdTUyQThcdThCQkVcdTdGNkVcdTdGNTFcdTY4M0NcdTZCQ0ZcdTRFMkFcdTY4M0NcdTVCNTBcdTc2ODRcdTZCNjVcdThGREJcdTUwM0NcclxuKi9cclxuXHJcbmltcG9ydCB7IE15Rmxvb3IsIE15Q2VpbCwgVG9QZXJjZW50LCBUb051bWJlciwgVG9UcmFkaW5nR2FwIH0gZnJvbSBcIi4vbXltYXRoXCI7XHJcbmltcG9ydCB7IFBsdWdpbkVudiB9IGZyb20gXCIuL3BsdWdpbl9lbnZcIjtcclxuaW1wb3J0IHsgR3JpZFRyYWRpbmcgfSBmcm9tIFwiLi9ncmlkX3RyYWRpbmdcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZFRyYWRpbmdNb2RlVGhyZWUgZXh0ZW5kcyBHcmlkVHJhZGluZyBcclxue1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW5fZW52OiBQbHVnaW5FbnYpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIocGx1Z2luX2VudilcclxuICAgICAgICB0aGlzLm1vZGVfdHlwZSA9IFwiVGhyZWVcIjtcclxuICAgIH1cclxuXHJcbiAgICBJbml0R3JpZFRyYWRpbmcoZGF0YTogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLlBhcnNlUmF3RGF0YShkYXRhKSB8fCB0aGlzLmlzX2VtcHR5KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5pc19lbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRTdG9ja1RhYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdEdyaWRQYXJhbSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0VHJhZGluZ1JlY29yZCgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nQW5hbHlzaXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlUmVtb3RlUHJpY2UocmVtb3RlX3ByaWNlOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA9IHJlbW90ZV9wcmljZTtcclxuICAgICAgICBpZiAodGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSA+IDAgJiYgdGhpcy5yZW1vdGVfY3VycmVudF9wcmljZSAhPSB0aGlzLmN1cnJlbnRfcHJpY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfcHJpY2UgPSB0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlO1xyXG4gICAgICAgICAgICB0aGlzLmlzX2VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFN0b2NrVGFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0R3JpZFBhcmFtKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkluaXRUcmFkaW5nUmVjb3JkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSW5pdFRyYWRpbmdBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB0aGlzLkRlYnVnTG9nKFwiSW5mb1wiLCBcIlVwZGF0ZVJlbW90ZVByaWNlXCIsIFN0cmluZyh0aGlzLnJlbW90ZV9jdXJyZW50X3ByaWNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEluaXRUcmFkaW5nVGFibGUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzID0gW11cclxuICAgICAgICB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MgPSBbXVxyXG4gICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cyA9IFtdXHJcbiAgICAgICAgdGhpcy50cmFkaW5nX3RhYmxlID0gW11cclxuICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbMF0gPSBbXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTRFNzBcdTUxNjVcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRjdcdTY4M0NcIiwgXCJcdTRFNzBcdTUxNjVcdTRFRkRcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTkxRDFcdTk4OURcIiwgXCJcdTUzNTZcdTUxRkFcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTkxRDFcdTk4OURcIiwgXCJcdTc2RjhcdTVCRjlcdThEQ0NcdTVFNDVcIiwgXCJcdTc2RjhcdTVCRjlcdTZEQThcdTVFNDVcIl07XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRfcGN0ID0gTXlDZWlsKHRoaXMuY3VycmVudF9wcmljZSAvIHRoaXMudGFyZ2V0X3ByaWNlLCAwLjAwMSk7XHJcbiAgICAgICAgbGV0IGdyaWRfc2VsbF9wY3QgPSAxLjAgKyB0aGlzLmdyaWRfc2V0dGluZ3MuU0dSSURfU1RFUF9QQ1RcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMuc2dyaWRfc3RlcF90YWJsZS5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRfYnV5X3BjdCA9IFRvTnVtYmVyKHRoaXMuc2dyaWRfc3RlcF90YWJsZVtpZHhdWzFdKVxyXG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbaWR4ICsgMV0gPSB0aGlzLkdlbmVyYXRlT25lUm93KHRoaXMuc2dyaWRfc3RlcF90YWJsZVtpZHhdWzBdLCBncmlkX2J1eV9wY3QsIGdyaWRfc2VsbF9wY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyKHRoaXMuc2dyaWRfc3RlcF90YWJsZVtpZHhdWzJdKSwgTnVtYmVyKHRoaXMuc2dyaWRfc3RlcF90YWJsZVtpZHhdWzNdKSk7XHJcbiAgICAgICAgICAgIGdyaWRfc2VsbF9wY3QgPSBncmlkX2J1eV9wY3Q7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW2lkeCArIDFdWzBdKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MucHVzaChpZHggKyAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKGlkeCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gXHU1QzBGXHU3RjUxXHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RfYnV5ID0gdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5idXlfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmIChsYXN0X2J1eSA8IHRoaXMuc2dyaWRfc3RlcF90YWJsZS5sZW5ndGgpIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGxhc3RfYnV5ICsgMSk7XHJcbiAgICAgICAgICAgIGxldCBsYXN0X3NlbGwgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0X3NlbGwpIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGwpO1xyXG4gICAgICAgICAgICBsYXN0X3NlbGwgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MucG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0X3NlbGwpIHRoaXMuc2VsbF9tb25pdG9yX3Jvd3MucHVzaChsYXN0X3NlbGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTVDMEZcdTdGNTFcdTc2ODRcdTk5OTZcdTdGNTFcdTRFNzBcdTUxNjVcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RfYnV5ID0gMTtcclxuICAgICAgICAgICAgaWYgKFRvTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtmaXJzdF9idXldWzFdKSArIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QgPj0gY3VycmVudF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKGZpcnN0X2J1eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHN0YXJ0X2luZGV4ID0gdGhpcy5zZ3JpZF9zdGVwX3RhYmxlLmxlbmd0aCArIDE7XHJcbiAgICAgICAgZ3JpZF9zZWxsX3BjdCA9IDEuMCArIHRoaXMuZ3JpZF9zZXR0aW5ncy5NR1JJRF9TVEVQX1BDVDtcclxuICAgICAgICBmb3IgKGxldCBpZHg9MDsgaWR4PHRoaXMubWdyaWRfc3RlcF90YWJsZS5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRfYnV5X3BjdCA9IFRvTnVtYmVyKHRoaXMubWdyaWRfc3RlcF90YWJsZVtpZHhdWzFdKVxyXG4gICAgICAgICAgICB0aGlzLnRyYWRpbmdfdGFibGVbc3RhcnRfaW5kZXggKyBpZHhdID0gdGhpcy5HZW5lcmF0ZU9uZVJvdyh0aGlzLm1ncmlkX3N0ZXBfdGFibGVbaWR4XVswXSwgZ3JpZF9idXlfcGN0LCBncmlkX3NlbGxfcGN0LFxyXG4gICAgICAgICAgICAgICAgICAgIE51bWJlcih0aGlzLm1ncmlkX3N0ZXBfdGFibGVbaWR4XVsyXSksIE51bWJlcih0aGlzLm1ncmlkX3N0ZXBfdGFibGVbaWR4XVszXSkpO1xyXG4gICAgICAgICAgICBncmlkX3NlbGxfcGN0ID0gZ3JpZF9idXlfcGN0O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuYnV5X2dyaWRfcmVjb3JkLmluY2x1ZGVzKHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF1bMF0pKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1eV90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjMwMlx1NEUyRFx1N0Y1MVx1NEU3MFx1NTM1NVx1NzZEMVx1NjNBN1xyXG4gICAgICAgICAgICAgICAgaWYgKFRvTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF1bMV0pICsgdGhpcy5ncmlkX3NldHRpbmdzLk1BWF9SSVNFX1BDVCA+PSBjdXJyZW50X3BjdClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1eV9tb25pdG9yX3Jvd3MucHVzaChzdGFydF9pbmRleCArIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwICYmIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV0gPj0gc3RhcnRfaW5kZXgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgY29uc3QgbGFzdF9zZWxsX20gPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBjb25zdCBwcmljZV9wY3QgPSBNeUNlaWwoTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtsYXN0X3NlbGxfbV1bN10pIC8gdGhpcy50YXJnZXRfcHJpY2UsIDAuMDAxKTtcclxuICAgICAgICAgICAgaWYgKHByaWNlX3BjdCAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QgPD0gY3VycmVudF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5yZW1vdmUobGFzdF9zZWxsX20pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdGFydF9pbmRleCA9IHRoaXMuc2dyaWRfc3RlcF90YWJsZS5sZW5ndGggKyB0aGlzLm1ncmlkX3N0ZXBfdGFibGUubGVuZ3RoICsgMTtcclxuICAgICAgICBncmlkX3NlbGxfcGN0ID0gMS4wICsgdGhpcy5ncmlkX3NldHRpbmdzLkxHUklEX1NURVBfUENUO1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8dGhpcy5sZ3JpZF9zdGVwX3RhYmxlLmxlbmd0aDsgaWR4KyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZF9idXlfcGN0ID0gVG9OdW1iZXIodGhpcy5sZ3JpZF9zdGVwX3RhYmxlW2lkeF1bMV0pXHJcbiAgICAgICAgICAgIHRoaXMudHJhZGluZ190YWJsZVtzdGFydF9pbmRleCArIGlkeF0gPSB0aGlzLkdlbmVyYXRlT25lUm93KHRoaXMubGdyaWRfc3RlcF90YWJsZVtpZHhdWzBdLCBncmlkX2J1eV9wY3QsIGdyaWRfc2VsbF9wY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyKHRoaXMubGdyaWRfc3RlcF90YWJsZVtpZHhdWzJdKSwgTnVtYmVyKHRoaXMubGdyaWRfc3RlcF90YWJsZVtpZHhdWzNdKSk7XHJcbiAgICAgICAgICAgIGdyaWRfc2VsbF9wY3QgPSBncmlkX2J1eV9wY3Q7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5idXlfZ3JpZF9yZWNvcmQuaW5jbHVkZXModGhpcy50cmFkaW5nX3RhYmxlW3N0YXJ0X2luZGV4ICsgaWR4XVswXSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV5X3RyaWdnZXJlZF9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLnB1c2goc3RhcnRfaW5kZXggKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2MzAyXHU1OTI3XHU3RjUxXHU0RTcwXHU1MzU1XHU3NkQxXHU2M0E3XHJcbiAgICAgICAgICAgICAgICBpZiAoVG9OdW1iZXIodGhpcy50cmFkaW5nX3RhYmxlW3N0YXJ0X2luZGV4ICsgaWR4XVsxXSkgKyB0aGlzLmdyaWRfc2V0dGluZ3MuTUFYX1JJU0VfUENUID49IGN1cnJlbnRfcGN0KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV5X21vbml0b3Jfcm93cy5wdXNoKHN0YXJ0X2luZGV4ICsgaWR4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5sZW5ndGggPiAwICYmIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93c1t0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3MubGVuZ3RoIC0gMV0gPj0gc3RhcnRfaW5kZXgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTYzMDJcdTUzNTZcdTUzNTVcdTc2RDFcdTYzQTdcclxuICAgICAgICAgICAgY29uc3QgbGFzdF9zZWxsX2wgPSB0aGlzLnNlbGxfdHJpZ2dlcmVkX3Jvd3NbdGhpcy5zZWxsX3RyaWdnZXJlZF9yb3dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBjb25zdCBwcmljZV9wY3QgPSBNeUNlaWwoTnVtYmVyKHRoaXMudHJhZGluZ190YWJsZVtsYXN0X3NlbGxfbF1bN10pIC8gdGhpcy50YXJnZXRfcHJpY2UsIDAuMDAxKTtcclxuICAgICAgICAgICAgaWYgKHByaWNlX3BjdCAtIHRoaXMuZ3JpZF9zZXR0aW5ncy5NQVhfUklTRV9QQ1QgPD0gY3VycmVudF9wY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsbF90cmlnZ2VyZWRfcm93cy5yZW1vdmUobGFzdF9zZWxsX2wpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxsX21vbml0b3Jfcm93cy5wdXNoKGxhc3Rfc2VsbF9sKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZW5lcmF0ZU9uZVJvdyhncmlkX25hbWU6IHN0cmluZywgZ3JpZF9idXlfcGN0OiBudW1iZXIsIGdyaWRfc2VsbF9wY3Q6IG51bWJlciwgZ3JpZF9hZGRfcGN0OiBudW1iZXIsIGdyaWRfcmV0YWluX2NvdW50OiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgYnV5X3ByaWNlID0gTXlGbG9vcih0aGlzLnRhcmdldF9wcmljZSAqIGdyaWRfYnV5X3BjdCwgdGhpcy5ncmlkX3NldHRpbmdzLk1JTl9BTElHTl9QUklDRSk7XHJcbiAgICAgICAgY29uc3QgYnV5X2NvdW50ID0gTXlGbG9vcih0aGlzLmdyaWRfc2V0dGluZ3MuT05FX0dSSURfTElNSVQgKiAoMSArIGdyaWRfYWRkX3BjdCkgLyBidXlfcHJpY2UsIHRoaXMuZ3JpZF9zZXR0aW5ncy5NSU5fQkFUQ0hfQ09VTlQpXHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGxfcHJpY2UgPSBNeUNlaWwodGhpcy50YXJnZXRfcHJpY2UgKiBncmlkX3NlbGxfcGN0LCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0FMSUdOX1BSSUNFKTtcclxuICAgICAgICBjb25zdCByZXRhaW5fY291bnQgPSAoc2VsbF9wcmljZSAtIGJ1eV9wcmljZSkgKiBidXlfY291bnQgKiBncmlkX3JldGFpbl9jb3VudDtcclxuICAgICAgICBjb25zdCBzZWxsX2NvdW50ID0gTXlGbG9vcigoc2VsbF9wcmljZSAqIGJ1eV9jb3VudCAtIHJldGFpbl9jb3VudCkgLyBzZWxsX3ByaWNlLCB0aGlzLmdyaWRfc2V0dGluZ3MuTUlOX0JBVENIX0NPVU5UKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtncmlkX25hbWUsIFRvUGVyY2VudChncmlkX2J1eV9wY3QpLCAoYnV5X3ByaWNlICsgdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKDMpLCBcclxuICAgICAgICAgICAgICAgIGJ1eV9wcmljZS50b0ZpeGVkKDMpLCBTdHJpbmcoYnV5X2NvdW50KSwgU3RyaW5nKE1hdGguY2VpbChidXlfcHJpY2UgKiBidXlfY291bnQpKSxcclxuICAgICAgICAgICAgICAgIChzZWxsX3ByaWNlIC0gdGhpcy5ncmlkX3NldHRpbmdzLlRSSUdHRVJfQUREX1BPSU5UKS50b0ZpeGVkKDMpLCBzZWxsX3ByaWNlLnRvRml4ZWQoMyksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcoc2VsbF9jb3VudCksIFN0cmluZyhNYXRoLmNlaWwoc2VsbF9wcmljZSAqIHNlbGxfY291bnQpKSwgVG9UcmFkaW5nR2FwKHNlbGxfcHJpY2UsIGJ1eV9wcmljZSwgMSksIFRvVHJhZGluZ0dhcChidXlfcHJpY2UsIHNlbGxfcHJpY2UsIDEpXTtcclxuICAgIH1cclxuXHJcbn0iLCAiLypcclxuICAgIFBsdWdpbiBydW50aW1lIGRhdGFcclxuKi9cclxuXHJcbmltcG9ydCB7IFBsdWdpbkJhc2VTZXR0aW5ncywgR3JpZFRyYWRpbmdTZXR0aW5ncywgUGFja1NldHRpbmdzLCBVbnBhY2tTZXR0aW5ncyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XHJcbmltcG9ydCB7IEdyaWRUcmFkaW5nIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nXCI7XHJcbmltcG9ydCB7IERlYnVnTG9nIH0gZnJvbSBcIi4vcmVtb3RlX3V0aWxcIjtcclxuaW1wb3J0IHsgR3JpZFRyYWRpbmdNb2RlT25lIH0gZnJvbSBcIi4vZ3JpZF90cmFkaW5nX20xXCI7XHJcbmltcG9ydCB7IEdyaWRUcmFkaW5nTW9kZVR3byB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ19tMlwiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZ01vZGVUaHJlZSB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ19tM1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFVQREFURV9TVE9DS19TRVRUSU5HID0gXCJ1cGRhdGVfc3RvY2tfc2V0dGluZ1wiO1xyXG5leHBvcnQgY29uc3QgRkVUQ0hfQ1VSUkVOVF9QUklDRSA9IFwiZmV0Y2hfY3VycmVudF9wcmljZVwiO1xyXG5cclxudHlwZSBDYWxsYmFjayA9ICgpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgUGx1Z2luRW52XHJcbntcclxuICAgIGlzX3NldHRpbmdzX2NoYW5nZWQ6IGJvb2xlYW47XHJcbiAgICBiYXNlX3NldHRpbmdzOiBQbHVnaW5CYXNlU2V0dGluZ3M7XHJcbiAgICBncmlkX3NldHRpbmdzOiBHcmlkVHJhZGluZ1NldHRpbmdzO1xyXG5cclxuICAgIGdyaWRfdHJhZGluZ19kaWN0OiBNYXA8c3RyaW5nLCBHcmlkVHJhZGluZz47XHJcbiAgICBzdG9ja19yZW1vdGVfcHJpY2VfZGljdDogTWFwPHN0cmluZywgbnVtYmVyPjtcclxuICAgIGV2ZW50X2NhbGxiYWNrX2RpY3Q6IE1hcDxzdHJpbmcsIE1hcDxudW1iZXIsIENhbGxiYWNrPj5cclxuICAgIF9ldmVudF9ndWlkOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaXNfc2V0dGluZ3NfY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYmFzZV9zZXR0aW5ncyA9IG5ldyBQbHVnaW5CYXNlU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmdyaWRfc2V0dGluZ3MgPSBuZXcgR3JpZFRyYWRpbmdTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMuZ3JpZF90cmFkaW5nX2RpY3QgPSBuZXcgTWFwPHN0cmluZywgR3JpZFRyYWRpbmc+O1xyXG4gICAgICAgIHRoaXMuc3RvY2tfcmVtb3RlX3ByaWNlX2RpY3QgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPjtcclxuICAgICAgICB0aGlzLmV2ZW50X2NhbGxiYWNrX2RpY3QgPSBuZXcgTWFwPHN0cmluZywgTWFwPG51bWJlciwgQ2FsbGJhY2s+PjtcclxuICAgICAgICB0aGlzLl9ldmVudF9ndWlkID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBHZXRBUElMaXNlbmNlKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2Vfc2V0dGluZ3MuREFUQV9BUElfTElDRU5DRTtcclxuICAgIH1cclxuXHJcbiAgICBHZXRTdG9ja1JlbW90ZVByaWNlKHN0b2NrX25vOiBzdHJpbmcpOiBudW1iZXJcclxuICAgIHtcclxuICAgICAgICBjb25zdCBwcmljZSA9IHRoaXMuc3RvY2tfcmVtb3RlX3ByaWNlX2RpY3QuZ2V0KHN0b2NrX25vKTtcclxuICAgICAgICBpZiAocHJpY2UgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByaWNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdldEdyaWRUcmFkaW5nVHlwZUJ5U3RyaW5nKG1vZGU6IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICBpZiAobW9kZSA9PSBcIm1vZGVfdHdvXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL0RlYnVnTG9nKFwiR2V0R3JpZFRyYWRpbmdUeXBlQnlTdHJpbmcgcmV0dXJuIFR3byBcIiwgbW9kZSlcclxuICAgICAgICAgICAgcmV0dXJuIEdyaWRUcmFkaW5nTW9kZVR3bztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1vZGUgPT0gXCJtb2RlX3RocmVlXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL0RlYnVnTG9nKFwiR2V0R3JpZFRyYWRpbmdUeXBlQnlTdHJpbmcgcmV0dXJuIFRocmVlIFwiLCBtb2RlKVxyXG4gICAgICAgICAgICByZXR1cm4gR3JpZFRyYWRpbmdNb2RlVGhyZWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFx1OUVEOFx1OEJBNFx1NEY3Rlx1NzUyOFx1NkEyMVx1NUYwRjFcclxuICAgICAgICAvL0RlYnVnTG9nKFwiR2V0R3JpZFRyYWRpbmdUeXBlQnlTdHJpbmcgcmV0dXJuIE9uZSBcIiwgbW9kZSlcclxuICAgICAgICByZXR1cm4gR3JpZFRyYWRpbmdNb2RlT25lO1xyXG4gICAgfVxyXG5cclxuICAgIEdldEFuZEdlbkdyaWRUcmFkaW5nKGdyaWRfbmFtZTogc3RyaW5nLCBtb2RlOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGdyaWRfdHJhZGluZyA9IHRoaXMuZ3JpZF90cmFkaW5nX2RpY3QuZ2V0KGdyaWRfbmFtZSlcclxuICAgICAgICBjb25zdCB0cmFkaW5nX21vZGUgPSB0aGlzLkdldEdyaWRUcmFkaW5nVHlwZUJ5U3RyaW5nKG1vZGUpXHJcbiAgICAgICAgaWYgKGdyaWRfdHJhZGluZyBpbnN0YW5jZW9mIHRyYWRpbmdfbW9kZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBncmlkX3RyYWRpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdyaWRfdHJhZGluZyA9IG5ldyB0cmFkaW5nX21vZGUodGhpcyk7XHJcbiAgICAgICAgdGhpcy5ncmlkX3RyYWRpbmdfZGljdC5zZXQoZ3JpZF9uYW1lLCBncmlkX3RyYWRpbmcpO1xyXG4gICAgICAgIHJldHVybiBncmlkX3RyYWRpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgVW5zZXJpYWxpemVkU2V0dGluZ3MoZGF0YTogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICBpZiAobGluZXMubGVuZ3RoIDw9IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgVW5wYWNrU2V0dGluZ3ModGhpcy5iYXNlX3NldHRpbmdzLCBsaW5lcyk7XHJcbiAgICAgICAgVW5wYWNrU2V0dGluZ3ModGhpcy5ncmlkX3NldHRpbmdzLCBsaW5lcyk7XHJcbiAgICB9XHJcblxyXG4gICAgU2VyaWFsaXplZFNldHRpbmdzKCk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBQYWNrU2V0dGluZ3ModGhpcy5iYXNlX3NldHRpbmdzKSArIFBhY2tTZXR0aW5ncyh0aGlzLmdyaWRfc2V0dGluZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIFB1Ymxpc2hFdmVudChldmVudF9uYW1lOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgLy9EZWJ1Z0xvZyhcIlB1Ymxpc2hFdmVudDogXCIsIGV2ZW50X25hbWUpO1xyXG4gICAgICAgIGNvbnN0IGNiX2RpY3QgPSB0aGlzLmV2ZW50X2NhbGxiYWNrX2RpY3QuZ2V0KGV2ZW50X25hbWUpXHJcbiAgICAgICAgaWYgKGNiX2RpY3QgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBbZ3VpZCwgZXZlbnRfY2JdIG9mIGNiX2RpY3QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0cnlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy9EZWJ1Z0xvZyhcIlRyaWdnZXJFdmVudENiIGd1aWQ6IFwiLCBndWlkLCBcIiBjYjogXCIsIGV2ZW50X2NiLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRfY2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaChlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgU3Vic2NyaWJlRXZlbnQoZXZlbnRfbmFtZTogc3RyaW5nLCBldmVudF9jYjogQ2FsbGJhY2spOiBudW1iZXJcclxuICAgIHtcclxuICAgICAgICBjb25zdCBndWlkID0gdGhpcy5HZW5HVUlEKCk7XHJcbiAgICAgICAgbGV0IGNiX2RpY3QgPSB0aGlzLmV2ZW50X2NhbGxiYWNrX2RpY3QuZ2V0KGV2ZW50X25hbWUpO1xyXG4gICAgICAgIGlmIChjYl9kaWN0ID09IHVuZGVmaW5lZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNiX2RpY3QgPSBuZXcgTWFwPG51bWJlciwgQ2FsbGJhY2s+O1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50X2NhbGxiYWNrX2RpY3Quc2V0KGV2ZW50X25hbWUsIGNiX2RpY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYl9kaWN0LnNldChndWlkLCBldmVudF9jYik7XHJcbiAgICAgICAgLy9EZWJ1Z0xvZyhcIlN1YnNjcmliZUV2ZW50OiBcIiwgZXZlbnRfbmFtZSwgXCIgZ3VpZDogXCIsIGd1aWQsIFwiIGNiOiBcIiwgZXZlbnRfY2IubmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIGd1aWQ7XHJcbiAgICB9XHJcblxyXG4gICAgVW5zdWJzY3JpYmVFdmVudChldmVudF9uYW1lOiBzdHJpbmcsIGV2ZW50X2d1aWQ6IG51bWJlcik6IGJvb2xlYW5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBjYl9kaWN0ID0gdGhpcy5ldmVudF9jYWxsYmFja19kaWN0LmdldChldmVudF9uYW1lKVxyXG4gICAgICAgIGlmIChjYl9kaWN0ID09IHVuZGVmaW5lZCB8fCAhY2JfZGljdC5oYXMoZXZlbnRfZ3VpZCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vRGVidWdMb2coXCJVbnN1YnNjcmliZUV2ZW50OiBcIiwgZXZlbnRfbmFtZSwgXCIgZ3VpZDogXCIsIGV2ZW50X2d1aWQpO1xyXG4gICAgICAgIHJldHVybiBjYl9kaWN0LmRlbGV0ZShldmVudF9ndWlkKTtcclxuICAgIH1cclxuXHJcbiAgICBHZW5HVUlEKCk6IG51bWJlclxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50X2d1aWQrKztcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnRfZ3VpZDtcclxuICAgIH1cclxufVxyXG4iLCAiLypcclxuICAgIFx1NTkwNFx1NzQwNlx1NjRDRFx1NEY1Q1x1NjMwN1x1NEVFNFx1RkYwQ1x1OEQxRlx1OEQyM1x1ODlFM1x1Njc5MFx1NTE4NVx1NUJCOVx1NUU3Nlx1NzUxRlx1NjIxMFx1NjgzQ1x1NUYwRlx1NTMxNlx1N0VEM1x1Njc5Q1xyXG4qL1xyXG5cclxuaW1wb3J0IHsgc3Vic2NyaWJlIH0gZnJvbSBcImRpYWdub3N0aWNzX2NoYW5uZWxcIjtcclxuaW1wb3J0IHsgSXNOdW1lcmljIH0gZnJvbSBcIi4vbXltYXRoXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZENvbW1hbmRcclxue1xyXG4gICAgY29tbWFuZDogc3RyaW5nO1xyXG4gICAgY29tbWFuZF90eXBlOiBzdHJpbmc7XHJcbiAgICBjb21tYW5kX3BhcmFtMTogc3RyaW5nO1xyXG4gICAgY29tbWFuZF9wYXJhbTI6IGFueTsgXHJcbiAgICBkYXRhX3Jlc3VsdF9zdHI6IHN0cmluZztcclxuICAgIGRhdGFfcmVzdWx0X251bTogbnVtYmVyO1xyXG4gICAgZXJyb3JfY29kZTogbnVtYmVyO1xyXG4gICAgZXJyb3JfbXNnOiBzdHJpbmc7XHJcbiAgICByYXdfY29tbWFuZF90ZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY29tbWFuZCA9IFwibm9uZVwiO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZF90eXBlID0gXCJncmlkXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBFeGN1dGVHcmlkQ29tbWFuZChjbWRfc3RyOiBzdHJpbmcpOiBHcmlkQ29tbWFuZFxyXG57XHJcbiAgICBjb25zdCBzdHJzID0gY21kX3N0ci5zcGxpdChcIiBcIik7XHJcbiAgICBjb25zdCBjb21tYW5kID0gbmV3IEdyaWRDb21tYW5kKCk7XHJcbiAgICBjb21tYW5kLmNvbW1hbmQgPSBzdHJzWzBdO1xyXG4gICAgY29tbWFuZC5yYXdfY29tbWFuZF90ZXh0ID0gY21kX3N0cjtcclxuICAgIGlmIChjb21tYW5kLmNvbW1hbmQgPT0gXCJhZGRfcmVjb3JkXCIpXHJcbiAgICB7XHJcbiAgICAgICAgY29tbWFuZC5jb21tYW5kX3BhcmFtMSA9IHN0cnNbMV07XHJcbiAgICAgICAgQWRkR3JpZFJlY29yZChjb21tYW5kKTtcclxuICAgIH1cclxuICAgIGlmIChjb21tYW5kLmNvbW1hbmQgPT0gXCJkZWxfcmVjb3JkXCIpXHJcbiAgICB7XHJcbiAgICAgICAgY29tbWFuZC5jb21tYW5kX3BhcmFtMSA9IHN0cnNbMV07XHJcbiAgICAgICAgRGVsR3JpZFJlY29yZChjb21tYW5kKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb21tYW5kO1xyXG59XHJcblxyXG5mdW5jdGlvbiBBZGRHcmlkUmVjb3JkKGNvbW1hbmQ6IEdyaWRDb21tYW5kKVxyXG57XHJcbiAgICBjb25zdCBzdWJfc3RycyA9IGNvbW1hbmQuY29tbWFuZF9wYXJhbTEuc3BsaXQoXCIsXCIpO1xyXG4gICAgaWYgKHN1Yl9zdHJzLmxlbmd0aCAhPSA1KVxyXG4gICAge1xyXG4gICAgICAgIGNvbW1hbmQuZXJyb3JfY29kZSA9IC0xO1xyXG4gICAgICAgIGNvbW1hbmQuZXJyb3JfbXNnID0gXCJpbnZhbGlkIHBhcmFtXCJcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoc3ViX3N0cnNbMF0gIT0gXCJCVVlcIiAmJiBzdWJfc3Ryc1swXSAhPSBcIlNFTExcIiAmJiBzdWJfc3Ryc1swXSAhPSBcIlNIQVJFXCIpXHJcbiAgICB7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9jb2RlID0gLTE7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9tc2cgPSBcImludmFsaWQgcGFyYW1cIlxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NUMwRlx1N0Y1MVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NEUyRFx1N0Y1MVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NTkyN1x1N0Y1MVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1N0VBMlx1NTIyOVwiKSAmJiAhc3ViX3N0cnNbMl0uc3RhcnRzV2l0aChcIlx1NTIyOVx1NkRBNlwiKSlcclxuICAgIHtcclxuICAgICAgICBjb21tYW5kLmVycm9yX2NvZGUgPSAtMTtcclxuICAgICAgICBjb21tYW5kLmVycm9yX21zZyA9IFwiaW52YWxpZCBwYXJhbVwiXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29tbWFuZC5lcnJvcl9jb2RlID0gMDtcclxuICAgIGNvbW1hbmQuZGF0YV9yZXN1bHRfc3RyID0gXCJcXG5cIiArIGNvbW1hbmQuY29tbWFuZF9wYXJhbTE7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gRGVsR3JpZFJlY29yZChjb21tYW5kOiBHcmlkQ29tbWFuZClcclxue1xyXG4gICAgaWYgKElzTnVtZXJpYyhjb21tYW5kLmNvbW1hbmRfcGFyYW0xKSlcclxuICAgIHtcclxuICAgICAgICBjb21tYW5kLmVycm9yX2NvZGUgPSAwO1xyXG4gICAgICAgIGNvbW1hbmQuZGF0YV9yZXN1bHRfbnVtID0gTnVtYmVyKGNvbW1hbmQuY29tbWFuZF9wYXJhbTEpXHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9jb2RlID0gLTE7XHJcbiAgICAgICAgY29tbWFuZC5lcnJvcl9tc2cgPSBcImludmFsaWQgcGFyYW1cIjtcclxuICAgIH1cclxufSIsICIvKlxyXG4gICAgXHU3RjUxXHU2ODNDXHU3QjU2XHU3NTY1XHU3Njg0XHU2MDNCXHU4OUM4XHU4OUM2XHU1NkZFXHJcbiovXHJcbmltcG9ydCB7IFRleHRGaWxlVmlldywgV29ya3NwYWNlTGVhZiwgVEZpbGUsIFRGb2xkZXIsIFZhdWx0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IEdSSURfQ09MT1JfU1RPQ0tfT1ZFUlZJRVcsIEdSSURfQ09MT1JfVEFCTEVfVElUTEUsIEdSSURfQ09MT1JfQlVZX09WRVJWSUVXLCBHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBHcmlkVHJhZGluZyB9IGZyb20gXCIuL2dyaWRfdHJhZGluZ1wiO1xyXG5pbXBvcnQgeyBQbHVnaW5FbnYsIEZFVENIX0NVUlJFTlRfUFJJQ0UgfSBmcm9tIFwiLi9wbHVnaW5fZW52XCI7XHJcbmltcG9ydCB7IFRvUGVyY2VudCwgVG9UcmFkaW5nR2FwIH0gZnJvbSBcIi4vbXltYXRoXCI7XHJcblxyXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0dUTyA9IFwiZ3RvLXZpZXdcIlxyXG5cclxuZXhwb3J0IGNsYXNzIEdUT1ZpZXcgZXh0ZW5kcyBUZXh0RmlsZVZpZXdcclxue1xyXG4gICAgZGF0YTogc3RyaW5nO1xyXG4gICAgdmF1bHQ6IFZhdWx0O1xyXG4gICAgcGx1Z2luX2VudjogUGx1Z2luRW52O1xyXG4gICAgcmVmcmVzaF9ldmVudF9ndWlkOiBudW1iZXI7XHJcblxyXG4gICAgZGVidWdfbG9nOiBzdHJpbmcgW11bXTtcclxuICAgIHN0b2NrX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcclxuICAgIGN1c3RvbV9zdG9ja19vdmVydmlldzogc3RyaW5nIFtdW107XHJcbiAgICBhcHBvaW50X3N0b2NrX292ZXJ2aWV3OiBzdHJpbmcgW11bXTtcclxuXHJcbiAgICBvdmVydmlld190aXRsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBvdmVydmlld190YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBjdXN0b21fdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgY3VzdG9tX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuICAgIGFwcG9pbnRfdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgYXBwb2ludF90YWJsZV9lbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBkZWJ1Z19sb2dfdGl0bGVfZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgZGVidWdfbG9nX3RhYmxlX2VsOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCB2YXVsdDogVmF1bHQsIHBsdWdpbl9lbnY6IFBsdWdpbkVudilcclxuICAgIHtcclxuICAgICAgICBzdXBlcihsZWFmKTtcclxuICAgICAgICB0aGlzLnZhdWx0ID0gdmF1bHQ7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5fZW52ID0gcGx1Z2luX2VudjtcclxuICAgICAgICB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA9IC0xO1xyXG5cclxuICAgICAgICB0aGlzLmRlYnVnX2xvZyA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXcgPSBbXTtcclxuICAgICAgICB0aGlzLmN1c3RvbV9zdG9ja19vdmVydmlldyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYXBwb2ludF9zdG9ja19vdmVydmlldyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIFJlYWRDdXN0b21TdG9jaygpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc3RvY2tfdGFibGU6IHN0cmluZyBbXVtdID0gW1tHUklEX0NPTE9SX1RBQkxFX1RJVExFLCBcIlx1NjgwN1x1NzY4NFx1NEVFM1x1NTNGN1wiLCBcIlx1NjgwN1x1NzY4NFx1NTQwRFx1NzlGMFwiLCBcIlx1OTk5Nlx1N0Y1MVx1NzZFRVx1NjgwN1x1NEVGN1wiLCBcIlx1NUY1M1x1NTI0RFx1NEVGN1x1NjgzQ1wiLCBcIlx1NEVGN1x1NjgzQ1x1NzY3RVx1NTIwNlx1NEY0RFwiXV07XHJcbiAgICAgICAgbGV0IGJ1eV90YWJsZTogc3RyaW5nIFtdW10gPSBbW0dSSURfQ09MT1JfVEFCTEVfVElUTEUsIFwiXHU2ODA3XHU3Njg0XHU0RUUzXHU1M0Y3XCIsIFwiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIFwiXHU3RjUxXHU2ODNDXHU3OUNEXHU3QzdCXCIsIFwiXHU0RUY3XHU2ODNDXHU2ODYzXHU0RjREXCIsIFwiXHU0RTcwXHU1MTY1XHU4OUU2XHU1M0QxXHU0RUY3XCIsIFwiXHU0RTcwXHU1MTY1XHU0RUY3XHU2ODNDXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUZEXHU2NTcwXCIsIFwiXHU0RTcwXHU1MTY1XHU5MUQxXHU5ODlEXCIsIFwiXHU4REREXHU2MjEwXHU0RUE0XHU0RUY3XCJdXTtcclxuICAgICAgICBsZXQgc2VsbF90YWJsZTogc3RyaW5nIFtdW10gPSBbW0dSSURfQ09MT1JfVEFCTEVfVElUTEUsIFwiXHU2ODA3XHU3Njg0XHU0RUUzXHU1M0Y3XCIsIFwiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIFwiXHU3RjUxXHU2ODNDXHU3OUNEXHU3QzdCXCIsIFwiXHU0RUY3XHU2ODNDXHU2ODYzXHU0RjREXCIsIFwiXHU1MzU2XHU1MUZBXHU4OUU2XHU1M0QxXHU0RUY3XCIsIFwiXHU1MzU2XHU1MUZBXHU0RUY3XHU2ODNDXCIsIFwiXHU1MzU2XHU1MUZBXHU0RUZEXHU2NTcwXCIsIFwiXHU1MzU2XHU1MUZBXHU5MUQxXHU5ODlEXCIsIFwiXHU4REREXHU2MjEwXHU0RUE0XHU0RUY3XCJdXTtcclxuICAgICAgICBjb25zdCBncmlkX2ZvbGRlciA9IHRoaXMudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKCdHcmlkVHJhZGluZycpO1xyXG4gICAgICAgIGlmIChncmlkX2ZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL3RoaXMuRGVidWdMb2coXCJJbmZvXCIsIFwiZmlsZSBjb3VudCBcIiwgU3RyaW5nKGdyaWRfZm9sZGVyLmNoaWxkcmVuLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleD0wOyBpbmRleCA8IGdyaWRfZm9sZGVyLmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JpZF9maWxlID0gZ3JpZF9mb2xkZXIuY2hpbGRyZW5baW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRfZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIGdyaWRfZmlsZS5uYW1lLmVuZHNXaXRoKFwiLmd0dlwiKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuRGVidWdMb2coXCJJbmZvXCIsIFwiZmlsZSBuYW1lXCIgKyBTdHJpbmcoaW5kZXgpLCBncmlkX2ZpbGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JpZF90cmFkaW5nID0gdGhpcy5wbHVnaW5fZW52LmdyaWRfdHJhZGluZ19kaWN0LmdldChncmlkX2ZpbGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRfdHJhZGluZyBpbnN0YW5jZW9mIEdyaWRUcmFkaW5nICYmIGdyaWRfdHJhZGluZy5Jc1N0b2NrKCkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMuRGVidWdMb2coXCJJbmZvXCIsIFwiZ3JpZF90cmFkaW5nIGluZm8gXCIsIGdyaWRfdHJhZGluZy5HZXRUcmFkaW5nVGl0bGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRfdHJhZGluZy5Jbml0VHJhZGluZ092ZXJ2aWV3KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2tfdGFibGUucHVzaChncmlkX3RyYWRpbmcuc3RvY2tfb3ZlcnZpZXcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXlfdGFibGUgPSBidXlfdGFibGUuY29uY2F0KGdyaWRfdHJhZGluZy5zdG9ja19idXlfb3ZlcnZpZXcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxsX3RhYmxlID0gc2VsbF90YWJsZS5jb25jYXQoZ3JpZF90cmFkaW5nLnN0b2NrX3NlbGxfb3ZlcnZpZXcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1c3RvbV9zdG9ja19vdmVydmlldyA9IFsuLi5zdG9ja190YWJsZSwgLi4uYnV5X3RhYmxlLCAuLi5zZWxsX3RhYmxlXTtcclxuICAgIH1cclxuXHJcbiAgICBSZWFkQXBwb2ludFN0b2NrKClcclxuICAgIHtcclxuICAgICAgICAvLzUyMTg4MCxcdThCQzFcdTUyMzhFVEYsc2gsMS4wMzAsMC44OTBcclxuICAgICAgICAvL0JVWSw1MTI4ODAsXHU4QkMxXHU1MjM4RVRGLFx1NURGMlx1OEZCRVx1NEUwQVx1OTY1MFx1RkYwQ1x1NTA1Q1x1NkI2Mlx1NEU3MFx1NTE2NVxyXG4gICAgICAgIC8vQlVZLDUxMjk4MCxcdTRGMjBcdTVBOTJFVEYsXHU1QzBGXHU3RjUxLDAuNzYsMC41ODMsMC41ODUsMTg4MDAsMTA5OThcclxuICAgICAgICAvL1NFTEwsNTEyODgwLFx1OEJDMVx1NTIzOEVURixcdTVDMEZcdTdGNTEsMC44MCwwLjkyMiwwLjkyNywxMTAwMCwxMDE5N1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gdGhpcy5kYXRhLnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgIGNvbnN0IHN0b2NrX3RhYmxlOiBzdHJpbmcgW11bXSA9IFtbR1JJRF9DT0xPUl9UQUJMRV9USVRMRSwgXCJcdTY4MDdcdTc2ODRcdTRFRTNcdTUzRjdcIiwgXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgXCJcdTk5OTZcdTdGNTFcdTc2RUVcdTY4MDdcdTRFRjdcIiwgXCJcdTVGNTNcdTUyNERcdTRFRjdcdTY4M0NcIiwgXCJcdTRFRjdcdTY4M0NcdTc2N0VcdTUyMDZcdTRGNERcIl1dO1xyXG4gICAgICAgIGNvbnN0IGJ1eV90YWJsZTogc3RyaW5nIFtdW10gPSBbW0dSSURfQ09MT1JfVEFCTEVfVElUTEUsIFwiXHU2ODA3XHU3Njg0XHU0RUUzXHU1M0Y3XCIsIFwiXHU2ODA3XHU3Njg0XHU1NDBEXHU3OUYwXCIsIFwiXHU3RjUxXHU2ODNDXHU3OUNEXHU3QzdCXCIsIFwiXHU0RUY3XHU2ODNDXHU2ODYzXHU0RjREXCIsIFwiXHU0RTcwXHU1MTY1XHU4OUU2XHU1M0QxXHU0RUY3XCIsIFwiXHU0RTcwXHU1MTY1XHU0RUY3XHU2ODNDXCIsIFwiXHU0RTcwXHU1MTY1XHU0RUZEXHU2NTcwXCIsIFwiXHU0RTcwXHU1MTY1XHU5MUQxXHU5ODlEXCIsIFwiXHU4REREXHU2MjEwXHU0RUE0XHU0RUY3XCJdXTtcclxuICAgICAgICBjb25zdCBzZWxsX3RhYmxlOiBzdHJpbmcgW11bXSA9IFtbR1JJRF9DT0xPUl9UQUJMRV9USVRMRSwgXCJcdTY4MDdcdTc2ODRcdTRFRTNcdTUzRjdcIiwgXCJcdTY4MDdcdTc2ODRcdTU0MERcdTc5RjBcIiwgXCJcdTdGNTFcdTY4M0NcdTc5Q0RcdTdDN0JcIiwgXCJcdTRFRjdcdTY4M0NcdTY4NjNcdTRGNERcIiwgXCJcdTUzNTZcdTUxRkFcdTg5RTZcdTUzRDFcdTRFRjdcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRjdcdTY4M0NcIiwgXCJcdTUzNTZcdTUxRkFcdTRFRkRcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTkxRDFcdTk4OURcIiwgXCJcdThERERcdTYyMTBcdTRFQTRcdTRFRjdcIl1dO1xyXG4gICAgICAgIGNvbnN0IHN0b2NrX3ByaWNlX2RpY3Q6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xyXG4gICAgICAgIGZvciAobGV0IGlkeD0wOyBpZHg8bGluZXMubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpZHhdO1xyXG4gICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPD0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29udGludWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzdHJzID0gbGluZS5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICAgIGlmIChzdHJzWzBdID09IFwiQlVZXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdHJzLmxlbmd0aCA+IDQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhZGluZ19nYXAgPSBUb1RyYWRpbmdHYXAoc3RvY2tfcHJpY2VfZGljdC5nZXQoc3Ryc1sxXSksIE51bWJlcihzdHJzWzZdKSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV5X3RhYmxlLnB1c2goW0dSSURfQ09MT1JfQlVZX09WRVJWSUVXLCBzdHJzWzFdLCBzdHJzWzJdLCBzdHJzWzNdLCBzdHJzWzRdLCBzdHJzWzVdLCBzdHJzWzZdLCBzdHJzWzddLCBzdHJzWzhdLCB0cmFkaW5nX2dhcF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1eV90YWJsZS5wdXNoKFtHUklEX0NPTE9SX0JVWV9PVkVSVklFVywgc3Ryc1sxXSwgc3Ryc1syXSwgc3Ryc1szXV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0cnNbMF0gPT0gXCJTRUxMXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhZGluZ19nYXAgPSBUb1RyYWRpbmdHYXAoc3RvY2tfcHJpY2VfZGljdC5nZXQoc3Ryc1sxXSksIE51bWJlcihzdHJzWzZdKSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsbF90YWJsZS5wdXNoKFtHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcsIHN0cnNbMV0sIHN0cnNbMl0sIHN0cnNbM10sIHN0cnNbNF0sIHN0cnNbNV0sIHN0cnNbNl0sIHN0cnNbN10sIHN0cnNbOF0sIHRyYWRpbmdfZ2FwXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3RlX3ByaWNlID0gdGhpcy5wbHVnaW5fZW52LkdldFN0b2NrUmVtb3RlUHJpY2Uoc3Ryc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5EZWJ1Z0xvZyhcIkluZm9cIiwgXCJHZXRSZW1vdGVQcmljZSBcIiArIHN0cnNbMF0sIFN0cmluZyhyZW1vdGVfcHJpY2UpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3RlX3ByaWNlIDw9IDApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVfcHJpY2UgPSBOdW1iZXIoc3Ryc1s0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0b2NrX3ByaWNlX2RpY3Quc2V0KHN0cnNbMF0sIHJlbW90ZV9wcmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvY2tfdGFibGUucHVzaChbR1JJRF9DT0xPUl9TVE9DS19PVkVSVklFVywgc3Ryc1swXSwgc3Ryc1sxXSwgc3Ryc1szXSwgU3RyaW5nKHJlbW90ZV9wcmljZSksIFRvUGVyY2VudChyZW1vdGVfcHJpY2UvIE51bWJlcihzdHJzWzNdKSwgMSldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFwcG9pbnRfc3RvY2tfb3ZlcnZpZXcgPSBbLi4uc3RvY2tfdGFibGUsIC4uLmJ1eV90YWJsZSwgLi4uc2VsbF90YWJsZV07XHJcbiAgICB9XHJcblxyXG4gICAgU3VtdXBBbGxTdG9jaygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zdG9ja19vdmVydmlldyA9IFtdO1xyXG4gICAgICAgIGxldCBzdG9ja19jb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgYnV5X21vbml0b3JfY291bnQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IHNlbGxfbW9uaXRvcl9jb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgYnV5X2Nvc3RfbGlzdDogbnVtYmVyIFtdID0gW107XHJcblxyXG4gICAgICAgIGZvcihsZXQgaWR4PTA7IGlkeDx0aGlzLmN1c3RvbV9zdG9ja19vdmVydmlldy5sZW5ndGg7IGlkeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RvY2sgPSB0aGlzLmN1c3RvbV9zdG9ja19vdmVydmlld1tpZHhdO1xyXG4gICAgICAgICAgICBpZiAoc3RvY2tbMF0gPT0gR1JJRF9DT0xPUl9TVE9DS19PVkVSVklFVylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RvY2tfY291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RvY2tbMF0gPT0gR1JJRF9DT0xPUl9TRUxMX09WRVJWSUVXKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzZWxsX21vbml0b3JfY291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RvY2tbMF0gPT0gR1JJRF9DT0xPUl9CVVlfT1ZFUlZJRVcpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdG9jay5sZW5ndGggPiA0KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1eV9tb25pdG9yX2NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV5X2Nvc3RfbGlzdC5wdXNoKE51bWJlcihzdG9ja1s4XSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcihsZXQgaWR4PTA7IGlkeDx0aGlzLmFwcG9pbnRfc3RvY2tfb3ZlcnZpZXcubGVuZ3RoOyBpZHgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b2NrID0gdGhpcy5hcHBvaW50X3N0b2NrX292ZXJ2aWV3W2lkeF07XHJcbiAgICAgICAgICAgIGlmIChzdG9ja1swXSA9PSBHUklEX0NPTE9SX1NUT0NLX09WRVJWSUVXKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdG9ja19jb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdG9ja1swXSA9PSBHUklEX0NPTE9SX1NFTExfT1ZFUlZJRVcpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNlbGxfbW9uaXRvcl9jb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdG9ja1swXSA9PSBHUklEX0NPTE9SX0JVWV9PVkVSVklFVylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0b2NrLmxlbmd0aCA+IDQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV5X21vbml0b3JfY291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICBidXlfY29zdF9saXN0LnB1c2goTnVtYmVyKHN0b2NrWzhdKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRvdGFsX2Nvc3QgPSAwO1xyXG4gICAgICAgIGxldCB0b3A0X2Nvc3QgPSAwO1xyXG4gICAgICAgIGJ1eV9jb3N0X2xpc3Quc29ydCgoYSwgYikgPT4gYiAtIGEpO1xyXG4gICAgICAgIGJ1eV9jb3N0X2xpc3QuZm9yRWFjaCgodmFsLCBpZHgpID0+IHRvdGFsX2Nvc3QgPSB0b3RhbF9jb3N0ICsgdmFsKTtcclxuICAgICAgICBidXlfY29zdF9saXN0LmZvckVhY2goKHZhbCwgaWR4KSA9PiB7aWYgKGlkeCA8IDQpIHRvcDRfY29zdCA9IHRvcDRfY29zdCArIHZhbH0pO1xyXG4gICAgICAgIHRoaXMuc3RvY2tfb3ZlcnZpZXcucHVzaChbXCJcdTY4MDdcdTc2ODRcdTYwM0JcdTY1NzBcIiwgXCJcdTUzNTZcdTUxRkFcdTc2RDFcdTYzQTdcdTY4M0NcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTc2RDFcdTYzQTdcdTY4M0NcdTY1NzBcIiwgXCJcdTRFNzBcdTUxNjVcdTUzNTVcdTYyMTBcdTRFQTRcdTYwM0JcdTk4OURcIiwgXCJUT1A0XHU0RTcwXHU1MTY1XHU2MjEwXHU0RUE0XHU2MDNCXHU5ODlEXCJdKTtcclxuICAgICAgICB0aGlzLnN0b2NrX292ZXJ2aWV3LnB1c2goW1N0cmluZyhzdG9ja19jb3VudCksIFN0cmluZyhzZWxsX21vbml0b3JfY291bnQpLCBTdHJpbmcoYnV5X21vbml0b3JfY291bnQpLCBTdHJpbmcodG90YWxfY29zdCksIFN0cmluZyh0b3A0X2Nvc3QpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgRGVidWdMb2cobGV2ZWw6IHN0cmluZywgbG9nX3N0cjogc3RyaW5nLCBleHRyYV9pbmZvOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2cucHVzaChbbGV2ZWwsIGxvZ19zdHIsIGV4dHJhX2luZm9dKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3RGF0YSgpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFZpZXdEYXRhKGRhdGE6IHN0cmluZywgY2xlYXI6IGJvb2xlYW4pOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLlJlZnJlc2goKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3VHlwZSgpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gVklFV19UWVBFX0dUTztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4gXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMub3ZlcnZpZXdfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLm92ZXJ2aWV3X3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuY3VzdG9tX3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5jdXN0b21fdGFibGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcclxuXHJcbiAgICAgICAgZGl2ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5hcHBvaW50X3RpdGxlX2VsID0gZGl2LmNyZWF0ZUVsKFwiaDFcIik7XHJcbiAgICAgICAgdGhpcy5hcHBvaW50X3RhYmxlX2VsID0gZGl2LmNyZWF0ZUVsKFwidGFibGVcIik7XHJcblxyXG4gICAgICAgIGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpXHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGl0bGVfZWwgPSBkaXYuY3JlYXRlRWwoXCJoMVwiKTtcclxuICAgICAgICB0aGlzLmRlYnVnX2xvZ190YWJsZV9lbCA9IGRpdi5jcmVhdGVFbChcInRhYmxlXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hfZXZlbnRfZ3VpZCA9IHRoaXMucGx1Z2luX2Vudi5TdWJzY3JpYmVFdmVudChGRVRDSF9DVVJSRU5UX1BSSUNFLCAoKT0+dGhpcy5SZWZyZXNoKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBvbkNsb3NlKCk6IFByb21pc2U8dm9pZD5cclxuICAgIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpOyAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucmVmcmVzaF9ldmVudF9ndWlkID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luX2Vudi5VbnN1YnNjcmliZUV2ZW50KEZFVENIX0NVUlJFTlRfUFJJQ0UsIHRoaXMucmVmcmVzaF9ldmVudF9ndWlkKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoX2V2ZW50X2d1aWQgPSAtMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgUmVmcmVzaCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5SZWFkQ3VzdG9tU3RvY2soKTtcclxuICAgICAgICB0aGlzLlJlYWRBcHBvaW50U3RvY2soKTtcclxuICAgICAgICB0aGlzLlN1bXVwQWxsU3RvY2soKTtcclxuICAgICAgICAvLyBcdTY4MDdcdTc2ODRcdTYwM0JcdTg5QzhcclxuICAgICAgICB0aGlzLm92ZXJ2aWV3X3RpdGxlX2VsLnNldFRleHQoXCJcdTdGNTFcdTY4M0NcdTYwM0JcdTg5QzhcIik7XHJcbiAgICAgICAgdGhpcy5vdmVydmlld190YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKHRoaXMub3ZlcnZpZXdfdGFibGVfZWwsIHRoaXMuc3RvY2tfb3ZlcnZpZXcsIGZhbHNlKTtcclxuICAgICAgICAvLyBcdTY4MDdcdTc2ODRcdTRGRTFcdTYwNkZcclxuICAgICAgICB0aGlzLmN1c3RvbV90aXRsZV9lbC5zZXRUZXh0KFwiXHU2MjExXHU3Njg0XHU3RjUxXHU2ODNDXCIpO1xyXG4gICAgICAgIHRoaXMuY3VzdG9tX3RhYmxlX2VsLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5VGFibGUodGhpcy5jdXN0b21fdGFibGVfZWwsIHRoaXMuY3VzdG9tX3N0b2NrX292ZXJ2aWV3LCB0cnVlKTtcclxuICAgIFxyXG4gICAgICAgIC8vIFx1NEUxNFx1NjE2Mlx1NjgwN1x1NzY4NFxyXG4gICAgICAgIHRoaXMuYXBwb2ludF90aXRsZV9lbC5zZXRUZXh0KFwiXHU4RERGXHU4RjY2XHU3RjUxXHU2ODNDXCIpO1xyXG4gICAgICAgIHRoaXMuYXBwb2ludF90YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKHRoaXMuYXBwb2ludF90YWJsZV9lbCwgdGhpcy5hcHBvaW50X3N0b2NrX292ZXJ2aWV3LCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gXHU4QzAzXHU4QkQ1XHU0RkUxXHU2MDZGXHJcbiAgICAgICAgdGhpcy5kZWJ1Z19sb2dfdGl0bGVfZWwuc2V0VGV4dChcIlx1OEMwM1x1OEJENVx1NjVFNVx1NUZEN1wiKTtcclxuICAgICAgICB0aGlzLmRlYnVnX2xvZ190YWJsZV9lbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheVRhYmxlKHRoaXMuZGVidWdfbG9nX3RhYmxlX2VsLCB0aGlzLmRlYnVnX2xvZywgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIERpc3BsYXlUYWJsZSh0YWJsZV9lbDogSFRNTEVsZW1lbnQsIHRhYmxlOiBzdHJpbmdbXVtdLCBpc19jb2xvcjogYm9vbGVhbilcclxuICAgIHtcclxuICAgICAgICBjb25zdCB0YWJsZV9ib2R5ID0gdGFibGVfZWwuY3JlYXRlRWwoXCJ0Ym9keVwiKTtcclxuICAgICAgICB0YWJsZS5mb3JFYWNoKChyb3csIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFibGVfcm93ID0gdGFibGVfYm9keS5jcmVhdGVFbChcInRyXCIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCBqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNfY29sb3IpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPiAwKSBcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlX3Jvdy5jcmVhdGVFbChcInRkXCIsIHsgdGV4dDogY2VsbCwgYXR0cjoge1wiYmdDb2xvclwiOiB0YWJsZVtpXVswXSwgXCJhbGlnblwiOiBcInJpZ2h0XCJ9fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlX3Jvdy5jcmVhdGVFbChcInRkXCIsIHsgdGV4dDogY2VsbCwgYXR0cjoge1wiYWxpZ25cIjogXCJyaWdodFwifX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsICIvKlxyXG4gICAgQ29ycmVsYXRpb246IFx1NzZGOFx1NTE3M1x1NjAyN1x1N0NGQlx1NjU3MFx1ODlDNlx1NTZGRVxyXG4gICAgXHU1QzU1XHU3OTNBXHU1OTFBXHU0RTJBXHU2ODA3XHU3Njg0XHU0RTI0XHU0RTI0XHU5NUY0XHU3Njg0XHU2REE4XHU4RENDXHU4RDcwXHU1MkJGXHU3NkY4XHU1MTczXHU2MDI3XHJcbiovXHJcblxyXG5pbXBvcnQgeyBUZXh0RmlsZVZpZXcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBURm9sZGVyLCBWYXVsdCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9DT1IgPSBcImNvci12aWV3XCJcclxuXHJcbmV4cG9ydCBjbGFzcyBDb3JWaWV3IGV4dGVuZHMgVGV4dEZpbGVWaWV3XHJcbntcclxuICAgIGRhdGFfZWw6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIobGVhZik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9DT1I7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Vmlld0RhdGEoKTogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRWaWV3RGF0YShkYXRhOiBzdHJpbmcsIGNsZWFyOiBib29sZWFuKTogdm9pZCBcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuUmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBcIlwiOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4gXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGRpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuZGF0YV9lbCA9IGRpdi5jcmVhdGVFbChcImgxXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBvbkNsb3NlKCk6IFByb21pc2U8dm9pZD5cclxuICAgIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIFJlZnJlc2goKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGF0YV9lbC5zZXRUZXh0KHRoaXMuZGF0YSk7XHJcbiAgICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBcURBLFdBQU8sZUFBZSxTQUFTLGNBQWMsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUM1RCxZQUFRLE1BQU07QUFFZCxRQUFJQTtBQUFBO0FBQUEsTUFBcUIsV0FBWTtBQUNqQyxpQkFBU0EsT0FBTTtBQUNYLGVBQUssY0FBYztBQUNuQixlQUFLLGdCQUFnQjtBQUNyQixlQUFLLFNBQVMsSUFBSSxXQUFXLENBQUM7QUFDOUIsZUFBSyxVQUFVLElBQUksWUFBWSxFQUFFO0FBQ2pDLGVBQUssV0FBVyxJQUFJLFdBQVcsS0FBSyxTQUFTLEdBQUcsRUFBRTtBQUNsRCxlQUFLLFlBQVksSUFBSSxZQUFZLEtBQUssU0FBUyxHQUFHLEVBQUU7QUFDcEQsZUFBSyxNQUFNO0FBQUEsUUFDZjtBQUNBLFFBQUFBLEtBQUksVUFBVSxTQUFVLEtBQUssS0FBSztBQUM5QixjQUFJLFFBQVEsUUFBUTtBQUFFLGtCQUFNO0FBQUEsVUFBTztBQUNuQyxpQkFBTyxLQUFLLGNBQ1AsTUFBTSxFQUNOLFVBQVUsR0FBRyxFQUNiLElBQUksR0FBRztBQUFBLFFBQ2hCO0FBQ0EsUUFBQUEsS0FBSSxlQUFlLFNBQVUsS0FBSyxLQUFLO0FBQ25DLGNBQUksUUFBUSxRQUFRO0FBQUUsa0JBQU07QUFBQSxVQUFPO0FBQ25DLGlCQUFPLEtBQUssY0FDUCxNQUFNLEVBQ04sZUFBZSxHQUFHLEVBQ2xCLElBQUksR0FBRztBQUFBLFFBQ2hCO0FBQ0EsUUFBQUEsS0FBSSxPQUFPLFNBQVUsR0FBRztBQUNwQixjQUFJLEtBQUtBLEtBQUk7QUFDYixjQUFJLEtBQUtBLEtBQUk7QUFDYixjQUFJO0FBQ0osY0FBSTtBQUNKLGNBQUk7QUFDSixjQUFJO0FBQ0osZUFBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRztBQUN2QixxQkFBUyxJQUFJO0FBQ2IsZ0JBQUksRUFBRSxDQUFDO0FBQ1AsaUJBQUssSUFBSSxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUc7QUFDdkIsaUJBQUcsU0FBUyxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sSUFBSSxFQUFJO0FBQ3ZDLHFCQUFPO0FBQ1AsaUJBQUcsU0FBUyxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sSUFBSSxFQUFJO0FBQ3ZDLHFCQUFPO0FBQUEsWUFDWDtBQUFBLFVBQ0o7QUFDQSxpQkFBTyxHQUFHLEtBQUssRUFBRTtBQUFBLFFBQ3JCO0FBQ0EsUUFBQUEsS0FBSSxZQUFZLFNBQVUsR0FBRyxHQUFHO0FBQzVCLGNBQUksSUFBSSxFQUFFLENBQUM7QUFDWCxjQUFJLElBQUksRUFBRSxDQUFDO0FBQ1gsY0FBSSxJQUFJLEVBQUUsQ0FBQztBQUNYLGNBQUksSUFBSSxFQUFFLENBQUM7QUFFWCxnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksV0FBVztBQUMxQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksUUFBUTtBQUN4QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksV0FBVztBQUMzQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUUvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksWUFBWTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksV0FBVztBQUMzQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksWUFBWTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksWUFBWTtBQUMzQyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksV0FBVztBQUMxQyxlQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sSUFBSTtBQUM5QixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksYUFBYTtBQUM1QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUMvQixnQkFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksYUFBYTtBQUM3QyxlQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUUvQixnQkFBTSxJQUFJLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxTQUFTO0FBQ25DLGVBQUssS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJO0FBQzlCLGdCQUFNLElBQUksSUFBSSxL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S0FBSyxZQUFZLFNBQVMsS0FBSztBQUNoRCxhQUFTLFNBQVMsSUFBSSxFQUFFLFFBQVEsMEJBQU07QUFDdEMsUUFBSTtBQUNKLFNBQUssT0FBTyxLQUFLLFdBQVcsZUFDNUI7QUFDSSxZQUFNLFdBQVcsYUFBYSxJQUFJLEdBQUc7QUFDckMsVUFBSSxZQUFZLFFBQ2hCO0FBQ0ksY0FBTSxVQUFVLElBQUkseUJBQVEsUUFBUSxFQUFFLFFBQVEsUUFBUTtBQUN0RCxnQkFBUSxRQUFRLENBQUMsV0FBVyxjQUFZLFFBQVE7QUFDNUMsbUJBQVMscUJBQXFCLFdBQVc7QUFDekMsb0JBQVUsU0FBUyxPQUFPLGdCQUFnQixLQUFLLFdBQVcsZUFBZSxXQUFXLENBQUMsQ0FBQztBQUN0RixvQkFBVSxTQUFTLENBQUMsVUFBa0I7QUFDOUIsNEJBQWdCLEtBQUssV0FBVyxlQUFlLGFBQWEsT0FBTyxLQUFLLENBQUM7QUFDekUscUJBQVMscUJBQXFCLGFBQWEsZ0JBQWdCLEtBQUssV0FBVyxlQUFlLFdBQVcsQ0FBQztBQUN0RyxpQkFBSyxXQUFXLHNCQUFzQjtBQUFBLFVBQzlDLENBQUM7QUFBQSxRQUNMLENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDSjsiLAogICJuYW1lcyI6IFsiTWQ1IiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAic3RycyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImluZGV4Il0KfQo=
